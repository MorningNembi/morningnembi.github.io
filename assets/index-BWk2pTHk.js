(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();var Hte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gT={exports:{}},Tg={};var H3;function qU(){if(H3)return Tg;H3=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Tg.Fragment=n,Tg.jsx=e,Tg.jsxs=e,Tg}var B3;function jU(){return B3||(B3=1,gT.exports=qU()),gT.exports}var re=jU(),yT={exports:{}},un={};var G3;function $U(){if(G3)return un;G3=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),g=Symbol.iterator;function y(Q){return Q===null||typeof Q!="object"?null:(Q=g&&Q[g]||Q["@@iterator"],typeof Q=="function"?Q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function I(Q,fe,Ae){this.props=Q,this.context=fe,this.refs=w,this.updater=Ae||b}I.prototype.isReactComponent={},I.prototype.setState=function(Q,fe){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,fe,"setState")},I.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function M(){}M.prototype=I.prototype;function R(Q,fe,Ae){this.props=Q,this.context=fe,this.refs=w,this.updater=Ae||b}var U=R.prototype=new M;U.constructor=R,C(U,I.prototype),U.isPureReactComponent=!0;var H=Array.isArray;function P(){}var G={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function F(Q,fe,Ae){var $e=Ae.ref;return{$$typeof:t,type:Q,key:fe,ref:$e!==void 0?$e:null,props:Ae}}function te(Q,fe){return F(Q.type,fe,Q.props)}function J(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function ne(Q){var fe={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Ae){return fe[Ae]})}var Oe=/\/+/g;function X(Q,fe){return typeof Q=="object"&&Q!==null&&Q.key!=null?ne(""+Q.key):fe.toString(36)}function se(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(P,P):(Q.status="pending",Q.then(function(fe){Q.status==="pending"&&(Q.status="fulfilled",Q.value=fe)},function(fe){Q.status==="pending"&&(Q.status="rejected",Q.reason=fe)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function $(Q,fe,Ae,$e,Te){var Fe=typeof Q;(Fe==="undefined"||Fe==="boolean")&&(Q=null);var Je=!1;if(Q===null)Je=!0;else switch(Fe){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(Q.$$typeof){case t:case n:Je=!0;break;case f:return Je=Q._init,$(Je(Q._payload),fe,Ae,$e,Te)}}if(Je)return Te=Te(Q),Je=$e===""?"."+X(Q,0):$e,H(Te)?(Ae="",Je!=null&&(Ae=Je.replace(Oe,"$&/")+"/"),$(Te,fe,Ae,"",function(Kn){return Kn})):Te!=null&&(J(Te)&&(Te=te(Te,Ae+(Te.key==null||Q&&Q.key===Te.key?"":(""+Te.key).replace(Oe,"$&/")+"/")+Je)),fe.push(Te)),1;Je=0;var Ot=$e===""?".":$e+":";if(H(Q))for(var Ct=0;Ct<Q.length;Ct++)$e=Q[Ct],Fe=Ot+X($e,Ct),Je+=$($e,fe,Ae,Fe,Te);else if(Ct=y(Q),typeof Ct=="function")for(Q=Ct.call(Q),Ct=0;!($e=Q.next()).done;)$e=$e.value,Fe=Ot+X($e,Ct++),Je+=$($e,fe,Ae,Fe,Te);else if(Fe==="object"){if(typeof Q.then=="function")return $(se(Q),fe,Ae,$e,Te);throw fe=String(Q),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return Je}function le(Q,fe,Ae){if(Q==null)return Q;var $e=[],Te=0;return $(Q,$e,"","",function(Fe){return fe.call(Ae,Fe,Te++)}),$e}function he(Q){if(Q._status===-1){var fe=Q._result;fe=fe(),fe.then(function(Ae){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Ae)},function(Ae){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Ae)}),Q._status===-1&&(Q._status=0,Q._result=fe)}if(Q._status===1)return Q._result.default;throw Q._result}var xe=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},Ge={map:le,forEach:function(Q,fe,Ae){le(Q,function(){fe.apply(this,arguments)},Ae)},count:function(Q){var fe=0;return le(Q,function(){fe++}),fe},toArray:function(Q){return le(Q,function(fe){return fe})||[]},only:function(Q){if(!J(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return un.Activity=v,un.Children=Ge,un.Component=I,un.Fragment=e,un.Profiler=i,un.PureComponent=R,un.StrictMode=r,un.Suspense=c,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,un.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return G.H.useMemoCache(Q)}},un.cache=function(Q){return function(){return Q.apply(null,arguments)}},un.cacheSignal=function(){return null},un.cloneElement=function(Q,fe,Ae){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var $e=C({},Q.props),Te=Q.key;if(fe!=null)for(Fe in fe.key!==void 0&&(Te=""+fe.key),fe)!Y.call(fe,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&fe.ref===void 0||($e[Fe]=fe[Fe]);var Fe=arguments.length-2;if(Fe===1)$e.children=Ae;else if(1<Fe){for(var Je=Array(Fe),Ot=0;Ot<Fe;Ot++)Je[Ot]=arguments[Ot+2];$e.children=Je}return F(Q.type,Te,$e)},un.createContext=function(Q){return Q={$$typeof:s,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},un.createElement=function(Q,fe,Ae){var $e,Te={},Fe=null;if(fe!=null)for($e in fe.key!==void 0&&(Fe=""+fe.key),fe)Y.call(fe,$e)&&$e!=="key"&&$e!=="__self"&&$e!=="__source"&&(Te[$e]=fe[$e]);var Je=arguments.length-2;if(Je===1)Te.children=Ae;else if(1<Je){for(var Ot=Array(Je),Ct=0;Ct<Je;Ct++)Ot[Ct]=arguments[Ct+2];Te.children=Ot}if(Q&&Q.defaultProps)for($e in Je=Q.defaultProps,Je)Te[$e]===void 0&&(Te[$e]=Je[$e]);return F(Q,Fe,Te)},un.createRef=function(){return{current:null}},un.forwardRef=function(Q){return{$$typeof:l,render:Q}},un.isValidElement=J,un.lazy=function(Q){return{$$typeof:f,_payload:{_status:-1,_result:Q},_init:he}},un.memo=function(Q,fe){return{$$typeof:d,type:Q,compare:fe===void 0?null:fe}},un.startTransition=function(Q){var fe=G.T,Ae={};G.T=Ae;try{var $e=Q(),Te=G.S;Te!==null&&Te(Ae,$e),typeof $e=="object"&&$e!==null&&typeof $e.then=="function"&&$e.then(P,xe)}catch(Fe){xe(Fe)}finally{fe!==null&&Ae.types!==null&&(fe.types=Ae.types),G.T=fe}},un.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},un.use=function(Q){return G.H.use(Q)},un.useActionState=function(Q,fe,Ae){return G.H.useActionState(Q,fe,Ae)},un.useCallback=function(Q,fe){return G.H.useCallback(Q,fe)},un.useContext=function(Q){return G.H.useContext(Q)},un.useDebugValue=function(){},un.useDeferredValue=function(Q,fe){return G.H.useDeferredValue(Q,fe)},un.useEffect=function(Q,fe){return G.H.useEffect(Q,fe)},un.useEffectEvent=function(Q){return G.H.useEffectEvent(Q)},un.useId=function(){return G.H.useId()},un.useImperativeHandle=function(Q,fe,Ae){return G.H.useImperativeHandle(Q,fe,Ae)},un.useInsertionEffect=function(Q,fe){return G.H.useInsertionEffect(Q,fe)},un.useLayoutEffect=function(Q,fe){return G.H.useLayoutEffect(Q,fe)},un.useMemo=function(Q,fe){return G.H.useMemo(Q,fe)},un.useOptimistic=function(Q,fe){return G.H.useOptimistic(Q,fe)},un.useReducer=function(Q,fe,Ae){return G.H.useReducer(Q,fe,Ae)},un.useRef=function(Q){return G.H.useRef(Q)},un.useState=function(Q){return G.H.useState(Q)},un.useSyncExternalStore=function(Q,fe,Ae){return G.H.useSyncExternalStore(Q,fe,Ae)},un.useTransition=function(){return G.H.useTransition()},un.version="19.2.0",un}var z3;function fA(){return z3||(z3=1,yT.exports=$U()),yT.exports}var D=fA();const O=VU(D);var ET={exports:{}},Cg={},bT={exports:{}},TT={};var V3;function KU(){return V3||(V3=1,(function(t){function n($,le){var he=$.length;$.push(le);e:for(;0<he;){var xe=he-1>>>1,Ge=$[xe];if(0<i(Ge,le))$[xe]=le,$[he]=Ge,he=xe;else break e}}function e($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var le=$[0],he=$.pop();if(he!==le){$[0]=he;e:for(var xe=0,Ge=$.length,Q=Ge>>>1;xe<Q;){var fe=2*(xe+1)-1,Ae=$[fe],$e=fe+1,Te=$[$e];if(0>i(Ae,he))$e<Ge&&0>i(Te,Ae)?($[xe]=Te,$[$e]=he,xe=$e):($[xe]=Ae,$[fe]=he,xe=fe);else if($e<Ge&&0>i(Te,he))$[xe]=Te,$[$e]=he,xe=$e;else break e}}return le}function i($,le){var he=$.sortIndex-le.sortIndex;return he!==0?he:$.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],f=1,v=null,g=3,y=!1,b=!1,C=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function U($){for(var le=e(d);le!==null;){if(le.callback===null)r(d);else if(le.startTime<=$)r(d),le.sortIndex=le.expirationTime,n(c,le);else break;le=e(d)}}function H($){if(C=!1,U($),!b)if(e(c)!==null)b=!0,P||(P=!0,ne());else{var le=e(d);le!==null&&se(H,le.startTime-$)}}var P=!1,G=-1,Y=5,F=-1;function te(){return w?!0:!(t.unstable_now()-F<Y)}function J(){if(w=!1,P){var $=t.unstable_now();F=$;var le=!0;try{e:{b=!1,C&&(C=!1,M(G),G=-1),y=!0;var he=g;try{t:{for(U($),v=e(c);v!==null&&!(v.expirationTime>$&&te());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,g=v.priorityLevel;var Ge=xe(v.expirationTime<=$);if($=t.unstable_now(),typeof Ge=="function"){v.callback=Ge,U($),le=!0;break t}v===e(c)&&r(c),U($)}else r(c);v=e(c)}if(v!==null)le=!0;else{var Q=e(d);Q!==null&&se(H,Q.startTime-$),le=!1}}break e}finally{v=null,g=he,y=!1}le=void 0}}finally{le?ne():P=!1}}}var ne;if(typeof R=="function")ne=function(){R(J)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,X=Oe.port2;Oe.port1.onmessage=J,ne=function(){X.postMessage(null)}}else ne=function(){I(J,0)};function se($,le){G=I(function(){$(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var he=g;g=le;try{return $()}finally{g=he}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var he=g;g=$;try{return le()}finally{g=he}},t.unstable_scheduleCallback=function($,le,he){var xe=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?xe+he:xe):he=xe,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=he+Ge,$={id:f++,callback:le,priorityLevel:$,startTime:he,expirationTime:Ge,sortIndex:-1},he>xe?($.sortIndex=he,n(d,$),e(c)===null&&$===e(d)&&(C?(M(G),G=-1):C=!0,se(H,he-xe))):($.sortIndex=Ge,n(c,$),b||y||(b=!0,P||(P=!0,ne()))),$},t.unstable_shouldYield=te,t.unstable_wrapCallback=function($){var le=g;return function(){var he=g;g=le;try{return $.apply(this,arguments)}finally{g=he}}}})(TT)),TT}var q3;function YU(){return q3||(q3=1,bT.exports=KU()),bT.exports}var CT={exports:{}},za={};var j3;function WU(){if(j3)return za;j3=1;var t=fA();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:c,containerInfo:d,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,za.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return a(c,d,null,f)},za.flushSync=function(c){var d=s.T,f=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=f,r.d.f()}},za.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},za.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},za.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,v=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:g,fetchPriority:y}):f==="script"&&r.d.X(c,{crossOrigin:v,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},za.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},za.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,v=l(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},za.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},za.requestFormReset=function(c){r.d.r(c)},za.unstable_batchedUpdates=function(c,d){return c(d)},za.useFormState=function(c,d,f){return s.H.useFormState(c,d,f)},za.useFormStatus=function(){return s.H.useHostTransitionStatus()},za.version="19.2.0",za}var $3;function ND(){if($3)return CT.exports;$3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),CT.exports=WU(),CT.exports}var K3;function QU(){if(K3)return Cg;K3=1;var t=YU(),n=fA(),e=ND();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var h=o,m=u;;){var E=h.return;if(E===null)break;var S=E.alternate;if(S===null){if(m=E.return,m!==null){h=m;continue}break}if(E.child===S.child){for(S=E.child;S;){if(S===h)return c(E),o;if(S===m)return c(E),u;S=S.sibling}throw Error(r(188))}if(h.return!==m.return)h=E,m=S;else{for(var L=!1,z=E.child;z;){if(z===h){L=!0,h=E,m=S;break}if(z===m){L=!0,m=E,h=S;break}z=z.sibling}if(!L){for(z=S.child;z;){if(z===h){L=!0,h=S,m=E;break}if(z===m){L=!0,m=S,h=E;break}z=z.sibling}if(!L)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var v=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var Oe=Symbol.for("react.client.reference");function X(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Oe?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case I:return"Profiler";case w:return"StrictMode";case H:return"Suspense";case P:return"SuspenseList";case F:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case R:return o.displayName||"Context";case M:return(o._context.displayName||"Context")+".Consumer";case U:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case G:return u=o.displayName||null,u!==null?u:X(o.type)||"Memo";case Y:u=o._payload,o=o._init;try{return X(o(u))}catch{}}return null}var se=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},xe=[],Ge=-1;function Q(o){return{current:o}}function fe(o){0>Ge||(o.current=xe[Ge],xe[Ge]=null,Ge--)}function Ae(o,u){Ge++,xe[Ge]=o.current,o.current=u}var $e=Q(null),Te=Q(null),Fe=Q(null),Je=Q(null);function Ot(o,u){switch(Ae(Fe,u),Ae(Te,o),Ae($e,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?Of(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=Of(u),o=Ba(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}fe($e),Ae($e,o)}function Ct(){fe($e),fe(Te),fe(Fe)}function Kn(o){o.memoizedState!==null&&Ae(Je,o);var u=$e.current,h=Ba(u,o.type);u!==h&&(Ae(Te,o),Ae($e,h))}function An(o){Te.current===o&&(fe($e),fe(Te)),Je.current===o&&(fe(Je),Kd._currentValue=he)}var Ln,En;function en(o){if(Ln===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Ln=u&&u[1]||"",En=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+o+En}var Pn=!1;function Gn(o,u){if(!o||Pn)return"";Pn=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Me){var ye=Me}Reflect.construct(o,[],ze)}else{try{ze.call()}catch(Me){ye=Me}o.call(ze.prototype)}}else{try{throw Error()}catch(Me){ye=Me}(ze=o())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Me){if(Me&&ye&&typeof Me.stack=="string")return[Me.stack,ye.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),L=S[0],z=S[1];if(L&&z){var ie=L.split(`
`),ge=z.split(`
`);for(E=m=0;m<ie.length&&!ie[m].includes("DetermineComponentFrameRoot");)m++;for(;E<ge.length&&!ge[E].includes("DetermineComponentFrameRoot");)E++;if(m===ie.length||E===ge.length)for(m=ie.length-1,E=ge.length-1;1<=m&&0<=E&&ie[m]!==ge[E];)E--;for(;1<=m&&0<=E;m--,E--)if(ie[m]!==ge[E]){if(m!==1||E!==1)do if(m--,E--,0>E||ie[m]!==ge[E]){var Ue=`
`+ie[m].replace(" at new "," at ");return o.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",o.displayName)),Ue}while(1<=m&&0<=E);break}}}finally{Pn=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?en(h):""}function fn(o,u){switch(o.tag){case 26:case 27:case 5:return en(o.type);case 16:return en("Lazy");case 13:return o.child!==u&&u!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return Gn(o.type,!1);case 11:return Gn(o.type.render,!1);case 1:return Gn(o.type,!0);case 31:return en("Activity");default:return""}}function Er(o){try{var u="",h=null;do u+=fn(o,h),h=o,o=o.return;while(o);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Un=Object.prototype.hasOwnProperty,Fn=t.unstable_scheduleCallback,pt=t.unstable_cancelCallback,kn=t.unstable_shouldYield,er=t.unstable_requestPaint,vn=t.unstable_now,Yn=t.unstable_getCurrentPriorityLevel,Pt=t.unstable_ImmediatePriority,Wn=t.unstable_UserBlockingPriority,hr=t.unstable_NormalPriority,ht=t.unstable_LowPriority,ni=t.unstable_IdlePriority,Ei=t.log,Ir=t.unstable_setDisableYieldValue,kr=null,Qn=null;function bn(o){if(typeof Ei=="function"&&Ir(o),Qn&&typeof Qn.setStrictMode=="function")try{Qn.setStrictMode(kr,o)}catch{}}var tn=Math.clz32?Math.clz32:Dt,Mr=Math.log,oa=Math.LN2;function Dt(o){return o>>>=0,o===0?32:31-(Mr(o)/oa|0)|0}var Ut=256,Et=262144,Ze=4194304;function Ie(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function St(o,u,h){var m=o.pendingLanes;if(m===0)return 0;var E=0,S=o.suspendedLanes,L=o.pingedLanes;o=o.warmLanes;var z=m&134217727;return z!==0?(m=z&~S,m!==0?E=Ie(m):(L&=z,L!==0?E=Ie(L):h||(h=z&~o,h!==0&&(E=Ie(h))))):(z=m&~S,z!==0?E=Ie(z):L!==0?E=Ie(L):h||(h=m&~o,h!==0&&(E=Ie(h)))),E===0?0:u!==0&&u!==E&&(u&S)===0&&(S=E&-E,h=u&-u,S>=h||S===32&&(h&4194048)!==0)?u:E}function bt(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Tt(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zn(){var o=Ze;return Ze<<=1,(Ze&62914560)===0&&(Ze=4194304),o}function kt(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function Ki(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function la(o,u,h,m,E,S){var L=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var z=o.entanglements,ie=o.expirationTimes,ge=o.hiddenUpdates;for(h=L&~h;0<h;){var Ue=31-tn(h),ze=1<<Ue;z[Ue]=0,ie[Ue]=-1;var ye=ge[Ue];if(ye!==null)for(ge[Ue]=null,Ue=0;Ue<ye.length;Ue++){var Me=ye[Ue];Me!==null&&(Me.lane&=-536870913)}h&=~ze}m!==0&&bi(o,m,0),S!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=S&~(L&~u))}function bi(o,u,h){o.pendingLanes|=u,o.suspendedLanes&=~u;var m=31-tn(u);o.entangledLanes|=u,o.entanglements[m]=o.entanglements[m]|1073741824|h&261930}function Ys(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var m=31-tn(h),E=1<<m;E&u|o[m]&u&&(o[m]|=u),h&=~E}}function Ss(o,u){var h=u&-u;return h=(h&42)!==0?1:ui(h),(h&(o.suspendedLanes|u))!==0?0:h}function ui(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Yi(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function rt(){var o=le.p;return o!==0?o:(o=window.event,o===void 0?32:QE(o.type))}function yt(o,u){var h=le.p;try{return le.p=o,u()}finally{le.p=h}}var at=Math.random().toString(36).slice(2),Nt="__reactFiber$"+at,mt="__reactProps$"+at,qt="__reactContainer$"+at,Tn="__reactEvents$"+at,Br="__reactListeners$"+at,Gr="__reactHandles$"+at,br="__reactResources$"+at,nt="__reactMarker$"+at;function ae(o){delete o[Nt],delete o[mt],delete o[Tn],delete o[Br],delete o[Gr]}function He(o){var u=o[Nt];if(u)return u;for(var h=o.parentNode;h;){if(u=h[qt]||h[Nt]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=xE(o);o!==null;){if(h=o[Nt])return h;o=xE(o)}return u}o=h,h=o.parentNode}return null}function Xe(o){if(o=o[Nt]||o[qt]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function Wt(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function hn(o){var u=o[br];return u||(u=o[br]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ft(o){o[nt]=!0}var fr=new Set,Or={};function Rr(o,u){Ti(o,u),Ti(o+"Capture",u)}function Ti(o,u){for(Or[o]=u,o=0;o<u.length;o++)fr.add(u[o])}var tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ns={},Ya={};function Yu(o){return Un.call(Ya,o)?!0:Un.call(Ns,o)?!1:tr.test(o)?Ya[o]=!0:(Ns[o]=!0,!1)}function Ws(o,u,h){if(Yu(u))if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+h)}}function jr(o,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+h)}}function ua(o,u,h,m){if(m===null)o.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(u,h,""+m)}}function Ci(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Jl(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Wu(o,u,h){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,S=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(L){h=""+L,S.call(this,L)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function ll(o){if(!o._valueTracker){var u=Jl(o)?"checked":"value";o._valueTracker=Wu(o,u,""+o[u])}}function Qs(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),m="";return o&&(m=Jl(o)?o.checked?"true":"false":o.value),o=m,o!==h?(u.setValue(o),!0):!1}function Mo(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var eu=/[\n"\\]/g;function Di(o){return o.replace(eu,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function As(o,u,h,m,E,S,L,z){o.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?o.type=L:o.removeAttribute("type"),u!=null?L==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Ci(u)):o.value!==""+Ci(u)&&(o.value=""+Ci(u)):L!=="submit"&&L!=="reset"||o.removeAttribute("value"),u!=null?Qu(o,L,Ci(u)):h!=null?Qu(o,L,Ci(h)):m!=null&&o.removeAttribute("value"),E==null&&S!=null&&(o.defaultChecked=!!S),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+Ci(z):o.removeAttribute("name")}function ul(o,u,h,m,E,S,L,z){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),u!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||u!=null)){ll(o);return}h=h!=null?""+Ci(h):"",u=u!=null?""+Ci(u):h,z||u===o.value||(o.value=u),o.defaultValue=u}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=z?o.checked:!!m,o.defaultChecked=!!m,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(o.name=L),ll(o)}function Qu(o,u,h){u==="number"&&Mo(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Xs(o,u,h,m){if(o=o.options,u){u={};for(var E=0;E<h.length;E++)u["$"+h[E]]=!0;for(h=0;h<o.length;h++)E=u.hasOwnProperty("$"+o[h].value),o[h].selected!==E&&(o[h].selected=E),E&&m&&(o[h].defaultSelected=!0)}else{for(h=""+Ci(h),u=null,E=0;E<o.length;E++){if(o[E].value===h){o[E].selected=!0,m&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function tu(o,u,h){if(u!=null&&(u=""+Ci(u),u!==o.value&&(o.value=u),h==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=h!=null?""+Ci(h):""}function cl(o,u,h,m){if(u==null){if(m!=null){if(h!=null)throw Error(r(92));if(se(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),u=h}h=Ci(u),o.defaultValue=h,m=o.textContent,m===h&&m!==""&&m!==null&&(o.value=m),ll(o)}function ca(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var Ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(o,u,h){var m=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":m?o.setProperty(u,h):typeof h!="number"||h===0||Ia.has(u)?u==="float"?o.cssFloat=h:o[u]=(""+h).trim():o[u]=h+"px"}function Oo(o,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var E in u)m=u[E],u.hasOwnProperty(E)&&h[E]!==m&&nu(o,E,m)}else for(var S in u)u.hasOwnProperty(S)&&nu(o,S,u[S])}function ws(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Do=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(o){return Do.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function da(){}var dl=null;function hl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Fi=null,Zs=null;function ed(o){var u=Xe(o);if(u&&(o=u.stateNode)){var h=o[mt]||null;e:switch(o=u.stateNode,u.type){case"input":if(As(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Di(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var m=h[u];if(m!==o&&m.form===o.form){var E=m[mt]||null;if(!E)throw Error(r(90));As(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<h.length;u++)m=h[u],m.form===o.form&&Qs(m)}break e;case"textarea":tu(o,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Xs(o,!!h.multiple,u,!1)}}}var td=!1;function Ah(o,u,h){if(td)return o(u,h);td=!0;try{var m=o(u);return m}finally{if(td=!1,(Fi!==null||Zs!==null)&&(Om(),Fi&&(u=Fi,o=Zs,Zs=Fi=null,ed(u),o)))for(u=0;u<o.length;u++)ed(o[u])}}function Nr(o,u){var h=o.stateNode;if(h===null)return null;var m=h[mt]||null;if(m===null)return null;h=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=!1;if(Wa)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Xu=!1}var Qa=null,ru=null,Vn=null;function Xn(){if(Vn)return Vn;var o,u=ru,h=u.length,m,E="value"in Qa?Qa.value:Qa.textContent,S=E.length;for(o=0;o<h&&u[o]===E[o];o++);var L=h-o;for(m=1;m<=L&&u[h-m]===E[S-m];m++);return Vn=E.slice(o,1<m?1-m:void 0)}function Zu(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function iu(){return!0}function wh(){return!1}function xi(o){function u(h,m,E,S,L){this._reactName=h,this._targetInst=E,this.type=m,this.nativeEvent=S,this.target=L,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(h=o[z],this[z]=h?h(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?iu:wh,this.isPropagationStopped=wh,this}return v(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),u}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=xi(Lo),pl=v({},Lo,{view:0,detail:0}),Ih=xi(pl),$r,ml,Ma,vl=v({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ma&&(Ma&&o.type==="mousemove"?($r=o.screenX-Ma.screenX,ml=o.screenY-Ma.screenY):ml=$r=0,Ma=o),$r)},movementY:function(o){return"movementY"in o?o.movementY:ml}}),Ju=xi(vl),Wi=v({},vl,{dataTransfer:0}),Mh=xi(Wi),nd=v({},pl,{relatedTarget:0}),ec=xi(nd),rd=v({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Oh=xi(rd),pn=v({},Lo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ut=xi(pn),Ce=v({},Lo,{data:0}),ce=xi(Ce),vt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nr(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=ft[o])?!!u[o]:!1}function mn(){return nr}var Ar=v({},pl,{key:function(o){if(o.key){var u=vt[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Zu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ot[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(o){return o.type==="keypress"?Zu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Zu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),su=xi(Ar),kv=v({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sy=xi(kv),Pv=v({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn}),b2=xi(Pv),T2=v({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),C2=xi(T2),oy=v({},vl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Lp=xi(oy),id=v({},Lo,{newState:0,oldState:0}),S2=xi(id),ly=[9,13,27,32],Up=Wa&&"CompositionEvent"in window,tc=null;Wa&&"documentMode"in document&&(tc=document.documentMode);var Fv=Wa&&"TextEvent"in window&&!tc,Hv=Wa&&(!Up||tc&&8<tc&&11>=tc),uy=" ",kp=!1;function Pp(o,u){switch(o){case"keyup":return ly.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cy(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var nc=!1;function Xa(o,u){switch(o){case"compositionend":return cy(u);case"keypress":return u.which!==32?null:(kp=!0,uy);case"textInput":return o=u.data,o===uy&&kp?null:o;default:return null}}function Bv(o,u){if(nc)return o==="compositionend"||!Up&&Pp(o,u)?(o=Xn(),Vn=ru=Qa=null,nc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Hv&&u.locale!=="ko"?null:u.data;default:return null}}var Rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gv(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Rh[o.type]:u==="textarea"}function zv(o,u,h,m){Fi?Zs?Zs.push(m):Zs=[m]:Fi=m,u=Af(u,"onChange"),0<u.length&&(h=new au("onChange","change",null,h,m),o.push({event:h,listeners:u}))}var Dh=null,xh=null;function N2(o){SE(o,0)}function Fp(o){var u=Wt(o);if(Qs(u))return o}function dy(o,u){if(o==="change")return u}var rc=!1;if(Wa){var Vv;if(Wa){var qv="oninput"in document;if(!qv){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),qv=typeof Hp.oninput=="function"}Vv=qv}else Vv=!1;rc=Vv&&(!document.documentMode||9<document.documentMode)}function jv(){Dh&&(Dh.detachEvent("onpropertychange",_l),xh=Dh=null)}function _l(o){if(o.propertyName==="value"&&Fp(xh)){var u=[];zv(u,xh,o,hl(o)),Ah(N2,u)}}function Bp(o,u,h){o==="focusin"?(jv(),Dh=u,xh=h,Dh.attachEvent("onpropertychange",_l)):o==="focusout"&&jv()}function A2(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Fp(xh)}function w2(o,u){if(o==="click")return Fp(u)}function I2(o,u){if(o==="input"||o==="change")return Fp(u)}function ad(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var zr=typeof Object.is=="function"?Object.is:ad;function sd(o,u){if(zr(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),m=Object.keys(u);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var E=h[m];if(!Un.call(u,E)||!zr(o[E],u[E]))return!1}return!0}function hy(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function fy(o,u){var h=hy(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=u&&m>=u)return{node:h,offset:u-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=hy(h)}}function py(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?py(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function my(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Mo(o.document);u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=Mo(o.document)}return u}function $v(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var od=Wa&&"documentMode"in document&&11>=document.documentMode,de=null,Le=null,Se=null,lt=!1;function Xt(o,u,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;lt||de==null||de!==Mo(m)||(m=de,"selectionStart"in m&&$v(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Se&&sd(Se,m)||(Se=m,m=Af(Le,"onSelect"),0<m.length&&(u=new au("onSelect","select",null,u,h),o.push({event:u,listeners:m}),u.target=de)))}function Cn(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var Pr={animationend:Cn("Animation","AnimationEnd"),animationiteration:Cn("Animation","AnimationIteration"),animationstart:Cn("Animation","AnimationStart"),transitionrun:Cn("Transition","TransitionRun"),transitionstart:Cn("Transition","TransitionStart"),transitioncancel:Cn("Transition","TransitionCancel"),transitionend:Cn("Transition","TransitionEnd")},sr={},Gp={};Wa&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function ic(o){if(sr[o])return sr[o];if(!Pr[o])return o;var u=Pr[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in Gp)return sr[o]=u[h];return o}var Za=ic("animationend"),Lh=ic("animationiteration"),vy=ic("animationstart"),ld=ic("transitionrun"),zp=ic("transitionstart"),Vp=ic("transitioncancel"),rr=ic("transitionend"),_y=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function Oa(o,u){_y.set(o,u),Rr(u,[o])}var jp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Is=[],ud=0,cd=0;function Js(){for(var o=ud,u=cd=ud=0;u<o;){var h=Is[u];Is[u++]=null;var m=Is[u];Is[u++]=null;var E=Is[u];Is[u++]=null;var S=Is[u];if(Is[u++]=null,m!==null&&E!==null){var L=m.pending;L===null?E.next=E:(E.next=L.next,L.next=E),m.pending=E}S!==0&&Kv(h,E,S)}}function ac(o,u,h,m){Is[ud++]=o,Is[ud++]=u,Is[ud++]=h,Is[ud++]=m,cd|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function $p(o,u,h,m){return ac(o,u,h,m),Uh(o)}function Uo(o,u){return ac(o,null,null,u),Uh(o)}function Kv(o,u,h){o.lanes|=h;var m=o.alternate;m!==null&&(m.lanes|=h);for(var E=!1,S=o.return;S!==null;)S.childLanes|=h,m=S.alternate,m!==null&&(m.childLanes|=h),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(E=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,E&&u!==null&&(E=31-tn(h),o=S.hiddenUpdates,m=o[E],m===null?o[E]=[u]:m.push(u),u.lane=h|536870912),S):null}function Uh(o){if(50<yf)throw yf=0,$_=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var gl={};function gy(o,u,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(o,u,h,m){return new gy(o,u,h,m)}function yl(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ms(o,u){var h=o.alternate;return h===null?(h=Hi(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function yy(o,u){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,u=h.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Kp(o,u,h,m,E,S){var L=0;if(m=o,typeof o=="function")yl(o)&&(L=1);else if(typeof o=="string")L=uT(o,h,$e.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case F:return o=Hi(31,h,u,E),o.elementType=F,o.lanes=S,o;case C:return sc(h.children,E,S,u);case w:L=8,E|=24;break;case I:return o=Hi(12,h,u,E|2),o.elementType=I,o.lanes=S,o;case H:return o=Hi(13,h,u,E),o.elementType=H,o.lanes=S,o;case P:return o=Hi(19,h,u,E),o.elementType=P,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:L=10;break e;case M:L=9;break e;case U:L=11;break e;case G:L=14;break e;case Y:L=16,m=null;break e}L=29,h=Error(r(130,o===null?"null":typeof o,"")),m=null}return u=Hi(L,h,u,E),u.elementType=o,u.type=m,u.lanes=S,u}function sc(o,u,h,m){return o=Hi(7,o,m,u),o.lanes=h,o}function dd(o,u,h){return o=Hi(6,o,null,u),o.lanes=h,o}function kh(o){var u=Hi(18,null,null,0);return u.stateNode=o,u}function Ph(o,u,h){return u=Hi(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Ey=new WeakMap;function Ja(o,u){if(typeof o=="object"&&o!==null){var h=Ey.get(o);return h!==void 0?h:(u={value:o,source:u,stack:Er(u)},Ey.set(o,u),u)}return{value:o,source:u,stack:Er(u)}}var hd=[],fd=0,Kr=null,ci=0,Os=[],Rs=0,El=null,ko=1,Ds="";function es(o,u){hd[fd++]=ci,hd[fd++]=Kr,Kr=o,ci=u}function Yp(o,u,h){Os[Rs++]=ko,Os[Rs++]=Ds,Os[Rs++]=El,El=o;var m=ko;o=Ds;var E=32-tn(m)-1;m&=~(1<<E),h+=1;var S=32-tn(u)+E;if(30<S){var L=E-E%5;S=(m&(1<<L)-1).toString(32),m>>=L,E-=L,ko=1<<32-tn(u)+E|h<<E|m,Ds=S+o}else ko=1<<S|h<<E|m,Ds=o}function ou(o){o.return!==null&&(es(o,1),Yp(o,1,0))}function oc(o){for(;o===Kr;)Kr=hd[--fd],hd[fd]=null,ci=hd[--fd],hd[fd]=null;for(;o===El;)El=Os[--Rs],Os[Rs]=null,Ds=Os[--Rs],Os[Rs]=null,ko=Os[--Rs],Os[Rs]=null}function pd(o,u){Os[Rs++]=ko,Os[Rs++]=Ds,Os[Rs++]=El,ko=u.id,Ds=u.overflow,El=o}var di=null,ir=null,On=!1,lu=null,xs=!1,Yv=Error(r(519));function uu(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(Ja(u,o)),Yv}function Fh(o){var u=o.stateNode,h=o.type,m=o.memoizedProps;switch(u[Nt]=o,u[mt]=m,h){case"dialog":Nn("cancel",u),Nn("close",u);break;case"iframe":case"object":case"embed":Nn("load",u);break;case"video":case"audio":for(h=0;h<Nf.length;h++)Nn(Nf[h],u);break;case"source":Nn("error",u);break;case"img":case"image":case"link":Nn("error",u),Nn("load",u);break;case"details":Nn("toggle",u);break;case"input":Nn("invalid",u),ul(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Nn("invalid",u);break;case"textarea":Nn("invalid",u),cl(u,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||m.suppressHydrationWarning===!0||wE(u.textContent,h)?(m.popover!=null&&(Nn("beforetoggle",u),Nn("toggle",u)),m.onScroll!=null&&Nn("scroll",u),m.onScrollEnd!=null&&Nn("scrollend",u),m.onClick!=null&&(u.onclick=da),u=!0):u=!1,u||uu(o,!0)}function md(o){for(di=o.return;di;)switch(di.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:di=di.return}}function lc(o){if(o!==di)return!1;if(!On)return md(o),On=!0,!1;var u=o.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||wu(o.type,o.memoizedProps)),h=!h),h&&ir&&uu(o),md(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ir=DE(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ir=DE(o)}else u===27?(u=ir,jt(o.type)?(o=hg,hg=null,ir=o):ir=u):ir=di?Bs(o.stateNode.nextSibling):null;return!0}function V(){ir=di=null,On=!1}function cu(){var o=lu;return o!==null&&(Pa===null?Pa=o:Pa.push.apply(Pa,o),lu=null),o}function du(o){lu===null?lu=[o]:lu.push(o)}var Ra=Q(null),sn=null,bl=null;function hu(o,u,h){Ae(Ra,u._currentValue),u._currentValue=h}function Tl(o){o._currentValue=Ra.current,fe(Ra)}function Cl(o,u,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),o===h)break;o=o.return}}function Wv(o,u,h,m){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var S=E.dependencies;if(S!==null){var L=E.child;S=S.firstContext;e:for(;S!==null;){var z=S;S=E;for(var ie=0;ie<u.length;ie++)if(z.context===u[ie]){S.lanes|=h,z=S.alternate,z!==null&&(z.lanes|=h),Cl(S.return,h,o),m||(L=null);break e}S=z.next}}else if(E.tag===18){if(L=E.return,L===null)throw Error(r(341));L.lanes|=h,S=L.alternate,S!==null&&(S.lanes|=h),Cl(L,h,o),L=null}else L=E.child;if(L!==null)L.return=E;else for(L=E;L!==null;){if(L===o){L=null;break}if(E=L.sibling,E!==null){E.return=L.return,L=E;break}L=L.return}E=L}}function vd(o,u,h,m){o=null;for(var E=u,S=!1;E!==null;){if(!S){if((E.flags&524288)!==0)S=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var L=E.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var z=E.type;zr(E.pendingProps.value,L.value)||(o!==null?o.push(z):o=[z])}}else if(E===Je.current){if(L=E.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Kd):o=[Kd])}E=E.return}o!==null&&Wv(u,o,h,m),u.flags|=262144}function Wp(o){for(o=o.firstContext;o!==null;){if(!zr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function uc(o){sn=o,bl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Bi(o){return by(sn,o)}function Ls(o,u){return sn===null&&uc(o),by(o,u)}function by(o,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},bl===null){if(o===null)throw Error(r(308));bl=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else bl=bl.next=u;return h}var M2=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(h,m){o.push(m)}};this.abort=function(){u.aborted=!0,o.forEach(function(h){return h()})}},O2=t.unstable_scheduleCallback,R2=t.unstable_NormalPriority,hi={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eo(){return{controller:new M2,data:new Map,refCount:0}}function Hh(o){o.refCount--,o.refCount===0&&O2(R2,function(){o.controller.abort()})}var Bh=null,Qv=0,_d=0,gd=null;function cc(o,u){if(Bh===null){var h=Bh=[];Qv=0,_d=us(),gd={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Qv++,u.then(Ty,Ty),u}function Ty(){if(--Qv===0&&Bh!==null){gd!==null&&(gd.status="fulfilled");var o=Bh;Bh=null,_d=0,gd=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function D2(o,u){var h=[],m={status:"pending",value:null,reason:null,then:function(E){h.push(E)}};return o.then(function(){m.status="fulfilled",m.value=u;for(var E=0;E<h.length;E++)(0,h[E])(u)},function(E){for(m.status="rejected",m.reason=E,E=0;E<h.length;E++)(0,h[E])(void 0)}),m}var Us=$.S;$.S=function(o,u){sE=vn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&cc(o,u),Us!==null&&Us(o,u)};var dc=Q(null);function Xv(){var o=dc.current;return o!==null?o:Cr.pooledCache}function Qp(o,u){u===null?Ae(dc,dc.current):Ae(dc,u.pool)}function Cy(){var o=Xv();return o===null?null:{parent:hi._currentValue,pool:o}}var yd=Error(r(460)),Xp=Error(r(474)),Gh=Error(r(542)),Zp={then:function(){}};function Sy(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Jp(o,u,h){switch(h=o[h],h===void 0?o.push(u):h!==u&&(u.then(da,da),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Zv(o),o;default:if(typeof u.status=="string")u.then(da,da);else{if(o=Cr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(m){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=m}},function(m){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Zv(o),o}throw Po=u,yd}}function to(o){try{var u=o._init;return u(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Po=h,yd):h}}var Po=null;function Ny(){if(Po===null)throw Error(r(459));var o=Po;return Po=null,o}function Zv(o){if(o===yd||o===Gh)throw Error(r(483))}var Ed=null,ts=0;function bd(o){var u=ts;return ts+=1,Ed===null&&(Ed=[]),Jp(Ed,o,u)}function no(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function ha(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Ay(o){function u(pe,ue){if(o){var _e=pe.deletions;_e===null?(pe.deletions=[ue],pe.flags|=16):_e.push(ue)}}function h(pe,ue){if(!o)return null;for(;ue!==null;)u(pe,ue),ue=ue.sibling;return null}function m(pe){for(var ue=new Map;pe!==null;)pe.key!==null?ue.set(pe.key,pe):ue.set(pe.index,pe),pe=pe.sibling;return ue}function E(pe,ue){return pe=Ms(pe,ue),pe.index=0,pe.sibling=null,pe}function S(pe,ue,_e){return pe.index=_e,o?(_e=pe.alternate,_e!==null?(_e=_e.index,_e<ue?(pe.flags|=67108866,ue):_e):(pe.flags|=67108866,ue)):(pe.flags|=1048576,ue)}function L(pe){return o&&pe.alternate===null&&(pe.flags|=67108866),pe}function z(pe,ue,_e,Be){return ue===null||ue.tag!==6?(ue=dd(_e,pe.mode,Be),ue.return=pe,ue):(ue=E(ue,_e),ue.return=pe,ue)}function ie(pe,ue,_e,Be){var xt=_e.type;return xt===C?Ue(pe,ue,_e.props.children,Be,_e.key):ue!==null&&(ue.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Y&&to(xt)===ue.type)?(ue=E(ue,_e.props),no(ue,_e),ue.return=pe,ue):(ue=Kp(_e.type,_e.key,_e.props,null,pe.mode,Be),no(ue,_e),ue.return=pe,ue)}function ge(pe,ue,_e,Be){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==_e.containerInfo||ue.stateNode.implementation!==_e.implementation?(ue=Ph(_e,pe.mode,Be),ue.return=pe,ue):(ue=E(ue,_e.children||[]),ue.return=pe,ue)}function Ue(pe,ue,_e,Be,xt){return ue===null||ue.tag!==7?(ue=sc(_e,pe.mode,Be,xt),ue.return=pe,ue):(ue=E(ue,_e),ue.return=pe,ue)}function ze(pe,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=dd(""+ue,pe.mode,_e),ue.return=pe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return _e=Kp(ue.type,ue.key,ue.props,null,pe.mode,_e),no(_e,ue),_e.return=pe,_e;case b:return ue=Ph(ue,pe.mode,_e),ue.return=pe,ue;case Y:return ue=to(ue),ze(pe,ue,_e)}if(se(ue)||ne(ue))return ue=sc(ue,pe.mode,_e,null),ue.return=pe,ue;if(typeof ue.then=="function")return ze(pe,bd(ue),_e);if(ue.$$typeof===R)return ze(pe,Ls(pe,ue),_e);ha(pe,ue)}return null}function ye(pe,ue,_e,Be){var xt=ue!==null?ue.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return xt!==null?null:z(pe,ue,""+_e,Be);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case y:return _e.key===xt?ie(pe,ue,_e,Be):null;case b:return _e.key===xt?ge(pe,ue,_e,Be):null;case Y:return _e=to(_e),ye(pe,ue,_e,Be)}if(se(_e)||ne(_e))return xt!==null?null:Ue(pe,ue,_e,Be,null);if(typeof _e.then=="function")return ye(pe,ue,bd(_e),Be);if(_e.$$typeof===R)return ye(pe,ue,Ls(pe,_e),Be);ha(pe,_e)}return null}function Me(pe,ue,_e,Be,xt){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return pe=pe.get(_e)||null,z(ue,pe,""+Be,xt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case y:return pe=pe.get(Be.key===null?_e:Be.key)||null,ie(ue,pe,Be,xt);case b:return pe=pe.get(Be.key===null?_e:Be.key)||null,ge(ue,pe,Be,xt);case Y:return Be=to(Be),Me(pe,ue,_e,Be,xt)}if(se(Be)||ne(Be))return pe=pe.get(_e)||null,Ue(ue,pe,Be,xt,null);if(typeof Be.then=="function")return Me(pe,ue,_e,bd(Be),xt);if(Be.$$typeof===R)return Me(pe,ue,_e,Ls(ue,Be),xt);ha(ue,Be)}return null}function dt(pe,ue,_e,Be){for(var xt=null,qn=null,gt=ue,cn=ue=0,In=null;gt!==null&&cn<_e.length;cn++){gt.index>cn?(In=gt,gt=null):In=gt.sibling;var jn=ye(pe,gt,_e[cn],Be);if(jn===null){gt===null&&(gt=In);break}o&&gt&&jn.alternate===null&&u(pe,gt),ue=S(jn,ue,cn),qn===null?xt=jn:qn.sibling=jn,qn=jn,gt=In}if(cn===_e.length)return h(pe,gt),On&&es(pe,cn),xt;if(gt===null){for(;cn<_e.length;cn++)gt=ze(pe,_e[cn],Be),gt!==null&&(ue=S(gt,ue,cn),qn===null?xt=gt:qn.sibling=gt,qn=gt);return On&&es(pe,cn),xt}for(gt=m(gt);cn<_e.length;cn++)In=Me(gt,pe,cn,_e[cn],Be),In!==null&&(o&&In.alternate!==null&&gt.delete(In.key===null?cn:In.key),ue=S(In,ue,cn),qn===null?xt=In:qn.sibling=In,qn=In);return o&&gt.forEach(function(xu){return u(pe,xu)}),On&&es(pe,cn),xt}function Bt(pe,ue,_e,Be){if(_e==null)throw Error(r(151));for(var xt=null,qn=null,gt=ue,cn=ue=0,In=null,jn=_e.next();gt!==null&&!jn.done;cn++,jn=_e.next()){gt.index>cn?(In=gt,gt=null):In=gt.sibling;var xu=ye(pe,gt,jn.value,Be);if(xu===null){gt===null&&(gt=In);break}o&&gt&&xu.alternate===null&&u(pe,gt),ue=S(xu,ue,cn),qn===null?xt=xu:qn.sibling=xu,qn=xu,gt=In}if(jn.done)return h(pe,gt),On&&es(pe,cn),xt;if(gt===null){for(;!jn.done;cn++,jn=_e.next())jn=ze(pe,jn.value,Be),jn!==null&&(ue=S(jn,ue,cn),qn===null?xt=jn:qn.sibling=jn,qn=jn);return On&&es(pe,cn),xt}for(gt=m(gt);!jn.done;cn++,jn=_e.next())jn=Me(gt,pe,cn,jn.value,Be),jn!==null&&(o&&jn.alternate!==null&&gt.delete(jn.key===null?cn:jn.key),ue=S(jn,ue,cn),qn===null?xt=jn:qn.sibling=jn,qn=jn);return o&&gt.forEach(function(_T){return u(pe,_T)}),On&&es(pe,cn),xt}function vr(pe,ue,_e,Be){if(typeof _e=="object"&&_e!==null&&_e.type===C&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case y:e:{for(var xt=_e.key;ue!==null;){if(ue.key===xt){if(xt=_e.type,xt===C){if(ue.tag===7){h(pe,ue.sibling),Be=E(ue,_e.props.children),Be.return=pe,pe=Be;break e}}else if(ue.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Y&&to(xt)===ue.type){h(pe,ue.sibling),Be=E(ue,_e.props),no(Be,_e),Be.return=pe,pe=Be;break e}h(pe,ue);break}else u(pe,ue);ue=ue.sibling}_e.type===C?(Be=sc(_e.props.children,pe.mode,Be,_e.key),Be.return=pe,pe=Be):(Be=Kp(_e.type,_e.key,_e.props,null,pe.mode,Be),no(Be,_e),Be.return=pe,pe=Be)}return L(pe);case b:e:{for(xt=_e.key;ue!==null;){if(ue.key===xt)if(ue.tag===4&&ue.stateNode.containerInfo===_e.containerInfo&&ue.stateNode.implementation===_e.implementation){h(pe,ue.sibling),Be=E(ue,_e.children||[]),Be.return=pe,pe=Be;break e}else{h(pe,ue);break}else u(pe,ue);ue=ue.sibling}Be=Ph(_e,pe.mode,Be),Be.return=pe,pe=Be}return L(pe);case Y:return _e=to(_e),vr(pe,ue,_e,Be)}if(se(_e))return dt(pe,ue,_e,Be);if(ne(_e)){if(xt=ne(_e),typeof xt!="function")throw Error(r(150));return _e=xt.call(_e),Bt(pe,ue,_e,Be)}if(typeof _e.then=="function")return vr(pe,ue,bd(_e),Be);if(_e.$$typeof===R)return vr(pe,ue,Ls(pe,_e),Be);ha(pe,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,ue!==null&&ue.tag===6?(h(pe,ue.sibling),Be=E(ue,_e),Be.return=pe,pe=Be):(h(pe,ue),Be=dd(_e,pe.mode,Be),Be.return=pe,pe=Be),L(pe)):h(pe,ue)}return function(pe,ue,_e,Be){try{ts=0;var xt=vr(pe,ue,_e,Be);return Ed=null,xt}catch(gt){if(gt===yd||gt===Gh)throw gt;var qn=Hi(29,gt,null,pe.mode);return qn.lanes=Be,qn.return=pe,qn}finally{}}}var fu=Ay(!0),Jv=Ay(!1),ks=!1;function Fo(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pu(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ro(o,u,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Zn&2)!==0){var E=m.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),m.pending=u,u=Uh(o),Kv(o,null,h),u}return ac(o,m,u,h),Uh(o)}function zh(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var m=u.lanes;m&=o.pendingLanes,h|=m,u.lanes=h,Ys(o,h)}}function tm(o,u){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var E=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var L={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?E=S=L:S=S.next=L,h=h.next}while(h!==null);S===null?E=S=u:S=S.next=u}else E=S=u;h={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}var Si=!1;function hc(){if(Si){var o=gd;if(o!==null)throw o}}function Td(o,u,h,m){Si=!1;var E=o.updateQueue;ks=!1;var S=E.firstBaseUpdate,L=E.lastBaseUpdate,z=E.shared.pending;if(z!==null){E.shared.pending=null;var ie=z,ge=ie.next;ie.next=null,L===null?S=ge:L.next=ge,L=ie;var Ue=o.alternate;Ue!==null&&(Ue=Ue.updateQueue,z=Ue.lastBaseUpdate,z!==L&&(z===null?Ue.firstBaseUpdate=ge:z.next=ge,Ue.lastBaseUpdate=ie))}if(S!==null){var ze=E.baseState;L=0,Ue=ge=ie=null,z=S;do{var ye=z.lane&-536870913,Me=ye!==z.lane;if(Me?(wn&ye)===ye:(m&ye)===ye){ye!==0&&ye===_d&&(Si=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var dt=o,Bt=z;ye=u;var vr=h;switch(Bt.tag){case 1:if(dt=Bt.payload,typeof dt=="function"){ze=dt.call(vr,ze,ye);break e}ze=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Bt.payload,ye=typeof dt=="function"?dt.call(vr,ze,ye):dt,ye==null)break e;ze=v({},ze,ye);break e;case 2:ks=!0}}ye=z.callback,ye!==null&&(o.flags|=64,Me&&(o.flags|=8192),Me=E.callbacks,Me===null?E.callbacks=[ye]:Me.push(ye))}else Me={lane:ye,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ue===null?(ge=Ue=Me,ie=ze):Ue=Ue.next=Me,L|=ye;if(z=z.next,z===null){if(z=E.shared.pending,z===null)break;Me=z,z=Me.next,Me.next=null,E.lastBaseUpdate=Me,E.shared.pending=null}}while(!0);Ue===null&&(ie=ze),E.baseState=ie,E.firstBaseUpdate=ge,E.lastBaseUpdate=Ue,S===null&&(E.shared.lanes=0),Tu|=L,o.lanes=L,o.memoizedState=ze}}function io(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function nm(o,u){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)io(h[o],u)}var Sl=Q(null),Ho=Q(0);function e_(o,u){o=co,Ae(Ho,o),Ae(Sl,u),co=o|u.baseLanes}function Gi(){Ae(Ho,co),Ae(Sl,Sl.current)}function Vh(){co=Ho.current,fe(Sl),fe(Ho)}var ns=Q(null),Ps=null;function mu(o){var u=o.alternate;Ae(ri,ri.current&1),Ae(ns,o),Ps===null&&(u===null||Sl.current!==null||u.memoizedState!==null)&&(Ps=o)}function qh(o){Ae(ri,ri.current),Ae(ns,o),Ps===null&&(Ps=o)}function wy(o){o.tag===22?(Ae(ri,ri.current),Ae(ns,o),Ps===null&&(Ps=o)):Fs()}function Fs(){Ae(ri,ri.current),Ae(ns,ns.current)}function Da(o){fe(ns),Ps===o&&(Ps=null),fe(ri)}var ri=Q(0);function rm(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Bm(h)||Gd(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var rs=0,on=null,pr=null,Yr=null,jh=!1,Cd=!1,fc=!1,im=0,Sd=0,vu=null,x2=0;function Fr(){throw Error(r(321))}function am(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!zr(o[h],u[h]))return!1;return!0}function sm(o,u,h,m,E,S){return rs=S,on=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,$.H=o===null||o.memoizedState===null?Fy:mm,fc=!1,S=h(m,E),fc=!1,Cd&&(S=$h(u,h,m,E)),t_(o),S}function t_(o){$.H=gu;var u=pr!==null&&pr.next!==null;if(rs=0,Yr=pr=on=null,jh=!1,Sd=0,vu=null,u)throw Error(r(300));o===null||Vr||(o=o.dependencies,o!==null&&Wp(o)&&(Vr=!0))}function $h(o,u,h,m){on=o;var E=0;do{if(Cd&&(vu=null),Sd=0,Cd=!1,25<=E)throw Error(r(301));if(E+=1,Yr=pr=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}$.H=ef,S=u(h,m)}while(Cd);return S}function L2(){var o=$.H,u=o.useState()[0];return u=typeof u.then=="function"?Ad(u):u,o=o.useState()[0],(pr!==null?pr.memoizedState:null)!==o&&(on.flags|=1024),u}function om(){var o=im!==0;return im=0,o}function lm(o,u,h){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~h}function n_(o){if(jh){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}jh=!1}rs=0,Yr=pr=on=null,Cd=!1,Sd=im=0,vu=null}function Qi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?on.memoizedState=Yr=o:Yr=Yr.next=o,Yr}function ii(){if(pr===null){var o=on.alternate;o=o!==null?o.memoizedState:null}else o=pr.next;var u=Yr===null?on.memoizedState:Yr.next;if(u!==null)Yr=u,pr=o;else{if(o===null)throw on.alternate===null?Error(r(467)):Error(r(310));pr=o,o={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},Yr===null?on.memoizedState=Yr=o:Yr=Yr.next=o}return Yr}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ad(o){var u=Sd;return Sd+=1,vu===null&&(vu=[]),o=Jp(vu,o,u),u=on,(Yr===null?u.memoizedState:Yr.next)===null&&(u=u.alternate,$.H=u===null||u.memoizedState===null?Fy:mm),o}function wd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ad(o);if(o.$$typeof===R)return Bi(o)}throw Error(r(438,String(o)))}function r_(o){var u=null,h=on.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var m=on.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Nd(),on.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(o),m=0;m<o;m++)h[m]=te;return u.index++,h}function ao(o,u){return typeof u=="function"?u(o):u}function ln(o){var u=ii();return i_(u,pr,o)}function i_(o,u,h){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var E=o.baseQueue,S=m.pending;if(S!==null){if(E!==null){var L=E.next;E.next=S.next,S.next=L}u.baseQueue=E=S,m.pending=null}if(S=o.baseState,E===null)o.memoizedState=S;else{u=E.next;var z=L=null,ie=null,ge=u,Ue=!1;do{var ze=ge.lane&-536870913;if(ze!==ge.lane?(wn&ze)===ze:(rs&ze)===ze){var ye=ge.revertLane;if(ye===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),ze===_d&&(Ue=!0);else if((rs&ye)===ye){ge=ge.next,ye===_d&&(Ue=!0);continue}else ze={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ie===null?(z=ie=ze,L=S):ie=ie.next=ze,on.lanes|=ye,Tu|=ye;ze=ge.action,fc&&h(S,ze),S=ge.hasEagerState?ge.eagerState:h(S,ze)}else ye={lane:ze,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ie===null?(z=ie=ye,L=S):ie=ie.next=ye,on.lanes|=ze,Tu|=ze;ge=ge.next}while(ge!==null&&ge!==u);if(ie===null?L=S:ie.next=z,!zr(S,o.memoizedState)&&(Vr=!0,Ue&&(h=gd,h!==null)))throw h;o.memoizedState=S,o.baseState=L,o.baseQueue=ie,m.lastRenderedState=S}return E===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function a_(o){var u=ii(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var m=h.dispatch,E=h.pending,S=u.memoizedState;if(E!==null){h.pending=null;var L=E=E.next;do S=o(S,L.action),L=L.next;while(L!==E);zr(S,u.memoizedState)||(Vr=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,m]}function Id(o,u,h){var m=on,E=ii(),S=On;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=u();var L=!zr((pr||E).memoizedState,h);if(L&&(E.memoizedState=h,Vr=!0),E=E.queue,Qh(My.bind(null,m,E,o),[o]),E.getSnapshot!==u||L||Yr!==null&&Yr.memoizedState.tag&1){if(m.flags|=2048,as(9,{destroy:void 0},Iy.bind(null,m,E,h,u),null),Cr===null)throw Error(r(349));S||(rs&127)!==0||s_(m,u,h)}return h}function s_(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=on.updateQueue,u===null?(u=Nd(),on.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function Iy(o,u,h,m){u.value=h,u.getSnapshot=m,is(u)&&Oy(o)}function My(o,u,h){return h(function(){is(u)&&Oy(o)})}function is(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!zr(o,h)}catch{return!0}}function Oy(o){var u=Uo(o,2);u!==null&&Fa(u,o,2)}function Md(o){var u=Qi();if(typeof o=="function"){var h=o;if(o=h(),fc){bn(!0);try{h()}finally{bn(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:o},u}function um(o,u,h,m){return o.baseState=h,i_(o,pr,typeof m=="function"?m:ao)}function Ry(o,u,h,m,E){if(Zh(o))throw Error(r(485));if(o=u.action,o!==null){var S={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){S.listeners.push(L)}};$.T!==null?h(!0):S.isTransition=!1,m(S),h=u.pending,h===null?(S.next=u.pending=S,o_(u,S)):(S.next=h.next,u.pending=h.next=S)}}function o_(o,u){var h=u.action,m=u.payload,E=o.state;if(u.isTransition){var S=$.T,L={};$.T=L;try{var z=h(E,m),ie=$.S;ie!==null&&ie(L,z),xa(o,u,z)}catch(ge){Kh(o,u,ge)}finally{S!==null&&L.types!==null&&(S.types=L.types),$.T=S}}else try{S=h(E,m),xa(o,u,S)}catch(ge){Kh(o,u,ge)}}function xa(o,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){Nl(o,u,m)},function(m){return Kh(o,u,m)}):Nl(o,u,h)}function Nl(o,u,h){u.status="fulfilled",u.value=h,l_(u),o.state=h,u=o.pending,u!==null&&(h=u.next,h===u?o.pending=null:(h=h.next,u.next=h,o_(o,h)))}function Kh(o,u,h){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=h,l_(u),u=u.next;while(u!==m)}o.action=null}function l_(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Yh(o,u){return u}function u_(o,u){if(On){var h=Cr.formState;if(h!==null){e:{var m=on;if(On){if(ir){t:{for(var E=ir,S=xs;E.nodeType!==8;){if(!S){E=null;break t}if(E=Bs(E.nextSibling),E===null){E=null;break t}}S=E.data,E=S==="F!"||S==="F"?E:null}if(E){ir=Bs(E.nextSibling),m=E.data==="F!";break e}}uu(m)}m=!1}m&&(u=h[0])}}return h=Qi(),h.memoizedState=h.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:u},h.queue=m,h=E_.bind(null,on,m),m.dispatch=h,m=Md(!1),S=Rd.bind(null,on,!1,m.queue),m=Qi(),E={state:u,dispatch:null,action:o,pending:null},m.queue=E,h=Ry.bind(null,on,E,S,h),E.dispatch=h,m.memoizedState=o,[u,h,!1]}function cm(o){var u=ii();return c_(u,pr,o)}function c_(o,u,h){if(u=i_(o,u,Yh)[0],o=ln(ao)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=Ad(u)}catch(L){throw L===yd?Gh:L}else m=u;u=ii();var E=u.queue,S=E.dispatch;return h!==u.memoizedState&&(on.flags|=2048,as(9,{destroy:void 0},d_.bind(null,E,h),null)),[m,S,o]}function d_(o,u){o.action=u}function dm(o){var u=ii(),h=pr;if(h!==null)return c_(u,h,o);ii(),u=u.memoizedState,h=ii();var m=h.queue.dispatch;return h.memoizedState=o,[u,m,!1]}function as(o,u,h,m){return o={tag:o,create:h,deps:m,inst:u,next:null},u=on.updateQueue,u===null&&(u=Nd(),on.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,u.lastEffect=o),o}function Dy(){return ii().memoizedState}function so(o,u,h,m){var E=Qi();on.flags|=o,E.memoizedState=as(1|u,{destroy:void 0},h,m===void 0?null:m)}function Wh(o,u,h,m){var E=ii();m=m===void 0?null:m;var S=E.memoizedState.inst;pr!==null&&m!==null&&am(m,pr.memoizedState.deps)?E.memoizedState=as(u,S,h,m):(on.flags|=o,E.memoizedState=as(1|u,S,h,m))}function h_(o,u){so(8390656,8,o,u)}function Qh(o,u){Wh(2048,8,o,u)}function U2(o){on.flags|=4;var u=on.updateQueue;if(u===null)u=Nd(),on.updateQueue=u,u.events=[o];else{var h=u.events;h===null?u.events=[o]:h.push(o)}}function xy(o){var u=ii().memoizedState;return U2({ref:u,nextImpl:o}),function(){if((Zn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function Ly(o,u){return Wh(4,2,o,u)}function f_(o,u){return Wh(4,4,o,u)}function p_(o,u){if(typeof u=="function"){o=o();var h=u(o);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Uy(o,u,h){h=h!=null?h.concat([o]):null,Wh(4,4,p_.bind(null,u,o),h)}function hm(){}function m_(o,u){var h=ii();u=u===void 0?null:u;var m=h.memoizedState;return u!==null&&am(u,m[1])?m[0]:(h.memoizedState=[o,u],o)}function fa(o,u){var h=ii();u=u===void 0?null:u;var m=h.memoizedState;if(u!==null&&am(u,m[1]))return m[0];if(m=o(),fc){bn(!0);try{o()}finally{bn(!1)}}return h.memoizedState=[m,u],m}function Hs(o,u,h){return h===void 0||(rs&1073741824)!==0&&(wn&261930)===0?o.memoizedState=u:(o.memoizedState=h,o=lE(),on.lanes|=o,Tu|=o,h)}function ky(o,u,h,m){return zr(h,u)?h:Sl.current!==null?(o=Hs(o,h,m),zr(o,u)||(Vr=!0),o):(rs&42)===0||(rs&1073741824)!==0&&(wn&261930)===0?(Vr=!0,o.memoizedState=h):(o=lE(),on.lanes|=o,Tu|=o,u)}function Py(o,u,h,m,E){var S=le.p;le.p=S!==0&&8>S?S:8;var L=$.T,z={};$.T=z,Rd(o,!1,u,h);try{var ie=E(),ge=$.S;if(ge!==null&&ge(z,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ue=D2(ie,m);Od(o,u,Ue,ls(o))}else Od(o,u,m,ls(o))}catch(ze){Od(o,u,{then:function(){},status:"rejected",reason:ze},ls())}finally{le.p=S,L!==null&&z.types!==null&&(L.types=z.types),$.T=L}}function fm(){}function _u(o,u,h,m){if(o.tag!==5)throw Error(r(476));var E=v_(o).queue;Py(o,E,u,he,h===null?fm:function(){return __(o),h(m)})}function v_(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:he},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:h},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function __(o){var u=v_(o);u.next===null&&(u=o.alternate.memoizedState),Od(o,u.next.queue,{},ls())}function g_(){return Bi(Kd)}function y_(){return ii().memoizedState}function pc(){return ii().memoizedState}function Xh(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var h=ls();o=pu(h);var m=ro(u,o,h);m!==null&&(Fa(m,u,h),zh(m,u,h)),u={cache:eo()},o.payload=u;return}u=u.return}}function k2(o,u,h){var m=ls();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Zh(o)?Jh(u,h):(h=$p(o,u,h,m),h!==null&&(Fa(h,o,m),pm(h,u,m)))}function E_(o,u,h){var m=ls();Od(o,u,h,m)}function Od(o,u,h,m){var E={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Zh(o))Jh(u,E);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var L=u.lastRenderedState,z=S(L,h);if(E.hasEagerState=!0,E.eagerState=z,zr(z,L))return ac(o,u,E,0),Cr===null&&Js(),!1}catch{}finally{}if(h=$p(o,u,E,m),h!==null)return Fa(h,o,m),pm(h,u,m),!0}return!1}function Rd(o,u,h,m){if(m={lane:2,revertLane:us(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Zh(o)){if(u)throw Error(r(479))}else u=$p(o,h,m,2),u!==null&&Fa(u,o,2)}function Zh(o){var u=o.alternate;return o===on||u!==null&&u===on}function Jh(o,u){Cd=jh=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function pm(o,u,h){if((h&4194048)!==0){var m=u.lanes;m&=o.pendingLanes,h|=m,u.lanes=h,Ys(o,h)}}var gu={readContext:Bi,use:wd,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useInsertionEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useSyncExternalStore:Fr,useId:Fr,useHostTransitionStatus:Fr,useFormState:Fr,useActionState:Fr,useOptimistic:Fr,useMemoCache:Fr,useCacheRefresh:Fr};gu.useEffectEvent=Fr;var Fy={readContext:Bi,use:wd,useCallback:function(o,u){return Qi().memoizedState=[o,u===void 0?null:u],o},useContext:Bi,useEffect:h_,useImperativeHandle:function(o,u,h){h=h!=null?h.concat([o]):null,so(4194308,4,p_.bind(null,u,o),h)},useLayoutEffect:function(o,u){return so(4194308,4,o,u)},useInsertionEffect:function(o,u){so(4,2,o,u)},useMemo:function(o,u){var h=Qi();u=u===void 0?null:u;var m=o();if(fc){bn(!0);try{o()}finally{bn(!1)}}return h.memoizedState=[m,u],m},useReducer:function(o,u,h){var m=Qi();if(h!==void 0){var E=h(u);if(fc){bn(!0);try{h(u)}finally{bn(!1)}}}else E=u;return m.memoizedState=m.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},m.queue=o,o=o.dispatch=k2.bind(null,on,o),[m.memoizedState,o]},useRef:function(o){var u=Qi();return o={current:o},u.memoizedState=o},useState:function(o){o=Md(o);var u=o.queue,h=E_.bind(null,on,u);return u.dispatch=h,[o.memoizedState,h]},useDebugValue:hm,useDeferredValue:function(o,u){var h=Qi();return Hs(h,o,u)},useTransition:function(){var o=Md(!1);return o=Py.bind(null,on,o.queue,!0,!1),Qi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,h){var m=on,E=Qi();if(On){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Cr===null)throw Error(r(349));(wn&127)!==0||s_(m,u,h)}E.memoizedState=h;var S={value:h,getSnapshot:u};return E.queue=S,h_(My.bind(null,m,S,o),[o]),m.flags|=2048,as(9,{destroy:void 0},Iy.bind(null,m,S,h,u),null),h},useId:function(){var o=Qi(),u=Cr.identifierPrefix;if(On){var h=Ds,m=ko;h=(m&~(1<<32-tn(m)-1)).toString(32)+h,u="_"+u+"R_"+h,h=im++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=x2++,u="_"+u+"r_"+h.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:g_,useFormState:u_,useActionState:u_,useOptimistic:function(o){var u=Qi();u.memoizedState=u.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Rd.bind(null,on,!0,h),h.dispatch=u,[o,u]},useMemoCache:r_,useCacheRefresh:function(){return Qi().memoizedState=Xh.bind(null,on)},useEffectEvent:function(o){var u=Qi(),h={impl:o};return u.memoizedState=h,function(){if((Zn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},mm={readContext:Bi,use:wd,useCallback:m_,useContext:Bi,useEffect:Qh,useImperativeHandle:Uy,useInsertionEffect:Ly,useLayoutEffect:f_,useMemo:fa,useReducer:ln,useRef:Dy,useState:function(){return ln(ao)},useDebugValue:hm,useDeferredValue:function(o,u){var h=ii();return ky(h,pr.memoizedState,o,u)},useTransition:function(){var o=ln(ao)[0],u=ii().memoizedState;return[typeof o=="boolean"?o:Ad(o),u]},useSyncExternalStore:Id,useId:y_,useHostTransitionStatus:g_,useFormState:cm,useActionState:cm,useOptimistic:function(o,u){var h=ii();return um(h,pr,o,u)},useMemoCache:r_,useCacheRefresh:pc};mm.useEffectEvent=xy;var ef={readContext:Bi,use:wd,useCallback:m_,useContext:Bi,useEffect:Qh,useImperativeHandle:Uy,useInsertionEffect:Ly,useLayoutEffect:f_,useMemo:fa,useReducer:a_,useRef:Dy,useState:function(){return a_(ao)},useDebugValue:hm,useDeferredValue:function(o,u){var h=ii();return pr===null?Hs(h,o,u):ky(h,pr.memoizedState,o,u)},useTransition:function(){var o=a_(ao)[0],u=ii().memoizedState;return[typeof o=="boolean"?o:Ad(o),u]},useSyncExternalStore:Id,useId:y_,useHostTransitionStatus:g_,useFormState:dm,useActionState:dm,useOptimistic:function(o,u){var h=ii();return pr!==null?um(h,pr,o,u):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:r_,useCacheRefresh:pc};ef.useEffectEvent=xy;function vm(o,u,h,m){u=o.memoizedState,h=h(m,u),h=h==null?u:v({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var tf={enqueueSetState:function(o,u,h){o=o._reactInternals;var m=ls(),E=pu(m);E.payload=u,h!=null&&(E.callback=h),u=ro(o,E,m),u!==null&&(Fa(u,o,m),zh(u,o,m))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var m=ls(),E=pu(m);E.tag=1,E.payload=u,h!=null&&(E.callback=h),u=ro(o,E,m),u!==null&&(Fa(u,o,m),zh(u,o,m))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=ls(),m=pu(h);m.tag=2,u!=null&&(m.callback=u),u=ro(o,m,h),u!==null&&(Fa(u,o,h),zh(u,o,h))}};function Hy(o,u,h,m,E,S,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,L):u.prototype&&u.prototype.isPureReactComponent?!sd(h,m)||!sd(E,S):!0}function b_(o,u,h,m){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,m),u.state!==o&&tf.enqueueReplaceState(u,u.state,null)}function pa(o,u){var h=u;if("ref"in u){h={};for(var m in u)m!=="ref"&&(h[m]=u[m])}if(o=o.defaultProps){h===u&&(h=v({},h));for(var E in o)h[E]===void 0&&(h[E]=o[E])}return h}function T_(o){jp(o)}function C_(o){console.error(o)}function By(o){jp(o)}function nf(o,u){try{var h=o.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function Gy(o,u,h){try{var m=o.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function S_(o,u,h){return h=pu(h),h.tag=3,h.payload={element:null},h.callback=function(){nf(o,u)},h}function Bo(o){return o=pu(o),o.tag=3,o}function _m(o,u,h,m){var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var S=m.value;o.payload=function(){return E(S)},o.callback=function(){Gy(u,h,m)}}var L=h.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(o.callback=function(){Gy(u,h,m),typeof E!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})})}function N_(o,u,h,m,E){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=h.alternate,u!==null&&vd(u,h,E,!0),h=ns.current,h!==null){switch(h.tag){case 31:case 13:return Ps===null?Rm():h.alternate===null&&qr===0&&(qr=3),h.flags&=-257,h.flags|=65536,h.lanes=E,m===Zp?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([m]):u.add(m),eg(o,m,E)),!1;case 22:return h.flags|=65536,m===Zp?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([m]):h.add(m)),eg(o,m,E)),!1}throw Error(r(435,h.tag))}return eg(o,m,E),Rm(),!1}if(On)return u=ns.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,m!==Yv&&(o=Error(r(422),{cause:m}),du(Ja(o,h)))):(m!==Yv&&(u=Error(r(423),{cause:m}),du(Ja(u,h))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,m=Ja(m,h),E=S_(o.stateNode,m,E),tm(o,E),qr!==4&&(qr=2)),!1;var S=Error(r(520),{cause:m});if(S=Ja(S,h),_f===null?_f=[S]:_f.push(S),qr!==4&&(qr=2),u===null)return!0;m=Ja(m,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,o=E&-E,h.lanes|=o,o=S_(h.stateNode,m,o),tm(h,o),!1;case 1:if(u=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Cu===null||!Cu.has(S))))return h.flags|=65536,E&=-E,h.lanes|=E,E=Bo(E),_m(E,o,h,m),tm(h,E),!1}h=h.return}while(h!==null);return!1}var rf=Error(r(461)),Vr=!1;function Wr(o,u,h,m){u.child=o===null?Jv(u,null,h,m):fu(u,o.child,h,m)}function Ht(o,u,h,m,E){h=h.render;var S=u.ref;if("ref"in m){var L={};for(var z in m)z!=="ref"&&(L[z]=m[z])}else L=m;return uc(u),m=sm(o,u,h,L,S,E),z=om(),o!==null&&!Vr?(lm(o,u,E),Go(o,u,E)):(On&&z&&ou(u),u.flags|=1,Wr(o,u,m,E),u.child)}function af(o,u,h,m,E){if(o===null){var S=h.type;return typeof S=="function"&&!yl(S)&&S.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=S,gm(o,u,S,m,E)):(o=Kp(h.type,null,m,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(S=o.child,!Cm(o,E)){var L=S.memoizedProps;if(h=h.compare,h=h!==null?h:sd,h(L,m)&&o.ref===u.ref)return Go(o,u,E)}return u.flags|=1,o=Ms(S,m),o.ref=u.ref,o.return=u,u.child=o}function gm(o,u,h,m,E){if(o!==null){var S=o.memoizedProps;if(sd(S,m)&&o.ref===u.ref)if(Vr=!1,u.pendingProps=m=S,Cm(o,E))(o.flags&131072)!==0&&(Vr=!0);else return u.lanes=o.lanes,Go(o,u,E)}return bm(o,u,h,m,E)}function yu(o,u,h,m){var E=m.children,S=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,o!==null){for(m=u.child=o.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;m=E&~S}else m=0,u.child=null;return ym(o,u,S,h,m)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Qp(u,S!==null?S.cachePool:null),S!==null?e_(u,S):Gi(),wy(u);else return m=u.lanes=536870912,ym(o,u,S!==null?S.baseLanes|h:h,h,m)}else S!==null?(Qp(u,S.cachePool),e_(u,S),Fs(),u.memoizedState=null):(o!==null&&Qp(u,null),Gi(),Fs());return Wr(o,u,E,h),u.child}function sf(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function ym(o,u,h,m,E){var S=Xv();return S=S===null?null:{parent:hi._currentValue,pool:S},u.memoizedState={baseLanes:h,cachePool:S},o!==null&&Qp(u,null),Gi(),wy(u),o!==null&&vd(o,u,m,!0),u.childLanes=E,null}function of(o,u){return u=Tm({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function zi(o,u,h){return fu(u,o.child,null,h),o=of(u,u.pendingProps),o.flags|=2,Da(u),u.memoizedState=null,o}function P2(o,u,h){var m=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(On){if(m.mode==="hidden")return o=of(u,m),u.lanes=536870912,sf(null,o);if(qh(u),(o=ir)?(o=RE(o,xs),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:El!==null?{id:ko,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},h=kh(o),h.return=u,u.child=h,di=u,ir=null)):o=null,o===null)throw uu(u);return u.lanes=536870912,null}return of(u,m)}var S=o.memoizedState;if(S!==null){var L=S.dehydrated;if(qh(u),E)if(u.flags&256)u.flags&=-257,u=zi(o,u,h);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(Vr||vd(o,u,h,!1),E=(h&o.childLanes)!==0,Vr||E){if(m=Cr,m!==null&&(L=Ss(m,h),L!==0&&L!==S.retryLane))throw S.retryLane=L,Uo(o,L),Fa(m,o,L),rf;Rm(),u=zi(o,u,h)}else o=S.treeContext,ir=Bs(L.nextSibling),di=u,On=!0,lu=null,xs=!1,o!==null&&pd(u,o),u=of(u,m),u.flags|=4096;return u}return o=Ms(o.child,{mode:m.mode,children:m.children}),o.ref=u.ref,u.child=o,o.return=u,o}function Em(o,u){var h=u.ref;if(h===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(u.flags|=4194816)}}function bm(o,u,h,m,E){return uc(u),h=sm(o,u,h,m,void 0,E),m=om(),o!==null&&!Vr?(lm(o,u,E),Go(o,u,E)):(On&&m&&ou(u),u.flags|=1,Wr(o,u,h,E),u.child)}function zy(o,u,h,m,E,S){return uc(u),u.updateQueue=null,h=$h(u,m,h,E),t_(o),m=om(),o!==null&&!Vr?(lm(o,u,S),Go(o,u,S)):(On&&m&&ou(u),u.flags|=1,Wr(o,u,h,S),u.child)}function A_(o,u,h,m,E){if(uc(u),u.stateNode===null){var S=gl,L=h.contextType;typeof L=="object"&&L!==null&&(S=Bi(L)),S=new h(m,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=tf,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=m,S.state=u.memoizedState,S.refs={},Fo(u),L=h.contextType,S.context=typeof L=="object"&&L!==null?Bi(L):gl,S.state=u.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(vm(u,h,L,m),S.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(L=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),L!==S.state&&tf.enqueueReplaceState(S,S.state,null),Td(u,m,S,E),hc(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(o===null){S=u.stateNode;var z=u.memoizedProps,ie=pa(h,z);S.props=ie;var ge=S.context,Ue=h.contextType;L=gl,typeof Ue=="object"&&Ue!==null&&(L=Bi(Ue));var ze=h.getDerivedStateFromProps;Ue=typeof ze=="function"||typeof S.getSnapshotBeforeUpdate=="function",z=u.pendingProps!==z,Ue||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z||ge!==L)&&b_(u,S,m,L),ks=!1;var ye=u.memoizedState;S.state=ye,Td(u,m,S,E),hc(),ge=u.memoizedState,z||ye!==ge||ks?(typeof ze=="function"&&(vm(u,h,ze,m),ge=u.memoizedState),(ie=ks||Hy(u,h,ie,m,ye,ge,L))?(Ue||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=ge),S.props=m,S.state=ge,S.context=L,m=ie):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{S=u.stateNode,em(o,u),L=u.memoizedProps,Ue=pa(h,L),S.props=Ue,ze=u.pendingProps,ye=S.context,ge=h.contextType,ie=gl,typeof ge=="object"&&ge!==null&&(ie=Bi(ge)),z=h.getDerivedStateFromProps,(ge=typeof z=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==ze||ye!==ie)&&b_(u,S,m,ie),ks=!1,ye=u.memoizedState,S.state=ye,Td(u,m,S,E),hc();var Me=u.memoizedState;L!==ze||ye!==Me||ks||o!==null&&o.dependencies!==null&&Wp(o.dependencies)?(typeof z=="function"&&(vm(u,h,z,m),Me=u.memoizedState),(Ue=ks||Hy(u,h,Ue,m,ye,Me,ie)||o!==null&&o.dependencies!==null&&Wp(o.dependencies))?(ge||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Me,ie),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Me,ie)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===o.memoizedProps&&ye===o.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ye===o.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=Me),S.props=m,S.state=Me,S.context=ie,m=Ue):(typeof S.componentDidUpdate!="function"||L===o.memoizedProps&&ye===o.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ye===o.memoizedState||(u.flags|=1024),m=!1)}return S=m,Em(o,u),m=(u.flags&128)!==0,S||m?(S=u.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,o!==null&&m?(u.child=fu(u,o.child,null,E),u.child=fu(u,null,h,E)):Wr(o,u,h,E),u.memoizedState=S.state,o=u.child):o=Go(o,u,E),o}function Vy(o,u,h,m){return V(),u.flags|=256,Wr(o,u,h,m),u.child}var w_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function I_(o){return{baseLanes:o,cachePool:Cy()}}function oo(o,u,h){return o=o!==null?o.childLanes&~h:0,u&&(o|=os),o}function Xi(o,u,h){var m=u.pendingProps,E=!1,S=(u.flags&128)!==0,L;if((L=S)||(L=o!==null&&o.memoizedState===null?!1:(ri.current&2)!==0),L&&(E=!0,u.flags&=-129),L=(u.flags&32)!==0,u.flags&=-33,o===null){if(On){if(E?mu(u):Fs(),(o=ir)?(o=RE(o,xs),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:El!==null?{id:ko,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},h=kh(o),h.return=u,u.child=h,di=u,ir=null)):o=null,o===null)throw uu(u);return Gd(o)?u.lanes=32:u.lanes=536870912,null}var z=m.children;return m=m.fallback,E?(Fs(),E=u.mode,z=Tm({mode:"hidden",children:z},E),m=sc(m,E,h,null),z.return=u,m.return=u,z.sibling=m,u.child=z,m=u.child,m.memoizedState=I_(h),m.childLanes=oo(o,L,h),u.memoizedState=w_,sf(null,m)):(mu(u),lf(u,z))}var ie=o.memoizedState;if(ie!==null&&(z=ie.dehydrated,z!==null)){if(S)u.flags&256?(mu(u),u.flags&=-257,u=uf(o,u,h)):u.memoizedState!==null?(Fs(),u.child=o.child,u.flags|=128,u=null):(Fs(),z=m.fallback,E=u.mode,m=Tm({mode:"visible",children:m.children},E),z=sc(z,E,h,null),z.flags|=2,m.return=u,z.return=u,m.sibling=z,u.child=m,fu(u,o.child,null,h),m=u.child,m.memoizedState=I_(h),m.childLanes=oo(o,L,h),u.memoizedState=w_,u=sf(null,m));else if(mu(u),Gd(z)){if(L=z.nextSibling&&z.nextSibling.dataset,L)var ge=L.dgst;L=ge,m=Error(r(419)),m.stack="",m.digest=L,du({value:m,source:null,stack:null}),u=uf(o,u,h)}else if(Vr||vd(o,u,h,!1),L=(h&o.childLanes)!==0,Vr||L){if(L=Cr,L!==null&&(m=Ss(L,h),m!==0&&m!==ie.retryLane))throw ie.retryLane=m,Uo(o,m),Fa(L,o,m),rf;Bm(z)||Rm(),u=uf(o,u,h)}else Bm(z)?(u.flags|=192,u.child=o.child,u=null):(o=ie.treeContext,ir=Bs(z.nextSibling),di=u,On=!0,lu=null,xs=!1,o!==null&&pd(u,o),u=lf(u,m.children),u.flags|=4096);return u}return E?(Fs(),z=m.fallback,E=u.mode,ie=o.child,ge=ie.sibling,m=Ms(ie,{mode:"hidden",children:m.children}),m.subtreeFlags=ie.subtreeFlags&65011712,ge!==null?z=Ms(ge,z):(z=sc(z,E,h,null),z.flags|=2),z.return=u,m.return=u,m.sibling=z,u.child=m,sf(null,m),m=u.child,z=o.child.memoizedState,z===null?z=I_(h):(E=z.cachePool,E!==null?(ie=hi._currentValue,E=E.parent!==ie?{parent:ie,pool:ie}:E):E=Cy(),z={baseLanes:z.baseLanes|h,cachePool:E}),m.memoizedState=z,m.childLanes=oo(o,L,h),u.memoizedState=w_,sf(o.child,m)):(mu(u),h=o.child,o=h.sibling,h=Ms(h,{mode:"visible",children:m.children}),h.return=u,h.sibling=null,o!==null&&(L=u.deletions,L===null?(u.deletions=[o],u.flags|=16):L.push(o)),u.child=h,u.memoizedState=null,h)}function lf(o,u){return u=Tm({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Tm(o,u){return o=Hi(22,o,null,u),o.lanes=0,o}function uf(o,u,h){return fu(u,o.child,null,h),o=lf(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function qy(o,u,h){o.lanes|=u;var m=o.alternate;m!==null&&(m.lanes|=u),Cl(o.return,u,h)}function M_(o,u,h,m,E,S){var L=o.memoizedState;L===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:E,treeForkCount:S}:(L.isBackwards=u,L.rendering=null,L.renderingStartTime=0,L.last=m,L.tail=h,L.tailMode=E,L.treeForkCount=S)}function Dd(o,u,h){var m=u.pendingProps,E=m.revealOrder,S=m.tail;m=m.children;var L=ri.current,z=(L&2)!==0;if(z?(L=L&1|2,u.flags|=128):L&=1,Ae(ri,L),Wr(o,u,m,h),m=On?ci:0,!z&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&qy(o,h,u);else if(o.tag===19)qy(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(h=u.child,E=null;h!==null;)o=h.alternate,o!==null&&rm(o)===null&&(E=h),h=h.sibling;h=E,h===null?(E=u.child,u.child=null):(E=h.sibling,h.sibling=null),M_(u,!1,E,h,S,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&rm(o)===null){u.child=E;break}o=E.sibling,E.sibling=h,h=E,E=o}M_(u,!0,h,null,S,m);break;case"together":M_(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function Go(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),Tu|=u.lanes,(h&u.childLanes)===0)if(o!==null){if(vd(o,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,h=Ms(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=Ms(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function Cm(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Wp(o)))}function F2(o,u,h){switch(u.tag){case 3:Ot(u,u.stateNode.containerInfo),hu(u,hi,o.memoizedState.cache),V();break;case 27:case 5:Kn(u);break;case 4:Ot(u,u.stateNode.containerInfo);break;case 10:hu(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,qh(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(mu(u),u.flags|=128,null):(h&u.child.childLanes)!==0?Xi(o,u,h):(mu(u),o=Go(o,u,h),o!==null?o.sibling:null);mu(u);break;case 19:var E=(o.flags&128)!==0;if(m=(h&u.childLanes)!==0,m||(vd(o,u,h,!1),m=(h&u.childLanes)!==0),E){if(m)return Dd(o,u,h);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ae(ri,ri.current),m)break;return null;case 22:return u.lanes=0,yu(o,u,h,u.pendingProps);case 24:hu(u,hi,o.memoizedState.cache)}return Go(o,u,h)}function jy(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps)Vr=!0;else{if(!Cm(o,h)&&(u.flags&128)===0)return Vr=!1,F2(o,u,h);Vr=(o.flags&131072)!==0}else Vr=!1,On&&(u.flags&1048576)!==0&&Yp(u,ci,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(o=to(u.elementType),u.type=o,typeof o=="function")yl(o)?(m=pa(o,m),u.tag=1,u=A_(null,u,o,m,h)):(u.tag=0,u=bm(null,u,o,m,h));else{if(o!=null){var E=o.$$typeof;if(E===U){u.tag=11,u=Ht(null,u,o,m,h);break e}else if(E===G){u.tag=14,u=af(null,u,o,m,h);break e}}throw u=X(o)||o,Error(r(306,u,""))}}return u;case 0:return bm(o,u,u.type,u.pendingProps,h);case 1:return m=u.type,E=pa(m,u.pendingProps),A_(o,u,m,E,h);case 3:e:{if(Ot(u,u.stateNode.containerInfo),o===null)throw Error(r(387));m=u.pendingProps;var S=u.memoizedState;E=S.element,em(o,u),Td(u,m,null,h);var L=u.memoizedState;if(m=L.cache,hu(u,hi,m),m!==S.cache&&Wv(u,[hi],h,!0),hc(),m=L.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:L.cache},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){u=Vy(o,u,m,h);break e}else if(m!==E){E=Ja(Error(r(424)),u),du(E),u=Vy(o,u,m,h);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ir=Bs(o.firstChild),di=u,On=!0,lu=null,xs=!0,h=Jv(u,null,m,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(V(),m===E){u=Go(o,u,h);break e}Wr(o,u,m,h)}u=u.child}return u;case 26:return Em(o,u),o===null?(h=PE(u.type,null,u.pendingProps,null))?u.memoizedState=h:On||(h=u.type,o=u.pendingProps,m=Mf(Fe.current).createElement(h),m[Nt]=u,m[mt]=o,Vi(m,h,o),Ft(m),u.stateNode=m):u.memoizedState=PE(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Kn(u),o===null&&On&&(m=u.stateNode=LE(u.type,u.pendingProps,Fe.current),di=u,xs=!0,E=ir,jt(u.type)?(hg=E,ir=Bs(m.firstChild)):ir=E),Wr(o,u,u.pendingProps.children,h),Em(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&On&&((E=m=ir)&&(m=eT(m,u.type,u.pendingProps,xs),m!==null?(u.stateNode=m,di=u,ir=Bs(m.firstChild),xs=!1,E=!0):E=!1),E||uu(u)),Kn(u),E=u.type,S=u.pendingProps,L=o!==null?o.memoizedProps:null,m=S.children,wu(E,S)?m=null:L!==null&&wu(E,L)&&(u.flags|=32),u.memoizedState!==null&&(E=sm(o,u,L2,null,null,h),Kd._currentValue=E),Em(o,u),Wr(o,u,m,h),u.child;case 6:return o===null&&On&&((o=h=ir)&&(h=ar(h,u.pendingProps,xs),h!==null?(u.stateNode=h,di=u,ir=null,o=!0):o=!1),o||uu(u)),null;case 13:return Xi(o,u,h);case 4:return Ot(u,u.stateNode.containerInfo),m=u.pendingProps,o===null?u.child=fu(u,null,m,h):Wr(o,u,m,h),u.child;case 11:return Ht(o,u,u.type,u.pendingProps,h);case 7:return Wr(o,u,u.pendingProps,h),u.child;case 8:return Wr(o,u,u.pendingProps.children,h),u.child;case 12:return Wr(o,u,u.pendingProps.children,h),u.child;case 10:return m=u.pendingProps,hu(u,u.type,m.value),Wr(o,u,m.children,h),u.child;case 9:return E=u.type._context,m=u.pendingProps.children,uc(u),E=Bi(E),m=m(E),u.flags|=1,Wr(o,u,m,h),u.child;case 14:return af(o,u,u.type,u.pendingProps,h);case 15:return gm(o,u,u.type,u.pendingProps,h);case 19:return Dd(o,u,h);case 31:return P2(o,u,h);case 22:return yu(o,u,h,u.pendingProps);case 24:return uc(u),m=Bi(hi),o===null?(E=Xv(),E===null&&(E=Cr,S=eo(),E.pooledCache=S,S.refCount++,S!==null&&(E.pooledCacheLanes|=h),E=S),u.memoizedState={parent:m,cache:E},Fo(u),hu(u,hi,E)):((o.lanes&h)!==0&&(em(o,u),Td(u,null,null,h),hc()),E=o.memoizedState,S=u.memoizedState,E.parent!==m?(E={parent:m,cache:m},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),hu(u,hi,m)):(m=S.cache,hu(u,hi,m),m!==E.cache&&Wv(u,[hi],h,!0))),Wr(o,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Al(o){o.flags|=4}function O_(o,u,h,m,E){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(Ef())o.flags|=8192;else throw Po=Zp,Xp}else o.flags&=-16777217}function R_(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!zE(u))if(Ef())o.flags|=8192;else throw Po=Zp,Xp}function cf(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?zn():536870912,o.lanes|=u,kd|=u)}function df(o,u){if(!On)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Tr(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(u)for(var E=o.child;E!==null;)h|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)h|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=m,o.childLanes=h,u}function $y(o,u,h){var m=u.pendingProps;switch(oc(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(u),null;case 1:return Tr(u),null;case 3:return h=u.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Tl(hi),Ct(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(lc(u)?Al(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,cu())),Tr(u),null;case 26:var E=u.type,S=u.memoizedState;return o===null?(Al(u),S!==null?(Tr(u),R_(u,S)):(Tr(u),O_(u,E,null,m,h))):S?S!==o.memoizedState?(Al(u),Tr(u),R_(u,S)):(Tr(u),u.flags&=-16777217):(o=o.memoizedProps,o!==m&&Al(u),Tr(u),O_(u,E,o,m,h)),null;case 27:if(An(u),h=Fe.current,E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==m&&Al(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Tr(u),null}o=$e.current,lc(u)?Fh(u):(o=LE(E,m,h),u.stateNode=o,Al(u))}return Tr(u),null;case 5:if(An(u),E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==m&&Al(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Tr(u),null}if(S=$e.current,lc(u))Fh(u);else{var L=Mf(Fe.current);switch(S){case 1:S=L.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:S=L.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":S=L.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":S=L.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":S=L.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?L.createElement("select",{is:m.is}):L.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?L.createElement(E,{is:m.is}):L.createElement(E)}}S[Nt]=u,S[mt]=m;e:for(L=u.child;L!==null;){if(L.tag===5||L.tag===6)S.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===u)break e;for(;L.sibling===null;){if(L.return===null||L.return===u)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}u.stateNode=S;e:switch(Vi(S,E,m),E){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Al(u)}}return Tr(u),O_(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,h),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==m&&Al(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(o=Fe.current,lc(u)){if(o=u.stateNode,h=u.memoizedProps,m=null,E=di,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}o[Nt]=u,o=!!(o.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||wE(o.nodeValue,h)),o||uu(u,!0)}else o=Mf(o).createTextNode(m),o[Nt]=u,u.stateNode=o}return Tr(u),null;case 31:if(h=u.memoizedState,o===null||o.memoizedState!==null){if(m=lc(u),h!==null){if(o===null){if(!m)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Nt]=u}else V(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Tr(u),o=!1}else h=cu(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return u.flags&256?(Da(u),u):(Da(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Tr(u),null;case 13:if(m=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=lc(u),m!==null&&m.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Nt]=u}else V(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Tr(u),E=!1}else E=cu(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(Da(u),u):(Da(u),null)}return Da(u),(u.flags&128)!==0?(u.lanes=h,u):(h=m!==null,o=o!==null&&o.memoizedState!==null,h&&(m=u.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==E&&(m.flags|=2048)),h!==o&&h&&(u.child.flags|=8192),cf(u,u.updateQueue),Tr(u),null);case 4:return Ct(),o===null&&ag(u.stateNode.containerInfo),Tr(u),null;case 10:return Tl(u.type),Tr(u),null;case 19:if(fe(ri),m=u.memoizedState,m===null)return Tr(u),null;if(E=(u.flags&128)!==0,S=m.rendering,S===null)if(E)df(m,!1);else{if(qr!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(S=rm(o),S!==null){for(u.flags|=128,df(m,!1),o=S.updateQueue,u.updateQueue=o,cf(u,o),u.subtreeFlags=0,o=h,h=u.child;h!==null;)yy(h,o),h=h.sibling;return Ae(ri,ri.current&1|2),On&&es(u,m.treeForkCount),u.child}o=o.sibling}m.tail!==null&&vn()>_c&&(u.flags|=128,E=!0,df(m,!1),u.lanes=4194304)}else{if(!E)if(o=rm(S),o!==null){if(u.flags|=128,E=!0,o=o.updateQueue,u.updateQueue=o,cf(u,o),df(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!On)return Tr(u),null}else 2*vn()-m.renderingStartTime>_c&&h!==536870912&&(u.flags|=128,E=!0,df(m,!1),u.lanes=4194304);m.isBackwards?(S.sibling=u.child,u.child=S):(o=m.last,o!==null?o.sibling=S:u.child=S,m.last=S)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=vn(),o.sibling=null,h=ri.current,Ae(ri,E?h&1|2:h&1),On&&es(u,m.treeForkCount),o):(Tr(u),null);case 22:case 23:return Da(u),Vh(),m=u.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(h&536870912)!==0&&(u.flags&128)===0&&(Tr(u),u.subtreeFlags&6&&(u.flags|=8192)):Tr(u),h=u.updateQueue,h!==null&&cf(u,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048),o!==null&&fe(dc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Tl(hi),Tr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function hf(o,u){switch(oc(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Tl(hi),Ct(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return An(u),null;case 31:if(u.memoizedState!==null){if(Da(u),u.alternate===null)throw Error(r(340));V()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Da(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));V()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return fe(ri),null;case 4:return Ct(),null;case 10:return Tl(u.type),null;case 22:case 23:return Da(u),Vh(),o!==null&&fe(dc),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Tl(hi),null;case 25:return null;default:return null}}function Sm(o,u){switch(oc(u),u.tag){case 3:Tl(hi),Ct();break;case 26:case 27:case 5:An(u);break;case 4:Ct();break;case 31:u.memoizedState!==null&&Da(u);break;case 13:Da(u);break;case 19:fe(ri);break;case 10:Tl(u.type);break;case 22:case 23:Da(u),Vh(),o!==null&&fe(dc);break;case 24:Tl(hi)}}function xd(o,u){try{var h=u.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var E=m.next;h=E;do{if((h.tag&o)===o){m=void 0;var S=h.create,L=h.inst;m=S(),L.destroy=m}h=h.next}while(h!==E)}}catch(z){lr(u,u.return,z)}}function wl(o,u,h){try{var m=u.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var S=E.next;m=S;do{if((m.tag&o)===o){var L=m.inst,z=L.destroy;if(z!==void 0){L.destroy=void 0,E=u;var ie=h,ge=z;try{ge()}catch(Ue){lr(E,ie,Ue)}}}m=m.next}while(m!==S)}}catch(Ue){lr(u,u.return,Ue)}}function ff(o){var u=o.updateQueue;if(u!==null){var h=o.stateNode;try{nm(u,h)}catch(m){lr(o,o.return,m)}}}function D_(o,u,h){h.props=pa(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(m){lr(o,u,m)}}function La(o,u){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof h=="function"?o.refCleanup=h(m):h.current=m}}catch(E){lr(o,u,E)}}function Zi(o,u){var h=o.ref,m=o.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(E){lr(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(E){lr(o,u,E)}else h.current=null}function Ky(o){var u=o.type,h=o.memoizedProps,m=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(E){lr(o,o.return,E)}}function Nm(o,u,h){try{var m=o.stateNode;X2(m,o.type,h,u),m[mt]=u}catch(E){lr(o,o.return,E)}}function Yy(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&jt(o.type)||o.tag===4}function x_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Yy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&jt(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function L_(o,u,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(o),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=da));else if(m!==4&&(m===27&&jt(o.type)&&(h=o.stateNode,u=null),o=o.child,o!==null))for(L_(o,u,h),o=o.sibling;o!==null;)L_(o,u,h),o=o.sibling}function Am(o,u,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(m!==4&&(m===27&&jt(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(Am(o,u,h),o=o.sibling;o!==null;)Am(o,u,h),o=o.sibling}function Wy(o){var u=o.stateNode,h=o.memoizedProps;try{for(var m=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);Vi(u,m,h),u[Nt]=o,u[mt]=h}catch(S){lr(o,o.return,S)}}var Il=!1,fi=!1,U_=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Li=null;function H2(o,u){if(o=o.containerInfo,If=Km,o=my(o),$v(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var E=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var L=0,z=-1,ie=-1,ge=0,Ue=0,ze=o,ye=null;t:for(;;){for(var Me;ze!==h||E!==0&&ze.nodeType!==3||(z=L+E),ze!==S||m!==0&&ze.nodeType!==3||(ie=L+m),ze.nodeType===3&&(L+=ze.nodeValue.length),(Me=ze.firstChild)!==null;)ye=ze,ze=Me;for(;;){if(ze===o)break t;if(ye===h&&++ge===E&&(z=L),ye===S&&++Ue===m&&(ie=L),(Me=ze.nextSibling)!==null)break;ze=ye,ye=ze.parentNode}ze=Me}h=z===-1||ie===-1?null:{start:z,end:ie}}else h=null}h=h||{start:0,end:0}}else h=null;for(ug={focusedElem:o,selectionRange:h},Km=!1,Li=u;Li!==null;)if(u=Li,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Li=o;else for(;Li!==null;){switch(u=Li,S=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)E=o[h],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,h=u,E=S.memoizedProps,S=S.memoizedState,m=h.stateNode;try{var dt=pa(h.type,E);o=m.getSnapshotBeforeUpdate(dt,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(Bt){lr(h,h.return,Bt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,h=o.nodeType,h===9)Hm(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Hm(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Li=o;break}Li=u.return}}function k_(o,u,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ol(o,h),m&4&&xd(5,h);break;case 1:if(Ol(o,h),m&4)if(o=h.stateNode,u===null)try{o.componentDidMount()}catch(L){lr(h,h.return,L)}else{var E=pa(h.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(L){lr(h,h.return,L)}}m&64&&ff(h),m&512&&La(h,h.return);break;case 3:if(Ol(o,h),m&64&&(o=h.updateQueue,o!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{nm(o,u)}catch(L){lr(h,h.return,L)}}break;case 27:u===null&&m&4&&Wy(h);case 26:case 5:Ol(o,h),u===null&&m&4&&Ky(h),m&512&&La(h,h.return);break;case 12:Ol(o,h);break;case 31:Ol(o,h),m&4&&F_(o,h);break;case 13:Ol(o,h),m&4&&Zy(o,h),m&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=Lm.bind(null,h),tT(o,h))));break;case 22:if(m=h.memoizedState!==null||Il,!m){u=u!==null&&u.memoizedState!==null||fi,E=Il;var S=fi;Il=m,(fi=u)&&!S?zo(o,h,(h.subtreeFlags&8772)!==0):Ol(o,h),Il=E,fi=S}break;case 30:break;default:Ol(o,h)}}function P_(o){var u=o.alternate;u!==null&&(o.alternate=null,P_(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&ae(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Dr=null,Ua=!1;function Ml(o,u,h){for(h=h.child;h!==null;)Xy(o,u,h),h=h.sibling}function Xy(o,u,h){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(kr,h)}catch{}switch(h.tag){case 26:fi||Zi(h,u),Ml(o,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:fi||Zi(h,u);var m=Dr,E=Ua;jt(h.type)&&(Dr=h.stateNode,Ua=!1),Ml(o,u,h),Rf(h.stateNode),Dr=m,Ua=E;break;case 5:fi||Zi(h,u);case 6:if(m=Dr,E=Ua,Dr=null,Ml(o,u,h),Dr=m,Ua=E,Dr!==null)if(Ua)try{(Dr.nodeType===9?Dr.body:Dr.nodeName==="HTML"?Dr.ownerDocument.body:Dr).removeChild(h.stateNode)}catch(S){lr(h,u,S)}else try{Dr.removeChild(h.stateNode)}catch(S){lr(h,u,S)}break;case 18:Dr!==null&&(Ua?(o=Dr,dg(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Wd(o)):dg(Dr,h.stateNode));break;case 4:m=Dr,E=Ua,Dr=h.stateNode.containerInfo,Ua=!0,Ml(o,u,h),Dr=m,Ua=E;break;case 0:case 11:case 14:case 15:wl(2,h,u),fi||wl(4,h,u),Ml(o,u,h);break;case 1:fi||(Zi(h,u),m=h.stateNode,typeof m.componentWillUnmount=="function"&&D_(h,u,m)),Ml(o,u,h);break;case 21:Ml(o,u,h);break;case 22:fi=(m=fi)||h.memoizedState!==null,Ml(o,u,h),fi=m;break;default:Ml(o,u,h)}}function F_(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Wd(o)}catch(h){lr(u,u.return,h)}}}function Zy(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Wd(o)}catch(h){lr(u,u.return,h)}}function B2(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new Qy),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new Qy),u;default:throw Error(r(435,o.tag))}}function wm(o,u){var h=B2(o);u.forEach(function(m){if(!h.has(m)){h.add(m);var E=K2.bind(null,o,m);m.then(E,E)}})}function ka(o,u){var h=u.deletions;if(h!==null)for(var m=0;m<h.length;m++){var E=h[m],S=o,L=u,z=L;e:for(;z!==null;){switch(z.tag){case 27:if(jt(z.type)){Dr=z.stateNode,Ua=!1;break e}break;case 5:Dr=z.stateNode,Ua=!1;break e;case 3:case 4:Dr=z.stateNode.containerInfo,Ua=!0;break e}z=z.return}if(Dr===null)throw Error(r(160));Xy(S,L,E),Dr=null,Ua=!1,S=E.alternate,S!==null&&(S.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)Jy(u,o),u=u.sibling}var lo=null;function Jy(o,u){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ka(u,o),xr(o),m&4&&(wl(3,o,o.return),xd(3,o),wl(5,o,o.return));break;case 1:ka(u,o),xr(o),m&512&&(fi||h===null||Zi(h,h.return)),m&64&&Il&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var E=lo;if(ka(u,o),xr(o),m&512&&(fi||h===null||Zi(h,h.return)),m&4){var S=h!==null?h.memoizedState:null;if(m=o.memoizedState,h===null)if(m===null)if(o.stateNode===null){e:{m=o.type,h=o.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":S=E.getElementsByTagName("title")[0],(!S||S[nt]||S[Nt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=E.createElement(m),E.head.insertBefore(S,E.querySelector("head > title"))),Vi(S,m,h),S[Nt]=o,Ft(S),m=S;break e;case"link":var L=BE("link","href",E).get(m+(h.href||""));if(L){for(var z=0;z<L.length;z++)if(S=L[z],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){L.splice(z,1);break t}}S=E.createElement(m),Vi(S,m,h),E.head.appendChild(S);break;case"meta":if(L=BE("meta","content",E).get(m+(h.content||""))){for(z=0;z<L.length;z++)if(S=L[z],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){L.splice(z,1);break t}}S=E.createElement(m),Vi(S,m,h),E.head.appendChild(S);break;default:throw Error(r(468,m))}S[Nt]=o,Ft(S),m=S}o.stateNode=m}else GE(E,o.type,o.stateNode);else o.stateNode=HE(E,m,o.memoizedProps);else S!==m?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,m===null?GE(E,o.type,o.stateNode):HE(E,m,o.memoizedProps)):m===null&&o.stateNode!==null&&Nm(o,o.memoizedProps,h.memoizedProps)}break;case 27:ka(u,o),xr(o),m&512&&(fi||h===null||Zi(h,h.return)),h!==null&&m&4&&Nm(o,o.memoizedProps,h.memoizedProps);break;case 5:if(ka(u,o),xr(o),m&512&&(fi||h===null||Zi(h,h.return)),o.flags&32){E=o.stateNode;try{ca(E,"")}catch(dt){lr(o,o.return,dt)}}m&4&&o.stateNode!=null&&(E=o.memoizedProps,Nm(o,E,h!==null?h.memoizedProps:E)),m&1024&&(U_=!0);break;case 6:if(ka(u,o),xr(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,h=o.stateNode;try{h.nodeValue=m}catch(dt){lr(o,o.return,dt)}}break;case 3:if(Df=null,E=lo,lo=Gm(u.containerInfo),ka(u,o),lo=E,xr(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Wd(u.containerInfo)}catch(dt){lr(o,o.return,dt)}U_&&(U_=!1,eE(o));break;case 4:m=lo,lo=Gm(o.stateNode.containerInfo),ka(u,o),xr(o),lo=m;break;case 12:ka(u,o),xr(o);break;case 31:ka(u,o),xr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,wm(o,m)));break;case 13:ka(u,o),xr(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(gf=vn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,wm(o,m)));break;case 22:E=o.memoizedState!==null;var ie=h!==null&&h.memoizedState!==null,ge=Il,Ue=fi;if(Il=ge||E,fi=Ue||ie,ka(u,o),fi=Ue,Il=ge,xr(o),m&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(h===null||ie||Il||fi||mc(o)),h=null,u=o;;){if(u.tag===5||u.tag===26){if(h===null){ie=h=u;try{if(S=ie.stateNode,E)L=S.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{z=ie.stateNode;var ze=ie.memoizedProps.style,ye=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;z.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(dt){lr(ie,ie.return,dt)}}}else if(u.tag===6){if(h===null){ie=u;try{ie.stateNode.nodeValue=E?"":ie.memoizedProps}catch(dt){lr(ie,ie.return,dt)}}}else if(u.tag===18){if(h===null){ie=u;try{var Me=ie.stateNode;E?ds(Me,!0):ds(ie.stateNode,!1)}catch(dt){lr(ie,ie.return,dt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=o.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,wm(o,h))));break;case 19:ka(u,o),xr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,wm(o,m)));break;case 30:break;case 21:break;default:ka(u,o),xr(o)}}function xr(o){var u=o.flags;if(u&2){try{for(var h,m=o.return;m!==null;){if(Yy(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var E=h.stateNode,S=x_(o);Am(o,S,E);break;case 5:var L=h.stateNode;h.flags&32&&(ca(L,""),h.flags&=-33);var z=x_(o);Am(o,z,L);break;case 3:case 4:var ie=h.stateNode.containerInfo,ge=x_(o);L_(o,ge,ie);break;default:throw Error(r(161))}}catch(Ue){lr(o,o.return,Ue)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function eE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;eE(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Ol(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)k_(o,u.alternate,u),u=u.sibling}function mc(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:wl(4,u,u.return),mc(u);break;case 1:Zi(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&D_(u,u.return,h),mc(u);break;case 27:Rf(u.stateNode);case 26:case 5:Zi(u,u.return),mc(u);break;case 22:u.memoizedState===null&&mc(u);break;case 30:mc(u);break;default:mc(u)}o=o.sibling}}function zo(o,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,E=o,S=u,L=S.flags;switch(S.tag){case 0:case 11:case 15:zo(E,S,h),xd(4,S);break;case 1:if(zo(E,S,h),m=S,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ge){lr(m,m.return,ge)}if(m=S,E=m.updateQueue,E!==null){var z=m.stateNode;try{var ie=E.shared.hiddenCallbacks;if(ie!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ie.length;E++)io(ie[E],z)}catch(ge){lr(m,m.return,ge)}}h&&L&64&&ff(S),La(S,S.return);break;case 27:Wy(S);case 26:case 5:zo(E,S,h),h&&m===null&&L&4&&Ky(S),La(S,S.return);break;case 12:zo(E,S,h);break;case 31:zo(E,S,h),h&&L&4&&F_(E,S);break;case 13:zo(E,S,h),h&&L&4&&Zy(E,S);break;case 22:S.memoizedState===null&&zo(E,S,h),La(S,S.return);break;case 30:break;default:zo(E,S,h)}u=u.sibling}}function H_(o,u){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Hh(h))}function B_(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Hh(o))}function uo(o,u,h,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)tE(o,u,h,m),u=u.sibling}function tE(o,u,h,m){var E=u.flags;switch(u.tag){case 0:case 11:case 15:uo(o,u,h,m),E&2048&&xd(9,u);break;case 1:uo(o,u,h,m);break;case 3:uo(o,u,h,m),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Hh(o)));break;case 12:if(E&2048){uo(o,u,h,m),o=u.stateNode;try{var S=u.memoizedProps,L=S.id,z=S.onPostCommit;typeof z=="function"&&z(L,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ie){lr(u,u.return,ie)}}else uo(o,u,h,m);break;case 31:uo(o,u,h,m);break;case 13:uo(o,u,h,m);break;case 23:break;case 22:S=u.stateNode,L=u.alternate,u.memoizedState!==null?S._visibility&2?uo(o,u,h,m):pf(o,u):S._visibility&2?uo(o,u,h,m):(S._visibility|=2,Eu(o,u,h,m,(u.subtreeFlags&10256)!==0||!1)),E&2048&&H_(L,u);break;case 24:uo(o,u,h,m),E&2048&&B_(u.alternate,u);break;default:uo(o,u,h,m)}}function Eu(o,u,h,m,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var S=o,L=u,z=h,ie=m,ge=L.flags;switch(L.tag){case 0:case 11:case 15:Eu(S,L,z,ie,E),xd(8,L);break;case 23:break;case 22:var Ue=L.stateNode;L.memoizedState!==null?Ue._visibility&2?Eu(S,L,z,ie,E):pf(S,L):(Ue._visibility|=2,Eu(S,L,z,ie,E)),E&&ge&2048&&H_(L.alternate,L);break;case 24:Eu(S,L,z,ie,E),E&&ge&2048&&B_(L.alternate,L);break;default:Eu(S,L,z,ie,E)}u=u.sibling}}function pf(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=o,m=u,E=m.flags;switch(m.tag){case 22:pf(h,m),E&2048&&H_(m.alternate,m);break;case 24:pf(h,m),E&2048&&B_(m.alternate,m);break;default:pf(h,m)}u=u.sibling}}var mf=8192;function Ld(o,u,h){if(o.subtreeFlags&mf)for(o=o.child;o!==null;)nE(o,u,h),o=o.sibling}function nE(o,u,h){switch(o.tag){case 26:Ld(o,u,h),o.flags&mf&&o.memoizedState!==null&&$d(h,lo,o.memoizedState,o.memoizedProps);break;case 5:Ld(o,u,h);break;case 3:case 4:var m=lo;lo=Gm(o.stateNode.containerInfo),Ld(o,u,h),lo=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=mf,mf=16777216,Ld(o,u,h),mf=m):Ld(o,u,h));break;default:Ld(o,u,h)}}function rE(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function vf(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];Li=m,aE(m,o)}rE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)iE(o),o=o.sibling}function iE(o){switch(o.tag){case 0:case 11:case 15:vf(o),o.flags&2048&&wl(9,o,o.return);break;case 3:vf(o);break;case 12:vf(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Im(o)):vf(o);break;default:vf(o)}}function Im(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];Li=m,aE(m,o)}rE(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:wl(8,u,u.return),Im(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Im(u));break;default:Im(u)}o=o.sibling}}function aE(o,u){for(;Li!==null;){var h=Li;switch(h.tag){case 0:case 11:case 15:wl(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Hh(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Li=m;else e:for(h=o;Li!==null;){m=Li;var E=m.sibling,S=m.return;if(P_(m),m===h){Li=null;break e}if(E!==null){E.return=S,Li=E;break e}Li=S}}}var G2={getCacheForType:function(o){var u=Bi(hi),h=u.data.get(o);return h===void 0&&(h=o(),u.data.set(o,h)),h},cacheSignal:function(){return Bi(hi).controller.signal}},z2=typeof WeakMap=="function"?WeakMap:Map,Zn=0,Cr=null,Sn=null,wn=0,or=0,ss=null,bu=!1,Ud=!1,G_=!1,co=0,qr=0,Tu=0,vc=0,z_=0,os=0,kd=0,_f=null,Pa=null,V_=!1,gf=0,sE=0,_c=1/0,Mm=null,Cu=null,Ni=0,Su=null,Pd=null,Rl=0,q_=0,j_=null,oE=null,yf=0,$_=null;function ls(){return(Zn&2)!==0&&wn!==0?wn&-wn:$.T!==null?us():rt()}function lE(){if(os===0)if((wn&536870912)===0||On){var o=Et;Et<<=1,(Et&3932160)===0&&(Et=262144),os=o}else os=536870912;return o=ns.current,o!==null&&(o.flags|=32),os}function Fa(o,u,h){(o===Cr&&(or===2||or===9)||o.cancelPendingCommit!==null)&&(Fd(o,0),Dl(o,wn,os,!1)),Ki(o,h),((Zn&2)===0||o!==Cr)&&(o===Cr&&((Zn&2)===0&&(vc|=h),qr===4&&Dl(o,wn,os,!1)),Vo(o))}function uE(o,u,h){if((Zn&6)!==0)throw Error(r(327));var m=!h&&(u&127)===0&&(u&o.expiredLanes)===0||bt(o,u),E=m?q2(o,u):Y_(o,u,!0),S=m;do{if(E===0){Ud&&!m&&Dl(o,u,0,!1);break}else{if(h=o.current.alternate,S&&!dE(h)){E=Y_(o,u,!1),S=!1;continue}if(E===2){if(S=u,o.errorRecoveryDisabledLanes&S)var L=0;else L=o.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){u=L;e:{var z=o;E=_f;var ie=z.current.memoizedState.isDehydrated;if(ie&&(Fd(z,L).flags|=256),L=Y_(z,L,!1),L!==2){if(G_&&!ie){z.errorRecoveryDisabledLanes|=S,vc|=S,E=4;break e}S=Pa,Pa=E,S!==null&&(Pa===null?Pa=S:Pa.push.apply(Pa,S))}E=L}if(S=!1,E!==2)continue}}if(E===1){Fd(o,0),Dl(o,u,0,!0);break}e:{switch(m=o,S=E,S){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Dl(m,u,os,!bu);break e;case 2:Pa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=gf+300-vn(),10<E)){if(Dl(m,u,os,!bu),St(m,0,!0)!==0)break e;Rl=u,m.timeoutHandle=IE(cE.bind(null,m,h,Pa,Mm,V_,u,os,vc,kd,bu,S,"Throttled",-0,0),E);break e}cE(m,h,Pa,Mm,V_,u,os,vc,kd,bu,S,null,-0,0)}}break}while(!0);Vo(o)}function cE(o,u,h,m,E,S,L,z,ie,ge,Ue,ze,ye,Me){if(o.timeoutHandle=-1,ze=u.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},nE(u,S,ze);var dt=(S&62914560)===S?gf-vn():(S&4194048)===S?sE-vn():0;if(dt=cT(ze,dt),dt!==null){Rl=S,o.cancelPendingCommit=dt(_E.bind(null,o,u,S,h,m,E,L,z,ie,Ue,ze,null,ye,Me)),Dl(o,S,L,!ge);return}}_E(o,u,S,h,m,E,L,z,ie)}function dE(o){for(var u=o;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var E=h[m],S=E.getSnapshot;E=E.value;try{if(!zr(S(),E))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Dl(o,u,h,m){u&=~z_,u&=~vc,o.suspendedLanes|=u,o.pingedLanes&=~u,m&&(o.warmLanes|=u),m=o.expirationTimes;for(var E=u;0<E;){var S=31-tn(E),L=1<<S;m[S]=-1,E&=~L}h!==0&&bi(o,h,u)}function Om(){return(Zn&6)===0?(Sf(0),!1):!0}function K_(){if(Sn!==null){if(or===0)var o=Sn.return;else o=Sn,bl=sn=null,n_(o),Ed=null,ts=0,o=Sn;for(;o!==null;)Sm(o.alternate,o),o=o.return;Sn=null}}function Fd(o,u){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,J2(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Rl=0,K_(),Cr=o,Sn=h=Ms(o.current,null),wn=u,or=0,ss=null,bu=!1,Ud=bt(o,u),G_=!1,kd=os=z_=vc=Tu=qr=0,Pa=_f=null,V_=!1,(u&8)!==0&&(u|=u&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=u;0<m;){var E=31-tn(m),S=1<<E;u|=o[E],m&=~S}return co=u,Js(),h}function hE(o,u){on=null,$.H=gu,u===yd||u===Gh?(u=Ny(),or=3):u===Xp?(u=Ny(),or=4):or=u===rf?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ss=u,Sn===null&&(qr=1,nf(o,Ja(u,o.current)))}function Ef(){var o=ns.current;return o===null?!0:(wn&4194048)===wn?Ps===null:(wn&62914560)===wn||(wn&536870912)!==0?o===Ps:!1}function fE(){var o=$.H;return $.H=gu,o===null?gu:o}function pE(){var o=$.A;return $.A=G2,o}function Rm(){qr=4,bu||(wn&4194048)!==wn&&ns.current!==null||(Ud=!0),(Tu&134217727)===0&&(vc&134217727)===0||Cr===null||Dl(Cr,wn,os,!1)}function Y_(o,u,h){var m=Zn;Zn|=2;var E=fE(),S=pE();(Cr!==o||wn!==u)&&(Mm=null,Fd(o,u)),u=!1;var L=qr;e:do try{if(or!==0&&Sn!==null){var z=Sn,ie=ss;switch(or){case 8:K_(),L=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(u=!0);var ge=or;if(or=0,ss=null,Hd(o,z,ie,ge),h&&Ud){L=0;break e}break;default:ge=or,or=0,ss=null,Hd(o,z,ie,ge)}}V2(),L=qr;break}catch(Ue){hE(o,Ue)}while(!0);return u&&o.shellSuspendCounter++,bl=sn=null,Zn=m,$.H=E,$.A=S,Sn===null&&(Cr=null,wn=0,Js()),L}function V2(){for(;Sn!==null;)mE(Sn)}function q2(o,u){var h=Zn;Zn|=2;var m=fE(),E=pE();Cr!==o||wn!==u?(Mm=null,_c=vn()+500,Fd(o,u)):Ud=bt(o,u);e:do try{if(or!==0&&Sn!==null){u=Sn;var S=ss;t:switch(or){case 1:or=0,ss=null,Hd(o,u,S,1);break;case 2:case 9:if(Sy(S)){or=0,ss=null,vE(u);break}u=function(){or!==2&&or!==9||Cr!==o||(or=7),Vo(o)},S.then(u,u);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:Sy(S)?(or=0,ss=null,vE(u)):(or=0,ss=null,Hd(o,u,S,7));break;case 5:var L=null;switch(Sn.tag){case 26:L=Sn.memoizedState;case 5:case 27:var z=Sn;if(L?zE(L):z.stateNode.complete){or=0,ss=null;var ie=z.sibling;if(ie!==null)Sn=ie;else{var ge=z.return;ge!==null?(Sn=ge,Dm(ge)):Sn=null}break t}}or=0,ss=null,Hd(o,u,S,5);break;case 6:or=0,ss=null,Hd(o,u,S,6);break;case 8:K_(),qr=6;break e;default:throw Error(r(462))}}j2();break}catch(Ue){hE(o,Ue)}while(!0);return bl=sn=null,$.H=m,$.A=E,Zn=h,Sn!==null?0:(Cr=null,wn=0,Js(),qr)}function j2(){for(;Sn!==null&&!kn();)mE(Sn)}function mE(o){var u=jy(o.alternate,o,co);o.memoizedProps=o.pendingProps,u===null?Dm(o):Sn=u}function vE(o){var u=o,h=u.alternate;switch(u.tag){case 15:case 0:u=zy(h,u,u.pendingProps,u.type,void 0,wn);break;case 11:u=zy(h,u,u.pendingProps,u.type.render,u.ref,wn);break;case 5:n_(u);default:Sm(h,u),u=Sn=yy(u,co),u=jy(h,u,co)}o.memoizedProps=o.pendingProps,u===null?Dm(o):Sn=u}function Hd(o,u,h,m){bl=sn=null,n_(u),Ed=null,ts=0;var E=u.return;try{if(N_(o,E,u,h,wn)){qr=1,nf(o,Ja(h,o.current)),Sn=null;return}}catch(S){if(E!==null)throw Sn=E,S;qr=1,nf(o,Ja(h,o.current)),Sn=null;return}u.flags&32768?(On||m===1?o=!0:Ud||(wn&536870912)!==0?o=!1:(bu=o=!0,(m===2||m===9||m===3||m===6)&&(m=ns.current,m!==null&&m.tag===13&&(m.flags|=16384))),bf(u,o)):Dm(u)}function Dm(o){var u=o;do{if((u.flags&32768)!==0){bf(u,bu);return}o=u.return;var h=$y(u.alternate,u,co);if(h!==null){Sn=h;return}if(u=u.sibling,u!==null){Sn=u;return}Sn=u=o}while(u!==null);qr===0&&(qr=5)}function bf(o,u){do{var h=hf(o.alternate,o);if(h!==null){h.flags&=32767,Sn=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(o=o.sibling,o!==null)){Sn=o;return}Sn=o=h}while(o!==null);qr=6,Sn=null}function _E(o,u,h,m,E,S,L,z,ie){o.cancelPendingCommit=null;do Tf();while(Ni!==0);if((Zn&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(S=u.lanes|u.childLanes,S|=cd,la(o,h,S,L,z,ie),o===Cr&&(Sn=Cr=null,wn=0),Pd=u,Su=o,Rl=h,q_=S,j_=E,oE=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Y2(hr,function(){return Z_(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,E=le.p,le.p=2,L=Zn,Zn|=4;try{H2(o,u,h)}finally{Zn=L,le.p=E,$.T=m}}Ni=1,W_(),Q_(),xm()}}function W_(){if(Ni===1){Ni=0;var o=Su,u=Pd,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=$.T,$.T=null;var m=le.p;le.p=2;var E=Zn;Zn|=4;try{Jy(u,o);var S=ug,L=my(o.containerInfo),z=S.focusedElem,ie=S.selectionRange;if(L!==z&&z&&z.ownerDocument&&py(z.ownerDocument.documentElement,z)){if(ie!==null&&$v(z)){var ge=ie.start,Ue=ie.end;if(Ue===void 0&&(Ue=ge),"selectionStart"in z)z.selectionStart=ge,z.selectionEnd=Math.min(Ue,z.value.length);else{var ze=z.ownerDocument||document,ye=ze&&ze.defaultView||window;if(ye.getSelection){var Me=ye.getSelection(),dt=z.textContent.length,Bt=Math.min(ie.start,dt),vr=ie.end===void 0?Bt:Math.min(ie.end,dt);!Me.extend&&Bt>vr&&(L=vr,vr=Bt,Bt=L);var pe=fy(z,Bt),ue=fy(z,vr);if(pe&&ue&&(Me.rangeCount!==1||Me.anchorNode!==pe.node||Me.anchorOffset!==pe.offset||Me.focusNode!==ue.node||Me.focusOffset!==ue.offset)){var _e=ze.createRange();_e.setStart(pe.node,pe.offset),Me.removeAllRanges(),Bt>vr?(Me.addRange(_e),Me.extend(ue.node,ue.offset)):(_e.setEnd(ue.node,ue.offset),Me.addRange(_e))}}}}for(ze=[],Me=z;Me=Me.parentNode;)Me.nodeType===1&&ze.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ze.length;z++){var Be=ze[z];Be.element.scrollLeft=Be.left,Be.element.scrollTop=Be.top}}Km=!!If,ug=If=null}finally{Zn=E,le.p=m,$.T=h}}o.current=u,Ni=2}}function Q_(){if(Ni===2){Ni=0;var o=Su,u=Pd,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=$.T,$.T=null;var m=le.p;le.p=2;var E=Zn;Zn|=4;try{k_(o,u.alternate,u)}finally{Zn=E,le.p=m,$.T=h}}Ni=3}}function xm(){if(Ni===4||Ni===3){Ni=0,er();var o=Su,u=Pd,h=Rl,m=oE;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ni=5:(Ni=0,Pd=Su=null,X_(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Cu=null),Yi(h),u=u.stateNode,Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(kr,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=$.T,E=le.p,le.p=2,$.T=null;try{for(var S=o.onRecoverableError,L=0;L<m.length;L++){var z=m[L];S(z.value,{componentStack:z.stack})}}finally{$.T=u,le.p=E}}(Rl&3)!==0&&Tf(),Vo(o),E=o.pendingLanes,(h&261930)!==0&&(E&42)!==0?o===$_?yf++:(yf=0,$_=o):yf=0,Sf(0)}}function X_(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Hh(u)))}function Tf(){return W_(),Q_(),xm(),Z_()}function Z_(){if(Ni!==5)return!1;var o=Su,u=q_;q_=0;var h=Yi(Rl),m=$.T,E=le.p;try{le.p=32>h?32:h,$.T=null,h=j_,j_=null;var S=Su,L=Rl;if(Ni=0,Pd=Su=null,Rl=0,(Zn&6)!==0)throw Error(r(331));var z=Zn;if(Zn|=4,iE(S.current),tE(S,S.current,L,h),Zn=z,Sf(0,!1),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(kr,S)}catch{}return!0}finally{le.p=E,$.T=m,X_(o,u)}}function J_(o,u,h){u=Ja(h,u),u=S_(o.stateNode,u,2),o=ro(o,u,2),o!==null&&(Ki(o,2),Vo(o))}function lr(o,u,h){if(o.tag===3)J_(o,o,h);else for(;u!==null;){if(u.tag===3){J_(u,o,h);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Cu===null||!Cu.has(m))){o=Ja(h,o),h=Bo(2),m=ro(u,h,2),m!==null&&(_m(h,m,u,o),Ki(m,2),Vo(m));break}}u=u.return}}function eg(o,u,h){var m=o.pingCache;if(m===null){m=o.pingCache=new z2;var E=new Set;m.set(u,E)}else E=m.get(u),E===void 0&&(E=new Set,m.set(u,E));E.has(h)||(G_=!0,E.add(h),o=$2.bind(null,o,u,h),u.then(o,o))}function $2(o,u,h){var m=o.pingCache;m!==null&&m.delete(u),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Cr===o&&(wn&h)===h&&(qr===4||qr===3&&(wn&62914560)===wn&&300>vn()-gf?(Zn&2)===0&&Fd(o,0):z_|=h,kd===wn&&(kd=0)),Vo(o)}function Cf(o,u){u===0&&(u=zn()),o=Uo(o,u),o!==null&&(Ki(o,u),Vo(o))}function Lm(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),Cf(o,h)}function K2(o,u){var h=0;switch(o.tag){case 31:case 13:var m=o.stateNode,E=o.memoizedState;E!==null&&(h=E.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),Cf(o,h)}function Y2(o,u){return Fn(o,u)}var Bd=null,gc=null,tg=!1,Um=!1,ng=!1,Nu=0;function Vo(o){o!==gc&&o.next===null&&(gc===null?Bd=gc=o:gc=gc.next=o),Um=!0,tg||(tg=!0,Q2())}function Sf(o,u){if(!ng&&Um){ng=!0;do for(var h=!1,m=Bd;m!==null;){if(o!==0){var E=m.pendingLanes;if(E===0)var S=0;else{var L=m.suspendedLanes,z=m.pingedLanes;S=(1<<31-tn(42|o)+1)-1,S&=E&~(L&~z),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,bE(m,S))}else S=wn,S=St(m,m===Cr?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||bt(m,S)||(h=!0,bE(m,S));m=m.next}while(h);ng=!1}}function W2(){gE()}function gE(){Um=tg=!1;var o=0;Nu!==0&&Z2()&&(o=Nu);for(var u=vn(),h=null,m=Bd;m!==null;){var E=m.next,S=yE(m,u);S===0?(m.next=null,h===null?Bd=E:h.next=E,E===null&&(gc=h)):(h=m,(o!==0||(S&3)!==0)&&(Um=!0)),m=E}Ni!==0&&Ni!==5||Sf(o),Nu!==0&&(Nu=0)}function yE(o,u){for(var h=o.suspendedLanes,m=o.pingedLanes,E=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var L=31-tn(S),z=1<<L,ie=E[L];ie===-1?((z&h)===0||(z&m)!==0)&&(E[L]=Tt(z,u)):ie<=u&&(o.expiredLanes|=z),S&=~z}if(u=Cr,h=wn,h=St(o,o===u?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,h===0||o===u&&(or===2||or===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&pt(m),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||bt(o,h)){if(u=h&-h,u===o.callbackPriority)return u;switch(m!==null&&pt(m),Yi(h)){case 2:case 8:h=Wn;break;case 32:h=hr;break;case 268435456:h=ni;break;default:h=hr}return m=EE.bind(null,o),h=Fn(h,m),o.callbackPriority=u,o.callbackNode=h,u}return m!==null&&m!==null&&pt(m),o.callbackPriority=2,o.callbackNode=null,2}function EE(o,u){if(Ni!==0&&Ni!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Tf()&&o.callbackNode!==h)return null;var m=wn;return m=St(o,o===Cr?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(uE(o,m,u),yE(o,vn()),o.callbackNode!=null&&o.callbackNode===h?EE.bind(null,o):null)}function bE(o,u){if(Tf())return null;uE(o,u,!0)}function Q2(){OE(function(){(Zn&6)!==0?Fn(Pt,W2):gE()})}function us(){if(Nu===0){var o=_d;o===0&&(o=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),Nu=o}return Nu}function TE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:xo(""+o)}function CE(o,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,o.id&&h.setAttribute("form",o.id),u.parentNode.insertBefore(h,u),o=new FormData(o),h.parentNode.removeChild(h),o}function yc(o,u,h,m,E){if(u==="submit"&&h&&h.stateNode===E){var S=TE((E[mt]||null).action),L=m.submitter;L&&(u=(u=L[mt]||null)?TE(u.formAction):L.getAttribute("formAction"),u!==null&&(S=u,L=null));var z=new au("action","action",null,m,E);o.push({event:z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Nu!==0){var ie=L?CE(E,L):new FormData(E);_u(h,{pending:!0,data:ie,method:E.method,action:S},null,ie)}}else typeof S=="function"&&(z.preventDefault(),ie=L?CE(E,L):new FormData(E),_u(h,{pending:!0,data:ie,method:E.method,action:S},S,ie))},currentTarget:E}]})}}for(var Zt=0;Zt<qp.length;Zt++){var rg=qp[Zt],Ha=rg.toLowerCase(),ai=rg[0].toUpperCase()+rg.slice(1);Oa(Ha,"on"+ai)}Oa(Za,"onAnimationEnd"),Oa(Lh,"onAnimationIteration"),Oa(vy,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(ld,"onTransitionRun"),Oa(zp,"onTransitionStart"),Oa(Vp,"onTransitionCancel"),Oa(rr,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Au=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nf));function SE(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],E=m.event;m=m.listeners;e:{var S=void 0;if(u)for(var L=m.length-1;0<=L;L--){var z=m[L],ie=z.instance,ge=z.currentTarget;if(z=z.listener,ie!==S&&E.isPropagationStopped())break e;S=z,E.currentTarget=ge;try{S(E)}catch(Ue){jp(Ue)}E.currentTarget=null,S=ie}else for(L=0;L<m.length;L++){if(z=m[L],ie=z.instance,ge=z.currentTarget,z=z.listener,ie!==S&&E.isPropagationStopped())break e;S=z,E.currentTarget=ge;try{S(E)}catch(Ue){jp(Ue)}E.currentTarget=null,S=ie}}}}function Nn(o,u){var h=u[Tn];h===void 0&&(h=u[Tn]=new Set);var m=o+"__bubble";h.has(m)||(Pm(u,o,2,!1),h.add(m))}function ig(o,u,h){var m=0;u&&(m|=4),Pm(h,o,m,u)}var km="_reactListening"+Math.random().toString(36).slice(2);function ag(o){if(!o[km]){o[km]=!0,fr.forEach(function(h){h!=="selectionchange"&&(Au.has(h)||ig(h,!1,o),ig(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[km]||(u[km]=!0,ig("selectionchange",!1,u))}}function Pm(o,u,h,m){switch(QE(u)){case 2:var E=hT;break;case 8:E=fT;break;default:E=_g}h=E.bind(null,u,h,o),E=void 0,!Xu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),m?E!==void 0?o.addEventListener(u,h,{capture:!0,passive:E}):o.addEventListener(u,h,!0):E!==void 0?o.addEventListener(u,h,{passive:E}):o.addEventListener(u,h,!1)}function sg(o,u,h,m,E){var S=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var z=m.stateNode.containerInfo;if(z===E)break;if(L===4)for(L=m.return;L!==null;){var ie=L.tag;if((ie===3||ie===4)&&L.stateNode.containerInfo===E)return;L=L.return}for(;z!==null;){if(L=He(z),L===null)return;if(ie=L.tag,ie===5||ie===6||ie===26||ie===27){m=S=L;continue e}z=z.parentNode}}m=m.return}Ah(function(){var ge=S,Ue=hl(h),ze=[];e:{var ye=_y.get(o);if(ye!==void 0){var Me=au,dt=o;switch(o){case"keypress":if(Zu(h)===0)break e;case"keydown":case"keyup":Me=su;break;case"focusin":dt="focus",Me=ec;break;case"focusout":dt="blur",Me=ec;break;case"beforeblur":case"afterblur":Me=ec;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=b2;break;case Za:case Lh:case vy:Me=Oh;break;case rr:Me=C2;break;case"scroll":case"scrollend":Me=Ih;break;case"wheel":Me=Lp;break;case"copy":case"cut":case"paste":Me=ut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=sy;break;case"toggle":case"beforetoggle":Me=S2}var Bt=(u&4)!==0,vr=!Bt&&(o==="scroll"||o==="scrollend"),pe=Bt?ye!==null?ye+"Capture":null:ye;Bt=[];for(var ue=ge,_e;ue!==null;){var Be=ue;if(_e=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||_e===null||pe===null||(Be=Nr(ue,pe),Be!=null&&Bt.push(cs(ue,Be,_e))),vr)break;ue=ue.return}0<Bt.length&&(ye=new Me(ye,dt,null,h,Ue),ze.push({event:ye,listeners:Bt}))}}if((u&7)===0){e:{if(ye=o==="mouseover"||o==="pointerover",Me=o==="mouseout"||o==="pointerout",ye&&h!==dl&&(dt=h.relatedTarget||h.fromElement)&&(He(dt)||dt[qt]))break e;if((Me||ye)&&(ye=Ue.window===Ue?Ue:(ye=Ue.ownerDocument)?ye.defaultView||ye.parentWindow:window,Me?(dt=h.relatedTarget||h.toElement,Me=ge,dt=dt?He(dt):null,dt!==null&&(vr=a(dt),Bt=dt.tag,dt!==vr||Bt!==5&&Bt!==27&&Bt!==6)&&(dt=null)):(Me=null,dt=ge),Me!==dt)){if(Bt=Ju,Be="onMouseLeave",pe="onMouseEnter",ue="mouse",(o==="pointerout"||o==="pointerover")&&(Bt=sy,Be="onPointerLeave",pe="onPointerEnter",ue="pointer"),vr=Me==null?ye:Wt(Me),_e=dt==null?ye:Wt(dt),ye=new Bt(Be,ue+"leave",Me,h,Ue),ye.target=vr,ye.relatedTarget=_e,Be=null,He(Ue)===ge&&(Bt=new Bt(pe,ue+"enter",dt,h,Ue),Bt.target=_e,Bt.relatedTarget=vr,Be=Bt),vr=Be,Me&&dt)t:{for(Bt=Fm,pe=Me,ue=dt,_e=0,Be=pe;Be;Be=Bt(Be))_e++;Be=0;for(var xt=ue;xt;xt=Bt(xt))Be++;for(;0<_e-Be;)pe=Bt(pe),_e--;for(;0<Be-_e;)ue=Bt(ue),Be--;for(;_e--;){if(pe===ue||ue!==null&&pe===ue.alternate){Bt=pe;break t}pe=Bt(pe),ue=Bt(ue)}Bt=null}else Bt=null;Me!==null&&Hr(ze,ye,Me,Bt,!1),dt!==null&&vr!==null&&Hr(ze,vr,dt,Bt,!0)}}e:{if(ye=ge?Wt(ge):window,Me=ye.nodeName&&ye.nodeName.toLowerCase(),Me==="select"||Me==="input"&&ye.type==="file")var qn=dy;else if(Gv(ye))if(rc)qn=I2;else{qn=A2;var gt=Bp}else Me=ye.nodeName,!Me||Me.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ge&&ws(ge.elementType)&&(qn=dy):qn=w2;if(qn&&(qn=qn(o,ge))){zv(ze,qn,h,Ue);break e}gt&&gt(o,ye,ge),o==="focusout"&&ge&&ye.type==="number"&&ge.memoizedProps.value!=null&&Qu(ye,"number",ye.value)}switch(gt=ge?Wt(ge):window,o){case"focusin":(Gv(gt)||gt.contentEditable==="true")&&(de=gt,Le=ge,Se=null);break;case"focusout":Se=Le=de=null;break;case"mousedown":lt=!0;break;case"contextmenu":case"mouseup":case"dragend":lt=!1,Xt(ze,h,Ue);break;case"selectionchange":if(od)break;case"keydown":case"keyup":Xt(ze,h,Ue)}var cn;if(Up)e:{switch(o){case"compositionstart":var In="onCompositionStart";break e;case"compositionend":In="onCompositionEnd";break e;case"compositionupdate":In="onCompositionUpdate";break e}In=void 0}else nc?Pp(o,h)&&(In="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(In="onCompositionStart");In&&(Hv&&h.locale!=="ko"&&(nc||In!=="onCompositionStart"?In==="onCompositionEnd"&&nc&&(cn=Xn()):(Qa=Ue,ru="value"in Qa?Qa.value:Qa.textContent,nc=!0)),gt=Af(ge,In),0<gt.length&&(In=new ce(In,o,null,h,Ue),ze.push({event:In,listeners:gt}),cn?In.data=cn:(cn=cy(h),cn!==null&&(In.data=cn)))),(cn=Fv?Xa(o,h):Bv(o,h))&&(In=Af(ge,"onBeforeInput"),0<In.length&&(gt=new ce("onBeforeInput","beforeinput",null,h,Ue),ze.push({event:gt,listeners:In}),gt.data=cn)),yc(ze,o,ge,h,Ue)}SE(ze,u)})}function cs(o,u,h){return{instance:o,listener:u,currentTarget:h}}function Af(o,u){for(var h=u+"Capture",m=[];o!==null;){var E=o,S=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||S===null||(E=Nr(o,h),E!=null&&m.unshift(cs(o,E,S)),E=Nr(o,u),E!=null&&m.push(cs(o,E,S))),o.tag===3)return m;o=o.return}return[]}function Fm(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Hr(o,u,h,m,E){for(var S=u._reactName,L=[];h!==null&&h!==m;){var z=h,ie=z.alternate,ge=z.stateNode;if(z=z.tag,ie!==null&&ie===m)break;z!==5&&z!==26&&z!==27||ge===null||(ie=ge,E?(ge=Nr(h,S),ge!=null&&L.unshift(cs(h,ge,ie))):E||(ge=Nr(h,S),ge!=null&&L.push(cs(h,ge,ie)))),h=h.return}L.length!==0&&o.push({event:u,listeners:L})}var Qr=/\r\n?/g,NE=/\u0000|\uFFFD/g;function AE(o){return(typeof o=="string"?o:""+o).replace(Qr,`
`).replace(NE,"")}function wE(o,u){return u=AE(u),AE(o)===u}function mr(o,u,h,m,E,S){switch(h){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||ca(o,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&ca(o,""+m);break;case"className":jr(o,"class",m);break;case"tabIndex":jr(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(o,h,m);break;case"style":Oo(o,m,S);break;case"data":if(u!=="object"){jr(o,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||h!=="href")){o.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=xo(""+m),o.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(u!=="input"&&mr(o,u,"name",E.name,E,null),mr(o,u,"formEncType",E.formEncType,E,null),mr(o,u,"formMethod",E.formMethod,E,null),mr(o,u,"formTarget",E.formTarget,E,null)):(mr(o,u,"encType",E.encType,E,null),mr(o,u,"method",E.method,E,null),mr(o,u,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=xo(""+m),o.setAttribute(h,m);break;case"onClick":m!=null&&(o.onclick=da);break;case"onScroll":m!=null&&Nn("scroll",o);break;case"onScrollEnd":m!=null&&Nn("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}h=xo(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""+m):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":m===!0?o.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,m):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(h,m):o.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(h):o.setAttribute(h,m);break;case"popover":Nn("beforetoggle",o),Nn("toggle",o),Ws(o,"popover",m);break;case"xlinkActuate":ua(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ua(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ua(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ua(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ua(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ua(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ua(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ua(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ua(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ws(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Ro.get(h)||h,Ws(o,h,m))}}function og(o,u,h,m,E,S){switch(h){case"style":Oo(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof m=="string"?ca(o,m):(typeof m=="number"||typeof m=="bigint")&&ca(o,""+m);break;case"onScroll":m!=null&&Nn("scroll",o);break;case"onScrollEnd":m!=null&&Nn("scrollend",o);break;case"onClick":m!=null&&(o.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(E=h.endsWith("Capture"),u=h.slice(2,E?h.length-7:void 0),S=o[mt]||null,S=S!=null?S[h]:null,typeof S=="function"&&o.removeEventListener(u,S,E),typeof m=="function")){typeof S!="function"&&S!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(u,m,E);break e}h in o?o[h]=m:m===!0?o.setAttribute(h,""):Ws(o,h,m)}}}function Vi(o,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nn("error",o),Nn("load",o);var m=!1,E=!1,S;for(S in h)if(h.hasOwnProperty(S)){var L=h[S];if(L!=null)switch(S){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:mr(o,u,S,L,h,null)}}E&&mr(o,u,"srcSet",h.srcSet,h,null),m&&mr(o,u,"src",h.src,h,null);return;case"input":Nn("invalid",o);var z=S=L=E=null,ie=null,ge=null;for(m in h)if(h.hasOwnProperty(m)){var Ue=h[m];if(Ue!=null)switch(m){case"name":E=Ue;break;case"type":L=Ue;break;case"checked":ie=Ue;break;case"defaultChecked":ge=Ue;break;case"value":S=Ue;break;case"defaultValue":z=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,u));break;default:mr(o,u,m,Ue,h,null)}}ul(o,S,z,ie,ge,L,E,!1);return;case"select":Nn("invalid",o),m=L=S=null;for(E in h)if(h.hasOwnProperty(E)&&(z=h[E],z!=null))switch(E){case"value":S=z;break;case"defaultValue":L=z;break;case"multiple":m=z;default:mr(o,u,E,z,h,null)}u=S,h=L,o.multiple=!!m,u!=null?Xs(o,!!m,u,!1):h!=null&&Xs(o,!!m,h,!0);return;case"textarea":Nn("invalid",o),S=E=m=null;for(L in h)if(h.hasOwnProperty(L)&&(z=h[L],z!=null))switch(L){case"value":m=z;break;case"defaultValue":E=z;break;case"children":S=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:mr(o,u,L,z,h,null)}cl(o,m,E,S);return;case"option":for(ie in h)if(h.hasOwnProperty(ie)&&(m=h[ie],m!=null))switch(ie){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mr(o,u,ie,m,h,null)}return;case"dialog":Nn("beforetoggle",o),Nn("toggle",o),Nn("cancel",o),Nn("close",o);break;case"iframe":case"object":Nn("load",o);break;case"video":case"audio":for(m=0;m<Nf.length;m++)Nn(Nf[m],o);break;case"image":Nn("error",o),Nn("load",o);break;case"details":Nn("toggle",o);break;case"embed":case"source":case"link":Nn("error",o),Nn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in h)if(h.hasOwnProperty(ge)&&(m=h[ge],m!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:mr(o,u,ge,m,h,null)}return;default:if(ws(u)){for(Ue in h)h.hasOwnProperty(Ue)&&(m=h[Ue],m!==void 0&&og(o,u,Ue,m,h,void 0));return}}for(z in h)h.hasOwnProperty(z)&&(m=h[z],m!=null&&mr(o,u,z,m,h,null))}function X2(o,u,h,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,S=null,L=null,z=null,ie=null,ge=null,Ue=null;for(Me in h){var ze=h[Me];if(h.hasOwnProperty(Me)&&ze!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":ie=ze;default:m.hasOwnProperty(Me)||mr(o,u,Me,null,m,ze)}}for(var ye in m){var Me=m[ye];if(ze=h[ye],m.hasOwnProperty(ye)&&(Me!=null||ze!=null))switch(ye){case"type":S=Me;break;case"name":E=Me;break;case"checked":ge=Me;break;case"defaultChecked":Ue=Me;break;case"value":L=Me;break;case"defaultValue":z=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:Me!==ze&&mr(o,u,ye,Me,m,ze)}}As(o,L,z,ie,ge,Ue,S,E);return;case"select":Me=L=z=ye=null;for(S in h)if(ie=h[S],h.hasOwnProperty(S)&&ie!=null)switch(S){case"value":break;case"multiple":Me=ie;default:m.hasOwnProperty(S)||mr(o,u,S,null,m,ie)}for(E in m)if(S=m[E],ie=h[E],m.hasOwnProperty(E)&&(S!=null||ie!=null))switch(E){case"value":ye=S;break;case"defaultValue":z=S;break;case"multiple":L=S;default:S!==ie&&mr(o,u,E,S,m,ie)}u=z,h=L,m=Me,ye!=null?Xs(o,!!h,ye,!1):!!m!=!!h&&(u!=null?Xs(o,!!h,u,!0):Xs(o,!!h,h?[]:"",!1));return;case"textarea":Me=ye=null;for(z in h)if(E=h[z],h.hasOwnProperty(z)&&E!=null&&!m.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:mr(o,u,z,null,m,E)}for(L in m)if(E=m[L],S=h[L],m.hasOwnProperty(L)&&(E!=null||S!=null))switch(L){case"value":ye=E;break;case"defaultValue":Me=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==S&&mr(o,u,L,E,m,S)}tu(o,ye,Me);return;case"option":for(var dt in h)if(ye=h[dt],h.hasOwnProperty(dt)&&ye!=null&&!m.hasOwnProperty(dt))switch(dt){case"selected":o.selected=!1;break;default:mr(o,u,dt,null,m,ye)}for(ie in m)if(ye=m[ie],Me=h[ie],m.hasOwnProperty(ie)&&ye!==Me&&(ye!=null||Me!=null))switch(ie){case"selected":o.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:mr(o,u,ie,ye,m,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in h)ye=h[Bt],h.hasOwnProperty(Bt)&&ye!=null&&!m.hasOwnProperty(Bt)&&mr(o,u,Bt,null,m,ye);for(ge in m)if(ye=m[ge],Me=h[ge],m.hasOwnProperty(ge)&&ye!==Me&&(ye!=null||Me!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,u));break;default:mr(o,u,ge,ye,m,Me)}return;default:if(ws(u)){for(var vr in h)ye=h[vr],h.hasOwnProperty(vr)&&ye!==void 0&&!m.hasOwnProperty(vr)&&og(o,u,vr,void 0,m,ye);for(Ue in m)ye=m[Ue],Me=h[Ue],!m.hasOwnProperty(Ue)||ye===Me||ye===void 0&&Me===void 0||og(o,u,Ue,ye,m,Me);return}}for(var pe in h)ye=h[pe],h.hasOwnProperty(pe)&&ye!=null&&!m.hasOwnProperty(pe)&&mr(o,u,pe,null,m,ye);for(ze in m)ye=m[ze],Me=h[ze],!m.hasOwnProperty(ze)||ye===Me||ye==null&&Me==null||mr(o,u,ze,ye,m,Me)}function lg(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wf(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var E=h[m],S=E.transferSize,L=E.initiatorType,z=E.duration;if(S&&z&&lg(L)){for(L=0,z=E.responseEnd,m+=1;m<h.length;m++){var ie=h[m],ge=ie.startTime;if(ge>z)break;var Ue=ie.transferSize,ze=ie.initiatorType;Ue&&lg(ze)&&(ie=ie.responseEnd,L+=Ue*(ie<z?1:(z-ge)/(ie-ge)))}if(--m,u+=8*(S+L)/(E.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var If=null,ug=null;function Mf(o){return o.nodeType===9?o:o.ownerDocument}function Of(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ba(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function wu(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var cg=null;function Z2(){var o=window.event;return o&&o.type==="popstate"?o===cg?!1:(cg=o,!0):(cg=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,J2=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(o){return ME.resolve(null).then(o).catch(xl)}:IE;function xl(o){setTimeout(function(){throw o})}function jt(o){return o==="head"}function dg(o,u){var h=u,m=0;do{var E=h.nextSibling;if(o.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"||h==="/&"){if(m===0){o.removeChild(E),Wd(u);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")Rf(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Rf(h);for(var S=h.firstChild;S;){var L=S.nextSibling,z=S.nodeName;S[nt]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=L}}else h==="body"&&Rf(o.ownerDocument.body);h=E}while(h);Wd(u)}function ds(o,u){var h=o;o=0;do{var m=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=m}while(h)}function Hm(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Hm(h),ae(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function eT(o,u,h,m){for(;o.nodeType===1;){var E=h;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[nt])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var S=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Bs(o.nextSibling),o===null)break}return null}function ar(o,u,h){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Bs(o.nextSibling),o===null))return null;return o}function RE(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Bs(o.nextSibling),o===null))return null;return o}function Bm(o){return o.data==="$?"||o.data==="$~"}function Gd(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function tT(o,u){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||h.readyState!=="loading")u();else{var m=function(){u(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function Bs(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var hg=null;function DE(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(u===0)return Bs(o.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}o=o.nextSibling}return null}function xE(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return o;u--}else h!=="/$"&&h!=="/&"||u++}o=o.previousSibling}return null}function LE(o,u,h){switch(u=Mf(h),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Rf(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);ae(o)}var Gs=new Map,UE=new Set;function Gm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ll=le.d;le.d={f:nT,r:rT,D:fg,C:iT,L:aT,m:sT,X:Ga,S:Ui,M:oT};function nT(){var o=Ll.f(),u=Om();return o||u}function rT(o){var u=Xe(o);u!==null&&u.tag===5&&u.type==="form"?__(u):Ll.r(o)}var Iu=typeof document>"u"?null:document;function kE(o,u,h){var m=Iu;if(m&&typeof u=="string"&&u){var E=Di(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof h=="string"&&(E+='[crossorigin="'+h+'"]'),UE.has(E)||(UE.add(E),o={rel:o,crossOrigin:h,href:u},m.querySelector(E)===null&&(u=m.createElement("link"),Vi(u,"link",o),Ft(u),m.head.appendChild(u)))}}function fg(o){Ll.D(o),kE("dns-prefetch",o,null)}function iT(o,u){Ll.C(o,u),kE("preconnect",o,u)}function aT(o,u,h){Ll.L(o,u,h);var m=Iu;if(m&&o&&u){var E='link[rel="preload"][as="'+Di(u)+'"]';u==="image"&&h&&h.imageSrcSet?(E+='[imagesrcset="'+Di(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(E+='[imagesizes="'+Di(h.imageSizes)+'"]')):E+='[href="'+Di(o)+'"]';var S=E;switch(u){case"style":S=zd(o);break;case"script":S=qd(o)}Gs.has(S)||(o=v({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:o,as:u},h),Gs.set(S,o),m.querySelector(E)!==null||u==="style"&&m.querySelector(Vd(S))||u==="script"&&m.querySelector(jd(S))||(u=m.createElement("link"),Vi(u,"link",o),Ft(u),m.head.appendChild(u)))}}function sT(o,u){Ll.m(o,u);var h=Iu;if(h&&o){var m=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+Di(m)+'"][href="'+Di(o)+'"]',S=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=qd(o)}if(!Gs.has(S)&&(o=v({rel:"modulepreload",href:o},u),Gs.set(S,o),h.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(jd(S)))return}m=h.createElement("link"),Vi(m,"link",o),Ft(m),h.head.appendChild(m)}}}function Ui(o,u,h){Ll.S(o,u,h);var m=Iu;if(m&&o){var E=hn(m).hoistableStyles,S=zd(o);u=u||"default";var L=E.get(S);if(!L){var z={loading:0,preload:null};if(L=m.querySelector(Vd(S)))z.loading=5;else{o=v({rel:"stylesheet",href:o,"data-precedence":u},h),(h=Gs.get(S))&&pg(o,h);var ie=L=m.createElement("link");Ft(ie),Vi(ie,"link",o),ie._p=new Promise(function(ge,Ue){ie.onload=ge,ie.onerror=Ue}),ie.addEventListener("load",function(){z.loading|=1}),ie.addEventListener("error",function(){z.loading|=2}),z.loading|=4,zm(L,u,m)}L={type:"stylesheet",instance:L,count:1,state:z},E.set(S,L)}}}function Ga(o,u){Ll.X(o,u);var h=Iu;if(h&&o){var m=hn(h).hoistableScripts,E=qd(o),S=m.get(E);S||(S=h.querySelector(jd(E)),S||(o=v({src:o,async:!0},u),(u=Gs.get(E))&&Vm(o,u),S=h.createElement("script"),Ft(S),Vi(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(E,S))}}function oT(o,u){Ll.M(o,u);var h=Iu;if(h&&o){var m=hn(h).hoistableScripts,E=qd(o),S=m.get(E);S||(S=h.querySelector(jd(E)),S||(o=v({src:o,async:!0,type:"module"},u),(u=Gs.get(E))&&Vm(o,u),S=h.createElement("script"),Ft(S),Vi(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(E,S))}}function PE(o,u,h,m){var E=(E=Fe.current)?Gm(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=zd(h.href),h=hn(E).hoistableStyles,m=h.get(u),m||(m={type:"style",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=zd(h.href);var S=hn(E).hoistableStyles,L=S.get(o);if(L||(E=E.ownerDocument||E,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,L),(S=E.querySelector(Vd(o)))&&!S._p&&(L.instance=S,L.state.loading=5),Gs.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Gs.set(o,h),S||lT(E,o,h,L.state))),u&&m===null)throw Error(r(528,""));return L}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=qd(h),h=hn(E).hoistableScripts,m=h.get(u),m||(m={type:"script",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function zd(o){return'href="'+Di(o)+'"'}function Vd(o){return'link[rel="stylesheet"]['+o+"]"}function FE(o){return v({},o,{"data-precedence":o.precedence,precedence:null})}function lT(o,u,h,m){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=o.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),Vi(u,"link",h),Ft(u),o.head.appendChild(u))}function qd(o){return'[src="'+Di(o)+'"]'}function jd(o){return"script[async]"+o}function HE(o,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var m=o.querySelector('style[data-href~="'+Di(h.href)+'"]');if(m)return u.instance=m,Ft(m),m;var E=v({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Ft(m),Vi(m,"style",E),zm(m,h.precedence,o),u.instance=m;case"stylesheet":E=zd(h.href);var S=o.querySelector(Vd(E));if(S)return u.state.loading|=4,u.instance=S,Ft(S),S;m=FE(h),(E=Gs.get(E))&&pg(m,E),S=(o.ownerDocument||o).createElement("link"),Ft(S);var L=S;return L._p=new Promise(function(z,ie){L.onload=z,L.onerror=ie}),Vi(S,"link",m),u.state.loading|=4,zm(S,h.precedence,o),u.instance=S;case"script":return S=qd(h.src),(E=o.querySelector(jd(S)))?(u.instance=E,Ft(E),E):(m=h,(E=Gs.get(S))&&(m=v({},h),Vm(m,E)),o=o.ownerDocument||o,E=o.createElement("script"),Ft(E),Vi(E,"link",m),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,zm(m,h.precedence,o));return u.instance}function zm(o,u,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,S=E,L=0;L<m.length;L++){var z=m[L];if(z.dataset.precedence===u)S=z;else if(S!==E)break}S?S.parentNode.insertBefore(o,S.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(o,u.firstChild))}function pg(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Vm(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Df=null;function BE(o,u,h){if(Df===null){var m=new Map,E=Df=new Map;E.set(h,m)}else E=Df,m=E.get(h),m||(m=new Map,E.set(h,m));if(m.has(o))return m;for(m.set(o,null),h=h.getElementsByTagName(o),E=0;E<h.length;E++){var S=h[E];if(!(S[nt]||S[Nt]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var L=S.getAttribute(u)||"";L=o+L;var z=m.get(L);z?z.push(S):m.set(L,[S])}}return m}function GE(o,u,h){o=o.ownerDocument||o,o.head.insertBefore(h,u==="title"?o.querySelector("head > title"):null)}function uT(o,u,h){if(h===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function zE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function $d(o,u,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var E=zd(m.href),S=u.querySelector(Vd(E));if(S){u=S._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=qm.bind(o),u.then(o,o)),h.state.loading|=4,h.instance=S,Ft(S);return}S=u.ownerDocument||u,m=FE(m),(E=Gs.get(E))&&pg(m,E),S=S.createElement("link"),Ft(S);var L=S;L._p=new Promise(function(z,ie){L.onload=z,L.onerror=ie}),Vi(S,"link",m),h.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=qm.bind(o),u.addEventListener("load",h),u.addEventListener("error",h))}}var mg=0;function cT(o,u){return o.stylesheets&&o.count===0&&$m(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var m=setTimeout(function(){if(o.stylesheets&&$m(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+u);0<o.imgBytes&&mg===0&&(mg=62500*wf());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&$m(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>mg?50:800)+u);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(E)}}:null}function qm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$m(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var jm=null;function $m(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,jm=new Map,u.forEach(VE,o),jm=null,qm.call(o))}function VE(o,u){if(!(u.state.loading&4)){var h=jm.get(o);if(h)var m=h.get(null);else{h=new Map,jm.set(o,h);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<E.length;S++){var L=E[S];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(h.set(L.dataset.precedence,L),m=L)}m&&h.set(null,m)}E=u.instance,L=E.getAttribute("data-precedence"),S=h.get(L)||m,S===m&&h.set(null,E),h.set(L,E),this.count++,m=qm.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),S?S.parentNode.insertBefore(E,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var Kd={$$typeof:R,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function dT(o,u,h,m,E,S,L,z,ie){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.hiddenUpdates=kt(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=S,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function qE(o,u,h,m,E,S,L,z,ie,ge,Ue,ze){return o=new dT(o,u,h,L,ie,ge,Ue,ze,z),u=1,S===!0&&(u|=24),S=Hi(3,null,null,u),o.current=S,S.stateNode=o,u=eo(),u.refCount++,o.pooledCache=u,u.refCount++,S.memoizedState={element:m,isDehydrated:h,cache:u},Fo(S),o}function jE(o){return o?(o=gl,o):gl}function $E(o,u,h,m,E,S){E=jE(E),m.context===null?m.context=E:m.pendingContext=E,m=pu(u),m.payload={element:h},S=S===void 0?null:S,S!==null&&(m.callback=S),h=ro(o,m,u),h!==null&&(Fa(h,o,u),zh(h,o,u))}function KE(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function vg(o,u){KE(o,u),(o=o.alternate)&&KE(o,u)}function YE(o){if(o.tag===13||o.tag===31){var u=Uo(o,67108864);u!==null&&Fa(u,o,67108864),vg(o,67108864)}}function WE(o){if(o.tag===13||o.tag===31){var u=ls();u=ui(u);var h=Uo(o,u);h!==null&&Fa(h,o,u),vg(o,u)}}var Km=!0;function hT(o,u,h,m){var E=$.T;$.T=null;var S=le.p;try{le.p=2,_g(o,u,h,m)}finally{le.p=S,$.T=E}}function fT(o,u,h,m){var E=$.T;$.T=null;var S=le.p;try{le.p=8,_g(o,u,h,m)}finally{le.p=S,$.T=E}}function _g(o,u,h,m){if(Km){var E=gg(m);if(E===null)sg(o,u,m,Ym,h),XE(o,m);else if(ZE(E,o,u,h,m))m.stopPropagation();else if(XE(o,m),u&4&&-1<pT.indexOf(o)){for(;E!==null;){var S=Xe(E);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var L=Ie(S.pendingLanes);if(L!==0){var z=S;for(z.pendingLanes|=2,z.entangledLanes|=2;L;){var ie=1<<31-tn(L);z.entanglements[1]|=ie,L&=~ie}Vo(S),(Zn&6)===0&&(_c=vn()+500,Sf(0))}}break;case 31:case 13:z=Uo(S,2),z!==null&&Fa(z,S,2),Om(),vg(S,2)}if(S=gg(m),S===null&&sg(o,u,m,Ym,h),S===E)break;E=S}E!==null&&m.stopPropagation()}else sg(o,u,m,null,h)}}function gg(o){return o=hl(o),yg(o)}var Ym=null;function yg(o){if(Ym=null,o=He(o),o!==null){var u=a(o);if(u===null)o=null;else{var h=u.tag;if(h===13){if(o=s(u),o!==null)return o;o=null}else if(h===31){if(o=l(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Ym=o,null}function QE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case Pt:return 2;case Wn:return 8;case hr:case ht:return 32;case ni:return 268435456;default:return 32}default:return 32}}var Eg=!1,Mu=null,Ou=null,Ru=null,xf=new Map,Lf=new Map,Du=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XE(o,u){switch(o){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Ou=null;break;case"mouseover":case"mouseout":Ru=null;break;case"pointerover":case"pointerout":xf.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lf.delete(u.pointerId)}}function Ec(o,u,h,m,E,S){return o===null||o.nativeEvent!==S?(o={blockedOn:u,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[E]},u!==null&&(u=Xe(u),u!==null&&YE(u)),o):(o.eventSystemFlags|=m,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function ZE(o,u,h,m,E){switch(u){case"focusin":return Mu=Ec(Mu,o,u,h,m,E),!0;case"dragenter":return Ou=Ec(Ou,o,u,h,m,E),!0;case"mouseover":return Ru=Ec(Ru,o,u,h,m,E),!0;case"pointerover":var S=E.pointerId;return xf.set(S,Ec(xf.get(S)||null,o,u,h,m,E)),!0;case"gotpointercapture":return S=E.pointerId,Lf.set(S,Ec(Lf.get(S)||null,o,u,h,m,E)),!0}return!1}function bg(o){var u=He(o.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=s(h),u!==null){o.blockedOn=u,yt(o.priority,function(){WE(h)});return}}else if(u===31){if(u=l(h),u!==null){o.blockedOn=u,yt(o.priority,function(){WE(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Wm(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=gg(o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);dl=m,h.target.dispatchEvent(m),dl=null}else return u=Xe(h),u!==null&&YE(u),o.blockedOn=h,!1;u.shift()}return!0}function JE(o,u,h){Wm(o)&&h.delete(u)}function mT(){Eg=!1,Mu!==null&&Wm(Mu)&&(Mu=null),Ou!==null&&Wm(Ou)&&(Ou=null),Ru!==null&&Wm(Ru)&&(Ru=null),xf.forEach(JE),Lf.forEach(JE)}function Yd(o,u){o.blockedOn===u&&(o.blockedOn=null,Eg||(Eg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mT)))}var Qm=null;function eb(o){Qm!==o&&(Qm=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qm===o&&(Qm=null);for(var u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],E=o[u+2];if(typeof m!="function"){if(yg(m||h)===null)continue;break}var S=Xe(h);S!==null&&(o.splice(u,3),u-=3,_u(S,{pending:!0,data:E,method:h.method,action:m},m,E))}}))}function Wd(o){function u(ie){return Yd(ie,o)}Mu!==null&&Yd(Mu,o),Ou!==null&&Yd(Ou,o),Ru!==null&&Yd(Ru,o),xf.forEach(u),Lf.forEach(u);for(var h=0;h<Du.length;h++){var m=Du[h];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Du.length&&(h=Du[0],h.blockedOn===null);)bg(h),h.blockedOn===null&&Du.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var E=h[m],S=h[m+1],L=E[mt]||null;if(typeof S=="function")L||eb(h);else if(L){var z=null;if(S&&S.hasAttribute("formAction")){if(E=S,L=S[mt]||null)z=L.formAction;else if(yg(E)!==null)continue}else z=L.action;typeof z=="function"?h[m+1]=z:(h.splice(m,3),m-=3),eb(h)}}}function ma(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(L){return E=L})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function Uf(o){this._internalRoot=o}Xm.prototype.render=Uf.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,m=ls();$E(h,m,o,u,null,null)},Xm.prototype.unmount=Uf.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;$E(o.current,2,null,o,null,null),Om(),u[qt]=null}};function Xm(o){this._internalRoot=o}Xm.prototype.unstable_scheduleHydration=function(o){if(o){var u=rt();o={blockedOn:null,target:o,priority:u};for(var h=0;h<Du.length&&u!==0&&u<Du[h].priority;h++);Du.splice(h,0,o),h===0&&bg(o)}};var tb=n.version;if(tb!=="19.2.0")throw Error(r(527,tb,"19.2.0"));le.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var vT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{kr=Zm.inject(vT),Qn=Zm}catch{}}return Cg.createRoot=function(o,u){if(!i(o))throw Error(r(299));var h=!1,m="",E=T_,S=C_,L=By;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError)),u=qE(o,1,!1,null,null,h,m,null,E,S,L,ma),o[qt]=u.current,ag(o),new Uf(u)},Cg.hydrateRoot=function(o,u,h){if(!i(o))throw Error(r(299));var m=!1,E="",S=T_,L=C_,z=By,ie=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.formState!==void 0&&(ie=h.formState)),u=qE(o,1,!0,u,h??null,m,E,ie,S,L,z,ma),u.context=jE(null),h=u.current,m=ls(),m=ui(m),E=pu(m),E.callback=null,ro(h,E,m),h=m,u.current.lanes=h,Ki(u,h),Vo(u),o[qt]=u.current,ag(o),new Xm(u)},Cg.version="19.2.0",Cg}var Y3;function XU(){if(Y3)return ET.exports;Y3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),ET.exports=QU(),ET.exports}var ZU=XU();const pA=D.createContext({});function mA(t){const n=D.useRef(null);return n.current===null&&(n.current=t()),n.current}const vA=typeof window<"u",AD=vA?D.useLayoutEffect:D.useEffect,$1=D.createContext(null);function _A(t,n){t.indexOf(n)===-1&&t.push(n)}function gA(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const Bc=(t,n,e)=>e>n?n:e<t?t:e;let yA=()=>{};const Gc={},wD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ID(t){return typeof t=="object"&&t!==null}const MD=t=>/^0[^.\s]+$/u.test(t);function EA(t){let n;return()=>(n===void 0&&(n=t()),n)}const tl=t=>t,JU=(t,n)=>e=>n(t(e)),P0=(...t)=>t.reduce(JU),y0=(t,n,e)=>{const r=n-t;return r===0?1:(e-t)/r};class bA{constructor(){this.subscriptions=[]}add(n){return _A(this.subscriptions,n),()=>gA(this.subscriptions,n)}notify(n,e,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](n,e,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(n,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hu=t=>t*1e3,Zo=t=>t/1e3;function OD(t,n){return n?t*(1e3/n):0}const RD=(t,n,e)=>(((1-3*e+3*n)*t+(3*e-6*n))*t+3*n)*t,e5=1e-7,t5=12;function n5(t,n,e,r,i){let a,s,l=0;do s=n+(e-n)/2,a=RD(s,r,i)-t,a>0?e=s:n=s;while(Math.abs(a)>e5&&++l<t5);return s}function F0(t,n,e,r){if(t===n&&e===r)return tl;const i=a=>n5(a,0,1,t,e);return a=>a===0||a===1?a:RD(i(a),n,r)}const DD=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,xD=t=>n=>1-t(1-n),LD=F0(.33,1.53,.69,.99),TA=xD(LD),UD=DD(TA),kD=t=>(t*=2)<1?.5*TA(t):.5*(2-Math.pow(2,-10*(t-1))),CA=t=>1-Math.sin(Math.acos(t)),PD=xD(CA),FD=DD(CA),r5=F0(.42,0,1,1),i5=F0(0,0,.58,1),HD=F0(.42,0,.58,1),a5=t=>Array.isArray(t)&&typeof t[0]!="number",BD=t=>Array.isArray(t)&&typeof t[0]=="number",s5={linear:tl,easeIn:r5,easeInOut:HD,easeOut:i5,circIn:CA,circInOut:FD,circOut:PD,backIn:TA,backInOut:UD,backOut:LD,anticipate:kD},o5=t=>typeof t=="string",W3=t=>{if(BD(t)){yA(t.length===4);const[n,e,r,i]=t;return F0(n,e,r,i)}else if(o5(t))return s5[t];return t},nb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function l5(t,n){let e=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){s.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,v=!1,g=!1)=>{const b=g&&i?e:r;return v&&s.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),s.delete(f)},process:f=>{if(l=f,i){a=!0;return}i=!0,[e,r]=[r,e],e.forEach(c),e.clear(),i=!1,a&&(a=!1,d.process(f))}};return d}const u5=40;function GD(t,n){let e=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,s=nb.reduce((R,U)=>(R[U]=l5(a),R),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:v,preRender:g,render:y,postRender:b}=s,C=()=>{const R=Gc.useManualTiming?i.timestamp:performance.now();e=!1,Gc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,u5),1)),i.timestamp=R,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),v.process(i),g.process(i),y.process(i),b.process(i),i.isProcessing=!1,e&&n&&(r=!1,t(C))},w=()=>{e=!0,r=!0,i.isProcessing||t(C)};return{schedule:nb.reduce((R,U)=>{const H=s[U];return R[U]=(P,G=!1,Y=!1)=>(e||w(),H.schedule(P,G,Y)),R},{}),cancel:R=>{for(let U=0;U<nb.length;U++)s[nb[U]].cancel(R)},state:i,steps:s}}const{schedule:ei,cancel:gh,state:ya,steps:ST}=GD(typeof requestAnimationFrame<"u"?requestAnimationFrame:tl,!0);let xb;function c5(){xb=void 0}const js={now:()=>(xb===void 0&&js.set(ya.isProcessing||Gc.useManualTiming?ya.timestamp:performance.now()),xb),set:t=>{xb=t,queueMicrotask(c5)}},zD=t=>n=>typeof n=="string"&&n.startsWith(t),SA=zD("--"),d5=zD("var(--"),NA=t=>d5(t)?h5.test(t.split("/*")[0].trim()):!1,h5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Av={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},E0={...Av,transform:t=>Bc(0,1,t)},rb={...Av,default:1},Kg=t=>Math.round(t*1e5)/1e5,AA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function f5(t){return t==null}const p5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wA=(t,n)=>e=>!!(typeof e=="string"&&p5.test(e)&&e.startsWith(t)||n&&!f5(e)&&Object.prototype.hasOwnProperty.call(e,n)),VD=(t,n,e)=>r=>{if(typeof r!="string")return r;const[i,a,s,l]=r.match(AA);return{[t]:parseFloat(i),[n]:parseFloat(a),[e]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},m5=t=>Bc(0,255,t),NT={...Av,transform:t=>Math.round(m5(t))},ep={test:wA("rgb","red"),parse:VD("red","green","blue"),transform:({red:t,green:n,blue:e,alpha:r=1})=>"rgba("+NT.transform(t)+", "+NT.transform(n)+", "+NT.transform(e)+", "+Kg(E0.transform(r))+")"};function v5(t){let n="",e="",r="",i="";return t.length>5?(n=t.substring(1,3),e=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(n=t.substring(1,2),e=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),n+=n,e+=e,r+=r,i+=i),{red:parseInt(n,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const BC={test:wA("#"),parse:v5,transform:ep.transform},H0=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),rh=H0("deg"),Bu=H0("%"),Qt=H0("px"),_5=H0("vh"),g5=H0("vw"),Q3={...Bu,parse:t=>Bu.parse(t)/100,transform:t=>Bu.transform(t*100)},iv={test:wA("hsl","hue"),parse:VD("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:e,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bu.transform(Kg(n))+", "+Bu.transform(Kg(e))+", "+Kg(E0.transform(r))+")"},Pi={test:t=>ep.test(t)||BC.test(t)||iv.test(t),parse:t=>ep.test(t)?ep.parse(t):iv.test(t)?iv.parse(t):BC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ep.transform(t):iv.transform(t),getAnimatableNone:t=>{const n=Pi.parse(t);return n.alpha=0,Pi.transform(n)}},y5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function E5(t){return isNaN(t)&&typeof t=="string"&&(t.match(AA)?.length||0)+(t.match(y5)?.length||0)>0}const qD="number",jD="color",b5="var",T5="var(",X3="${}",C5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function b0(t){const n=t.toString(),e=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=n.replace(C5,c=>(Pi.test(c)?(r.color.push(a),i.push(jD),e.push(Pi.parse(c))):c.startsWith(T5)?(r.var.push(a),i.push(b5),e.push(c)):(r.number.push(a),i.push(qD),e.push(parseFloat(c))),++a,X3)).split(X3);return{values:e,split:l,indexes:r,types:i}}function $D(t){return b0(t).values}function KD(t){const{split:n,types:e}=b0(t),r=n.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=n[s],i[s]!==void 0){const l=e[s];l===qD?a+=Kg(i[s]):l===jD?a+=Pi.transform(i[s]):a+=i[s]}return a}}const S5=t=>typeof t=="number"?0:Pi.test(t)?Pi.getAnimatableNone(t):t;function N5(t){const n=$D(t);return KD(t)(n.map(S5))}const yh={test:E5,parse:$D,createTransformer:KD,getAnimatableNone:N5};function AT(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+(n-t)*6*e:e<1/2?n:e<2/3?t+(n-t)*(2/3-e)*6:t}function A5({hue:t,saturation:n,lightness:e,alpha:r}){t/=360,n/=100,e/=100;let i=0,a=0,s=0;if(!n)i=a=s=e;else{const l=e<.5?e*(1+n):e+n-e*n,c=2*e-l;i=AT(c,l,t+1/3),a=AT(c,l,t),s=AT(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Jb(t,n){return e=>e>0?n:t}const si=(t,n,e)=>t+(n-t)*e,wT=(t,n,e)=>{const r=t*t,i=e*(n*n-r)+r;return i<0?0:Math.sqrt(i)},w5=[BC,ep,iv],I5=t=>w5.find(n=>n.test(t));function Z3(t){const n=I5(t);if(!n)return!1;let e=n.parse(t);return n===iv&&(e=A5(e)),e}const J3=(t,n)=>{const e=Z3(t),r=Z3(n);if(!e||!r)return Jb(t,n);const i={...e};return a=>(i.red=wT(e.red,r.red,a),i.green=wT(e.green,r.green,a),i.blue=wT(e.blue,r.blue,a),i.alpha=si(e.alpha,r.alpha,a),ep.transform(i))},GC=new Set(["none","hidden"]);function M5(t,n){return GC.has(t)?e=>e<=0?t:n:e=>e>=1?n:t}function O5(t,n){return e=>si(t,n,e)}function IA(t){return typeof t=="number"?O5:typeof t=="string"?NA(t)?Jb:Pi.test(t)?J3:x5:Array.isArray(t)?YD:typeof t=="object"?Pi.test(t)?J3:R5:Jb}function YD(t,n){const e=[...t],r=e.length,i=t.map((a,s)=>IA(a)(a,n[s]));return a=>{for(let s=0;s<r;s++)e[s]=i[s](a);return e}}function R5(t,n){const e={...t,...n},r={};for(const i in e)t[i]!==void 0&&n[i]!==void 0&&(r[i]=IA(t[i])(t[i],n[i]));return i=>{for(const a in r)e[a]=r[a](i);return e}}function D5(t,n){const e=[],r={color:0,var:0,number:0};for(let i=0;i<n.values.length;i++){const a=n.types[i],s=t.indexes[a][r[a]],l=t.values[s]??0;e[i]=l,r[a]++}return e}const x5=(t,n)=>{const e=yh.createTransformer(n),r=b0(t),i=b0(n);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?GC.has(t)&&!i.values.length||GC.has(n)&&!r.values.length?M5(t,n):P0(YD(D5(r,i),i.values),e):Jb(t,n)};function WD(t,n,e){return typeof t=="number"&&typeof n=="number"&&typeof e=="number"?si(t,n,e):IA(t)(t,n)}const L5=t=>{const n=({timestamp:e})=>t(e);return{start:(e=!0)=>ei.update(n,e),stop:()=>gh(n),now:()=>ya.isProcessing?ya.timestamp:js.now()}},QD=(t,n,e=10)=>{let r="";const i=Math.max(Math.round(n/e),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},e1=2e4;function MA(t){let n=0;const e=50;let r=t.next(n);for(;!r.done&&n<e1;)n+=e,r=t.next(n);return n>=e1?1/0:n}function U5(t,n=100,e){const r=e({...t,keyframes:[0,n]}),i=Math.min(MA(r),e1);return{type:"keyframes",ease:a=>r.next(i*a).value/n,duration:Zo(i)}}const k5=5;function XD(t,n,e){const r=Math.max(n-k5,0);return OD(e-t(r),n-r)}const vi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},IT=.001;function P5({duration:t=vi.duration,bounce:n=vi.bounce,velocity:e=vi.velocity,mass:r=vi.mass}){let i,a,s=1-n;s=Bc(vi.minDamping,vi.maxDamping,s),t=Bc(vi.minDuration,vi.maxDuration,Zo(t)),s<1?(i=d=>{const f=d*s,v=f*t,g=f-e,y=zC(d,s),b=Math.exp(-v);return IT-g/y*b},a=d=>{const v=d*s*t,g=v*e+e,y=Math.pow(s,2)*Math.pow(d,2)*t,b=Math.exp(-v),C=zC(Math.pow(d,2),s);return(-i(d)+IT>0?-1:1)*((g-y)*b)/C}):(i=d=>{const f=Math.exp(-d*t),v=(d-e)*t+1;return-IT+f*v},a=d=>{const f=Math.exp(-d*t),v=(e-d)*(t*t);return f*v});const l=5/t,c=H5(i,a,l);if(t=Hu(t),isNaN(c))return{stiffness:vi.stiffness,damping:vi.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:s*2*Math.sqrt(r*d),duration:t}}}const F5=12;function H5(t,n,e){let r=e;for(let i=1;i<F5;i++)r=r-t(r)/n(r);return r}function zC(t,n){return t*Math.sqrt(1-n*n)}const B5=["duration","bounce"],G5=["stiffness","damping","mass"];function ew(t,n){return n.some(e=>t[e]!==void 0)}function z5(t){let n={velocity:vi.velocity,stiffness:vi.stiffness,damping:vi.damping,mass:vi.mass,isResolvedFromDuration:!1,...t};if(!ew(t,G5)&&ew(t,B5))if(t.visualDuration){const e=t.visualDuration,r=2*Math.PI/(e*1.2),i=r*r,a=2*Bc(.05,1,1-(t.bounce||0))*Math.sqrt(i);n={...n,mass:vi.mass,stiffness:i,damping:a}}else{const e=P5(t);n={...n,...e,mass:vi.mass},n.isResolvedFromDuration=!0}return n}function t1(t=vi.visualDuration,n=vi.bounce){const e=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:r,restDelta:i}=e;const a=e.keyframes[0],s=e.keyframes[e.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:f,duration:v,velocity:g,isResolvedFromDuration:y}=z5({...e,velocity:-Zo(e.velocity||0)}),b=g||0,C=d/(2*Math.sqrt(c*f)),w=s-a,I=Zo(Math.sqrt(c/f)),M=Math.abs(w)<5;r||(r=M?vi.restSpeed.granular:vi.restSpeed.default),i||(i=M?vi.restDelta.granular:vi.restDelta.default);let R;if(C<1){const H=zC(I,C);R=P=>{const G=Math.exp(-C*I*P);return s-G*((b+C*I*w)/H*Math.sin(H*P)+w*Math.cos(H*P))}}else if(C===1)R=H=>s-Math.exp(-I*H)*(w+(b+I*w)*H);else{const H=I*Math.sqrt(C*C-1);R=P=>{const G=Math.exp(-C*I*P),Y=Math.min(H*P,300);return s-G*((b+C*I*w)*Math.sinh(Y)+H*w*Math.cosh(Y))/H}}const U={calculatedDuration:y&&v||null,next:H=>{const P=R(H);if(y)l.done=H>=v;else{let G=H===0?b:0;C<1&&(G=H===0?Hu(b):XD(R,H,P));const Y=Math.abs(G)<=r,F=Math.abs(s-P)<=i;l.done=Y&&F}return l.value=l.done?s:P,l},toString:()=>{const H=Math.min(MA(U),e1),P=QD(G=>U.next(H*G).value,H,30);return H+"ms "+P},toTransition:()=>{}};return U}t1.applyToOptions=t=>{const n=U5(t,100,t1);return t.ease=n.ease,t.duration=Hu(n.duration),t.type="keyframes",t};function VC({keyframes:t,velocity:n=0,power:e=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:d=.5,restSpeed:f}){const v=t[0],g={done:!1,value:v},y=Y=>l!==void 0&&Y<l||c!==void 0&&Y>c,b=Y=>l===void 0?c:c===void 0||Math.abs(l-Y)<Math.abs(c-Y)?l:c;let C=e*n;const w=v+C,I=s===void 0?w:s(w);I!==w&&(C=I-v);const M=Y=>-C*Math.exp(-Y/r),R=Y=>I+M(Y),U=Y=>{const F=M(Y),te=R(Y);g.done=Math.abs(F)<=d,g.value=g.done?I:te};let H,P;const G=Y=>{y(g.value)&&(H=Y,P=t1({keyframes:[g.value,b(g.value)],velocity:XD(R,Y,g.value),damping:i,stiffness:a,restDelta:d,restSpeed:f}))};return G(0),{calculatedDuration:null,next:Y=>{let F=!1;return!P&&H===void 0&&(F=!0,U(Y),G(Y)),H!==void 0&&Y>=H?P.next(Y-H):(!F&&U(Y),g)}}}function V5(t,n,e){const r=[],i=e||Gc.mix||WD,a=t.length-1;for(let s=0;s<a;s++){let l=i(t[s],t[s+1]);if(n){const c=Array.isArray(n)?n[s]||tl:n;l=P0(c,l)}r.push(l)}return r}function q5(t,n,{clamp:e=!0,ease:r,mixer:i}={}){const a=t.length;if(yA(a===n.length),a===1)return()=>n[0];if(a===2&&n[0]===n[1])return()=>n[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),n=[...n].reverse());const l=V5(n,r,i),c=l.length,d=f=>{if(s&&f<t[0])return n[0];let v=0;if(c>1)for(;v<t.length-2&&!(f<t[v+1]);v++);const g=y0(t[v],t[v+1],f);return l[v](g)};return e?f=>d(Bc(t[0],t[a-1],f)):d}function j5(t,n){const e=t[t.length-1];for(let r=1;r<=n;r++){const i=y0(0,n,r);t.push(si(e,1,i))}}function $5(t){const n=[0];return j5(n,t.length-1),n}function K5(t,n){return t.map(e=>e*n)}function Y5(t,n){return t.map(()=>n||HD).splice(0,t.length-1)}function Yg({duration:t=300,keyframes:n,times:e,ease:r="easeInOut"}){const i=a5(r)?r.map(W3):W3(r),a={done:!1,value:n[0]},s=K5(e&&e.length===n.length?e:$5(n),t),l=q5(s,n,{ease:Array.isArray(i)?i:Y5(n,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const W5=t=>t!==null;function OA(t,{repeat:n,repeatType:e="loop"},r,i=1){const a=t.filter(W5),l=i<0||n&&e!=="loop"&&n%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const Q5={decay:VC,inertia:VC,tween:Yg,keyframes:Yg,spring:t1};function ZD(t){typeof t.type=="string"&&(t.type=Q5[t.type])}class RA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,e){return this.finished.then(n,e)}}const X5=t=>t/100;class DA extends RA{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==js.now()&&this.tick(js.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;ZD(n);const{type:e=Yg,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=n;let{keyframes:l}=n;const c=e||Yg;c!==Yg&&typeof l[0]!="number"&&(this.mixKeyframes=P0(X5,WD(l[0],l[1])),l=[0,100]);const d=c({...n,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...n,keyframes:[...l].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=MA(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(n){const e=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(n,e=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:v,repeatType:g,repeatDelay:y,type:b,onUpdate:C,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-i/this.speed,this.startTime)),e?this.currentTime=n:this.updateTime(n);const I=this.currentTime-d*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?I<0:I>i;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,U=r;if(v){const Y=Math.min(this.currentTime,i)/l;let F=Math.floor(Y),te=Y%1;!te&&Y>=1&&(te=1),te===1&&F--,F=Math.min(F,v+1),!!(F%2)&&(g==="reverse"?(te=1-te,y&&(te-=y/l)):g==="mirror"&&(U=s)),R=Bc(0,1,te)*l}const H=M?{done:!1,value:f[0]}:U.next(R);a&&(H.value=a(H.value));let{done:P}=H;!M&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return G&&b!==VC&&(H.value=OA(f,this.options,w,this.speed)),C&&C(H.value),G&&this.finish(),H}then(n,e){return this.finished.then(n,e)}get duration(){return Zo(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Zo(n)}get time(){return Zo(this.currentTime)}set time(n){n=Hu(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(js.now());const e=this.playbackSpeed!==n;this.playbackSpeed=n,e&&(this.time=Zo(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=L5,startTime:e}=this.options;this.driver||(this.driver=n(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function Z5(t){for(let n=1;n<t.length;n++)t[n]??(t[n]=t[n-1])}const tp=t=>t*180/Math.PI,qC=t=>{const n=tp(Math.atan2(t[1],t[0]));return jC(n)},J5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qC,rotateZ:qC,skewX:t=>tp(Math.atan(t[1])),skewY:t=>tp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jC=t=>(t=t%360,t<0&&(t+=360),t),tw=qC,nw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ek={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nw,scaleY:rw,scale:t=>(nw(t)+rw(t))/2,rotateX:t=>jC(tp(Math.atan2(t[6],t[5]))),rotateY:t=>jC(tp(Math.atan2(-t[2],t[0]))),rotateZ:tw,rotate:tw,skewX:t=>tp(Math.atan(t[4])),skewY:t=>tp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $C(t){return t.includes("scale")?1:0}function KC(t,n){if(!t||t==="none")return $C(n);const e=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(e)r=ek,i=e;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=J5,i=l}if(!i)return $C(n);const a=r[n],s=i[1].split(",").map(nk);return typeof a=="function"?a(s):s[a]}const tk=(t,n)=>{const{transform:e="none"}=getComputedStyle(t);return KC(e,n)};function nk(t){return parseFloat(t.trim())}const wv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Iv=new Set(wv),iw=t=>t===Av||t===Qt,rk=new Set(["x","y","z"]),ik=wv.filter(t=>!rk.has(t));function ak(t){const n=[];return ik.forEach(e=>{const r=t.getValue(e);r!==void 0&&(n.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),n}const cp={width:({x:t},{paddingLeft:n="0",paddingRight:e="0"})=>t.max-t.min-parseFloat(n)-parseFloat(e),height:({y:t},{paddingTop:n="0",paddingBottom:e="0"})=>t.max-t.min-parseFloat(n)-parseFloat(e),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:(t,{transform:n})=>KC(n,"x"),y:(t,{transform:n})=>KC(n,"y")};cp.translateX=cp.x;cp.translateY=cp.y;const dp=new Set;let YC=!1,WC=!1,QC=!1;function JD(){if(WC){const t=Array.from(dp).filter(r=>r.needsMeasurement),n=new Set(t.map(r=>r.element)),e=new Map;n.forEach(r=>{const i=ak(r);i.length&&(e.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),n.forEach(r=>{r.render();const i=e.get(r);i&&i.forEach(([a,s])=>{r.getValue(a)?.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}WC=!1,YC=!1,dp.forEach(t=>t.complete(QC)),dp.clear()}function e6(){dp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(WC=!0)})}function sk(){QC=!0,e6(),JD(),QC=!1}class xA{constructor(n,e,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=e,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(dp.add(this),YC||(YC=!0,ei.read(e6),ei.resolveKeyframes(JD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:e,element:r,motionValue:i}=this;if(n[0]===null){const a=i?.get(),s=n[n.length-1];if(a!==void 0)n[0]=a;else if(r&&e){const l=r.readValue(e,s);l!=null&&(n[0]=l)}n[0]===void 0&&(n[0]=s),i&&a===void 0&&i.set(n[0])}Z5(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),dp.delete(this)}cancel(){this.state==="scheduled"&&(dp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ok=t=>t.startsWith("--");function lk(t,n,e){ok(n)?t.style.setProperty(n,e):t.style[n]=e}const uk=EA(()=>window.ScrollTimeline!==void 0),ck={};function dk(t,n){const e=EA(t);return()=>ck[n]??e()}const t6=dk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bg=([t,n,e,r])=>`cubic-bezier(${t}, ${n}, ${e}, ${r})`,aw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bg([0,.65,.55,1]),circOut:Bg([.55,0,1,.45]),backIn:Bg([.31,.01,.66,-.59]),backOut:Bg([.33,1.53,.69,.99])};function n6(t,n){if(t)return typeof t=="function"?t6()?QD(t,n):"ease-out":BD(t)?Bg(t):Array.isArray(t)?t.map(e=>n6(e,n)||aw.easeOut):aw[t]}function hk(t,n,e,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[n]:e};c&&(f.offset=c);const v=n6(l,i);Array.isArray(v)&&(f.easing=v);const g={delay:r,duration:i,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function r6(t){return typeof t=="function"&&"applyToOptions"in t}function fk({type:t,...n}){return r6(t)&&t6()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class pk extends RA{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:e,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=n;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=n,yA(typeof n.type!="string");const d=fk(n);this.animation=hk(e,r,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=OA(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):lk(e,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Zo(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Zo(n)}get time(){return Zo(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=Hu(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&uk()?(this.animation.timeline=n,tl):e(this)}}const i6={anticipate:kD,backInOut:UD,circInOut:FD};function mk(t){return t in i6}function vk(t){typeof t.ease=="string"&&mk(t.ease)&&(t.ease=i6[t.ease])}const sw=10;class _k extends pk{constructor(n){vk(n),ZD(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:e,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!e)return;if(n!==void 0){e.set(n);return}const l=new DA({...s,autoplay:!1}),c=Hu(this.finishedTime??this.time);e.setWithVelocity(l.sample(c-sw).value,l.sample(c).value,sw),l.stop()}}const ow=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yh.test(t)||t==="0")&&!t.startsWith("url("));function gk(t){const n=t[0];if(t.length===1)return!0;for(let e=0;e<t.length;e++)if(t[e]!==n)return!0}function yk(t,n,e,r){const i=t[0];if(i===null)return!1;if(n==="display"||n==="visibility")return!0;const a=t[t.length-1],s=ow(i,n),l=ow(a,n);return!s||!l?!1:gk(t)||(e==="spring"||r6(e))&&r}function XC(t){t.duration=0,t.type="keyframes"}const Ek=new Set(["opacity","clipPath","filter","transform"]),bk=EA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Tk(t){const{motionValue:n,name:e,repeatDelay:r,repeatType:i,damping:a,type:s}=t;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return bk()&&e&&Ek.has(e)&&(e!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const Ck=40;class Sk extends RA{constructor({autoplay:n=!0,delay:e=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:c,motionValue:d,element:f,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=js.now();const g={autoplay:n,delay:e,type:r,repeat:i,repeatDelay:a,repeatType:s,name:c,motionValue:d,element:f,...v},y=f?.KeyframeResolver||xA;this.keyframeResolver=new y(l,(b,C,w)=>this.onKeyframesResolved(b,C,g,!w),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,e,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=js.now(),yk(n,a,s,l)||((Gc.instantAnimations||!c)&&f?.(OA(n,r,e)),n[0]=n[n.length-1],XC(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Ck?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:n},y=!d&&Tk(g)?new _k({...g,element:g.motionValue.owner.current}):new DA(g);y.finished.then(()=>this.notifyFinished()).catch(tl),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(n,e){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Nk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ak(t){const n=Nk.exec(t);if(!n)return[,];const[,e,r,i]=n;return[`--${e??r}`,i]}function a6(t,n,e=1){const[r,i]=Ak(t);if(!r)return;const a=window.getComputedStyle(n).getPropertyValue(r);if(a){const s=a.trim();return wD(s)?parseFloat(s):s}return NA(i)?a6(i,n,e+1):i}function LA(t,n){return t?.[n]??t?.default??t}const s6=new Set(["width","height","top","left","right","bottom",...wv]),wk={test:t=>t==="auto",parse:t=>t},o6=t=>n=>n.test(t),l6=[Av,Qt,Bu,rh,g5,_5,wk],lw=t=>l6.find(o6(t));function Ik(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MD(t):!0}const Mk=new Set(["brightness","contrast","saturate","opacity"]);function Ok(t){const[n,e]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[r]=e.match(AA)||[];if(!r)return t;const i=e.replace(r,"");let a=Mk.has(n)?1:0;return r!==e&&(a*=100),n+"("+a+i+")"}const Rk=/\b([a-z-]*)\(.*?\)/gu,ZC={...yh,getAnimatableNone:t=>{const n=t.match(Rk);return n?n.map(Ok).join(" "):t}},uw={...Av,transform:Math.round},Dk={rotate:rh,rotateX:rh,rotateY:rh,rotateZ:rh,scale:rb,scaleX:rb,scaleY:rb,scaleZ:rb,skew:rh,skewX:rh,skewY:rh,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:E0,originX:Q3,originY:Q3,originZ:Qt},UA={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,radius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,backgroundPositionX:Qt,backgroundPositionY:Qt,...Dk,zIndex:uw,fillOpacity:E0,strokeOpacity:E0,numOctaves:uw},xk={...UA,color:Pi,backgroundColor:Pi,outlineColor:Pi,fill:Pi,stroke:Pi,borderColor:Pi,borderTopColor:Pi,borderRightColor:Pi,borderBottomColor:Pi,borderLeftColor:Pi,filter:ZC,WebkitFilter:ZC},u6=t=>xk[t];function c6(t,n){let e=u6(t);return e!==ZC&&(e=yh),e.getAnimatableNone?e.getAnimatableNone(n):void 0}const Lk=new Set(["auto","none","0"]);function Uk(t,n,e){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Lk.has(a)&&b0(a).values.length&&(i=t[r]),r++}if(i&&e)for(const a of n)t[a]=c6(e,i)}class kk extends xA{constructor(n,e,r,i,a){super(n,e,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let c=0;c<n.length;c++){let d=n[c];if(typeof d=="string"&&(d=d.trim(),NA(d))){const f=a6(d,e.current);f!==void 0&&(n[c]=f),c===n.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!s6.has(r)||n.length!==2)return;const[i,a]=n,s=lw(i),l=lw(a);if(s!==l)if(iw(s)&&iw(l))for(let c=0;c<n.length;c++){const d=n[c];typeof d=="string"&&(n[c]=parseFloat(d))}else cp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:e}=this,r=[];for(let i=0;i<n.length;i++)(n[i]===null||Ik(n[i]))&&r.push(i);r.length&&Uk(n,r,e)}measureInitialState(){const{element:n,unresolvedKeyframes:e,name:r}=this;if(!n||!n.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cp[r](n.measureViewportBox(),window.getComputedStyle(n.current)),e[0]=this.measuredOrigin;const i=e[e.length-1];i!==void 0&&n.getValue(r,i).jump(i,!1)}measureEndState(){const{element:n,name:e,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const i=n.getValue(e);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=cp[e](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Pk(t,n,e){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=e?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const d6=(t,n)=>n&&typeof t=="number"?n.transform(t):t;function h6(t){return ID(t)&&"offsetHeight"in t}const cw=30,Fk=t=>!isNaN(parseFloat(t));class Hk{constructor(n,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=js.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=e.owner}setCurrent(n){this.current=n,this.updatedAt=js.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=Fk(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,e){this.events[n]||(this.events[n]=new bA);const r=this.events[n].add(e);return n==="change"?()=>{r(),ei.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,e){this.passiveEffect=n,this.stopPassiveEffect=e}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-r}jump(n,e=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>cw)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,cw);return OD(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(n){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=n(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mv(t,n){return new Hk(t,n)}const{schedule:kA}=GD(queueMicrotask,!1),Fl={x:!1,y:!1};function f6(){return Fl.x||Fl.y}function Bk(t){return t==="x"||t==="y"?Fl[t]?null:(Fl[t]=!0,()=>{Fl[t]=!1}):Fl.x||Fl.y?null:(Fl.x=Fl.y=!0,()=>{Fl.x=Fl.y=!1})}function p6(t,n){const e=Pk(t),r=new AbortController,i={passive:!0,...n,signal:r.signal};return[e,i,()=>r.abort()]}function dw(t){return!(t.pointerType==="touch"||f6())}function Gk(t,n,e={}){const[r,i,a]=p6(t,e),s=l=>{if(!dw(l))return;const{target:c}=l,d=n(c,l);if(typeof d!="function"||!c)return;const f=v=>{dw(v)&&(d(v),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",s,i)}),a}const m6=(t,n)=>n?t===n?!0:m6(t,n.parentElement):!1,PA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Vk(t){return zk.has(t.tagName)||t.tabIndex!==-1}const Lb=new WeakSet;function hw(t){return n=>{n.key==="Enter"&&t(n)}}function MT(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const qk=(t,n)=>{const e=t.currentTarget;if(!e)return;const r=hw(()=>{if(Lb.has(e))return;MT(e,"down");const i=hw(()=>{MT(e,"up")}),a=()=>MT(e,"cancel");e.addEventListener("keyup",i,n),e.addEventListener("blur",a,n)});e.addEventListener("keydown",r,n),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),n)};function fw(t){return PA(t)&&!f6()}function jk(t,n,e={}){const[r,i,a]=p6(t,e),s=l=>{const c=l.currentTarget;if(!fw(l))return;Lb.add(c);const d=n(c,l),f=(y,b)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",g),Lb.has(c)&&Lb.delete(c),fw(y)&&typeof d=="function"&&d(y,{success:b})},v=y=>{f(y,c===window||c===document||e.useGlobalTarget||m6(c,y.target))},g=y=>{f(y,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(e.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),h6(l)&&(l.addEventListener("focus",d=>qk(d,i)),!Vk(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function v6(t){return ID(t)&&"ownerSVGElement"in t}function $k(t){return v6(t)&&t.tagName==="svg"}const qa=t=>!!(t&&t.getVelocity),Kk=[...l6,Pi,yh],Yk=t=>Kk.find(o6(t)),FA=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function pw(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function Wk(...t){return n=>{let e=!1;const r=t.map(i=>{const a=pw(i,n);return!e&&typeof a=="function"&&(e=!0),a});if(e)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():pw(t[i],null)}}}}function Qk(...t){return D.useCallback(Wk(...t),t)}class Xk extends D.Component{getSnapshotBeforeUpdate(n){const e=this.props.childRef.current;if(e&&n.isPresent&&!this.props.isPresent){const r=e.offsetParent,i=h6(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=e.offsetHeight||0,a.width=e.offsetWidth||0,a.top=e.offsetTop,a.left=e.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Zk({children:t,isPresent:n,anchorX:e,root:r}){const i=D.useId(),a=D.useRef(null),s=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=D.useContext(FA),c=Qk(a,t?.ref);return D.useInsertionEffect(()=>{const{width:d,height:f,top:v,left:g,right:y}=s.current;if(n||!a.current||!d||!f)return;const b=e==="left"?`left: ${g}`:`right: ${y}`;a.current.dataset.motionPopId=i;const C=document.createElement("style");l&&(C.nonce=l);const w=r??document.head;return w.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${v}px !important;
          }
        `),()=>{w.contains(C)&&w.removeChild(C)}},[n]),re.jsx(Xk,{isPresent:n,childRef:a,sizeRef:s,children:D.cloneElement(t,{ref:c})})}const Jk=({children:t,initial:n,isPresent:e,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:l,root:c})=>{const d=mA(eP),f=D.useId();let v=!0,g=D.useMemo(()=>(v=!1,{id:f,initial:n,isPresent:e,custom:i,onExitComplete:y=>{d.set(y,!0);for(const b of d.values())if(!b)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[e,d,r]);return a&&v&&(g={...g}),D.useMemo(()=>{d.forEach((y,b)=>d.set(b,!1))},[e]),D.useEffect(()=>{!e&&!d.size&&r&&r()},[e]),s==="popLayout"&&(t=re.jsx(Zk,{isPresent:e,anchorX:l,root:c,children:t})),re.jsx($1.Provider,{value:g,children:t})};function eP(){return new Map}function _6(t=!0){const n=D.useContext($1);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:i}=n,a=D.useId();D.useEffect(()=>{if(t)return i(a)},[t]);const s=D.useCallback(()=>t&&r&&r(a),[a,r,t]);return!e&&r?[!1,s]:[!0]}const ib=t=>t.key||"";function mw(t){const n=[];return D.Children.forEach(t,e=>{D.isValidElement(e)&&n.push(e)}),n}const JC=({children:t,custom:n,initial:e=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:l="left",root:c})=>{const[d,f]=_6(s),v=D.useMemo(()=>mw(t),[t]),g=s&&!d?[]:v.map(ib),y=D.useRef(!0),b=D.useRef(v),C=mA(()=>new Map),[w,I]=D.useState(v),[M,R]=D.useState(v);AD(()=>{y.current=!1,b.current=v;for(let P=0;P<M.length;P++){const G=ib(M[P]);g.includes(G)?C.delete(G):C.get(G)!==!0&&C.set(G,!1)}},[M,g.length,g.join("-")]);const U=[];if(v!==w){let P=[...v];for(let G=0;G<M.length;G++){const Y=M[G],F=ib(Y);g.includes(F)||(P.splice(G,0,Y),U.push(Y))}return a==="wait"&&U.length&&(P=U),R(mw(P)),I(v),null}const{forceRender:H}=D.useContext(pA);return re.jsx(re.Fragment,{children:M.map(P=>{const G=ib(P),Y=s&&!d?!1:v===M||g.includes(G),F=()=>{if(C.has(G))C.set(G,!0);else return;let te=!0;C.forEach(J=>{J||(te=!1)}),te&&(H?.(),R(b.current),s&&f?.(),r&&r())};return re.jsx(Jk,{isPresent:Y,initial:!y.current||e?void 0:!1,custom:n,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:Y?void 0:F,anchorX:l,children:P},G)})})},g6=D.createContext({strict:!1}),vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vv={};for(const t in vw)vv[t]={isEnabled:n=>vw[t].some(e=>!!n[e])};function tP(t){for(const n in t)vv[n]={...vv[n],...t[n]}}const nP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function n1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nP.has(t)}let y6=t=>!n1(t);function rP(t){typeof t=="function"&&(y6=n=>n.startsWith("on")?!n1(n):t(n))}try{rP(require("@emotion/is-prop-valid").default)}catch{}function iP(t,n,e){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(y6(i)||e===!0&&n1(i)||!n&&!n1(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const K1=D.createContext({});function Y1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function T0(t){return typeof t=="string"||Array.isArray(t)}const HA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BA=["initial",...HA];function W1(t){return Y1(t.animate)||BA.some(n=>T0(t[n]))}function E6(t){return!!(W1(t)||t.variants)}function aP(t,n){if(W1(t)){const{initial:e,animate:r}=t;return{initial:e===!1||T0(e)?e:void 0,animate:T0(r)?r:void 0}}return t.inherit!==!1?n:{}}function sP(t){const{initial:n,animate:e}=aP(t,D.useContext(K1));return D.useMemo(()=>({initial:n,animate:e}),[_w(n),_w(e)])}function _w(t){return Array.isArray(t)?t.join(" "):t}const C0={};function oP(t){for(const n in t)C0[n]=t[n],SA(n)&&(C0[n].isCSSVariable=!0)}function b6(t,{layout:n,layoutId:e}){return Iv.has(t)||t.startsWith("origin")||(n||e!==void 0)&&(!!C0[t]||t==="opacity")}const lP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uP=wv.length;function cP(t,n,e){let r="",i=!0;for(let a=0;a<uP;a++){const s=wv[a],l=t[s];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(s.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||e){const d=d6(l,UA[s]);if(!c){i=!1;const f=lP[s]||s;r+=`${f}(${d}) `}e&&(n[s]=d)}}return r=r.trim(),e?r=e(n,i?"":r):i&&(r="none"),r}function GA(t,n,e){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,l=!1;for(const c in n){const d=n[c];if(Iv.has(c)){s=!0;continue}else if(SA(c)){i[c]=d;continue}else{const f=d6(d,UA[c]);c.startsWith("origin")?(l=!0,a[c]=f):r[c]=f}}if(n.transform||(s||e?r.transform=cP(n,t.transform,e):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=a;r.transformOrigin=`${c} ${d} ${f}`}}const zA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function T6(t,n,e){for(const r in n)!qa(n[r])&&!b6(r,e)&&(t[r]=n[r])}function dP({transformTemplate:t},n){return D.useMemo(()=>{const e=zA();return GA(e,n,t),Object.assign({},e.vars,e.style)},[n])}function hP(t,n){const e=t.style||{},r={};return T6(r,e,t),Object.assign(r,dP(t,n)),r}function fP(t,n){const e={},r=hP(t,n);return t.drag&&t.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(e.tabIndex=0),e.style=r,e}const pP={offset:"stroke-dashoffset",array:"stroke-dasharray"},mP={offset:"strokeDashoffset",array:"strokeDasharray"};function vP(t,n,e=1,r=0,i=!0){t.pathLength=1;const a=i?pP:mP;t[a.offset]=Qt.transform(-r);const s=Qt.transform(n),l=Qt.transform(e);t[a.array]=`${s} ${l}`}function C6(t,{attrX:n,attrY:e,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...l},c,d,f){if(GA(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:g}=t;v.transform&&(g.transform=v.transform,delete v.transform),(g.transform||v.transformOrigin)&&(g.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete v.transformBox),n!==void 0&&(v.x=n),e!==void 0&&(v.y=e),r!==void 0&&(v.scale=r),i!==void 0&&vP(v,i,a,s,!1)}const S6=()=>({...zA(),attrs:{}}),N6=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _P(t,n,e,r){const i=D.useMemo(()=>{const a=S6();return C6(a,n,N6(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[n]);if(t.style){const a={};T6(a,t.style,t),i.style={...a,...i.style}}return i}const gP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function VA(t){return typeof t!="string"||t.includes("-")?!1:!!(gP.indexOf(t)>-1||/[A-Z]/u.test(t))}function yP(t,n,e,{latestValues:r},i,a=!1){const l=(VA(t)?_P:fP)(n,r,i,t),c=iP(n,typeof t=="string",a),d=t!==D.Fragment?{...c,...l,ref:e}:{},{children:f}=n,v=D.useMemo(()=>qa(f)?f.get():f,[f]);return D.createElement(t,{...d,children:v})}function gw(t){const n=[{},{}];return t?.values.forEach((e,r)=>{n[0][r]=e.get(),n[1][r]=e.getVelocity()}),n}function qA(t,n,e,r){if(typeof n=="function"){const[i,a]=gw(r);n=n(e!==void 0?e:t.custom,i,a)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[i,a]=gw(r);n=n(e!==void 0?e:t.custom,i,a)}return n}function Ub(t){return qa(t)?t.get():t}function EP({scrapeMotionValuesFromProps:t,createRenderState:n},e,r,i){return{latestValues:bP(e,r,i,t),renderState:n()}}function bP(t,n,e,r){const i={},a=r(t,{});for(const g in a)i[g]=Ub(a[g]);let{initial:s,animate:l}=t;const c=W1(t),d=E6(t);n&&d&&!c&&t.inherit!==!1&&(s===void 0&&(s=n.initial),l===void 0&&(l=n.animate));let f=e?e.initial===!1:!1;f=f||s===!1;const v=f?l:s;if(v&&typeof v!="boolean"&&!Y1(v)){const g=Array.isArray(v)?v:[v];for(let y=0;y<g.length;y++){const b=qA(t,g[y]);if(b){const{transitionEnd:C,transition:w,...I}=b;for(const M in I){let R=I[M];if(Array.isArray(R)){const U=f?R.length-1:0;R=R[U]}R!==null&&(i[M]=R)}for(const M in C)i[M]=C[M]}}}return i}const A6=t=>(n,e)=>{const r=D.useContext(K1),i=D.useContext($1),a=()=>EP(t,n,r,i);return e?a():mA(a)};function jA(t,n,e){const{style:r}=t,i={};for(const a in r)(qa(r[a])||n.style&&qa(n.style[a])||b6(a,t)||e?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const TP=A6({scrapeMotionValuesFromProps:jA,createRenderState:zA});function w6(t,n,e){const r=jA(t,n,e);for(const i in t)if(qa(t[i])||qa(n[i])){const a=wv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const CP=A6({scrapeMotionValuesFromProps:w6,createRenderState:S6}),SP=Symbol.for("motionComponentSymbol");function av(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NP(t,n,e){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),n&&(r?n.mount(r):n.unmount()),e&&(typeof e=="function"?e(r):av(e)&&(e.current=r))},[n])}const $A=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AP="framerAppearId",I6="data-"+$A(AP),M6=D.createContext({});function wP(t,n,e,r,i){const{visualElement:a}=D.useContext(K1),s=D.useContext(g6),l=D.useContext($1),c=D.useContext(FA).reducedMotion,d=D.useRef(null);r=r||s.renderer,!d.current&&r&&(d.current=r(t,{visualState:n,parent:a,props:e,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,v=D.useContext(M6);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&IP(d.current,e,i,v);const g=D.useRef(!1);D.useInsertionEffect(()=>{f&&g.current&&f.update(e,l)});const y=e[I6],b=D.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return AD(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),D.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),b.current=!1),f.enteringChildren=void 0)}),f}function IP(t,n,e,r){const{layoutId:i,layout:a,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=n;t.projection=new e(t.latestValues,n["data-framer-portal-id"]?void 0:O6(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||l&&av(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function O6(t){if(t)return t.options.allowProjection!==!1?t.projection:O6(t.parent)}function OT(t,{forwardMotionProps:n=!1}={},e,r){e&&tP(e);const i=VA(t)?CP:TP;function a(l,c){let d;const f={...D.useContext(FA),...l,layoutId:MP(l)},{isStatic:v}=f,g=sP(l),y=i(l,v);if(!v&&vA){OP();const b=RP(f);d=b.MeasureLayout,g.visualElement=wP(t,y,f,r,b.ProjectionNode)}return re.jsxs(K1.Provider,{value:g,children:[d&&g.visualElement?re.jsx(d,{visualElement:g.visualElement,...f}):null,yP(t,l,NP(y,g.visualElement,c),y,v,n)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=D.forwardRef(a);return s[SP]=t,s}function MP({layoutId:t}){const n=D.useContext(pA).id;return n&&t!==void 0?n+"-"+t:t}function OP(t,n){D.useContext(g6).strict}function RP(t){const{drag:n,layout:e}=vv;if(!n&&!e)return{};const r={...n,...e};return{MeasureLayout:n?.isEnabled(t)||e?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function DP(t,n){if(typeof Proxy>"u")return OT;const e=new Map,r=(a,s)=>OT(a,s,t,n),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(e.has(s)||e.set(s,OT(s,void 0,t,n)),e.get(s))})}function R6({top:t,left:n,right:e,bottom:r}){return{x:{min:n,max:e},y:{min:t,max:r}}}function xP({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function LP(t,n){if(!n)return t;const e=n({x:t.left,y:t.top}),r=n({x:t.right,y:t.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function RT(t){return t===void 0||t===1}function eS({scale:t,scaleX:n,scaleY:e}){return!RT(t)||!RT(n)||!RT(e)}function qf(t){return eS(t)||D6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function D6(t){return yw(t.x)||yw(t.y)}function yw(t){return t&&t!=="0%"}function r1(t,n,e){const r=t-e,i=n*r;return e+i}function Ew(t,n,e,r,i){return i!==void 0&&(t=r1(t,i,r)),r1(t,e,r)+n}function tS(t,n=0,e=1,r,i){t.min=Ew(t.min,n,e,r,i),t.max=Ew(t.max,n,e,r,i)}function x6(t,{x:n,y:e}){tS(t.x,n.translate,n.scale,n.originPoint),tS(t.y,e.translate,e.scale,e.originPoint)}const bw=.999999999999,Tw=1.0000000000001;function UP(t,n,e,r=!1){const i=e.length;if(!i)return;n.x=n.y=1;let a,s;for(let l=0;l<i;l++){a=e[l],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ov(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(n.x*=s.x.scale,n.y*=s.y.scale,x6(t,s)),r&&qf(a.latestValues)&&ov(t,a.latestValues))}n.x<Tw&&n.x>bw&&(n.x=1),n.y<Tw&&n.y>bw&&(n.y=1)}function sv(t,n){t.min=t.min+n,t.max=t.max+n}function Cw(t,n,e,r,i=.5){const a=si(t.min,t.max,i);tS(t,n,e,a,r)}function ov(t,n){Cw(t.x,n.x,n.scaleX,n.scale,n.originX),Cw(t.y,n.y,n.scaleY,n.scale,n.originY)}function L6(t,n){return R6(LP(t.getBoundingClientRect(),n))}function kP(t,n,e){const r=L6(t,e),{scroll:i}=n;return i&&(sv(r.x,i.offset.x),sv(r.y,i.offset.y)),r}const Sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),lv=()=>({x:Sw(),y:Sw()}),Nw=()=>({min:0,max:0}),Ii=()=>({x:Nw(),y:Nw()}),nS={current:null},U6={current:!1};function PP(){if(U6.current=!0,!!vA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>nS.current=t.matches;t.addEventListener("change",n),n()}else nS.current=!1}const FP=new WeakMap;function HP(t,n,e){for(const r in n){const i=n[r],a=e[r];if(qa(i))t.addValue(r,i);else if(qa(a))t.addValue(r,mv(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,mv(s!==void 0?s:i,{owner:t}))}}for(const r in e)n[r]===void 0&&t.removeValue(r);return n}const Aw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BP{scrapeMotionValuesFromProps(n,e,r){return{}}constructor({parent:n,props:e,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=js.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ei.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=e.initial?{...c}:{},this.renderState=d,this.parent=n,this.props=e,this.presenceContext=r,this.depth=n?n.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=W1(e),this.isVariantNode=E6(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:f,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const g in v){const y=v[g];c[g]!==void 0&&qa(y)&&y.set(c[g])}}mount(n){this.current=n,FP.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),U6.current||PP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nS.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gh(this.notifyUpdate),gh(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const e=this.features[n];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,e){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const r=Iv.has(n);r&&this.onBindTransform&&this.onBindTransform();const i=e.on("change",s=>{this.latestValues[n]=s,this.props.onUpdate&&ei.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,n,e)),this.valueSubscriptions.set(n,()=>{i(),a&&a(),e.owner&&e.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in vv){const e=vv[n];if(!e)continue;const{isEnabled:r,Feature:i}=e;if(!this.features[n]&&i&&r(this.props)&&(this.features[n]=new i(this)),this.features[n]){const a=this.features[n];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ii()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,e){this.latestValues[n]=e}update(n,e){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<Aw.length;r++){const i=Aw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=n[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=HP(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(n),()=>e.variantChildren.delete(n)}addValue(n,e){const r=this.values.get(n);e!==r&&(r&&this.removeValue(n),this.bindToMotionValue(n,e),this.values.set(n,e),this.latestValues[n]=e.get())}removeValue(n){this.values.delete(n);const e=this.valueSubscriptions.get(n);e&&(e(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,e){if(this.props.values&&this.props.values[n])return this.props.values[n];let r=this.values.get(n);return r===void 0&&e!==void 0&&(r=mv(e===null?void 0:e,{owner:this}),this.addValue(n,r)),r}readValue(n,e){let r=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return r!=null&&(typeof r=="string"&&(wD(r)||MD(r))?r=parseFloat(r):!Yk(r)&&yh.test(e)&&(r=c6(n,e)),this.setBaseTarget(n,qa(r)?r.get():r)),qa(r)?r.get():r}setBaseTarget(n,e){this.baseTarget[n]=e}getBaseTarget(n){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const a=qA(this.props,e,this.presenceContext?.custom);a&&(r=a[n])}if(e&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,n);return i!==void 0&&!qa(i)?i:this.initialValues[n]!==void 0&&r===void 0?void 0:this.baseTarget[n]}on(n,e){return this.events[n]||(this.events[n]=new bA),this.events[n].add(e)}notify(n,...e){this.events[n]&&this.events[n].notify(...e)}scheduleRenderMicrotask(){kA.render(this.render)}}class k6 extends BP{constructor(){super(...arguments),this.KeyframeResolver=kk}sortInstanceNodePosition(n,e){return n.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(n,e){return n.style?n.style[e]:void 0}removeValueFromRenderState(n,{vars:e,style:r}){delete e[n],delete r[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;qa(n)&&(this.childSubscription=n.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function P6(t,{style:n,vars:e},r,i){const a=t.style;let s;for(s in n)a[s]=n[s];i?.applyProjectionStyles(a,r);for(s in e)a.setProperty(s,e[s])}function GP(t){return window.getComputedStyle(t)}class zP extends k6{constructor(){super(...arguments),this.type="html",this.renderInstance=P6}readValueFromInstance(n,e){if(Iv.has(e))return this.projection?.isProjecting?$C(e):tk(n,e);{const r=GP(n),i=(SA(e)?r.getPropertyValue(e):r[e])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(n,{transformPagePoint:e}){return L6(n,e)}build(n,e,r){GA(n,e,r.transformTemplate)}scrapeMotionValuesFromProps(n,e,r){return jA(n,e,r)}}const F6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VP(t,n,e,r){P6(t,n,void 0,r);for(const i in n.attrs)t.setAttribute(F6.has(i)?i:$A(i),n.attrs[i])}class qP extends k6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ii}getBaseTargetFromProps(n,e){return n[e]}readValueFromInstance(n,e){if(Iv.has(e)){const r=u6(e);return r&&r.default||0}return e=F6.has(e)?e:$A(e),n.getAttribute(e)}scrapeMotionValuesFromProps(n,e,r){return w6(n,e,r)}build(n,e,r){C6(n,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(n,e,r,i){VP(n,e,r,i)}mount(n){this.isSVGTag=N6(n.tagName),super.mount(n)}}const jP=(t,n)=>VA(t)?new qP(n):new zP(n,{allowProjection:t!==D.Fragment});function dv(t,n,e){const r=t.getProps();return qA(r,n,e!==void 0?e:r.custom,t)}const rS=t=>Array.isArray(t);function $P(t,n,e){t.hasValue(n)?t.getValue(n).set(e):t.addValue(n,mv(e))}function KP(t){return rS(t)?t[t.length-1]||0:t}function YP(t,n){const e=dv(t,n);let{transitionEnd:r={},transition:i={},...a}=e||{};a={...a,...r};for(const s in a){const l=KP(a[s]);$P(t,s,l)}}function WP(t){return!!(qa(t)&&t.add)}function iS(t,n){const e=t.getValue("willChange");if(WP(e))return e.add(n);if(!e&&Gc.WillChange){const r=new Gc.WillChange("auto");t.addValue("willChange",r),r.add(n)}}function H6(t){return t.props[I6]}const QP=t=>t!==null;function XP(t,{repeat:n,repeatType:e="loop"},r){const i=t.filter(QP),a=n&&e!=="loop"&&n%2===1?0:i.length-1;return i[a]}const ZP={type:"spring",stiffness:500,damping:25,restSpeed:10},JP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),e7={type:"keyframes",duration:.8},t7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n7=(t,{keyframes:n})=>n.length>2?e7:Iv.has(t)?t.startsWith("scale")?JP(n[1]):ZP:t7;function r7({when:t,delay:n,delayChildren:e,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const KA=(t,n,e,r={},i,a)=>s=>{const l=LA(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Hu(c);const f={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:n.getVelocity(),...l,delay:-d,onUpdate:g=>{n.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:t,motionValue:n,element:a?void 0:i};r7(l)||Object.assign(f,n7(t,f)),f.duration&&(f.duration=Hu(f.duration)),f.repeatDelay&&(f.repeatDelay=Hu(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let v=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(XC(f),f.delay===0&&(v=!0)),(Gc.instantAnimations||Gc.skipAnimations)&&(v=!0,XC(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,v&&!a&&n.get()!==void 0){const g=XP(f.keyframes,l);if(g!==void 0){ei.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new DA(f):new Sk(f)};function i7({protectedKeys:t,needsAnimating:n},e){const r=t.hasOwnProperty(e)&&n[e]!==!0;return n[e]=!1,r}function B6(t,n,{delay:e=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...l}=n;r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const v=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||d&&i7(d,f))continue;const y={delay:e,...LA(a||{},f)},b=v.get();if(b!==void 0&&!v.isAnimating&&!Array.isArray(g)&&g===b&&!y.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const I=H6(t);if(I){const M=window.MotionHandoffAnimation(I,f,ei);M!==null&&(y.startTime=M,C=!0)}}iS(t,f),v.start(KA(f,v,g,t.shouldReduceMotion&&s6.has(f)?{type:!1}:y,t,C));const w=v.animation;w&&c.push(w)}return s&&Promise.all(c).then(()=>{ei.update(()=>{s&&YP(t,s)})}),c}function G6(t,n,e,r=0,i=1){const a=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(n),s=t.size,l=(s-1)*r;return typeof e=="function"?e(a,s):i===1?a*r:l-a*r}function aS(t,n,e={}){const r=dv(t,n,e.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(i=e.transitionOverride);const a=r?()=>Promise.all(B6(t,r,e)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:v}=i;return a7(t,n,c,d,f,v,e)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[a,s]:[s,a];return c().then(()=>d())}else return Promise.all([a(),s(e.delay)])}function a7(t,n,e=0,r=0,i=0,a=1,s){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",n),l.push(aS(c,n,{...s,delay:e+(typeof r=="function"?0:r)+G6(t.variantChildren,c,r,i,a)}).then(()=>c.notify("AnimationComplete",n)));return Promise.all(l)}function s7(t,n,e={}){t.notify("AnimationStart",n);let r;if(Array.isArray(n)){const i=n.map(a=>aS(t,a,e));r=Promise.all(i)}else if(typeof n=="string")r=aS(t,n,e);else{const i=typeof n=="function"?dv(t,n,e.custom):n;r=Promise.all(B6(t,i,e))}return r.then(()=>{t.notify("AnimationComplete",n)})}function z6(t,n){if(!Array.isArray(n))return!1;const e=n.length;if(e!==t.length)return!1;for(let r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}const o7=BA.length;function V6(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent?V6(t.parent)||{}:{};return t.props.initial!==void 0&&(e.initial=t.props.initial),e}const n={};for(let e=0;e<o7;e++){const r=BA[e],i=t.props[r];(T0(i)||i===!1)&&(n[r]=i)}return n}const l7=[...HA].reverse(),u7=HA.length;function c7(t){return n=>Promise.all(n.map(({animation:e,options:r})=>s7(t,e,r)))}function d7(t){let n=c7(t),e=ww(),r=!0;const i=c=>(d,f)=>{const v=dv(t,f,c==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:g,transitionEnd:y,...b}=v;d={...d,...b,...y}}return d};function a(c){n=c(t)}function s(c){const{props:d}=t,f=V6(t.parent)||{},v=[],g=new Set;let y={},b=1/0;for(let w=0;w<u7;w++){const I=l7[w],M=e[I],R=d[I]!==void 0?d[I]:f[I],U=T0(R),H=I===c?M.isActive:null;H===!1&&(b=w);let P=R===f[I]&&R!==d[I]&&U;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),M.protectedKeys={...y},!M.isActive&&H===null||!R&&!M.prevProp||Y1(R)||typeof R=="boolean")continue;const G=h7(M.prevProp,R);let Y=G||I===c&&M.isActive&&!P&&U||w>b&&U,F=!1;const te=Array.isArray(R)?R:[R];let J=te.reduce(i(I),{});H===!1&&(J={});const{prevResolvedValues:ne={}}=M,Oe={...ne,...J},X=le=>{Y=!0,g.has(le)&&(F=!0,g.delete(le)),M.needsAnimating[le]=!0;const he=t.getValue(le);he&&(he.liveStyle=!1)};for(const le in Oe){const he=J[le],xe=ne[le];if(y.hasOwnProperty(le))continue;let Ge=!1;rS(he)&&rS(xe)?Ge=!z6(he,xe):Ge=he!==xe,Ge?he!=null?X(le):g.add(le):he!==void 0&&g.has(le)?X(le):M.protectedKeys[le]=!0}M.prevProp=R,M.prevResolvedValues=J,M.isActive&&(y={...y,...J}),r&&t.blockInitialAnimation&&(Y=!1);const se=P&&G;Y&&(!se||F)&&v.push(...te.map(le=>{const he={type:I};if(typeof le=="string"&&r&&!se&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Ge=dv(xe,le);if(xe.enteringChildren&&Ge){const{delayChildren:Q}=Ge.transition||{};he.delay=G6(xe.enteringChildren,t,Q)}}return{animation:le,options:he}}))}if(g.size){const w={};if(typeof d.initial!="boolean"){const I=dv(t,Array.isArray(d.initial)?d.initial[0]:d.initial);I&&I.transition&&(w.transition=I.transition)}g.forEach(I=>{const M=t.getBaseTarget(I),R=t.getValue(I);R&&(R.liveStyle=!0),w[I]=M??null}),v.push({animation:w})}let C=!!v.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?n(v):Promise.resolve()}function l(c,d){if(e[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(c,d)),e[c].isActive=d;const f=s(c);for(const v in e)e[v].protectedKeys={};return f}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>e,reset:()=>{e=ww()}}}function h7(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!z6(n,t):!1}function kf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ww(){return{animate:kf(!0),whileInView:kf(),whileHover:kf(),whileTap:kf(),whileDrag:kf(),whileFocus:kf(),exit:kf()}}class Ch{constructor(n){this.isMounted=!1,this.node=n}update(){}}class f7 extends Ch{constructor(n){super(n),n.animationState||(n.animationState=d7(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Y1(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:e}=this.node.prevProps||{};n!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let p7=0;class m7 extends Ch{constructor(){super(...arguments),this.id=p7++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===r)return;const i=this.node.animationState.setActive("exit",!n);e&&!n&&i.then(()=>{e(this.id)})}mount(){const{register:n,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const v7={animation:{Feature:f7},exit:{Feature:m7}};function S0(t,n,e,r={passive:!0}){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e)}function B0(t){return{point:{x:t.pageX,y:t.pageY}}}const _7=t=>n=>PA(n)&&t(n,B0(n));function Wg(t,n,e,r){return S0(t,n,_7(e),r)}const q6=1e-4,g7=1-q6,y7=1+q6,j6=.01,E7=0-j6,b7=0+j6;function ys(t){return t.max-t.min}function T7(t,n,e){return Math.abs(t-n)<=e}function Iw(t,n,e,r=.5){t.origin=r,t.originPoint=si(n.min,n.max,t.origin),t.scale=ys(e)/ys(n),t.translate=si(e.min,e.max,t.origin)-t.originPoint,(t.scale>=g7&&t.scale<=y7||isNaN(t.scale))&&(t.scale=1),(t.translate>=E7&&t.translate<=b7||isNaN(t.translate))&&(t.translate=0)}function Qg(t,n,e,r){Iw(t.x,n.x,e.x,r?r.originX:void 0),Iw(t.y,n.y,e.y,r?r.originY:void 0)}function Mw(t,n,e){t.min=e.min+n.min,t.max=t.min+ys(n)}function C7(t,n,e){Mw(t.x,n.x,e.x),Mw(t.y,n.y,e.y)}function Ow(t,n,e){t.min=n.min-e.min,t.max=t.min+ys(n)}function Xg(t,n,e){Ow(t.x,n.x,e.x),Ow(t.y,n.y,e.y)}function jo(t){return[t("x"),t("y")]}const $6=({current:t})=>t?t.ownerDocument.defaultView:null,Rw=(t,n)=>Math.abs(t-n);function S7(t,n){const e=Rw(t.x,n.x),r=Rw(t.y,n.y);return Math.sqrt(e**2+r**2)}class K6{constructor(n,e,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=xT(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=S7(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:C}=g,{timestamp:w}=ya;this.history.push({...C,timestamp:w});const{onStart:I,onMove:M}=this.handlers;y||(I&&I(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=DT(y,this.transformPagePoint),ei.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=xT(g.type==="pointercancel"?this.lastMoveEventInfo:DT(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,I),C&&C(g,I)},!PA(n))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const l=B0(n),c=DT(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=ya;this.history=[{...d,timestamp:f}];const{onSessionStart:v}=e;v&&v(n,xT(c,this.history)),this.removeListeners=P0(Wg(this.contextWindow,"pointermove",this.handlePointerMove),Wg(this.contextWindow,"pointerup",this.handlePointerUp),Wg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),gh(this.updatePoint)}}function DT(t,n){return n?{point:n(t.point)}:t}function Dw(t,n){return{x:t.x-n.x,y:t.y-n.y}}function xT({point:t},n){return{point:t,delta:Dw(t,Y6(n)),offset:Dw(t,N7(n)),velocity:A7(n,.1)}}function N7(t){return t[0]}function Y6(t){return t[t.length-1]}function A7(t,n){if(t.length<2)return{x:0,y:0};let e=t.length-1,r=null;const i=Y6(t);for(;e>=0&&(r=t[e],!(i.timestamp-r.timestamp>Hu(n)));)e--;if(!r)return{x:0,y:0};const a=Zo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function w7(t,{min:n,max:e},r){return n!==void 0&&t<n?t=r?si(n,t,r.min):Math.max(t,n):e!==void 0&&t>e&&(t=r?si(e,t,r.max):Math.min(t,e)),t}function xw(t,n,e){return{min:n!==void 0?t.min+n:void 0,max:e!==void 0?t.max+e-(t.max-t.min):void 0}}function I7(t,{top:n,left:e,bottom:r,right:i}){return{x:xw(t.x,e,i),y:xw(t.y,n,r)}}function Lw(t,n){let e=n.min-t.min,r=n.max-t.max;return n.max-n.min<t.max-t.min&&([e,r]=[r,e]),{min:e,max:r}}function M7(t,n){return{x:Lw(t.x,n.x),y:Lw(t.y,n.y)}}function O7(t,n){let e=.5;const r=ys(t),i=ys(n);return i>r?e=y0(n.min,n.max-r,t.min):r>i&&(e=y0(t.min,t.max-i,n.min)),Bc(0,1,e)}function R7(t,n){const e={};return n.min!==void 0&&(e.min=n.min-t.min),n.max!==void 0&&(e.max=n.max-t.min),e}const sS=.35;function D7(t=sS){return t===!1?t=0:t===!0&&(t=sS),{x:Uw(t,"left","right"),y:Uw(t,"top","bottom")}}function Uw(t,n,e){return{min:kw(t,n),max:kw(t,e)}}function kw(t,n){return typeof t=="number"?t:t[n]||0}const x7=new WeakMap;class L7{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ii(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(B0(v).point)},s=(v,g)=>{const{drag:y,dragPropagation:b,onDragStart:C}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bk(y),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jo(I=>{let M=this.getAxisMotionValue(I).get()||0;if(Bu.test(M)){const{projection:R}=this.visualElement;if(R&&R.layout){const U=R.layout.layoutBox[I];U&&(M=ys(U)*(parseFloat(M)/100))}}this.originPoint[I]=M}),C&&ei.postRender(()=>C(v,g)),iS(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(v,g)=>{this.latestPointerEvent=v,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:C,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:I}=g;if(b&&this.currentDirection===null){this.currentDirection=U7(I),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",g.point,I),this.updateAxis("y",g.point,I),this.visualElement.render(),w&&w(v,g)},c=(v,g)=>{this.latestPointerEvent=v,this.latestPanInfo=g,this.stop(v,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>jo(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new K6(n,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:$6(this.visualElement)})}stop(n,e){const r=n||this.latestPointerEvent,i=e||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&ei.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:n,animationState:e}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(n,e,r){const{drag:i}=this.getProps();if(!r||!ab(n,i,this.currentDirection))return;const a=this.getAxisMotionValue(n);let s=this.originPoint[n]+r[n];this.constraints&&this.constraints[n]&&(s=w7(s,this.constraints[n],this.elastic[n])),a.set(s)}resolveConstraints(){const{dragConstraints:n,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;n&&av(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=I7(r.layoutBox,n):this.constraints=!1,this.elastic=D7(e),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=R7(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:e}=this.getProps();if(!n||!av(n))return!1;const r=n.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=kP(r,i.root,this.visualElement.getTransformPagePoint());let s=M7(i.layout.layoutBox,a);if(e){const l=e(xP(s));this.hasMutatedConstraints=!!l,l&&(s=R6(l))}return s}startAnimation(n){const{drag:e,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=jo(f=>{if(!ab(f,e,this.currentDirection))return;let v=c&&c[f]||{};s&&(v={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,b={type:"inertia",velocity:r?n[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(l)}startAxisValueAnimation(n,e){const r=this.getAxisMotionValue(n);return iS(this.visualElement,n),r.start(KA(n,r,0,e,this.visualElement,!1))}stopAnimation(){jo(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){jo(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const e=`_drag${n.toUpperCase()}`,r=this.visualElement.getProps(),i=r[e];return i||this.visualElement.getValue(n,(r.initial?r.initial[n]:void 0)||0)}snapToCursor(n){jo(e=>{const{drag:r}=this.getProps();if(!ab(e,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(e);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[e];a.set(n[e]-si(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!av(e)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jo(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();i[s]=O7({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jo(s=>{if(!ab(s,n,null))return;const l=this.getAxisMotionValue(s),{min:c,max:d}=this.constraints[s];l.set(si(c,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;x7.set(this.visualElement,this);const n=this.visualElement.current,e=Wg(n,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();av(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ei.read(r);const s=S0(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(jo(f=>{const v=this.getAxisMotionValue(f);v&&(this.originPoint[f]+=c[f].translate,v.set(v.get()+c[f].translate))}),this.visualElement.render())}));return()=>{s(),e(),a(),l&&l()}}getProps(){const n=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=sS,dragMomentum:l=!0}=n;return{...n,drag:e,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function ab(t,n,e){return(n===!0||n===t)&&(e===null||e===t)}function U7(t,n=10){let e=null;return Math.abs(t.y)>n?e="y":Math.abs(t.x)>n&&(e="x"),e}class k7 extends Ch{constructor(n){super(n),this.removeGroupControls=tl,this.removeListeners=tl,this.controls=new L7(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tl}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pw=t=>(n,e)=>{t&&ei.postRender(()=>t(n,e))};class P7 extends Ch{constructor(){super(...arguments),this.removePointerDownListener=tl}onPointerDown(n){this.session=new K6(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$6(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:e,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Pw(n),onStart:Pw(e),onMove:r,onEnd:(a,s)=>{delete this.session,i&&ei.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Wg(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fw(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const Sg={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(Qt.test(t))t=parseFloat(t);else return t;const e=Fw(t,n.target.x),r=Fw(t,n.target.y);return`${e}% ${r}%`}},F7={correct:(t,{treeScale:n,projectionDelta:e})=>{const r=t,i=yh.parse(t);if(i.length>5)return r;const a=yh.createTransformer(t),s=typeof i[0]!="number"?1:0,l=e.x.scale*n.x,c=e.y.scale*n.y;i[0+s]/=l,i[1+s]/=c;const d=si(l,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),a(i)}};let LT=!1;class H7 extends D.Component{componentDidMount(){const{visualElement:n,layoutGroup:e,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=n;oP(B7),a&&(e.group&&e.group.add(a),r&&r.register&&i&&r.register(a),LT&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kb.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:e,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,LT=!0,i||n.layoutDependency!==e||e===void 0||n.isPresent!==a?s.willUpdate():this.safeToRemove(),n.isPresent!==a&&(a?s.promote():s.relegate()||ei.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),kA.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:i}=n;LT=!0,i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function W6(t){const[n,e]=_6(),r=D.useContext(pA);return re.jsx(H7,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(M6),isPresent:n,safeToRemove:e})}const B7={borderRadius:{...Sg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sg,borderTopRightRadius:Sg,borderBottomLeftRadius:Sg,borderBottomRightRadius:Sg,boxShadow:F7};function G7(t,n,e){const r=qa(t)?t:mv(t);return r.start(KA("",r,n,e)),r.animation}const z7=(t,n)=>t.depth-n.depth;class V7{constructor(){this.children=[],this.isDirty=!1}add(n){_A(this.children,n),this.isDirty=!0}remove(n){gA(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(z7),this.isDirty=!1,this.children.forEach(n)}}function q7(t,n){const e=js.now(),r=({timestamp:i})=>{const a=i-e;a>=n&&(gh(r),t(a-n))};return ei.setup(r,!0),()=>gh(r)}const Q6=["TopLeft","TopRight","BottomLeft","BottomRight"],j7=Q6.length,Hw=t=>typeof t=="string"?parseFloat(t):t,Bw=t=>typeof t=="number"||Qt.test(t);function $7(t,n,e,r,i,a){i?(t.opacity=si(0,e.opacity??1,K7(r)),t.opacityExit=si(n.opacity??1,0,Y7(r))):a&&(t.opacity=si(n.opacity??1,e.opacity??1,r));for(let s=0;s<j7;s++){const l=`border${Q6[s]}Radius`;let c=Gw(n,l),d=Gw(e,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Bw(c)===Bw(d)?(t[l]=Math.max(si(Hw(c),Hw(d),r),0),(Bu.test(d)||Bu.test(c))&&(t[l]+="%")):t[l]=d}(n.rotate||e.rotate)&&(t.rotate=si(n.rotate||0,e.rotate||0,r))}function Gw(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const K7=X6(0,.5,PD),Y7=X6(.5,.95,tl);function X6(t,n,e){return r=>r<t?0:r>n?1:e(y0(t,n,r))}function zw(t,n){t.min=n.min,t.max=n.max}function qo(t,n){zw(t.x,n.x),zw(t.y,n.y)}function Vw(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function qw(t,n,e,r,i){return t-=n,t=r1(t,1/e,r),i!==void 0&&(t=r1(t,1/i,r)),t}function W7(t,n=0,e=1,r=.5,i,a=t,s=t){if(Bu.test(n)&&(n=parseFloat(n),n=si(s.min,s.max,n/100)-s.min),typeof n!="number")return;let l=si(a.min,a.max,r);t===a&&(l-=n),t.min=qw(t.min,n,e,l,i),t.max=qw(t.max,n,e,l,i)}function jw(t,n,[e,r,i],a,s){W7(t,n[e],n[r],n[i],n.scale,a,s)}const Q7=["x","scaleX","originX"],X7=["y","scaleY","originY"];function $w(t,n,e,r){jw(t.x,n,Q7,e?e.x:void 0,r?r.x:void 0),jw(t.y,n,X7,e?e.y:void 0,r?r.y:void 0)}function Kw(t){return t.translate===0&&t.scale===1}function Z6(t){return Kw(t.x)&&Kw(t.y)}function Yw(t,n){return t.min===n.min&&t.max===n.max}function Z7(t,n){return Yw(t.x,n.x)&&Yw(t.y,n.y)}function Ww(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function J6(t,n){return Ww(t.x,n.x)&&Ww(t.y,n.y)}function Qw(t){return ys(t.x)/ys(t.y)}function Xw(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class J7{constructor(){this.members=[]}add(n){_A(this.members,n),n.scheduleRender()}remove(n){if(gA(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(n){const e=this.members.findIndex(i=>n===i);if(e===0)return!1;let r;for(let i=e;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(n,e){const r=this.lead;if(n!==r&&(this.prevLead=r,this.lead=n,n.show(),r)){r.instance&&r.scheduleRender(),n.scheduleRender(),n.resumeFrom=r,e&&(n.resumeFrom.preserveOpacity=!0),r.snapshot&&(n.snapshot=r.snapshot,n.snapshot.latestValues=r.animationValues||r.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:i}=n.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:e,resumingFrom:r}=n;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e8(t,n,e){let r="";const i=t.x.translate/n.x,a=t.y.translate/n.y,s=e?.z||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(n.x!==1||n.y!==1)&&(r+=`scale(${1/n.x}, ${1/n.y}) `),e){const{transformPerspective:d,rotate:f,rotateX:v,rotateY:g,skewX:y,skewY:b}=e;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),v&&(r+=`rotateX(${v}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*n.x,c=t.y.scale*n.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const UT=["","X","Y","Z"],t8=1e3;let n8=0;function kT(t,n,e,r){const{latestValues:i}=n;i[t]&&(e[t]=i[t],n.setStaticValue(t,0),r&&(r[t]=0))}function e4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const e=H6(n);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(e,"transform",ei,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e4(r)}function t4({attachResizeListener:t,defaultParent:n,measureScroll:e,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=n?.()){this.id=n8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(a8),this.nodes.forEach(u8),this.nodes.forEach(c8),this.nodes.forEach(s8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new V7)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new bA),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=v6(s)&&!$k(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,v=0;const g=()=>this.root.updateBlockedByResize=!1;ei.read(()=>{v=window.innerWidth}),t(s,()=>{const y=window.innerWidth;y!==v&&(v=y,this.root.updateBlockedByResize=!0,f&&f(),f=q7(g,250),kb.hasAnimatedSinceResize&&(kb.hasAnimatedSinceResize=!1,this.nodes.forEach(eI)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:v,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||m8,{onLayoutAnimationStart:C,onLayoutAnimationComplete:w}=d.getProps(),I=!this.targetLayout||!J6(this.targetLayout,y),M=!v&&g;if(this.options.layoutRoot||this.resumeFrom||M||v&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...LA(b,"layout"),onPlay:C,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(f,M)}else v||eI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d8),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&e4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const v=this.path[f];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(l8),this.nodes.forEach(r8),this.nodes.forEach(i8)):this.nodes.forEach(Jw),this.clearAllSnapshots();const l=js.now();ya.delta=Bc(0,1e3/60,l-ya.timestamp),ya.timestamp=l,ya.isProcessing=!0,ST.update.process(ya),ST.preRender.process(ya),ST.render.process(ya),ya.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o8),this.sharedNodes.forEach(h8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ei.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ei.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ys(this.snapshot.measuredBox.x)&&!ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ii(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Z6(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&this.instance&&(l||qf(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),v8(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ii();const l=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_8))){const{scroll:d}=this.root;d&&(sv(l.x,d.offset.x),sv(l.y,d.offset.y))}return l}removeElementScroll(s){const l=Ii();if(qo(l,s),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:v}=d;d!==this.root&&f&&v.layoutScroll&&(f.wasRoot&&qo(l,s),sv(l.x,f.offset.x),sv(l.y,f.offset.y))}return l}applyTransform(s,l=!1){const c=Ii();qo(c,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ov(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),qf(f.latestValues)&&ov(c,f.latestValues)}return qf(this.latestValues)&&ov(c,this.latestValues),c}removeTransform(s){const l=Ii();qo(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!qf(d.latestValues))continue;eS(d.latestValues)&&d.updateSnapshot();const f=Ii(),v=d.measurePageBox();qo(f,v),$w(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return qf(this.latestValues)&&$w(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ya.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:v}=this.options;if(!(!this.layout||!(f||v))){if(this.resolvedRelativeTargetAt=ya.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ii(),this.relativeTargetOrigin=Ii(),Xg(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),qo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ii(),this.targetWithTransforms=Ii()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qo(this.target,this.layout.layoutBox),x6(this.target,this.targetDelta)):qo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ii(),this.relativeTargetOrigin=Ii(),Xg(this.relativeTargetOrigin,this.target,g.target),qo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eS(this.parent.latestValues)||D6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ya.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;qo(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,g=this.treeScale.y;UP(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ii());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vw(this.prevProjectionDelta.x,this.projectionDelta.x),Vw(this.prevProjectionDelta.y,this.projectionDelta.y)),Qg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==g||!Xw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lv(),this.projectionDelta=lv(),this.projectionDeltaWithTransform=lv()}setAnimationOrigin(s,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},v=lv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Ii(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,C=y!==b,w=this.getStack(),I=!w||w.members.length<=1,M=!!(C&&!I&&this.options.crossfade===!0&&!this.path.some(p8));this.animationProgress=0;let R;this.mixTargetDelta=U=>{const H=U/1e3;tI(v.x,s.x,H),tI(v.y,s.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f8(this.relativeTarget,this.relativeTargetOrigin,g,H),R&&Z7(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ii()),qo(R,this.relativeTarget)),C&&(this.animationValues=f,$7(f,d,this.latestValues,H,M,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ei.update(()=>{kb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mv(0)),this.currentAnimation=G7(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=s;if(!(!l||!c||!d)){if(this!==s&&this.layout&&d&&n4(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ii();const v=ys(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+v;const g=ys(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+g}qo(l,c),ov(l,f),Qg(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new J7),this.sharedNodes.get(s).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&kT("z",s,d,this.animationValues);for(let f=0;f<UT.length;f++)kT(`rotate${UT[f]}`,s,d,this.animationValues),kT(`skew${UT[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Ub(l?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Ub(l?.pointerEvents)||""),this.hasProjected&&!qf(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=e8(this.projectionDeltaWithTransform,this.treeScale,f);c&&(v=c(f,v)),s.transform=v;const{x:g,y}=this.projectionDelta;s.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?s.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in C0){if(f[b]===void 0)continue;const{correct:C,applyTo:w,isCSSVariable:I}=C0[b],M=v==="none"?f[b]:C(f[b],d);if(w){const R=w.length;for(let U=0;U<R;U++)s[w[U]]=M}else I?this.options.visualElement.renderState.vars[b]=M:s[b]=M}this.options.layoutId&&(s.pointerEvents=d===this?Ub(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(Zw),this.root.sharedNodes.clear()}}}function r8(t){t.updateLayout()}function i8(t){const n=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?jo(f=>{const v=a?n.measuredBox[f]:n.layoutBox[f],g=ys(v);v.min=e[f].min,v.max=v.min+g}):n4(i,n.layoutBox,e)&&jo(f=>{const v=a?n.measuredBox[f]:n.layoutBox[f],g=ys(e[f]);v.max=v.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const s=lv();Qg(s,e,n.layoutBox);const l=lv();a?Qg(l,t.applyTransform(r,!0),n.measuredBox):Qg(l,e,n.layoutBox);const c=!Z6(s);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:v,layout:g}=f;if(v&&g){const y=Ii();Xg(y,n.layoutBox,v.layoutBox);const b=Ii();Xg(b,e,g.layoutBox),J6(y,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function a8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function o8(t){t.clearSnapshot()}function Zw(t){t.clearMeasurements()}function Jw(t){t.isLayoutDirty=!1}function l8(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function eI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function u8(t){t.resolveTargetDelta()}function c8(t){t.calcProjection()}function d8(t){t.resetSkewAndRotation()}function h8(t){t.removeLeadSnapshot()}function tI(t,n,e){t.translate=si(n.translate,0,e),t.scale=si(n.scale,1,e),t.origin=n.origin,t.originPoint=n.originPoint}function nI(t,n,e,r){t.min=si(n.min,e.min,r),t.max=si(n.max,e.max,r)}function f8(t,n,e,r){nI(t.x,n.x,e.x,r),nI(t.y,n.y,e.y,r)}function p8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m8={duration:.45,ease:[.4,0,.1,1]},rI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iI=rI("applewebkit/")&&!rI("chrome/")?Math.round:tl;function aI(t){t.min=iI(t.min),t.max=iI(t.max)}function v8(t){aI(t.x),aI(t.y)}function n4(t,n,e){return t==="position"||t==="preserve-aspect"&&!T7(Qw(n),Qw(e),.2)}function _8(t){return t!==t.root&&t.scroll?.wasRoot}const g8=t4({attachResizeListener:(t,n)=>S0(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),PT={current:void 0},r4=t4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!PT.current){const t=new g8({});t.mount(window),t.setOptions({layoutScroll:!0}),PT.current=t}return PT.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y8={pan:{Feature:P7},drag:{Feature:k7,ProjectionNode:r4,MeasureLayout:W6}};function sI(t,n,e){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",e==="Start");const i="onHover"+e,a=r[i];a&&ei.postRender(()=>a(n,B0(n)))}class E8 extends Ch{mount(){const{current:n}=this.node;n&&(this.unmount=Gk(n,(e,r)=>(sI(this.node,r,"Start"),i=>sI(this.node,i,"End"))))}unmount(){}}class b8 extends Ch{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=P0(S0(this.node.current,"focus",()=>this.onFocus()),S0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oI(t,n,e){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",e==="Start");const i="onTap"+(e==="End"?"":e),a=r[i];a&&ei.postRender(()=>a(n,B0(n)))}class T8 extends Ch{mount(){const{current:n}=this.node;n&&(this.unmount=jk(n,(e,r)=>(oI(this.node,r,"Start"),(i,{success:a})=>oI(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oS=new WeakMap,FT=new WeakMap,C8=t=>{const n=oS.get(t.target);n&&n(t)},S8=t=>{t.forEach(C8)};function N8({root:t,...n}){const e=t||document;FT.has(e)||FT.set(e,{});const r=FT.get(e),i=JSON.stringify(n);return r[i]||(r[i]=new IntersectionObserver(S8,{root:t,...n})),r[i]}function A8(t,n,e){const r=N8(n);return oS.set(t,e),r.observe(t),()=>{oS.delete(t),r.unobserve(t)}}const w8={some:0,all:1};class I8 extends Ch{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:e,margin:r,amount:i="some",once:a}=n,s={root:e?e.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:w8[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:v}=this.node.getProps(),g=d?f:v;g&&g(c)};return A8(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:e}=this.node;["amount","margin","root"].some(M8(n,e))&&this.startObserver()}unmount(){}}function M8({viewport:t={}},{viewport:n={}}={}){return e=>t[e]!==n[e]}const O8={inView:{Feature:I8},tap:{Feature:T8},focus:{Feature:b8},hover:{Feature:E8}},R8={layout:{ProjectionNode:r4,MeasureLayout:W6}},D8={...v7,...O8,...y8,...R8},$l=DP(D8,jP);var lI="popstate";function x8(t={}){function n(r,i){let{pathname:a,search:s,hash:l}=r.location;return lS("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(r,i){return typeof i=="string"?i:N0(i)}return U8(n,e,null,t)}function oi(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Wl(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function L8(){return Math.random().toString(36).substring(2,10)}function uI(t,n){return{usr:t.state,key:t.key,idx:n}}function lS(t,n,e=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Mv(n):n,state:e,key:n&&n.key||r||L8()}}function N0({pathname:t="/",search:n="",hash:e=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),e&&e!=="#"&&(t+=e.charAt(0)==="#"?e:"#"+e),t}function Mv(t){let n={};if(t){let e=t.indexOf("#");e>=0&&(n.hash=t.substring(e),t=t.substring(0,e));let r=t.indexOf("?");r>=0&&(n.search=t.substring(r),t=t.substring(0,r)),t&&(n.pathname=t)}return n}function U8(t,n,e,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,d=f();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function f(){return(s.state||{idx:null}).idx}function v(){l="POP";let w=f(),I=w==null?null:w-d;d=w,c&&c({action:l,location:C.location,delta:I})}function g(w,I){l="PUSH";let M=lS(C.location,w,I);d=f()+1;let R=uI(M,d),U=C.createHref(M);try{s.pushState(R,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(U)}a&&c&&c({action:l,location:C.location,delta:1})}function y(w,I){l="REPLACE";let M=lS(C.location,w,I);d=f();let R=uI(M,d),U=C.createHref(M);s.replaceState(R,"",U),a&&c&&c({action:l,location:C.location,delta:0})}function b(w){return k8(w)}let C={get action(){return l},get location(){return t(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(lI,v),c=w,()=>{i.removeEventListener(lI,v),c=null}},createHref(w){return n(i,w)},createURL:b,encodeLocation(w){let I=b(w);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:g,replace:y,go(w){return s.go(w)}};return C}function k8(t,n=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),oi(e,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:N0(t);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function i4(t,n,e="/"){return P8(t,n,e,!1)}function P8(t,n,e,r){let i=typeof n=="string"?Mv(n):n,a=zc(i.pathname||"/",e);if(a==null)return null;let s=a4(t);F8(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=W8(a);l=K8(s[c],d,r)}return l}function a4(t,n=[],e=[],r="",i=!1){let a=(s,l,c=i,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;oi(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let v=kc([r,f.relativePath]),g=e.concat(f);s.children&&s.children.length>0&&(oi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),a4(s.children,n,g,v,c)),!(s.path==null&&!s.index)&&n.push({path:v,score:j8(v,s.index),routesMeta:g})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let c of s4(s.path))a(s,l,!0,c)}),n}function s4(t){let n=t.split("/");if(n.length===0)return[];let[e,...r]=n,i=e.endsWith("?"),a=e.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=s4(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function F8(t){t.sort((n,e)=>n.score!==e.score?e.score-n.score:$8(n.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var H8=/^:[\w-]+$/,B8=3,G8=2,z8=1,V8=10,q8=-2,cI=t=>t==="*";function j8(t,n){let e=t.split("/"),r=e.length;return e.some(cI)&&(r+=q8),n&&(r+=G8),e.filter(i=>!cI(i)).reduce((i,a)=>i+(H8.test(a)?B8:a===""?z8:V8),r)}function $8(t,n){return t.length===n.length&&t.slice(0,-1).every((r,i)=>r===n[i])?t[t.length-1]-n[n.length-1]:0}function K8(t,n,e=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=a==="/"?n:n.slice(a.length)||"/",v=i1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!v&&d&&e&&!r[r.length-1].route.index&&(v=i1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!v)return null;Object.assign(i,v.params),s.push({params:i,pathname:kc([a,v.pathname]),pathnameBase:eF(kc([a,v.pathnameBase])),route:g}),v.pathnameBase!=="/"&&(a=kc([a,v.pathnameBase]))}return s}function i1(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[e,r]=Y8(t.path,t.caseSensitive,t.end),i=n.match(e);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:v},g)=>{if(f==="*"){let b=l[g]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[g];return v&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:t}}function Y8(t,n=!1,e=!0){Wl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function W8(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Wl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function zc(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let e=n.endsWith("/")?n.length-1:n.length,r=t.charAt(e);return r&&r!=="/"?null:t.slice(e)||"/"}var Q8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X8=t=>Q8.test(t);function Z8(t,n="/"){let{pathname:e,search:r="",hash:i=""}=typeof t=="string"?Mv(t):t,a;if(e)if(X8(e))a=e;else{if(e.includes("//")){let s=e;e=e.replace(/\/\/+/g,"/"),Wl(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${e}`)}e.startsWith("/")?a=dI(e.substring(1),"/"):a=dI(e,n)}else a=n;return{pathname:a,search:tF(r),hash:nF(i)}}function dI(t,n){let e=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function HT(t,n,e,r){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J8(t){return t.filter((n,e)=>e===0||n.route.path&&n.route.path.length>0)}function o4(t){let n=J8(t);return n.map((e,r)=>r===n.length-1?e.pathname:e.pathnameBase)}function l4(t,n,e,r=!1){let i;typeof t=="string"?i=Mv(t):(i={...t},oi(!i.pathname||!i.pathname.includes("?"),HT("?","pathname","search",i)),oi(!i.pathname||!i.pathname.includes("#"),HT("#","pathname","hash",i)),oi(!i.search||!i.search.includes("#"),HT("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=e;else{let v=n.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),v-=1;i.pathname=g.join("/")}l=v>=0?n[v]:"/"}let c=Z8(i,l),d=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var kc=t=>t.join("/").replace(/\/\/+/g,"/"),eF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u4=["POST","PUT","PATCH","DELETE"];new Set(u4);var iF=["GET",...u4];new Set(iF);var Ov=D.createContext(null);Ov.displayName="DataRouter";var Q1=D.createContext(null);Q1.displayName="DataRouterState";D.createContext(!1);var c4=D.createContext({isTransitioning:!1});c4.displayName="ViewTransition";var aF=D.createContext(new Map);aF.displayName="Fetchers";var sF=D.createContext(null);sF.displayName="Await";var $u=D.createContext(null);$u.displayName="Navigation";var G0=D.createContext(null);G0.displayName="Location";var Kc=D.createContext({outlet:null,matches:[],isDataRoute:!1});Kc.displayName="Route";var YA=D.createContext(null);YA.displayName="RouteError";function oF(t,{relative:n}={}){oi(z0(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=D.useContext($u),{hash:i,pathname:a,search:s}=V0(t,{relative:n}),l=a;return e!=="/"&&(l=a==="/"?e:kc([e,a])),r.createHref({pathname:l,search:s,hash:i})}function z0(){return D.useContext(G0)!=null}function Yc(){return oi(z0(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(G0).location}var d4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h4(t){D.useContext($u).static||D.useLayoutEffect(t)}function lF(){let{isDataRoute:t}=D.useContext(Kc);return t?bF():uF()}function uF(){oi(z0(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Ov),{basename:n,navigator:e}=D.useContext($u),{matches:r}=D.useContext(Kc),{pathname:i}=Yc(),a=JSON.stringify(o4(r)),s=D.useRef(!1);return h4(()=>{s.current=!0}),D.useCallback((c,d={})=>{if(Wl(s.current,d4),!s.current)return;if(typeof c=="number"){e.go(c);return}let f=l4(c,JSON.parse(a),i,d.relative==="path");t==null&&n!=="/"&&(f.pathname=f.pathname==="/"?n:kc([n,f.pathname])),(d.replace?e.replace:e.push)(f,d.state,d)},[n,e,a,i,t])}D.createContext(null);function V0(t,{relative:n}={}){let{matches:e}=D.useContext(Kc),{pathname:r}=Yc(),i=JSON.stringify(o4(e));return D.useMemo(()=>l4(t,JSON.parse(i),r,n==="path"),[t,i,r,n])}function cF(t,n){return f4(t,n)}function f4(t,n,e,r,i){oi(z0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=D.useContext($u),{matches:s}=D.useContext(Kc),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",v=l&&l.route;{let M=v&&v.path||"";p4(d,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let g=Yc(),y;if(n){let M=typeof n=="string"?Mv(n):n;oi(f==="/"||M.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${M.pathname}" was given in the \`location\` prop.`),y=M}else y=g;let b=y.pathname||"/",C=b;if(f!=="/"){let M=f.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=i4(t,{pathname:C});Wl(v||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Wl(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=mF(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:kc([f,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?f:kc([f,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),s,e,r,i);return n&&I?D.createElement(G0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},I):I}function dF(){let t=EF(),n=rF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),e=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:a},"ErrorBoundary")," or"," ",D.createElement("code",{style:a},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},n),e?D.createElement("pre",{style:i},e):null,s)}var hF=D.createElement(dF,null),fF=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(Kc.Provider,{value:this.props.routeContext},D.createElement(YA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pF({routeContext:t,match:n,children:e}){let r=D.useContext(Ov);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Kc.Provider,{value:t},e)}function mF(t,n=[],e=null,r=null,i=null){if(t==null){if(!e)return null;if(e.errors)t=e.matches;else if(n.length===0&&!e.initialized&&e.matches.length>0)t=e.matches;else return null}let a=t,s=e?.errors;if(s!=null){let f=a.findIndex(v=>v.route.id&&s?.[v.route.id]!==void 0);oi(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(e)for(let f=0;f<a.length;f++){let v=a[f];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=f),v.route.id){let{loaderData:g,errors:y}=e,b=v.route.loader&&!g.hasOwnProperty(v.route.id)&&(!y||y[v.route.id]===void 0);if(v.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=e&&r?(f,v)=>{r(f,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:v})}:void 0;return a.reduceRight((f,v,g)=>{let y,b=!1,C=null,w=null;e&&(y=s&&v.route.id?s[v.route.id]:void 0,C=v.route.errorElement||hF,l&&(c<0&&g===0?(p4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):c===g&&(b=!0,w=v.route.hydrateFallbackElement||null)));let I=n.concat(a.slice(0,g+1)),M=()=>{let R;return y?R=C:b?R=w:v.route.Component?R=D.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=f,D.createElement(pF,{match:v,routeContext:{outlet:f,matches:I,isDataRoute:e!=null},children:R})};return e&&(v.route.ErrorBoundary||v.route.errorElement||g===0)?D.createElement(fF,{location:e.location,revalidation:e.revalidation,component:C,error:y,children:M(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:d}):M()},null)}function WA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vF(t){let n=D.useContext(Ov);return oi(n,WA(t)),n}function _F(t){let n=D.useContext(Q1);return oi(n,WA(t)),n}function gF(t){let n=D.useContext(Kc);return oi(n,WA(t)),n}function QA(t){let n=gF(t),e=n.matches[n.matches.length-1];return oi(e.route.id,`${t} can only be used on routes that contain a unique "id"`),e.route.id}function yF(){return QA("useRouteId")}function EF(){let t=D.useContext(YA),n=_F("useRouteError"),e=QA("useRouteError");return t!==void 0?t:n.errors?.[e]}function bF(){let{router:t}=vF("useNavigate"),n=QA("useNavigate"),e=D.useRef(!1);return h4(()=>{e.current=!0}),D.useCallback(async(i,a={})=>{Wl(e.current,d4),e.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:n,...a}))},[t,n])}var hI={};function p4(t,n,e){!n&&!hI[t]&&(hI[t]=!0,Wl(!1,e))}D.memo(TF);function TF({routes:t,future:n,state:e,unstable_onError:r}){return f4(t,void 0,e,r,n)}function m4(t){oi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CF({basename:t="/",children:n=null,location:e,navigationType:r="POP",navigator:i,static:a=!1}){oi(!z0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof e=="string"&&(e=Mv(e));let{pathname:c="/",search:d="",hash:f="",state:v=null,key:g="default"}=e,y=D.useMemo(()=>{let b=zc(c,s);return b==null?null:{location:{pathname:b,search:d,hash:f,state:v,key:g},navigationType:r}},[s,c,d,f,v,g,r]);return Wl(y!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:D.createElement($u.Provider,{value:l},D.createElement(G0.Provider,{children:n,value:y}))}function SF({children:t,location:n}){return cF(uS(t),n)}function uS(t,n=[]){let e=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let a=[...n,i];if(r.type===D.Fragment){e.push.apply(e,uS(r.props.children,a));return}oi(r.type===m4,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=uS(r.props.children,a)),e.push(s)}),e}var Pb="get",Fb="application/x-www-form-urlencoded";function X1(t){return t!=null&&typeof t.tagName=="string"}function NF(t){return X1(t)&&t.tagName.toLowerCase()==="button"}function AF(t){return X1(t)&&t.tagName.toLowerCase()==="form"}function wF(t){return X1(t)&&t.tagName.toLowerCase()==="input"}function IF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MF(t,n){return t.button===0&&(!n||n==="_self")&&!IF(t)}var sb=null;function OF(){if(sb===null)try{new FormData(document.createElement("form"),0),sb=!1}catch{sb=!0}return sb}var RF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function BT(t){return t!=null&&!RF.has(t)?(Wl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fb}"`),null):t}function DF(t,n){let e,r,i,a,s;if(AF(t)){let l=t.getAttribute("action");r=l?zc(l,n):null,e=t.getAttribute("method")||Pb,i=BT(t.getAttribute("enctype"))||Fb,a=new FormData(t)}else if(NF(t)||wF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?zc(c,n):null,e=t.getAttribute("formmethod")||l.getAttribute("method")||Pb,i=BT(t.getAttribute("formenctype"))||BT(l.getAttribute("enctype"))||Fb,a=new FormData(l,t),!OF()){let{name:d,type:f,value:v}=t;if(f==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,v)}}else{if(X1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Pb,r=null,i=Fb,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:e.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function XA(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function xF(t,n,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${e}`:n&&zc(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function LF(t,n){if(t.id in n)return n[t.id];try{let e=await import(t.module);return n[t.id]=e,e}catch(e){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kF(t,n,e){let r=await Promise.all(t.map(async i=>{let a=n.routes[i.route.id];if(a){let s=await LF(a,e);return s.links?s.links():[]}return[]}));return BF(r.flat(1).filter(UF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function fI(t,n,e,r,i,a){let s=(c,d)=>e[d]?c.route.id!==e[d].route.id:!0,l=(c,d)=>e[d].pathname!==c.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==c.params["*"];return a==="assets"?n.filter((c,d)=>s(c,d)||l(c,d)):a==="data"?n.filter((c,d)=>{let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function PF(t,n,{includeHydrateFallback:e}={}){return FF(t.map(r=>{let i=n.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),e&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function FF(t){return[...new Set(t)]}function HF(t){let n={},e=Object.keys(t).sort();for(let r of e)n[r]=t[r];return n}function BF(t,n){let e=new Set;return new Set(n),t.reduce((r,i)=>{let a=JSON.stringify(HF(i));return e.has(a)||(e.add(a),r.push({key:a,link:i})),r},[])}function v4(){let t=D.useContext(Ov);return XA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GF(){let t=D.useContext(Q1);return XA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ZA=D.createContext(void 0);ZA.displayName="FrameworkContext";function _4(){let t=D.useContext(ZA);return XA(t,"You must render this element inside a <HydratedRouter> element"),t}function zF(t,n){let e=D.useContext(ZA),[r,i]=D.useState(!1),[a,s]=D.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:v}=n,g=D.useRef(null);D.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let C=I=>{I.forEach(M=>{s(M.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[t]),D.useEffect(()=>{if(r){let C=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(C)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),s(!1)};return e?t!=="intent"?[a,g,{}]:[a,g,{onFocus:Ng(l,y),onBlur:Ng(c,b),onMouseEnter:Ng(d,y),onMouseLeave:Ng(f,b),onTouchStart:Ng(v,y)}]:[!1,g,{}]}function Ng(t,n){return e=>{t&&t(e),e.defaultPrevented||n(e)}}function VF({page:t,...n}){let{router:e}=v4(),r=D.useMemo(()=>i4(e.routes,t,e.basename),[e.routes,t,e.basename]);return r?D.createElement(jF,{page:t,matches:r,...n}):null}function qF(t){let{manifest:n,routeModules:e}=_4(),[r,i]=D.useState([]);return D.useEffect(()=>{let a=!1;return kF(t,n,e).then(s=>{a||i(s)}),()=>{a=!0}},[t,n,e]),r}function jF({page:t,matches:n,...e}){let r=Yc(),{manifest:i,routeModules:a}=_4(),{basename:s}=v4(),{loaderData:l,matches:c}=GF(),d=D.useMemo(()=>fI(t,n,c,i,r,"data"),[t,n,c,i,r]),f=D.useMemo(()=>fI(t,n,c,i,r,"assets"),[t,n,c,i,r]),v=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(n.forEach(I=>{let M=i.routes[I.route.id];!M||!M.hasLoader||(!d.some(R=>R.route.id===I.route.id)&&I.route.id in l&&a[I.route.id]?.shouldRevalidate||M.hasClientLoader?C=!0:b.add(I.route.id))}),b.size===0)return[];let w=xF(t,s,"data");return C&&b.size>0&&w.searchParams.set("_routes",n.filter(I=>b.has(I.route.id)).map(I=>I.route.id).join(",")),[w.pathname+w.search]},[s,l,r,i,d,n,t,a]),g=D.useMemo(()=>PF(f,i),[f,i]),y=qF(f);return D.createElement(D.Fragment,null,v.map(b=>D.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...e})),g.map(b=>D.createElement("link",{key:b,rel:"modulepreload",href:b,...e})),y.map(({key:b,link:C})=>D.createElement("link",{key:b,nonce:e.nonce,...C})))}function $F(...t){return n=>{t.forEach(e=>{typeof e=="function"?e(n):e!=null&&(e.current=n)})}}var g4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g4&&(window.__reactRouterVersion="7.9.6")}catch{}function KF({basename:t,children:n,window:e}){let r=D.useRef();r.current==null&&(r.current=x8({window:e,v5Compat:!0}));let i=r.current,[a,s]=D.useState({action:i.action,location:i.location}),l=D.useCallback(c=>{D.startTransition(()=>s(c))},[s]);return D.useLayoutEffect(()=>i.listen(l),[i,l]),D.createElement(CF,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i})}var y4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E4=D.forwardRef(function({onClick:n,discover:e="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:f,viewTransition:v,...g},y){let{basename:b}=D.useContext($u),C=typeof d=="string"&&y4.test(d),w,I=!1;if(typeof d=="string"&&C&&(w=d,g4))try{let F=new URL(window.location.href),te=d.startsWith("//")?new URL(F.protocol+d):new URL(d),J=zc(te.pathname,b);te.origin===F.origin&&J!=null?d=J+te.search+te.hash:I=!0}catch{Wl(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=oF(d,{relative:i}),[R,U,H]=zF(r,g),P=XF(d,{replace:s,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:v});function G(F){n&&n(F),F.defaultPrevented||P(F)}let Y=D.createElement("a",{...g,...H,href:w||M,onClick:I||a?n:G,ref:$F(y,U),target:c,"data-discover":!C&&e==="render"?"true":void 0});return R&&!C?D.createElement(D.Fragment,null,Y,D.createElement(VF,{page:M})):Y});E4.displayName="Link";var YF=D.forwardRef(function({"aria-current":n="page",caseSensitive:e=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...d},f){let v=V0(s,{relative:d.relative}),g=Yc(),y=D.useContext(Q1),{navigator:b,basename:C}=D.useContext($u),w=y!=null&&nH(v)&&l===!0,I=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,M=g.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;e||(M=M.toLowerCase(),R=R?R.toLowerCase():null,I=I.toLowerCase()),R&&C&&(R=zc(R,C)||R);const U=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let H=M===I||!i&&M.startsWith(I)&&M.charAt(U)==="/",P=R!=null&&(R===I||!i&&R.startsWith(I)&&R.charAt(I.length)==="/"),G={isActive:H,isPending:P,isTransitioning:w},Y=H?n:void 0,F;typeof r=="function"?F=r(G):F=[r,H?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let te=typeof a=="function"?a(G):a;return D.createElement(E4,{...d,"aria-current":Y,className:F,ref:f,style:te,to:s,viewTransition:l},typeof c=="function"?c(G):c)});YF.displayName="NavLink";var WF=D.forwardRef(({discover:t="render",fetcherKey:n,navigate:e,reloadDocument:r,replace:i,state:a,method:s=Pb,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:v,...g},y)=>{let b=eH(),C=tH(l,{relative:d}),w=s.toLowerCase()==="get"?"get":"post",I=typeof l=="string"&&y4.test(l),M=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let U=R.nativeEvent.submitter,H=U?.getAttribute("formmethod")||s;b(U||R.currentTarget,{fetcherKey:n,method:H,navigate:e,replace:i,state:a,relative:d,preventScrollReset:f,viewTransition:v})};return D.createElement("form",{ref:y,method:w,action:C,onSubmit:r?c:M,...g,"data-discover":!I&&t==="render"?"true":void 0})});WF.displayName="Form";function QF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b4(t){let n=D.useContext(Ov);return oi(n,QF(t)),n}function XF(t,{target:n,replace:e,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=lF(),c=Yc(),d=V0(t,{relative:a});return D.useCallback(f=>{if(MF(f,n)){f.preventDefault();let v=e!==void 0?e:N0(c)===N0(d);l(t,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,d,e,r,n,t,i,a,s])}var ZF=0,JF=()=>`__${String(++ZF)}__`;function eH(){let{router:t}=b4("useSubmit"),{basename:n}=D.useContext($u),e=yF();return D.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:c,body:d}=DF(r,n);if(i.navigate===!1){let f=i.fetcherKey||JF();await t.fetch(f,e,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:e,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,n,e])}function tH(t,{relative:n}={}){let{basename:e}=D.useContext($u),r=D.useContext(Kc);oi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...V0(t||".",{relative:n})},s=Yc();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(v=>v).forEach(v=>l.append("index",v));let f=l.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:kc([e,a.pathname])),N0(a)}function nH(t,{relative:n}={}){let e=D.useContext(c4);oi(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b4("useViewTransitionState"),i=V0(t,{relative:n});if(!e.isTransitioning)return!1;let a=zc(e.currentLocation.pathname,r)||e.currentLocation.pathname,s=zc(e.nextLocation.pathname,r)||e.nextLocation.pathname;return i1(i.pathname,s)!=null||i1(i.pathname,a)!=null}var JA=ND();const T4=D.createContext(),rH=({children:t})=>{const[n,e]=D.useState("kr"),r=()=>{e(i=>i==="kr"?"en":"kr")};return re.jsx(T4.Provider,{value:{language:n,toggleLanguage:r},children:t})},q0=()=>D.useContext(T4),iH=()=>{const[t,n]=D.useState(!1),[e,r]=D.useState(!1),{language:i,toggleLanguage:a}=q0();D.useEffect(()=>{const l=()=>{window.scrollY>50?n(!0):n(!1)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const s=()=>{r(!e)};return re.jsx("nav",{className:`navbar ${t?"scrolled":""}`,children:re.jsxs("div",{className:"container navbar-container",children:[re.jsxs("div",{className:"menu-icon",onClick:s,children:[re.jsx("div",{className:`bar ${e?"open":""}`}),re.jsx("div",{className:`bar ${e?"open":""}`}),re.jsx("div",{className:`bar ${e?"open":""}`})]}),re.jsxs("ul",{className:`nav-links ${e?"active":""}`,children:[re.jsx("li",{children:re.jsxs("a",{href:"https://github.com/MorningNembi",target:"_blank",rel:"noopener noreferrer",className:"github-link",children:[re.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"currentColor",children:re.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"GitHub"]})}),re.jsx("li",{children:re.jsxs("a",{href:"https://www.linkedin.com/in/%EC%A0%95%ED%83%9D-%EC%9D%B4-11b812360/",target:"_blank",rel:"noopener noreferrer",className:"linkedin-link",children:[re.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:re.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]})}),re.jsx("li",{children:re.jsx("button",{className:"lang-toggle",onClick:a,children:i==="kr"?"EN":"KR"})})]})]})})};var C4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pI=O.createContext&&O.createContext(C4),aH=["attr","size","title"];function sH(t,n){if(t==null)return{};var e=oH(t,n),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function oH(t,n){if(t==null)return{};var e={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(n.indexOf(r)>=0)continue;e[r]=t[r]}return e}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},a1.apply(this,arguments)}function mI(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function s1(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?mI(Object(e),!0).forEach(function(r){lH(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):mI(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function lH(t,n,e){return n=uH(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function uH(t){var n=cH(t,"string");return typeof n=="symbol"?n:n+""}function cH(t,n){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var r=e.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function S4(t){return t&&t.map((n,e)=>O.createElement(n.tag,s1({key:e},n.attr),S4(n.child)))}function Sh(t){return n=>O.createElement(dH,a1({attr:s1({},t.attr)},n),S4(t.child))}function dH(t){var n=e=>{var{attr:r,size:i,title:a}=t,s=sH(t,aH),l=i||e.size||"1em",c;return e.className&&(c=e.className),t.className&&(c=(c?c+" ":"")+t.className),O.createElement("svg",a1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,s,{className:c,style:s1(s1({color:t.color||e.color},e.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&O.createElement("title",null,a),t.children)};return pI!==void 0?O.createElement(pI.Consumer,null,e=>n(e)):n(C4)}function N4(t){return Sh({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function hH(t){return Sh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function fH(t){return Sh({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function pH(t){return Sh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function mH(t){return Sh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function vH(t){return Sh({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function _H(t){return Sh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function A4(t){return Sh({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const gH=()=>re.jsxs("footer",{className:"footer",children:[re.jsxs("div",{className:"social-links",children:[re.jsx("a",{href:"https://github.com/MorningNembi",target:"_blank",rel:"noopener noreferrer",children:re.jsx(N4,{})}),re.jsx("a",{href:"https://www.linkedin.com/in/%EC%A0%95%ED%83%9D-%EC%9D%B4-11b812360/",target:"_blank",rel:"noopener noreferrer",children:re.jsx(hH,{})}),re.jsx("a",{href:"mailto:cvb1060@naver.com",target:"_blank",rel:"noopener noreferrer",children:re.jsx(pH,{})})]}),re.jsx("p",{className:"copyright",children:"Designed & Built by Jeong-Taek Lee"})]}),yH=({setLoading:t})=>{const[n,e]=D.useState(0);return D.useEffect(()=>{const r=setInterval(()=>{e(i=>i>=100?(clearInterval(r),setTimeout(()=>t(!1),500),100):i+2)},20);return()=>clearInterval(r)},[t]),re.jsx($l.div,{className:"preloader",initial:{opacity:1},exit:{opacity:0,y:-50,transition:{duration:.8,ease:"easeInOut"}},children:re.jsxs("div",{className:"preloader-content",children:[re.jsxs("div",{className:"loading-text",children:[re.jsxs("span",{className:"loading-percentage",children:[n,"%"]}),re.jsx("h2",{children:"Loading..."})]}),re.jsx("div",{className:"loader-container",children:re.jsx("div",{className:"progress-bar",children:re.jsx($l.div,{className:"progress-fill",style:{width:`${n}%`}})})})]})})},EH=()=>{const{pathname:t}=Yc();return D.useEffect(()=>{window.scrollTo(0,0)},[t]),null},Z1={kr:{hero:{greeting:", ",name:"",ending:".",subtitle:"AI Engineer & Tech Lover",description:`    .
    AI  .`,cta:" "},about:{title:"About Me",intro:["**AI    **","    .","    ,   AI  .","**My Values**","    ","    ","     "],tabs:{experience:"Experience",education:"Education",activities:"Activities",certs:"Certifications",awards:"Awards"},experience:[{title:"AI Synergy Planning Intern",company:"NAVER Cloud",period:"2025.09 ~ ",description:["**HyperClova X  AI    **","MCP OAuth      Naver Remote MCP ","**Clova Studio      **","MCP   (3: OAuth   MCP    ,   )","LangChain v1.0  :    AI( , 12   )"],tags:["AI Research","MCP","Agent","HyperClova X","Planning"]},{title:" AI 2",company:"Kakao Tech Bootcamp",period:"2025.02 ~ 2025.08",description:["**     ( )**","URL       ","   (, ) Multi-Agent ","**      (TestPrep AI)**","     (Top 6 / 26)"," RAG      "],tags:["Agent","RAG","LangChain","FastAPI","Python"]}],education:[{title:"",degree:" ",period:"2019.03 - 2025.08",description:[" 3.50/4.5"]}],activities:[{title:" ",role:"",period:"2022.07 ~ 2024.06",description:["    "]},{title:" ",role:"",period:"2022.01 ~ 2022.12"}],certs:[{title:"",issuer:"",date:"2024.07.12"},{title:"SQLD",issuer:"",date:"2023.12.15"},{title:"ADsP",issuer:"",date:"2023.06.16"}],awards:[{title:"Kakaotech Bootcamp Hackathon Finalist",issuer:"Kakaotech bootcamp",date:"2025",description:["TestPrep AI ","26    6  "]},{title:"",issuer:"",date:"2024",description:[" "]}]},portfolio:{title:"Projects",filters:{all:"",web:" ",ai:"AI/ML",research:""},modal:{overview:"",role:"",techStack:" ",keyFeatures:" ",achievement:"",links:{github:"GitHub",demo:"Live",paper:"Paper"}},projects:[{id:1,title:"Clova Studio  ",category:"Technical Writing",image:"/src/assets/clova-cookbook.png",description:"Clova Studio         ",details:{problem:"Clova Studio       ",solution:"LangChain, MCP, Agent            .",role:"Technical Writer & Developer",tech:["Clova Studio","MCP","LangChain","OAuth 2.0","FastMCP"],features:["MCP    3: OAuth   MCP   ( )","LangChain v1.0  :    AI ( , 12   )","LangChain DeepAgent  , Agentic RAG    ","       ","      "],achievement:"    MCP  LangChain  ,        ."},links:{demo:"https://www.ncloud-forums.com/forum/6/",github:null}},{id:2,title:"  (Moongsan)",category:"AI & Data Science",image:"src/assets/moongsan.png",description:"     & AI ",details:{problem:"  ( ,  )   ",solution:" AI  URL            .",role:"AI Engineer & Architecture Design",tech:["LangChain","LangGraph","FastAPI","MySQL","Vector DB"],features:["URL     (LangGraph  )","    (Multi-Agent Supervisor)","   ","Docker   "],achievement:"   1  100+  ,    80%  ",troubleshooting:"Vector DB      ( + )     35% ."},links:{demo:"https://moongsan.com/",github:"https://github.com/100-hours-a-week/14-YG-AI/tree/dev"}},{id:3,title:"TestPrep AI",category:"AI & Data Science",image:"src/assets/testprep.png",description:"      ",details:{problem:"       ",solution:"RAG      LLM       .",role:"AI Pipeline Architect & Backend Dev",tech:["Python","LangChain","OpenAI","Chroma","FastAPI"],features:["    (RAG)","PDF/    ","   / ","FastAPI  LLM   "],achievement:"     (Top 6 / 26),    85% ",troubleshooting:"PDF         PyMuPDF OCR     ."},links:{demo:null,github:"https://github.com/Test-Prep-AI/Model/tree/main"}},{id:4,title:"Remote MCP (Naver & Kakao)",category:"Research",image:"https://github.com/user-attachments/assets/5e38b6ae-78a9-4556-8678-9c2086912f7d",description:"OAuth   MCP  ( /,  )",details:{problem:"MCP        ",solution:"FastMCP OAuth 2.0       MCP  .",role:"Sole Developer",tech:["FastMCP","Python","OAuth 2.0","OIDC","CLOVA Studio API"],features:[": OAuth 2.0  (PKCE ),  ,   ",": OAuth 2.0 & OIDC ,  ,   ","   ","     "],achievement:"MCP  OAuth      50+  ",troubleshooting:"PKCE    state          ."},links:{demo:null,github:null}}]},resume:{title:"Skills",skillsTitle:"Technical Skills"}},en:{hero:{greeting:"Hi, I am",name:"JeongTaek Lee.",ending:"",subtitle:"AI Developer & Tech Lover",description:`I am an AI Developer focusing on user-centric AI services.
I strive to create intuitive and useful AI solutions.`,cta:"Check out my work"},about:{title:"About Me",intro:["**AI Developer Who Puts People First**","No matter how sophisticated AI technology is, if it fails to properly understand user intent and respond accordingly, it cannot be considered good technology.","I want to create intuitive and useful AI services by viewing problems from the user's perspective!","**My Values**"," Everything should be fun"," I pursue speed with safety"," I try to speak simply and listen deeply"],tabs:{experience:"Experience",education:"Education",activities:"Activities",certs:"Certifications",awards:"Awards"},experience:[{title:"AI Research & Planning Intern",company:"NAVER Cloud",period:"2025.09 ~ Present",description:["**AI Experience Research & Planning using HyperClova X**","Researched OAuth in MCP and developed Naver Remote MCP with Naver Login integration","AI industry research and feature planning","Created cookbooks for Clova Studio and Naver Cloud blog"],tags:["AI Research","MCP","OAuth","HyperClova X","Planning"]},{title:"Generative AI Track 2nd Cohort",company:"Kakao Tech Bootcamp",period:"2025.02 ~ 2025.08",description:["**Moongsan - Location-based Group Buying Service Development**","Developed automatic group buying post generation feature based on URLs","Developed AI assistant for service usage (search, participation) using natural language","**TestPrep AI - Document-based Question Generation Service Development**","Advanced to finals (Top 6 out of 26 teams) in Kakao Tech Hackathon","Built core RAG pipeline and conducted prompt engineering"],tags:["Generative AI","RAG","LangChain","FastAPI","Python"]}],education:[{title:"University of Seoul",degree:"Bachelor of Geoinformatics",period:"2019.03 - 2025.08",description:["GPA 3.50/4.5"]}],activities:[{title:"Spatial Database Lab",role:"Undergraduate Researcher",period:"2022.07 ~ 2024.06",description:["Spatial data analysis and visualization"]},{title:"Department of Geoinformatics Student Council",role:"Staff Member",period:"2022.01 ~ 2022.12"}],certs:[{title:"Big Data Analysis Engineer",issuer:"K-Data",date:""},{title:"SQLD",issuer:"K-Data",date:""},{title:"ADsP",issuer:"K-Data",date:""}],awards:[{title:"Kakaotech Bootcamp Hackathon Finalist",issuer:"Kakaotech bootcamp",date:"2025",description:["TestPrep AI Project","Selected as Top 6 out of 26 teams"]},{title:"Korea Spatial Information Industry Promotion Agency Award",issuer:"Korea Spatial Information Industry Promotion Agency",date:"2024",description:["Spatial Information Competition Award"]}]},portfolio:{title:"Projects",filters:{all:"All",web:"Web Dev",ai:"AI/ML",research:"Research"},modal:{overview:"Overview",role:"Role",techStack:"Tech Stack",keyFeatures:"Key Features",links:{github:"GitHub",demo:"Live",paper:"Paper"}},projects:[{id:1,title:"Clova Studio Cookbook Writing",category:"Technical Writing",image:"/src/assets/clova-cookbook.png",description:"Technical documentation for Clova Studio and Naver Cloud Platform",details:{problem:"Creating cookbooks for Clova Studio and Naver Cloud blog",solution:"Authored a series of practical cookbooks on various topics including LangChain, MCP, and Agent to lower the learning curve for developers.",role:"Technical Writer & Developer",tech:["Clova Studio","MCP","LangChain","OAuth 2.0","FastMCP"],features:["MCP Practical Cookbook Series Part 3: Building MCP Server with OAuth Integration (Main Author)","Building Multi-Agent with LangChain v1.0: Report AI with Middleware (Completed, scheduled for mid-December)","Upcoming cookbooks on LangChain DeepAgent and Agentic RAG","Practical code examples and detailed explanations","Continuous updates based on developer community feedback"],achievement:"The cookbook series helped developers learn MCP and LangChain usage, published on Naver Cloud official blog with high view counts."},links:{demo:"https://www.ncloud-forums.com/forum/6/",github:null}},{id:2,title:"Moongsan",category:"AI & Data Science",image:"src/assets/moongsan.png",description:"Location-based Group Buying Service & AI Automation",details:{problem:"Cumbersome procedures for group buying (post creation, participation management) and difficulty in finding information",solution:"Maximized convenience by using Generative AI to automatically create posts from URLs and a natural language chatbot for service interaction.",role:"AI Engineer & Architecture Design",tech:["LangChain","LangGraph","FastAPI","MySQL","Vector DB"],features:["Auto Post Generation from URL (LangGraph crawling pipeline)","Natural Language Service Control (Multi-Agent Supervisor)","Hybrid Search System Design","Docker-based Container Deployment"],achievement:"Acquired 100+ users within 1 month of service launch, achieved 80% reduction in post creation time",troubleshooting:"Improved search accuracy by 35% by introducing hybrid search (keyword + vector) method to enhance Vector DB search accuracy."},links:{demo:"https://moongsan.com/",github:"https://github.com/100-hours-a-week/14-YG-AI/tree/dev"}},{id:3,title:"TestPrep AI",category:"AI & Data Science",image:"src/assets/testprep.png",description:"Document-based Question Generation Service",details:{problem:"Difficulty in creating self-study questions from learning materials",solution:"Built a service that analyzes uploaded documents via RAG pipeline and automatically generates multiple-choice questions using LLM.",role:"AI Pipeline Architect & Backend Dev",tech:["Python","LangChain","OpenAI","Chroma","FastAPI"],features:["Document-based Question Generation (RAG)","PDF/Text Document Upload & Visualization","Quiz Solving & Answer/Explanation","FastAPI-based LLM Inference Server"],achievement:"Advanced to Kakao Tech Hackathon finals (Top 6 / 26 teams), achieved 85% question generation accuracy",troubleshooting:"Applied hybrid parsing method combining PyMuPDF and OCR to solve table and image processing issues during PDF parsing."},links:{demo:null,github:"https://github.com/Test-Prep-AI/Model/tree/main"}},{id:4,title:"Remote MCP (Naver & Kakao)",category:"Research",image:"https://github.com/user-attachments/assets/5e38b6ae-78a9-4556-8678-9c2086912f7d",description:"MCP Server with OAuth Integration (Naver Search/Calendar, KakaoTalk Messaging)",details:{problem:"Need for integrating external services requiring user authentication in MCP server",solution:"Implemented MCP servers integrating Naver and Kakao services by connecting FastMCP with OAuth 2.0.",role:"Sole Developer",tech:["FastMCP","Python","OAuth 2.0","OIDC","CLOVA Studio API"],features:["Naver: OAuth 2.0 Integration (PKCE support), Web Search, Calendar Schedule Addition","Kakao: OAuth 2.0 & OIDC Integration, Message Sending, Friend List Retrieval","Responsive Message Viewer","Auto Consent Processing & Token Management"],achievement:"Presented OAuth authentication integration case to MCP ecosystem, gained 50+ stars in community",troubleshooting:"Introduced session-based state management to resolve state parameter validation errors during PKCE flow implementation."},links:{demo:null,github:null}}]},resume:{title:"Resume & Skills",skillsTitle:"Technical Skills",download:"Download PDF"}}},bH=()=>{const{language:t}=q0(),n=Z1[t].hero,e=r=>{r.preventDefault();const i=document.querySelector("#projects");if(i){const a=i.offsetTop-80;window.scrollTo({top:a,behavior:"smooth"})}};return re.jsx("section",{id:"home",className:"hero-section",children:re.jsxs("div",{className:"container hero-container",children:[re.jsx($l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:re.jsxs("h1",{className:"hero-title-combined",children:[re.jsxs("span",{className:"hero-greeting-text",children:[n.greeting," "]}),re.jsx("span",{className:"hero-name",children:n.name}),re.jsx("span",{className:"hero-greeting-text",children:n.ending})]})}),re.jsx($l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:re.jsx("h3",{className:"hero-subtitle",children:n.subtitle})}),re.jsx($l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:re.jsx("p",{className:"hero-description",children:n.description.split(`
`).map((r,i)=>re.jsxs(O.Fragment,{children:[r,i<n.description.split(`
`).length-1&&re.jsx("br",{className:"desktop-break"})]},i))})}),re.jsx($l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:re.jsx("a",{href:"#projects",className:"btn-primary",onClick:e,children:n.cta})})]})})},TH="/assets/profile-BKU4iKrf.jpeg",CH=()=>{const[t,n]=D.useState("experience"),{language:e}=q0(),r=Z1[e].about,i=[{id:"experience",label:r.tabs.experience},{id:"education",label:r.tabs.education},{id:"activities",label:r.tabs.activities},{id:"certs",label:r.tabs.certs},{id:"awards",label:r.tabs.awards}],a=s=>s.split(/(\*\*.*?\*\*)/g).map((c,d)=>c.startsWith("**")&&c.endsWith("**")?re.jsx("strong",{children:c.slice(2,-2)},d):c);return re.jsx("section",{id:"about",className:"section about-section",children:re.jsxs("div",{className:"container",children:[re.jsx("h2",{className:"section-title",children:r.title}),re.jsxs("div",{className:"about-content",children:[re.jsxs("div",{className:"about-profile",children:[re.jsx("div",{className:"profile-image-wrapper",children:re.jsx("div",{className:"image-container",children:re.jsx($l.img,{src:TH,alt:"Profile",className:"profile-image",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})})}),re.jsx("div",{className:"profile-text",children:r.intro.map((s,l)=>re.jsx("p",{children:a(s)},l))})]}),re.jsxs("div",{className:"about-tabs-container",children:[re.jsx("div",{className:"tabs-list",children:i.map(s=>re.jsx("button",{className:`tab-btn ${t===s.id?"active":""}`,onClick:()=>n(s.id),children:s.label},s.id))}),re.jsx("div",{className:"tab-content",children:re.jsx($l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:r[t].map((s,l)=>re.jsxs("div",{className:"resume-item",children:[re.jsxs("div",{className:"resume-header",children:[re.jsx("h4",{children:s.title}),re.jsx("span",{className:"resume-period",children:s.period||s.date})]}),s.company&&re.jsx("p",{className:"resume-company",children:s.company}),s.degree&&re.jsx("p",{className:"resume-degree",children:s.degree}),s.role&&re.jsx("p",{className:"resume-role",children:s.role}),s.issuer&&re.jsx("p",{className:"resume-issuer",children:s.issuer}),s.description&&re.jsx("ul",{className:"resume-description",children:s.description.map((c,d)=>re.jsx("li",{children:a(c)},d))}),s.tags&&re.jsx("div",{className:"resume-tags",children:s.tags.map(c=>re.jsx("span",{className:"tag",children:c},c))})]},l))},t)})]})]})]})})},SH=()=>{const[t,n]=D.useState(null),{language:e}=q0(),r=Z1[e].portfolio,i=r.projects.find(a=>a.id===t);return re.jsx("section",{id:"projects",className:"section portfolio-section",children:re.jsxs("div",{className:"container",children:[re.jsx("h2",{className:"section-title",children:r.title}),re.jsx("div",{className:"portfolio-grid",children:re.jsx(JC,{mode:"popLayout",children:r.projects.map(a=>re.jsx($l.div,{layoutId:`card-${a.id}`,className:"portfolio-card",onClick:()=>n(a.id),whileHover:{y:-5},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},children:re.jsxs("div",{className:"card-content",children:[re.jsx("span",{className:"card-category",children:a.category}),re.jsx("h3",{className:"card-title",children:a.title}),re.jsx("p",{className:"card-description",children:a.description}),re.jsx("div",{className:"card-footer",children:re.jsx("span",{className:"read-more",children:"Read More "})})]})},a.id))})}),re.jsx(JC,{children:t&&re.jsx("div",{className:"modal-overlay",onClick:()=>n(null),children:re.jsxs($l.div,{layoutId:`card-${t}`,className:"modal-content",onClick:a=>a.stopPropagation(),children:[re.jsx("button",{className:"modal-close",onClick:()=>n(null),children:re.jsx(A4,{})}),re.jsxs("div",{className:"modal-header",children:[re.jsx("img",{src:i.image,alt:i.title,className:"modal-image"}),re.jsxs("div",{className:"modal-title-row",children:[re.jsxs("div",{children:[re.jsx("span",{className:"modal-category",children:i.category}),re.jsx("h2",{children:i.title})]}),re.jsxs("div",{className:"modal-links",children:[i.links.github&&re.jsxs("a",{href:i.links.github,target:"_blank",rel:"noopener noreferrer",className:"icon-link",children:[re.jsx(N4,{})," ",r.modal.links.github]}),i.links.demo&&re.jsxs("a",{href:i.links.demo,target:"_blank",rel:"noopener noreferrer",className:"icon-link",children:[re.jsx(mH,{})," ",r.modal.links.demo]}),i.links.paper&&re.jsxs("a",{href:i.links.paper,target:"_blank",rel:"noopener noreferrer",className:"icon-link",children:[re.jsx(vH,{})," ",r.modal.links.paper]})]})]})]}),re.jsxs("div",{className:"modal-body",children:[re.jsxs("div",{className:"modal-section",children:[re.jsx("h3",{children:r.modal.overview}),re.jsx("p",{children:i.details.problem}),re.jsx("p",{children:i.details.solution})]}),re.jsxs("div",{className:"modal-row",children:[re.jsxs("div",{className:"modal-col",children:[re.jsx("h3",{children:r.modal.role}),re.jsx("p",{children:i.details.role})]}),re.jsxs("div",{className:"modal-col",children:[re.jsx("h3",{children:r.modal.techStack}),re.jsx("div",{className:"tech-tags",children:i.details.tech.map(a=>re.jsx("span",{className:"tech-tag",children:a},a))})]})]}),re.jsxs("div",{className:"modal-section",children:[re.jsx("h3",{children:r.modal.keyFeatures}),re.jsx("ul",{className:"feature-list",children:i.details.features.map((a,s)=>re.jsx("li",{children:a},s))})]}),i.details.achievement&&re.jsxs("div",{className:"modal-section",children:[re.jsx("h3",{children:r.modal.achievement}),re.jsx("p",{children:i.details.achievement})]}),i.details.troubleshooting&&re.jsxs("div",{className:"modal-section",children:[re.jsx("h3",{children:""}),re.jsx("p",{children:i.details.troubleshooting})]})]})]})})})]})})},NH=()=>{const{language:t}=q0(),n=Z1[t].resume;return re.jsx("section",{id:"resume",className:"section resume-section",children:re.jsxs("div",{className:"container",children:[re.jsx("h2",{className:"section-title",children:n.title}),re.jsxs("div",{className:"skills-content",children:[re.jsxs("div",{className:"skills-section",children:[re.jsx("h3",{children:"I use it often"}),re.jsxs("div",{className:"skills-category",children:[re.jsx("h4",{children:"AI/ML & Data"}),re.jsxs("div",{className:"skills-badges",children:[re.jsx("img",{src:"https://img.shields.io/badge/LangChain-1C3C3C?style=for-the-badge&logo=langchain&logoColor=white",alt:"LangChain"}),re.jsx("img",{src:"https://img.shields.io/badge/vLLM-8A2BE2?style=for-the-badge&logoColor=white",alt:"vLLM"}),re.jsx("img",{src:"https://img.shields.io/badge/RAG-FF6B6B?style=for-the-badge&logoColor=white",alt:"RAG"}),re.jsx("img",{src:"https://img.shields.io/badge/MCP-2ECC71?style=for-the-badge&logoColor=white",alt:"MCP"}),re.jsx("img",{src:"https://img.shields.io/badge/PyTorch-EE4C2C?style=for-the-badge&logo=pytorch&logoColor=white",alt:"PyTorch"}),re.jsx("img",{src:"https://img.shields.io/badge/Scikit--learn-F7931E?style=for-the-badge&logo=scikit-learn&logoColor=white",alt:"Scikit-learn"}),re.jsx("img",{src:"https://img.shields.io/badge/Pandas-150458?style=for-the-badge&logo=pandas&logoColor=white",alt:"Pandas"})]})]}),re.jsxs("div",{className:"skills-category",children:[re.jsx("h4",{children:"Backend & Programming"}),re.jsxs("div",{className:"skills-badges",children:[re.jsx("img",{src:"https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white",alt:"Python"}),re.jsx("img",{src:"https://img.shields.io/badge/PostgreSQL-336791?style=for-the-badge&logo=postgresql&logoColor=white",alt:"PostgreSQL"}),re.jsx("img",{src:"https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=fastapi&logoColor=white",alt:"FastAPI"}),re.jsx("img",{src:"https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=git&logoColor=white",alt:"Git"}),re.jsx("img",{src:"https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white",alt:"Docker"})]})]}),re.jsxs("div",{className:"skills-category",children:[re.jsx("h4",{children:"Tools & Others"}),re.jsxs("div",{className:"skills-badges",children:[re.jsx("img",{src:"https://img.shields.io/badge/GCP-4285F4?style=for-the-badge&logo=google-cloud&logoColor=white",alt:"GCP"}),re.jsx("img",{src:"https://img.shields.io/badge/QGIS-589632?style=for-the-badge&logo=qgis&logoColor=white",alt:"QGIS"})]})]})]}),re.jsxs("div",{className:"skills-section",children:[re.jsx("h3",{children:"I've used it before"}),re.jsxs("div",{className:"skills-badges",children:[re.jsx("img",{src:"https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white",alt:"MySQL"}),re.jsx("img",{src:"https://img.shields.io/badge/AWS-FF9900?style=for-the-badge&logo=amazon-ec2&logoColor=white",alt:"AWS"})]})]})]})]})})},AH=()=>re.jsxs(re.Fragment,{children:[re.jsx(bH,{}),re.jsx(CH,{}),re.jsx(SH,{}),re.jsx(NH,{})]}),wH=({onClick:t,isOpen:n})=>re.jsxs("button",{className:`chatbot-button ${n?"open":""}`,onClick:t,"aria-label":"Open chatbot",children:[re.jsx(fH,{className:"chatbot-icon"}),re.jsx("span",{className:"pulse-indicator"})]});var cS=function(t,n){return cS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},cS(t,n)};function w4(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");cS(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var Re=function(){return Re=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Re.apply(this,arguments)};function nl(t,n,e,r){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(f){try{d(r.next(f))}catch(v){s(v)}}function c(f){try{d(r.throw(f))}catch(v){s(v)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,n||[])).next())})}function rl(t,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(d){return function(f){return c([d,f])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,i=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){e.label=d[1];break}if(d[0]===6&&e.label<a[1]){e.label=a[1],a=d;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(d);break}a[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(t,e)}catch(f){d=[6,f],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function tt(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))}const IH="modulepreload",MH=function(t){return"/"+t},vI={},Hb=function(n,e,r){let i=Promise.resolve();if(e&&e.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(e.map(d=>{if(d=MH(d),d in vI)return;vI[d]=!0;const f=d.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":IH,f||(g.as="script"),g.crossOrigin="",g.href=d,l&&g.setAttribute("nonce",l),document.head.appendChild(g),f)return new Promise((y,b)=>{g.addEventListener("load",y),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var dS=function(t,n){return dS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},dS(t,n)};function k(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}dS(t,n),t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var q=function(){return q=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},q.apply(this,arguments)};function OH(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]])}return e}function A(t,n,e,r){return new(e||(e=Promise))((function(i,a){function s(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){var f;d.done?i(d.value):(f=d.value,f instanceof e?f:new e((function(v){v(f)}))).then(s,l)}c((r=r.apply(t,[])).next())}))}function N(t,n){var e,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(d){return(function(f){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(a=0)),a;)try{if(e=1,r&&(i=2&f[0]?r.return:f[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,f[1])).done)return i;switch(r=0,i&&(f=[2&f[0],i.value]),f[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,r=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||f[0]!==6&&f[0]!==2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){a.label=f[1];break}if(f[0]===6&&a.label<i[1]){a.label=i[1],i=f;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(f);break}i[2]&&a.ops.pop(),a.trys.pop();continue}f=n.call(t,a)}catch(v){f=[6,v],r=0}finally{e=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}})([c,d])}}}function De(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r,i,a=e.call(t),s=[];try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return s}function et(t,n,e){if(arguments.length===2)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))}var je,I4="4.20.2",fh=(function(){function t(){}return Object.defineProperty(t,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SDK_VERSION",{get:function(){return I4},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SDK_MAJOR_VERSION",{get:function(){return t.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(t,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),t})();(function(t){t[t.NON_AUTHORIZED=400108]="NON_AUTHORIZED",t[t.INVALID_TOKEN=400111]="INVALID_TOKEN",t[t.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",t[t.USER_AUTH_DEACTIVATED=400300]="USER_AUTH_DEACTIVATED",t[t.USER_AUTH_DELETED_OR_NOT_FOUND=400301]="USER_AUTH_DELETED_OR_NOT_FOUND",t[t.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",t[t.APPLICATION_NOT_FOUND=400304]="APPLICATION_NOT_FOUND",t[t.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",t[t.SESSION_REVOKED=400310]="SESSION_REVOKED",t[t.INVALID_SESSION_TYPE=400312]="INVALID_SESSION_TYPE",t[t.INVALID_AUTH_FOR_SERVICE=400313]="INVALID_AUTH_FOR_SERVICE",t[t.STAT_UPLOAD_NOT_ALLOWED=403200]="STAT_UPLOAD_NOT_ALLOWED",t[t.NOT_SUPPORTED_PINNED_MESSAGE_IN_REVIEW_MESSAGE=400940]="NOT_SUPPORTED_PINNED_MESSAGE_IN_REVIEW_MESSAGE",t[t.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",t[t.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",t[t.INVALID_REQUIRED_FORM_VALUE=400105]="INVALID_REQUIRED_FORM_VALUE",t[t.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",t[t.NOT_SUPPORTED_FEATURE_IN_IN_REVIEW_MESSAGE=901500]="NOT_SUPPORTED_FEATURE_IN_IN_REVIEW_MESSAGE",t[t.ERR_DUPLICATED_DATA=400202]="ERR_DUPLICATED_DATA",t[t.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",t[t.LOST_INSTANCE=700100]="LOST_INSTANCE",t[t.CONNECTION_RENEW=700102]="CONNECTION_RENEW",t[t.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",t[t.INVALID_COMMAND=700700]="INVALID_COMMAND",t[t.XMLHTTPREQUEST_NOT_SUPPORTED=700800]="XMLHTTPREQUEST_NOT_SUPPORTED",t[t.UNKNOWN_ERROR=77e4]="UNKNOWN_ERROR",t[t.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",t[t.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",t[t.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",t[t.INVALID_PARAMETER=800110]="INVALID_PARAMETER",t[t.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",t[t.NETWORK_ERROR=800120]="NETWORK_ERROR",t[t.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",t[t.MALFORMED_DATA=800130]="MALFORMED_DATA",t[t.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",t[t.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",t[t.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",t[t.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",t[t.ACK_TIMEOUT=800180]="ACK_TIMEOUT",t[t.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",t[t.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",t[t.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",t[t.REQUEST_FAILED=800220]="REQUEST_FAILED",t[t.DELAYED_CONNECTING=800221]="DELAYED_CONNECTING",t[t.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",t[t.REQUEST_CANCELED=800240]="REQUEST_CANCELED",t[t.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",t[t.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",t[t.ERR_UPLOAD_STAT_RETRY_COUNT_EXCEEDED=800270]="ERR_UPLOAD_STAT_RETRY_COUNT_EXCEEDED",t[t.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",t[t.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",t[t.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",t[t.COLLECTION_DISPOSED=800600]="COLLECTION_DISPOSED",t[t.DATABASE_ERROR=800700]="DATABASE_ERROR",t[t.USER_DEACTIVATED=900021]="USER_DEACTIVATED",t[t.CHANNEL_IS_FROZEN=900050]="CHANNEL_IS_FROZEN",t[t.RECEIVER_USER_DEACTIVATED=900081]="RECEIVER_USER_DEACTIVATED"})(je||(je={}));var Va,np,Mi,o1,hS,Zg,Ca=function(t){return!(t instanceof Z&&!t.shouldThrowOutside)},Z=(function(t){function n(e){var r=e.code,i=r===void 0?0:r,a=e.message,s=a===void 0?"":a,l=t.call(this,s)||this;return l.shouldThrowOutside=!1,l._detail="",l.name="SendbirdError",l.code=i,Object.setPrototypeOf(l,n.prototype),l}return k(n,t),Object.defineProperty(n.prototype,"detail",{get:function(){return this._detail},enumerable:!1,configurable:!0}),n.prototype.setDetail=function(e){this._detail=e},Object.defineProperty(n.prototype,"isInvalidTokenError",{get:function(){return this.code===je.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionExpiredError",{get:function(){return this.isSessionTokenExpiredError||this.isSessionKeyExpiredError},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===je.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===je.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionInvalidatedError",{get:function(){return this.isSessionRevokedError||this.isUserAuthDeactivedError||this.isUserAuthDeletedOrNotFoundError},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionRevokedError",{get:function(){return this.code===je.SESSION_REVOKED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isUserAuthDeactivedError",{get:function(){return this.code===je.USER_AUTH_DEACTIVATED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isUserAuthDeletedOrNotFoundError",{get:function(){return this.code===je.USER_AUTH_DELETED_OR_NOT_FOUND},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isNetworkError",{get:function(){return this.code===je.NETWORK_ERROR||this.code===je.NETWORK_ROUTING_ERROR},enumerable:!1,configurable:!0}),Object.defineProperty(n,"debugModeRequired",{get:function(){return new n({code:je.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"lostInstance",{get:function(){return new n({code:je.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidCommand",{get:function(){return new n({code:je.INVALID_COMMAND,message:"Cannot send invalid command."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"unknown",{get:function(){return new n({code:je.UNKNOWN_ERROR,message:"Unknown error occurred."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRenew",{get:function(){return new n({code:je.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidConnectionStateTransition",{get:function(){return new n({code:je.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"xmlHttpRequestNotSupported",{get:function(){return new n({code:je.XMLHTTPREQUEST_NOT_SUPPORTED,message:"Cannot upload file. XMLHttpRequest is not defined in this environment."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRequired",{get:function(){return new n({code:je.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionCanceled",{get:function(){return new n({code:je.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidParameters",{get:function(){return new n({code:je.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"notSupportedError",{get:function(){return new n({code:je.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"channelTypeNotSupportedError",{get:function(){return new n({code:je.NOT_SUPPORTED_ERROR,message:"Called method is not supported in the current channel's channel type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"networkError",{get:function(){return new n({code:je.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"markAsReadAllRateLimitExceeded",{get:function(){return new n({code:je.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"queryInProgress",{get:function(){return new n({code:je.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"noAckTimeout",{get:function(){return new n({code:je.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"loginTimeout",{get:function(){return new n({code:je.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionClosed",{get:function(){return new n({code:je.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestFailed",{get:function(){return new n({code:je.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"tooManyRequests",{get:function(){return new n({code:je.REQUEST_DUPLICATED,message:"Too many requests."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"alreadyConnectedAsAnotherUser",{get:function(){return new n({code:je.REQUEST_FAILED,message:"Already logged in as a different user. Call disconnect() first."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"fileUploadCanceled",{get:function(){return new n({code:je.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestCanceled",{get:function(){return new n({code:je.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRefreshFailed",{get:function(){return new n({code:je.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRequestFailed",{get:function(){return new n({code:je.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"databaseError",{get:function(){return new n({code:je.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"fileSizeLimitExceededError",{get:function(){return new n({code:je.FILE_SIZE_LIMIT_EXCEEDED,message:"File size exceeds the file size limit."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"statLogUploadLimitExceededError",{get:function(){return new n({code:je.ERR_UPLOAD_STAT_RETRY_COUNT_EXCEEDED,message:"The upload request failed due to the retry count being exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"malformedDataError",{get:function(){return new n({code:je.MALFORMED_DATA,message:"Malformed data."})},enumerable:!1,configurable:!0}),n.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},n})(Error),RH=[je.CONNECTION_REQUIRED,je.NETWORK_ERROR,je.ACK_TIMEOUT,je.WEBSOCKET_CONNECTION_CLOSED,je.WEBSOCKET_CONNECTION_FAILED,je.FILE_UPLOAD_CANCEL_FAILED,je.REQUEST_CANCELED,je.INTERNAL_SERVER_ERROR,je.RATE_LIMIT_EXCEEDED,je.UNKNOWN_SERVER_ERROR,je.USER_DEACTIVATED,je.CHANNEL_IS_FROZEN,je.RECEIVER_USER_DEACTIVATED],DH=[je.WEBSOCKET_CONNECTION_CLOSED,je.WEBSOCKET_CONNECTION_FAILED,je.CONNECTION_REQUIRED,je.CHANNEL_IS_FROZEN],M4=function(t,n){if(t!==n){var e=q({},t),r=q({},n);return(!e.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||e.messageId===r.messageId)&&(!e.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||e.reqId===r.reqId)&&(e.hasOwnProperty("messageId")&&delete e.messageId,e.hasOwnProperty("reqId")&&delete e.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(e)===JSON.stringify(r))}return!0},W=function(t,n,e){return e===void 0&&(e=!1),!(!e||!j0(n))||(typeof t!="string"?typeof t=="object"?wt(t,n):xH(t,n):typeof n===t)},wt=function(t,n,e){return e===void 0&&(e=!1),!(!e||!j0(n))||Object.values(t).includes(n)},xH=function(t,n){return n instanceof t},It=function(t,n,e){return e===void 0&&(e=!1),!(!e||!j0(n))||Array.isArray(n)&&n.every((function(r){return W(t,r)}))},_I=function(t,n){return!!j0(t)||typeof t=="number"&&t.toString().length===13},LH=function(t){return t>0&&RH.indexOf(t)>=0},l1=function(t){return t>0&&DH.indexOf(t)>=0},Oi=function(t,n){if(n===void 0&&(n=!1),n&&j0(t))return!0;var e=typeof t=="object"&&t!==null&&t.hasOwnProperty("name")&&typeof t.name=="string"&&t.hasOwnProperty("uri")&&typeof t.uri=="string"&&t.hasOwnProperty("type")&&typeof t.type=="string";if(!e){if(typeof Blob<"u")return t instanceof Blob;if(typeof File<"u")return t instanceof File}return e},UH=function(t,n){if(t===n)return!0;if(t==null||n==null||t.length!==n.length)return!1;for(var e=et([],Ye(t),!1).sort(),r=et([],Ye(n),!1).sort(),i=0;i<e.length;++i)if(e[i]!==r[i])return!1;return!0},j0=function(t){return t==null},O4=(function(){function t(n){var e=n===void 0?{}:n,r=e.useMemberInfoInMessage,i=r===void 0||r,a=e.typingIndicatorInvalidateTime,s=a===void 0?1e4:a,l=e.typingIndicatorThrottle,c=l===void 0?1e3:l,d=e.websocketResponseTimeout,f=d===void 0?1e4:d,v=e.websocketPayloadDecompression,g=v===void 0||v,y=e.sessionTokenRefreshTimeout,b=y===void 0?60:y;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=i,this._typingIndicatorInvalidateTime=s,this._typingIndicatorThrottle=c,this._websocketResponseTimeout=f,this._sessionTokenRefreshTimeout=b,this.websocketPayloadDecompression=g}return Object.defineProperty(t.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(n){W("boolean",n)&&(this._useMemberInfoInMessage=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(n){W("number",n)&&(this._typingIndicatorInvalidateTime=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(n){W("number",n)&&n>=1e3&&n<=9e3&&(this._typingIndicatorThrottle=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(n){W("number",n)&&n>=5e3&&n<=3e4&&(this._websocketResponseTimeout=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(n){W("number",n)&&(n<60?n=60:n>1800&&(n=1800),this._sessionTokenRefreshTimeout=n)},enumerable:!1,configurable:!0}),t})(),R4={encrypt:function(t){return t},decrypt:function(t){return t}},gI=(function(){function t(n){var e=n.store;this._preference=new Map,this._store=e}return t.prototype._savePreferenceKeys=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,this._store.set({key:this._keysAddress,value:et([],Ye(this._preference.keys()),!1)})];case 1:return n.sent(),[2]}}))}))},t.prototype.init=function(n,e){var r;return e===void 0&&(e=1),A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v,g,y,b;return N(this,(function(C){switch(C.label){case 0:return this._version=e,this._keysAddress=n,i="".concat(n,".metadata.version"),[4,this._store.get(i)];case 1:return a=C.sent(),[4,this._store.get(n)];case 2:return s=(r=C.sent())!==null&&r!==void 0?r:[],!a||a.version<this._version?this._version===9?[3,3]:[3,6]:[3,10];case 3:return l=s.find((function(w){return w.includes("groupchannel/sync.meta")})),l?[4,this._store.remove(l)]:[3,5];case 4:C.sent(),C.label=5;case 5:return[3,8];case 6:return[4,this._resetPreferenceData(s)];case 7:C.sent(),C.label=8;case 8:return[4,this._updatePreferenceVersionInfo(i)];case 9:return C.sent(),[3,17];case 10:C.trys.push([10,15,16,17]),c=De(s),d=c.next(),C.label=11;case 11:return d.done?[3,14]:(f=d.value,[4,this._store.get(f)]);case 12:(v=C.sent())&&this._preference.set(f,v),C.label=13;case 13:return d=c.next(),[3,11];case 14:return[3,17];case 15:return g=C.sent(),y={error:g},[3,17];case 16:try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(y)throw y.error}return[7];case 17:return[2]}}))}))},t.prototype._updatePreferenceVersionInfo=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._store.set({key:n,value:{version:this._version}})];case 1:return e.sent(),[2]}}))}))},t.prototype._resetPreferenceData=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this._preference=new Map,[4,this._store.removeMany(n)];case 1:return e.sent(),[2]}}))}))},t.prototype.get=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){return[2,this._preference.get(n)]}))}))},t.prototype.set=function(n,e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=!this._preference.has(n),[4,this._store.set({key:n,value:e})];case 1:return i.sent(),this._preference.set(n,e),r?[4,this._savePreferenceKeys()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.remove=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._store.remove(n)];case 1:return e.sent(),this._preference.delete(n),[4,this._savePreferenceKeys()];case 2:return e.sent(),[2]}}))}))},t.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,this._store.removeMany(et([],Ye(this._preference.keys()),!1))];case 1:return n.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return n.sent(),[2]}}))}))},t})(),kH=(function(){function t(n){var e=n.encryption,r=n.store,i=n.localCacheEnabled,a=n.localCacheConfig;this.store=r,this.preference=new gI({store:r}),this.encryption=e??R4,this.localCacheEnabled=i,this.localCacheConfig=a}return t.prototype.replaceStore=function(n){this.store=n,this.preference=new gI({store:n})},t})();(function(t){t.SUCCESS="success",t.PENDING="pending",t.ERROR="error"})(Va||(Va={})),(function(t){t.DEFAULT="default",t.ALL="all",t.MENTION_ONLY="mention_only",t.OFF="off"})(np||(np={})),(function(t){t.FCM="gcm",t.APNS="apns",t.UNKNOWN="unknown"})(Mi||(Mi={})),(function(t){t.SESSION_TOKEN="session_token",t.ACCESS_TOKEN="access_token"})(o1||(o1={})),(function(t){t.ALTERNATIVE="alternative",t.DEFAULT="default"})(hS||(hS={})),(function(t){t.CUSTOM="custom",t.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"})(Zg||(Zg={}));var u1,PH=(function(){function t(n){var e=n.channel,r=n.cachedMessageCount;this._cachedMessageCount=0,this._channel=e,this._cachedMessageCount=r}return Object.defineProperty(t.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedMessageCount",{get:function(){return this._cachedMessageCount},enumerable:!1,configurable:!0}),t})(),D4=(function(){function t(n){var e=n===void 0?{}:n,r=e.maxSize,i=r===void 0?256:r,a=e.clearOrder,s=a===void 0?Zg.MESSAGE_COLLECTION_ACCESSED_AT:a,l=e.customClearOrderComparator,c=e.enableAutoResend,d=c===void 0||c;this._clearOrderComparatorUseMessageCollectionAccessedAt=function(f,v){return f.channel.messageCollectionLastAccessedAt===v.channel.messageCollectionLastAccessedAt?f.channel.lastMessage&&!v.channel.lastMessage?1:!f.channel.lastMessage&&v.channel.lastMessage?-1:f.channel.lastMessage||v.channel.lastMessage?f.channel.lastMessage.createdAt-v.channel.lastMessage.createdAt:0:f.channel.messageCollectionLastAccessedAt>v.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(i,64),l?(this._clearOrder=s,this._customClearOrderComparator=l):this._clearOrder=Zg.MESSAGE_COLLECTION_ACCESSED_AT,this._enableAutoResend=d}return Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearOrderComparator",{get:function(){var n;return this._clearOrder===Zg.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:(n=this._customClearOrderComparator)!==null&&n!==void 0?n:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableAutoResend",{get:function(){return this._enableAutoResend},enumerable:!1,configurable:!0}),t})();(function(t){t.FEED="feed",t.CHAT="chat",t.CHAT_API="chat_api"})(u1||(u1={}));var Lt,Jo,Wo,Bn,na,_v,aa,ra,Ql,dn,yI,fS,pS,FH=(function(){function t(){this.isRefreshing=!1}return Object.defineProperty(t.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasChatServicePermission",{get:function(){var n;return!!(!((n=this.services)===null||n===void 0)&&n.includes(u1.CHAT))},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.authToken=void 0,this.sessionKey=void 0,this.services=[]},t})(),wo=function(){var t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),(n==="x"?e:3&e|8).toString(16)}))},EI=(function(){function t(n){var e=n.container;this._container={},this._container=e,this.key=wo()}return t.prototype._register=function(n,e,r){var i;return n in this._container||(this._container[n]=new Map),(i=this._container[n])===null||i===void 0||i.set(this.key,{occurence:e,handler:r}),this},t.prototype.on=function(n,e){return this._register(n,-1,e)},t.prototype.once=function(n,e){return this._register(n,1,e)},t.prototype.close=function(){var n=this;Object.keys(this._container).forEach((function(e){var r;(r=n._container[e])===null||r===void 0||r.delete(n.key)}))},t})(),Mp=(function(){function t(){this._container={}}return t.prototype.on=function(n,e){return new EI({container:this._container}).on(n,e)},t.prototype.once=function(n,e){return new EI({container:this._container}).once(n,e)},t.prototype.dispatch=function(n,e){var r,i,a=this._container[n];if(a){var s=[];try{for(var l=De(a.keys()),c=l.next();!c.done;c=l.next()){var d=c.value,f=a.get(d);f.handler(e),f.occurence>0&&(f.occurence--,f.occurence===0&&s.push(d))}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}s.forEach((function(v){return a.delete(v)}))}},t})(),HH=(function(){function t(){this._dispatcher=new Mp}return t.prototype.on=function(n){return this._dispatcher.on("event",n)},t.prototype.once=function(n){return this._dispatcher.once("event",n)},t.prototype.dispatch=function(n){this._dispatcher.dispatch("event",n)},t})(),xn=function(){},Pe=function(t){var n={};return t&&Object.keys(t).forEach((function(e){t[e]===void 0||Number.isNaN(t[e])||t[e]===null||(n[e]=t[e])})),n},We=function(t){if(t!=null){if(typeof t=="object"){if(Array.isArray(t)){for(var n=et([],Ye(t),!1),e=0;e<n.length;e++)n[e]=We(n[e]);return n}return Object.keys(t).forEach((function(r){t[r]===null&&delete t[r]})),t}return t}};(function(t){t.BASE="base",t.GROUP="group",t.OPEN="open",t.FEED="feed"})(Lt||(Lt={})),(function(t){t.OPERATOR="operator",t.NONE="none"})(Jo||(Jo={})),(function(t){t.MUTED="muted",t.UNMUTED="unmuted"})(Wo||(Wo={})),(function(t){t.BASE="base",t.USER="user",t.FILE="file",t.ADMIN="admin"})(Bn||(Bn={})),(function(t){t.ALL="",t.USER="MESG",t.FILE="FILE",t.ADMIN="ADMM"})(na||(na={})),(function(t){t.USER="MESG",t.FILE="FILE",t.ADMIN="ADMM"})(_v||(_v={})),(function(t){t.USERS="users",t.CHANNEL="channel"})(aa||(aa={})),(function(t){t.ALL="all",t.NONE="none",t.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"})(ra||(ra={})),(function(t){t.DEFAULT="default",t.SUPPRESS="suppress"})(Ql||(Ql={})),(function(t){t.PENDING="pending",t.SCHEDULED="scheduled",t.SUCCEEDED="succeeded",t.FAILED="failed",t.CANCELED="canceled"})(dn||(dn={})),(function(t){t.INREVIEW="InReview",t.APPROVED="Approved"})(yI||(yI={})),(function(t){t.HIGH="high",t.NORMAL="normal",t.LOW="low"})(fS||(fS={})),(function(t){t.CREATED_AT="created_at",t.UPDATED_AT="updated_at"})(pS||(pS={}));var Ee,li="v3",an="/".concat(li,"/users"),BH="/".concat(li,"/sdk/users"),GH="/".concat(li,"/storage/file"),Aa="/".concat(li,"/group_channels"),zH="/".concat(li,"/sdk/group_channels"),Op="/".concat(li,"/open_channels"),VH="/".concat(li,"/sdk/open_channels"),qH="/".concat(li,"/search"),mS="/".concat(li,"/report"),jH="/".concat(li,"/emojis"),x4="/".concat(li,"/emoji_categories"),Xl="/".concat(li,"/polls"),L4="/".concat(li,"/scheduled_messages"),$H="/".concat(li,"/sdk/ui_kit/configuration"),KH="/".concat(li,"/sdk/statistics"),YH="/".concat(li,"/sdk/notification_statistics"),U4="/".concat(li,"/message_templates"),WH="/".concat(li,"/sdk/push_delivery"),QH="/".concat(li,"/forms"),XH="/".concat(li,"/report_category"),ZH="/".concat(li,"/sdk/applications/settings"),e3="/".concat(li,"/ai_agent"),t3="/".concat(li,"/ai_agent/group_channels"),Jt=function(t){switch(t){case Lt.FEED:case Lt.GROUP:return Aa;case Lt.OPEN:return Op;default:return null}},k4=function(t){switch(t){case Lt.GROUP:return"".concat(mS,"/group_channels");case Lt.OPEN:return"".concat(mS,"/open_channels");default:return null}},gv=function(t,n,e){var r,i;switch(t){case aa.CHANNEL:return!0;case aa.USERS:if(n)try{for(var a=De(n),s=a.next();!s.done;s=a.next())if(s.value===e)return!0}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return!1},n3=function(t,n,e){var r,i,a,s,l=gv((r=t.mentionType)!==null&&r!==void 0?r:null,(i=t.mentionedUserIds)!==null&&i!==void 0?i:[],e),c=gv((a=n.mentionType)!==null&&a!==void 0?a:null,(s=n.mentionedUserIds)!==null&&s!==void 0?s:[],e);return!l&&c?1:l&&!c?-1:0},P4=function(t,n,e){var r,i=n||new FormData;for(var a in t)if(t.hasOwnProperty(a)){var s=t[a],l=e?"".concat(e,"[").concat(a,"]"):a;Oi(s)?i.append(l,s,(r=s.name)!==null&&r!==void 0?r:"filename"):typeof s!="object"||s===null||Array.isArray(s)||s instanceof Blob?i.append(l,String(s)):i=P4(s,i,l)}return i};(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.PATCH="PATCH"})(Ee||(Ee={}));var Mn,be=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.params={},e.requireAuth=!0,e.headers={},e.requestId=wo(),e}return k(n,t),n.prototype.encodeParams=function(e){var r=this;return e==null||e===""?encodeURIComponent(""):Array.isArray(e)?e.map((function(i){return r.encodeParams(i)})).join(","):encodeURIComponent(typeof e=="object"?JSON.stringify(e):String(e))},Object.defineProperty(n.prototype,"query",{get:function(){var e=this,r=Pe(this.params);return"?".concat(Object.keys(r).map((function(i){return"".concat(encodeURIComponent(i),"=").concat(e.encodeParams(r[i]))})).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"payload",{get:function(){var e=Pe(this.params);return Object.keys(e).some((function(r){return Oi(e[r])}))?P4(e):JSON.stringify(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasSessionKey",{get:function(){return this.headers["Session-Key"]!==void 0},enumerable:!1,configurable:!0}),n})(xn),we=(function(t){function n(e,r){var i=t.call(this)||this;return i._iid=e,i._payload=r,i}return k(n,t),Object.defineProperty(n.prototype,"payload",{get:function(){return q({},this._payload)},enumerable:!1,configurable:!0}),n.prototype.as=function(e){return new e(this._iid,this.payload)},n})(xn),JH=(function(t){function n(e){var r=t.call(this)||this;return r.requestId=e,r}return k(n,t),n})(xn),yv=(function(t){function n(e){var r=e.expires_in,i=e.reason,a=i===void 0?je.SESSION_KEY_EXPIRED:i,s=e.message,l=s===void 0?"":s,c=t.call(this)||this;switch(c.expiresIn=r??0,a){case je.SESSION_KEY_EXPIRED:case je.SESSION_TOKEN_EXPIRED:case je.SESSION_REVOKED:case je.USER_AUTH_DEACTIVATED:case je.USER_AUTH_DELETED_OR_NOT_FOUND:c.error=new Z({code:a,message:l})}return c}return k(n,t),Object.defineProperty(n.prototype,"invalidateSessionToken",{get:function(){var e;return!!(!((e=this.error)===null||e===void 0)&&e.isSessionTokenExpiredError)},enumerable:!1,configurable:!0}),n})(xn),Jn=(function(t){function n(e,r,i,a){a===void 0&&(a="");var s,l=this;return(l=t.call(this)||this)._iid=e,l.code=r,l.payload=i,l.requestId=(s=i.req_id)!==null&&s!==void 0?s:a,l}return k(n,t),n.createFromRawMessage=function(e,r){var i=r.substring(0,4),a={};try{a=JSON.parse(r.substring(4))}catch{i="NOOP"}finally{return new n(e,i,a)}},n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n.prototype.as=function(e){return new e(this._iid,this.code,this.payload)},n})(xn),ia=(function(t){function n(e){var r,i=e.code,a=e.ackRequired,s=e.payload,l=s===void 0?{}:s,c=this;return(c=t.call(this)||this).code=i,c.payload=l,c.requestId=(r=c.payload.req_id)!==null&&r!==void 0?r:wo(),c.ackRequired=a,c.payload.req_id=c.requestId,c}return k(n,t),n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n})(xn),r3=(function(t){function n(e){var r=e.userId,i=e.authToken,a=e.services,s=e.expiringSession,l=s===void 0||s,c=t.call(this)||this;return c.path="".concat(an,"/").concat(encodeURIComponent(r),"/session_key"),c.method=Ee.POST,c.params=Pe({token:i,services:a,expiring_session:!!l}),c.requireAuth=!1,c}return k(n,t),n})(be),eB=(function(t){function n(e){var r=e.authToken,i=e.expiringSession,a=i===void 0||i,s=e.requestId,l=s===void 0?void 0:s;return t.call(this,{code:"LOGI",payload:Pe({token:r,expiring_session:a?1:0,req_id:l}),ackRequired:!0})||this}return k(n,t),n})(ia),tB=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.key,s=r.expires_at,l=r.services;return i.key=a,i.expiresAt=s,i.services=l,i}return k(n,t),n})(we),nB=(function(t){function n(e,r,i){var a,s=this;return(s=t.call(this,e,"LOGI",i)||this).error=null,s.newKey=null,s.newKey=(a=i.new_key)!==null&&a!==void 0?a:null,s.error=i.error?new Z(i):null,s}return k(n,t),n})(Jn),Lc=(function(t){function n(e){var r=t.call(this)||this;return r.statLog=e,r}return k(n,t),n})(xn),F4=(function(t){function n(e){var r=e.request,i=e.deferred,a=e.error,s=a===void 0?Z.requestFailed:a,l=t.call(this)||this;return l.request=r,l.deferred=i,l.error=s,l}return k(n,t),n})(xn);(function(t){t.FEATURE_LOCALCACHE="feature:local_cache",t.FEATURE_LOCALCACHE_EVENT="feature:local_cache_event",t.NOTIFICATION="noti:stats",t.WEBSOCKET_CONNECT="ws:connect",t.WEBSOCKET_DISCONNECT="ws:disconnect",t.API_RESULT="api:result"})(Mn||(Mn={}));var vS,hp,ch,$n=(function(){function t(n){var e=n.type,r=n.data,i=n.ts,a=i===void 0?Date.now():i;this.type=e,this.createdAt=a,this.data=r}return t.payloadify=function(n){return Pe({stat_type:n.type,ts:n.createdAt,data:Pe(n.data)})},t})(),_S=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},bI=function(){return!(typeof navigator>"u"||!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i.test(navigator.userAgent))};(function(t){t.CHAT="chat",t.CALLS="calls",t.DESK="desk",t.LIVE="live",t.UIKIT_CHAT="uikit-chat",t.UIKIT_LIVE="uikit-live",t.AI_AGENT="ai-agent"})(vS||(vS={})),(function(t){t.ANDROID="android",t.IOS="ios",t.JS="js",t.UNREAL="unreal",t.UNITY="unity",t.REACT_NATIVE="react-native",t.FLUTTER="flutter"})(hp||(hp={})),(function(t){t.ANDROID="android",t.IOS="ios",t.WEB="web",t.MOBILE_WEB="mobile_web",t.WINDOWS="windows"})(ch||(ch={}));var rB="^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",c1=(function(){function t(){}var n;return n=t,t._getFrameWork=function(){if(typeof window<"u"){if(window.__REACT__)return"react";if(window.__VUE__)return"vue";var e=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e&&e.getFiberRoots&&e.getFiberRoots(1).size>0)return"react";if(window.__NUXT__)return"vue(SSR)";if(window.__NEXT_DATA__||window.__NEXT_P||window.__NEXT_F)return"nextjs"}return""},t.sendbirdSdkUserAgentWithExtension=function(e){var r=_S()?hp.REACT_NATIVE:hp.JS,i={main_sdk_info:"chat/".concat(r,"/").concat(fh.SDK_VERSION),device_os_platform:bI()?"mobile-web":"web",os_version:fh.OS_VERSION};if(e){var a=e.sendbirdExtensions,s=e.deviceOS,l=e.customData,c=l===void 0?{}:l;s.version&&(i.os_version=s.version),s.platform&&(i.device_os_platform=s.platform),a.length>0&&(i.extension_sdk_info=a.map((function(f){var v=f.product,g=f.platform,y=f.version;return"".concat(v,"/").concat(g,"/").concat(y)})).join(",")),Object.keys(i).forEach((function(f){return delete c[f]})),Object.keys(c).length>0&&(i=q(q({},i),c))}var d=n._getFrameWork();return d&&(i.javascript_framework=d),Object.entries(i).map((function(f){var v=Ye(f,2),g=v[0],y=v[1];return"".concat(g,"=").concat(y)})).join("&")},t.userAgentWithExtension=function(e){var r=_S()?"reactnative":"JS",i=e.sb_syncmanager?"s".concat(e.sb_syncmanager):"",a=e.sb_uikit?"u".concat(e.sb_uikit):"",s=e["device-os-platform"]?"o".concat(e["device-os-platform"]):bI()?"omobile-web":"oweb";return"".concat(r,"/c").concat(fh.SDK_VERSION,"/").concat(i,"/").concat(a,"/").concat(s)},t})(),ja=function(){var t=this;this.promise=new Promise((function(n,e){t.resolve=n,t.reject=function(r){e(r)}}))},d1=(function(t){function n(e){var r=t.call(this)||this;return r.requestId=e.requestId,r}return k(n,t),n})(xn),H4=(function(t){function n(e){var r=t.call(this)||this;return r.method=Ee.DELETE,r.path="".concat(Jt(e.channelType),"/").concat(e.channelUrl,"/messages/").concat(e.messageId),e.messageToken&&(r.params=Pe({mesg_token:e.messageToken})),r}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var B4=(function(t){function n(e,r,i){var a,s=this;return(s=t.call(this,e,"DELM",i)||this).channelUrl=i.channel_url,s.channelType=i.channel_type,s.messageId=Number(i.msg_id),s.silent=i.silent,s.messageCreatedAt=i.message_created_at?Number(i.message_created_at):-1,s.senderId=(a=i.sender_id)!==null&&a!==void 0?a:void 0,s}return k(n,t),n})(Jn),iB=(function(){function t(n,e){var r=e.session,i=e.sdkState,a=e.dispatcher,s=e.logger,l=e.useFetchCompat,c=l!==void 0&&l,d=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=n,this._session=r,this._sdkState=i,this._dispatcher=a,this._dispatcher.on((function(f){f instanceof JH&&d.cancel(f.requestId)})),this._logger=s,this._shouldImportFetchCompat=c}return t.prototype._createHeader=function(n,e){var r=this._sdkState,i=r.appId,a=r.appVersion,s=r.sendbirdRuntimeEnvironment,l=q(q({},n.headers),{SendBird:"JS,".concat(fh.OS_VERSION,",").concat(fh.SDK_VERSION,",").concat(i).concat(a?",".concat(a):""),"SB-User-Agent":c1.userAgentWithExtension(this._sdkState.extensions),"Request-Sent-Timestamp":Date.now().toString(),"SB-SDK-User-Agent":c1.sendbirdSdkUserAgentWithExtension(s)});return e||(l["Content-Type"]="application/json; charset=utf-8"),l["App-Id"]=i,n.requireAuth?!n.hasSessionKey&&this._session.hasSession&&(l["Session-key"]=this._session.sessionKey):this._session.authToken&&(l["Access-token"]=this._session.authToken),l},t.prototype._statLogApiResult=function(n,e,r){n.path.includes("/sdk/statistics")||this._dispatcher.dispatch(new Lc(new $n({type:Mn.API_RESULT,data:{endpoint:n.path,method:n.method,success:!r,latency:Date.now()-e,error_code:r?.code,error_description:r?.message}})))},t.prototype._isBodyRequired=function(n){var e=n.method;return e!==Ee.GET&&(e!==Ee.DELETE||n instanceof H4)},t.prototype.send=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U;return N(this,(function(H){switch(H.label){case 0:e=n.path,r=n.method,i=n.uploadProgressHandler,a=this._isBodyRequired(n),s=this._sdkState.api,l="".concat(s.host).concat(e).concat(a?"":n.query),c=a?n.payload:null,d=this._createHeader(n,c instanceof FormData?c:void 0),f=new AbortController,v=f.signal,this._abortControl.set(n.requestId,f),g=Date.now(),H.label=1;case 1:return H.trys.push([1,13,,14]),i?[4,Hb(()=>import("./__bundle-9e5797c2-DJYVltVt.js"),[])]:[3,6];case 2:y=H.sent().xmlHttpRequest,H.label=3;case 3:return H.trys.push([3,5,,6]),[4,y(this._iid,{requestId:n.requestId,method:n.method,url:l,headers:d,data:c??void 0,uploadProgressHandler:i})];case 4:return b=H.sent(),this._logger.debug("receive api response",n.requestId),this._statLogApiResult(n,g),[2,b];case 5:if(!((C=H.sent())instanceof Z&&C.code===je.XMLHTTPREQUEST_NOT_SUPPORTED))throw C;return this._logger.debug("XMLHttpRequest is not available in this environment. progressHandler is ignored."),[3,6];case 6:return this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,(typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{fetch:null}).fetch=null),typeof AbortController<"u"?[3,8]:[4,Hb(()=>Promise.resolve().then(()=>Fte),void 0)];case 7:H.sent(),H.label=8;case 8:return typeof fetch=="function"?[3,10]:[4,Hb(()=>import("./__bundle-46d64517-BL6-RVtT.js").then(P=>P._),[])];case 9:H.sent(),H.label=10;case 10:return[4,fetch(l,{method:r,body:c,headers:d,signal:v})];case 11:return[4,(w=H.sent()).json()];case 12:if(I=H.sent(),w.ok||w.redirected)return this._logger.debug("receive api response",n.requestId),this._statLogApiResult(n,g),[2,new we(this._iid,I)];if(I){if((M=new Z(I)).isSessionExpiredError){if(this._dispatcher.dispatch(new yv({reason:M.code,message:M.message})),!(n instanceof r3))return R=new ja,this._dispatcher.dispatch(new F4({request:n,deferred:R,error:M})),[2,R.promise];throw M}throw M.isSessionInvalidatedError&&this._dispatcher.dispatch(new yv({reason:M.code,message:M.message})),M}throw Z.requestFailed;case 13:throw U=H.sent(),this._statLogApiResult(n,g,U),U instanceof Z?(this._logger.debug("fail api request",U),U):U?.name==="AbortError"?Z.requestCanceled:(this._logger.debug("fail api request",U),Z.networkError);case 14:return[2]}}))}))},t.prototype.cancel=function(n){this._abortControl.has(n)&&(this._abortControl.get(n).abort(),this._abortControl.delete(n)),this._dispatcher.dispatch(new d1({requestId:n}))},t.prototype.cancelAll=function(){var n,e;try{for(var r=De(this._abortControl.values()),i=r.next();!i.done;i=r.next())i.value.abort()}catch(a){n={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}this._abortControl.clear(),this._dispatcher.dispatch(new d1({}))},t})(),st=function(){};function Rv(t){let n=t.length;for(;--n>=0;)t[n]=0}const i3=256,G4=286,Jg=30,e0=15,gS=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Bb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),aB=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),TI=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ac=new Array(576);Rv(Ac);const t0=new Array(60);Rv(t0);const A0=new Array(512);Rv(A0);const n0=new Array(256);Rv(n0);const a3=new Array(29);Rv(a3);const h1=new Array(Jg);function GT(t,n,e,r,i){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let CI,SI,NI;function zT(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}Rv(h1);const z4=t=>t<256?A0[t]:A0[256+(t>>>7)],w0=(t,n)=>{t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255},Vs=(t,n,e)=>{t.bi_valid>16-e?(t.bi_buf|=n<<t.bi_valid&65535,w0(t,t.bi_buf),t.bi_buf=n>>16-t.bi_valid,t.bi_valid+=e-16):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)},Pu=(t,n,e)=>{Vs(t,e[2*n],e[2*n+1])},V4=(t,n)=>{let e=0;do e|=1&t,t>>>=1,e<<=1;while(--n>0);return e>>>1},q4=(t,n,e)=>{const r=new Array(16);let i,a,s=0;for(i=1;i<=e0;i++)s=s+e[i-1]<<1,r[i]=s;for(a=0;a<=n;a++){let l=t[2*a+1];l!==0&&(t[2*a]=V4(r[l]++,l))}},j4=t=>{let n;for(n=0;n<G4;n++)t.dyn_ltree[2*n]=0;for(n=0;n<Jg;n++)t.dyn_dtree[2*n]=0;for(n=0;n<19;n++)t.bl_tree[2*n]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},$4=t=>{t.bi_valid>8?w0(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},AI=(t,n,e,r)=>{const i=2*n,a=2*e;return t[i]<t[a]||t[i]===t[a]&&r[n]<=r[e]},VT=(t,n,e)=>{const r=t.heap[e];let i=e<<1;for(;i<=t.heap_len&&(i<t.heap_len&&AI(n,t.heap[i+1],t.heap[i],t.depth)&&i++,!AI(n,r,t.heap[i],t.depth));)t.heap[e]=t.heap[i],e=i,i<<=1;t.heap[e]=r},wI=(t,n,e)=>{let r,i,a,s,l=0;if(t.sym_next!==0)do r=255&t.pending_buf[t.sym_buf+l++],r+=(255&t.pending_buf[t.sym_buf+l++])<<8,i=t.pending_buf[t.sym_buf+l++],r===0?Pu(t,i,n):(a=n0[i],Pu(t,a+i3+1,n),s=gS[a],s!==0&&(i-=a3[a],Vs(t,i,s)),r--,a=z4(r),Pu(t,a,e),s=Bb[a],s!==0&&(r-=h1[a],Vs(t,r,s)));while(l<t.sym_next);Pu(t,256,n)},qT=(t,n)=>{const e=n.dyn_tree,r=n.stat_desc.static_tree,i=n.stat_desc.has_stree,a=n.stat_desc.elems;let s,l,c,d=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<a;s++)e[2*s]!==0?(t.heap[++t.heap_len]=d=s,t.depth[s]=0):e[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=d<2?++d:0,e[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[2*c+1]);for(n.max_code=d,s=t.heap_len>>1;s>=1;s--)VT(t,e,s);c=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],VT(t,e,1),l=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=l,e[2*c]=e[2*s]+e[2*l],t.depth[c]=(t.depth[s]>=t.depth[l]?t.depth[s]:t.depth[l])+1,e[2*s+1]=e[2*l+1]=c,t.heap[1]=c++,VT(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((f,v)=>{const g=v.dyn_tree,y=v.max_code,b=v.stat_desc.static_tree,C=v.stat_desc.has_stree,w=v.stat_desc.extra_bits,I=v.stat_desc.extra_base,M=v.stat_desc.max_length;let R,U,H,P,G,Y,F=0;for(P=0;P<=e0;P++)f.bl_count[P]=0;for(g[2*f.heap[f.heap_max]+1]=0,R=f.heap_max+1;R<573;R++)U=f.heap[R],P=g[2*g[2*U+1]+1]+1,P>M&&(P=M,F++),g[2*U+1]=P,U>y||(f.bl_count[P]++,G=0,U>=I&&(G=w[U-I]),Y=g[2*U],f.opt_len+=Y*(P+G),C&&(f.static_len+=Y*(b[2*U+1]+G)));if(F!==0){do{for(P=M-1;f.bl_count[P]===0;)P--;f.bl_count[P]--,f.bl_count[P+1]+=2,f.bl_count[M]--,F-=2}while(F>0);for(P=M;P!==0;P--)for(U=f.bl_count[P];U!==0;)H=f.heap[--R],H>y||(g[2*H+1]!==P&&(f.opt_len+=(P-g[2*H+1])*g[2*H],g[2*H+1]=P),U--)}})(t,n),q4(e,d,t.bl_count)},II=(t,n,e)=>{let r,i,a=-1,s=n[1],l=0,c=7,d=4;for(s===0&&(c=138,d=3),n[2*(e+1)+1]=65535,r=0;r<=e;r++)i=s,s=n[2*(r+1)+1],++l<c&&i===s||(l<d?t.bl_tree[2*i]+=l:i!==0?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):l<=10?t.bl_tree[34]++:t.bl_tree[36]++,l=0,a=i,s===0?(c=138,d=3):i===s?(c=6,d=3):(c=7,d=4))},MI=(t,n,e)=>{let r,i,a=-1,s=n[1],l=0,c=7,d=4;for(s===0&&(c=138,d=3),r=0;r<=e;r++)if(i=s,s=n[2*(r+1)+1],!(++l<c&&i===s)){if(l<d)do Pu(t,i,t.bl_tree);while(--l!=0);else i!==0?(i!==a&&(Pu(t,i,t.bl_tree),l--),Pu(t,16,t.bl_tree),Vs(t,l-3,2)):l<=10?(Pu(t,17,t.bl_tree),Vs(t,l-3,3)):(Pu(t,18,t.bl_tree),Vs(t,l-11,7));l=0,a=i,s===0?(c=138,d=3):i===s?(c=6,d=3):(c=7,d=4)}};let OI=!1;const K4=(t,n,e,r)=>{Vs(t,0+(r?1:0),3),$4(t),w0(t,e),w0(t,~e),e&&t.pending_buf.set(t.window.subarray(n,n+e),t.pending),t.pending+=e};var sB=(t,n,e,r)=>{let i,a,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=(l=>{let c,d=4093624447;for(c=0;c<=31;c++,d>>>=1)if(1&d&&l.dyn_ltree[2*c]!==0)return 0;if(l.dyn_ltree[18]!==0||l.dyn_ltree[20]!==0||l.dyn_ltree[26]!==0)return 1;for(c=32;c<i3;c++)if(l.dyn_ltree[2*c]!==0)return 1;return 0})(t)),qT(t,t.l_desc),qT(t,t.d_desc),s=(l=>{let c;for(II(l,l.dyn_ltree,l.l_desc.max_code),II(l,l.dyn_dtree,l.d_desc.max_code),qT(l,l.bl_desc),c=18;c>=3&&l.bl_tree[2*TI[c]+1]===0;c--);return l.opt_len+=3*(c+1)+5+5+4,c})(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=e+5,e+4<=i&&n!==-1?K4(t,n,e,r):t.strategy===4||a===i?(Vs(t,2+(r?1:0),3),wI(t,Ac,t0)):(Vs(t,4+(r?1:0),3),((l,c,d,f)=>{let v;for(Vs(l,c-257,5),Vs(l,d-1,5),Vs(l,f-4,4),v=0;v<f;v++)Vs(l,l.bl_tree[2*TI[v]+1],3);MI(l,l.dyn_ltree,c-1),MI(l,l.dyn_dtree,d-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),wI(t,t.dyn_ltree,t.dyn_dtree)),j4(t),r&&$4(t)},oB={_tr_init:t=>{OI||((()=>{let n,e,r,i,a;const s=new Array(16);for(r=0,i=0;i<28;i++)for(a3[i]=r,n=0;n<1<<gS[i];n++)n0[r++]=i;for(n0[r-1]=i,a=0,i=0;i<16;i++)for(h1[i]=a,n=0;n<1<<Bb[i];n++)A0[a++]=i;for(a>>=7;i<Jg;i++)for(h1[i]=a<<7,n=0;n<1<<Bb[i]-7;n++)A0[256+a++]=i;for(e=0;e<=e0;e++)s[e]=0;for(n=0;n<=143;)Ac[2*n+1]=8,n++,s[8]++;for(;n<=255;)Ac[2*n+1]=9,n++,s[9]++;for(;n<=279;)Ac[2*n+1]=7,n++,s[7]++;for(;n<=287;)Ac[2*n+1]=8,n++,s[8]++;for(q4(Ac,287,s),n=0;n<Jg;n++)t0[2*n+1]=5,t0[2*n]=V4(n,5);CI=new GT(Ac,gS,257,G4,e0),SI=new GT(t0,Bb,0,Jg,e0),NI=new GT(new Array(0),aB,0,19,7)})(),OI=!0),t.l_desc=new zT(t.dyn_ltree,CI),t.d_desc=new zT(t.dyn_dtree,SI),t.bl_desc=new zT(t.bl_tree,NI),t.bi_buf=0,t.bi_valid=0,j4(t)},_tr_stored_block:K4,_tr_flush_block:sB,_tr_tally:(t,n,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=n,t.pending_buf[t.sym_buf+t.sym_next++]=n>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,n===0?t.dyn_ltree[2*e]++:(t.matches++,n--,t.dyn_ltree[2*(n0[e]+i3+1)]++,t.dyn_dtree[2*z4(n)]++),t.sym_next===t.sym_end),_tr_align:t=>{Vs(t,2,3),Pu(t,256,Ac),(n=>{n.bi_valid===16?(w0(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)})(t)}},r0=(t,n,e,r)=>{let i=65535&t,a=t>>>16&65535,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do i=i+n[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16};const lB=new Uint32Array((()=>{let t,n=[];for(var e=0;e<256;e++){t=e;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;n[e]=t}return n})());var ea=(t,n,e,r)=>{const i=lB,a=r+e;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[255&(t^n[s])];return~t},_p={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:uB,_tr_stored_block:yS,_tr_flush_block:cB,_tr_tally:ph,_tr_align:dB}=oB,{Z_NO_FLUSH:mh,Z_PARTIAL_FLUSH:hB,Z_FULL_FLUSH:fB,Z_FINISH:Qo,Z_BLOCK:RI,Z_OK:_a,Z_STREAM_END:DI,Z_STREAM_ERROR:Uu,Z_DATA_ERROR:pB,Z_BUF_ERROR:jT,Z_DEFAULT_COMPRESSION:mB,Z_FILTERED:vB,Z_HUFFMAN_ONLY:ob,Z_RLE:_B,Z_FIXED:gB,Z_DEFAULT_STRATEGY:yB,Z_UNKNOWN:EB,Z_DEFLATED:f1}=$0,rp=258,Gu=262,hv=42,Kf=113,Gg=666,Yf=(t,n)=>(t.msg=_p[n],n),xI=t=>2*t-(t>4?9:0),oh=t=>{let n=t.length;for(;--n>=0;)t[n]=0},bB=t=>{let n,e,r,i=t.w_size;n=t.hash_size,r=n;do e=t.head[--r],t.head[r]=e>=i?e-i:0;while(--n);n=i,r=n;do e=t.prev[--r],t.prev[r]=e>=i?e-i:0;while(--n)};let vh=(t,n,e)=>(n<<t.hash_shift^e)&t.hash_mask;const _o=t=>{const n=t.state;let e=n.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+e),t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,n.pending===0&&(n.pending_out=0))},bo=(t,n)=>{cB(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,_o(t.strm)},ur=(t,n)=>{t.pending_buf[t.pending++]=n},Ag=(t,n)=>{t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n},ES=(t,n,e,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,n.set(t.input.subarray(t.next_in,t.next_in+i),e),t.state.wrap===1?t.adler=r0(t.adler,n,i,e):t.state.wrap===2&&(t.adler=ea(t.adler,n,i,e)),t.next_in+=i,t.total_in+=i,i)},Y4=(t,n)=>{let e,r,i=t.max_chain_length,a=t.strstart,s=t.prev_length,l=t.nice_match;const c=t.strstart>t.w_size-Gu?t.strstart-(t.w_size-Gu):0,d=t.window,f=t.w_mask,v=t.prev,g=t.strstart+rp;let y=d[a+s-1],b=d[a+s];t.prev_length>=t.good_match&&(i>>=2),l>t.lookahead&&(l=t.lookahead);do if(e=n,d[e+s]===b&&d[e+s-1]===y&&d[e]===d[a]&&d[++e]===d[a+1]){a+=2,e++;do;while(d[++a]===d[++e]&&d[++a]===d[++e]&&d[++a]===d[++e]&&d[++a]===d[++e]&&d[++a]===d[++e]&&d[++a]===d[++e]&&d[++a]===d[++e]&&d[++a]===d[++e]&&a<g);if(r=rp-(g-a),a=g-rp,r>s){if(t.match_start=n,s=r,r>=l)break;y=d[a+s-1],b=d[a+s]}}while((n=v[n&f])>c&&--i!=0);return s<=t.lookahead?s:t.lookahead},uv=t=>{const n=t.w_size;let e,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-Gu)&&(t.window.set(t.window.subarray(n,n+n-r),0),t.match_start-=n,t.strstart-=n,t.block_start-=n,t.insert>t.strstart&&(t.insert=t.strstart),bB(t),r+=n),t.strm.avail_in===0)break;if(e=ES(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=e,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=vh(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=vh(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Gu&&t.strm.avail_in!==0)},W4=(t,n)=>{let e,r,i,a=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,l=t.strm.avail_in;do{if(e=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,r=t.strstart-t.block_start,e>r+t.strm.avail_in&&(e=r+t.strm.avail_in),e>i&&(e=i),e<a&&(e===0&&n!==Qo||n===mh||e!==r+t.strm.avail_in)))break;s=n===Qo&&e===r+t.strm.avail_in?1:0,yS(t,0,0,s),t.pending_buf[t.pending-4]=e,t.pending_buf[t.pending-3]=e>>8,t.pending_buf[t.pending-2]=~e,t.pending_buf[t.pending-1]=~e>>8,_o(t.strm),r&&(r>e&&(r=e),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,e-=r),e&&(ES(t.strm,t.strm.output,t.strm.next_out,e),t.strm.next_out+=e,t.strm.avail_out-=e,t.strm.total_out+=e)}while(s===0);return l-=t.strm.avail_in,l&&(l>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=l&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-l,t.strm.next_in),t.strstart),t.strstart+=l,t.insert+=l>t.w_size-t.insert?t.w_size-t.insert:l),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:n!==mh&&n!==Qo&&t.strm.avail_in===0&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(ES(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,a=i>t.w_size?t.w_size:i,r=t.strstart-t.block_start,(r>=a||(r||n===Qo)&&n!==mh&&t.strm.avail_in===0&&r<=i)&&(e=r>i?i:r,s=n===Qo&&t.strm.avail_in===0&&e===r?1:0,yS(t,t.block_start,e,s),t.block_start+=e,_o(t.strm)),s?3:1)},$T=(t,n)=>{let e,r;for(;;){if(t.lookahead<Gu){if(uv(t),t.lookahead<Gu&&n===mh)return 1;if(t.lookahead===0)break}if(e=0,t.lookahead>=3&&(t.ins_h=vh(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-Gu&&(t.match_length=Y4(t,e)),t.match_length>=3)if(r=ph(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=vh(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=vh(t,t.ins_h,t.window[t.strstart+1]);else r=ph(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(bo(t,!1),t.strm.avail_out===0))return 1}return t.insert=t.strstart<2?t.strstart:2,n===Qo?(bo(t,!0),t.strm.avail_out===0?3:4):t.sym_next&&(bo(t,!1),t.strm.avail_out===0)?1:2},Jm=(t,n)=>{let e,r,i;for(;;){if(t.lookahead<Gu){if(uv(t),t.lookahead<Gu&&n===mh)return 1;if(t.lookahead===0)break}if(e=0,t.lookahead>=3&&(t.ins_h=vh(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-Gu&&(t.match_length=Y4(t,e),t.match_length<=5&&(t.strategy===vB||t.match_length===3&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=ph(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=vh(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(bo(t,!1),t.strm.avail_out===0))return 1}else if(t.match_available){if(r=ph(t,0,t.window[t.strstart-1]),r&&bo(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=ph(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,n===Qo?(bo(t,!0),t.strm.avail_out===0?3:4):t.sym_next&&(bo(t,!1),t.strm.avail_out===0)?1:2};function Lu(t,n,e,r,i){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=r,this.func=i}const zg=[new Lu(0,0,0,0,W4),new Lu(4,4,8,4,$T),new Lu(4,5,16,8,$T),new Lu(4,6,32,32,$T),new Lu(4,4,16,16,Jm),new Lu(8,16,32,32,Jm),new Lu(8,16,128,128,Jm),new Lu(8,32,128,256,Jm),new Lu(32,128,258,1024,Jm),new Lu(32,258,258,4096,Jm)];function TB(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),oh(this.dyn_ltree),oh(this.dyn_dtree),oh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),oh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),oh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Vg=t=>{if(!t)return 1;const n=t.state;return!n||n.strm!==t||n.status!==hv&&n.status!==57&&n.status!==69&&n.status!==73&&n.status!==91&&n.status!==103&&n.status!==Kf&&n.status!==Gg?1:0},Q4=t=>{if(Vg(t))return Yf(t,Uu);t.total_in=t.total_out=0,t.data_type=EB;const n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?57:n.wrap?hv:Kf,t.adler=n.wrap===2?0:1,n.last_flush=-2,uB(n),_a},X4=t=>{const n=Q4(t);var e;return n===_a&&((e=t.state).window_size=2*e.w_size,oh(e.head),e.max_lazy_match=zg[e.level].max_lazy,e.good_match=zg[e.level].good_length,e.nice_match=zg[e.level].nice_length,e.max_chain_length=zg[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n},LI=(t,n,e,r,i,a)=>{if(!t)return Uu;let s=1;if(n===mB&&(n=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||e!==f1||r<8||r>15||n<0||n>9||a<0||a>gB||r===8&&s!==1)return Yf(t,Uu);r===8&&(r=9);const l=new TB;return t.state=l,l.strm=t,l.status=hv,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=3*(l.lit_bufsize-1),l.level=n,l.strategy=a,l.method=e,X4(t)};var i0={deflateInit:(t,n)=>LI(t,n,f1,15,8,yB),deflateInit2:LI,deflateReset:X4,deflateResetKeep:Q4,deflateSetHeader:(t,n)=>Vg(t)||t.state.wrap!==2?Uu:(t.state.gzhead=n,_a),deflate:(t,n)=>{if(Vg(t)||n>RI||n<0)return t?Yf(t,Uu):Uu;const e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===Gg&&n!==Qo)return Yf(t,t.avail_out===0?jT:Uu);const r=e.last_flush;if(e.last_flush=n,e.pending!==0){if(_o(t),t.avail_out===0)return e.last_flush=-1,_a}else if(t.avail_in===0&&xI(n)<=xI(r)&&n!==Qo)return Yf(t,jT);if(e.status===Gg&&t.avail_in!==0)return Yf(t,jT);if(e.status===hv&&e.wrap===0&&(e.status=Kf),e.status===hv){let i=f1+(e.w_bits-8<<4)<<8,a=-1;if(a=e.strategy>=ob||e.level<2?0:e.level<6?1:e.level===6?2:3,i|=a<<6,e.strstart!==0&&(i|=32),i+=31-i%31,Ag(e,i),e.strstart!==0&&(Ag(e,t.adler>>>16),Ag(e,65535&t.adler)),t.adler=1,e.status=Kf,_o(t),e.pending!==0)return e.last_flush=-1,_a}if(e.status===57){if(t.adler=0,ur(e,31),ur(e,139),ur(e,8),e.gzhead)ur(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),ur(e,255&e.gzhead.time),ur(e,e.gzhead.time>>8&255),ur(e,e.gzhead.time>>16&255),ur(e,e.gzhead.time>>24&255),ur(e,e.level===9?2:e.strategy>=ob||e.level<2?4:0),ur(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(ur(e,255&e.gzhead.extra.length),ur(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=ea(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(ur(e,0),ur(e,0),ur(e,0),ur(e,0),ur(e,0),ur(e,e.level===9?2:e.strategy>=ob||e.level<2?4:0),ur(e,3),e.status=Kf,_o(t),e.pending!==0)return e.last_flush=-1,_a}if(e.status===69){if(e.gzhead.extra){let i=e.pending,a=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+a>e.pending_buf_size;){let l=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+l),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>i&&(t.adler=ea(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex+=l,_o(t),e.pending!==0)return e.last_flush=-1,_a;i=0,a-=l}let s=new Uint8Array(e.gzhead.extra);e.pending_buf.set(s.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending+=a,e.gzhead.hcrc&&e.pending>i&&(t.adler=ea(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=73}if(e.status===73){if(e.gzhead.name){let i,a=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>a&&(t.adler=ea(t.adler,e.pending_buf,e.pending-a,a)),_o(t),e.pending!==0)return e.last_flush=-1,_a;a=0}i=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,ur(e,i)}while(i!==0);e.gzhead.hcrc&&e.pending>a&&(t.adler=ea(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=91}if(e.status===91){if(e.gzhead.comment){let i,a=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>a&&(t.adler=ea(t.adler,e.pending_buf,e.pending-a,a)),_o(t),e.pending!==0)return e.last_flush=-1,_a;a=0}i=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,ur(e,i)}while(i!==0);e.gzhead.hcrc&&e.pending>a&&(t.adler=ea(t.adler,e.pending_buf,e.pending-a,a))}e.status=103}if(e.status===103){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(_o(t),e.pending!==0))return e.last_flush=-1,_a;ur(e,255&t.adler),ur(e,t.adler>>8&255),t.adler=0}if(e.status=Kf,_o(t),e.pending!==0)return e.last_flush=-1,_a}if(t.avail_in!==0||e.lookahead!==0||n!==mh&&e.status!==Gg){let i=e.level===0?W4(e,n):e.strategy===ob?((a,s)=>{let l;for(;;){if(a.lookahead===0&&(uv(a),a.lookahead===0)){if(s===mh)return 1;break}if(a.match_length=0,l=ph(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,l&&(bo(a,!1),a.strm.avail_out===0))return 1}return a.insert=0,s===Qo?(bo(a,!0),a.strm.avail_out===0?3:4):a.sym_next&&(bo(a,!1),a.strm.avail_out===0)?1:2})(e,n):e.strategy===_B?((a,s)=>{let l,c,d,f;const v=a.window;for(;;){if(a.lookahead<=rp){if(uv(a),a.lookahead<=rp&&s===mh)return 1;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=3&&a.strstart>0&&(d=a.strstart-1,c=v[d],c===v[++d]&&c===v[++d]&&c===v[++d])){f=a.strstart+rp;do;while(c===v[++d]&&c===v[++d]&&c===v[++d]&&c===v[++d]&&c===v[++d]&&c===v[++d]&&c===v[++d]&&c===v[++d]&&d<f);a.match_length=rp-(f-d),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=3?(l=ph(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(l=ph(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),l&&(bo(a,!1),a.strm.avail_out===0))return 1}return a.insert=0,s===Qo?(bo(a,!0),a.strm.avail_out===0?3:4):a.sym_next&&(bo(a,!1),a.strm.avail_out===0)?1:2})(e,n):zg[e.level].func(e,n);if(i!==3&&i!==4||(e.status=Gg),i===1||i===3)return t.avail_out===0&&(e.last_flush=-1),_a;if(i===2&&(n===hB?dB(e):n!==RI&&(yS(e,0,0,!1),n===fB&&(oh(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),_o(t),t.avail_out===0))return e.last_flush=-1,_a}return n!==Qo?_a:e.wrap<=0?DI:(e.wrap===2?(ur(e,255&t.adler),ur(e,t.adler>>8&255),ur(e,t.adler>>16&255),ur(e,t.adler>>24&255),ur(e,255&t.total_in),ur(e,t.total_in>>8&255),ur(e,t.total_in>>16&255),ur(e,t.total_in>>24&255)):(Ag(e,t.adler>>>16),Ag(e,65535&t.adler)),_o(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?_a:DI)},deflateEnd:t=>{if(Vg(t))return Uu;const n=t.state.status;return t.state=null,n===Kf?Yf(t,pB):_a},deflateSetDictionary:(t,n)=>{let e=n.length;if(Vg(t))return Uu;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==hv||r.lookahead)return Uu;if(i===1&&(t.adler=r0(t.adler,n,e,0)),r.wrap=0,e>=r.w_size){i===0&&(oh(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(n.subarray(e-r.w_size,e),0),n=c,e=r.w_size}const a=t.avail_in,s=t.next_in,l=t.input;for(t.avail_in=e,t.next_in=0,t.input=n,uv(r);r.lookahead>=3;){let c=r.strstart,d=r.lookahead-2;do r.ins_h=vh(r,r.ins_h,r.window[c+3-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--d);r.strstart=c,r.lookahead=2,uv(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=l,t.avail_in=a,r.wrap=i,_a},deflateInfo:"pako deflate (from Nodeca project)"};const CB=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var Z4=function(t){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const e=n.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)CB(e,r)&&(t[r]=e[r])}}return t},J4=t=>{let n=0;for(let r=0,i=t.length;r<i;r++)n+=t[r].length;const e=new Uint8Array(n);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];e.set(s,i),i+=s.length}return e};let ex=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ex=!1}const I0=new Uint8Array(256);for(let t=0;t<256;t++)I0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;I0[254]=I0[254]=1;var s3=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let n,e,r,i,a,s=t.length,l=0;for(i=0;i<s;i++)e=t.charCodeAt(i),(64512&e)==55296&&i+1<s&&(r=t.charCodeAt(i+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),i++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(n=new Uint8Array(l),a=0,i=0;a<l;i++)e=t.charCodeAt(i),(64512&e)==55296&&i+1<s&&(r=t.charCodeAt(i+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),i++)),e<128?n[a++]=e:e<2048?(n[a++]=192|e>>>6,n[a++]=128|63&e):e<65536?(n[a++]=224|e>>>12,n[a++]=128|e>>>6&63,n[a++]=128|63&e):(n[a++]=240|e>>>18,n[a++]=128|e>>>12&63,n[a++]=128|e>>>6&63,n[a++]=128|63&e);return n},SB=(t,n)=>{const e=n||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,n));let r,i;const a=new Array(2*e);for(i=0,r=0;r<e;){let s=t[r++];if(s<128){a[i++]=s;continue}let l=I0[s];if(l>4)a[i++]=65533,r+=l-1;else{for(s&=l===2?31:l===3?15:7;l>1&&r<e;)s=s<<6|63&t[r++],l--;l>1?a[i++]=65533:s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|1023&s)}}return((s,l)=>{if(l<65534&&s.subarray&&ex)return String.fromCharCode.apply(null,s.length===l?s:s.subarray(0,l));let c="";for(let d=0;d<l;d++)c+=String.fromCharCode(s[d]);return c})(a,i)},NB=(t,n)=>{(n=n||t.length)>t.length&&(n=t.length);let e=n-1;for(;e>=0&&(192&t[e])==128;)e--;return e<0||e===0?n:e+I0[t[e]]>n?e:n},tx=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const nx=Object.prototype.toString,{Z_NO_FLUSH:AB,Z_SYNC_FLUSH:wB,Z_FULL_FLUSH:IB,Z_FINISH:MB,Z_OK:p1,Z_STREAM_END:OB,Z_DEFAULT_COMPRESSION:RB,Z_DEFAULT_STRATEGY:DB,Z_DEFLATED:xB}=$0;function a0(t){this.options=Z4({level:RB,method:xB,chunkSize:16384,windowBits:15,memLevel:8,strategy:DB},t||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tx,this.strm.avail_out=0;let e=i0.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(e!==p1)throw new Error(_p[e]);if(n.header&&i0.deflateSetHeader(this.strm,n.header),n.dictionary){let r;if(r=typeof n.dictionary=="string"?s3(n.dictionary):nx.call(n.dictionary)==="[object ArrayBuffer]"?new Uint8Array(n.dictionary):n.dictionary,e=i0.deflateSetDictionary(this.strm,r),e!==p1)throw new Error(_p[e]);this._dict_set=!0}}function KT(t,n){const e=new a0(n);if(e.push(t,!0),e.err)throw e.msg||_p[e.err];return e.result}a0.prototype.push=function(t,n){const e=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(a=n===~~n?n:n===!0?MB:AB,typeof t=="string"?e.input=s3(t):nx.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;)if(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),(a===wB||a===IB)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(i=i0.deflate(e,a),i===OB)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=i0.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===p1;if(e.avail_out!==0){if(a>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(e.avail_in===0)break}else this.onData(e.output)}return!0},a0.prototype.onData=function(t){this.chunks.push(t)},a0.prototype.onEnd=function(t){t===p1&&(this.result=J4(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var LB={Deflate:a0,deflate:KT,deflateRaw:function(t,n){return(n=n||{}).raw=!0,KT(t,n)},gzip:function(t,n){return(n=n||{}).gzip=!0,KT(t,n)}};const lb=16209;var UB=function(t,n){let e,r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F;const te=t.state;e=t.next_in,Y=t.input,r=e+(t.avail_in-5),i=t.next_out,F=t.output,a=i-(n-t.avail_out),s=i+(t.avail_out-257),l=te.dmax,c=te.wsize,d=te.whave,f=te.wnext,v=te.window,g=te.hold,y=te.bits,b=te.lencode,C=te.distcode,w=(1<<te.lenbits)-1,I=(1<<te.distbits)-1;e:do{y<15&&(g+=Y[e++]<<y,y+=8,g+=Y[e++]<<y,y+=8),M=b[g&w];t:for(;;){if(R=M>>>24,g>>>=R,y-=R,R=M>>>16&255,R===0)F[i++]=65535&M;else{if(!(16&R)){if(64&R){if(32&R){te.mode=16191;break e}t.msg="invalid literal/length code",te.mode=lb;break e}M=b[(65535&M)+(g&(1<<R)-1)];continue t}for(U=65535&M,R&=15,R&&(y<R&&(g+=Y[e++]<<y,y+=8),U+=g&(1<<R)-1,g>>>=R,y-=R),y<15&&(g+=Y[e++]<<y,y+=8,g+=Y[e++]<<y,y+=8),M=C[g&I];;){if(R=M>>>24,g>>>=R,y-=R,R=M>>>16&255,16&R){if(H=65535&M,R&=15,y<R&&(g+=Y[e++]<<y,y+=8,y<R&&(g+=Y[e++]<<y,y+=8)),H+=g&(1<<R)-1,H>l){t.msg="invalid distance too far back",te.mode=lb;break e}if(g>>>=R,y-=R,R=i-a,H>R){if(R=H-R,R>d&&te.sane){t.msg="invalid distance too far back",te.mode=lb;break e}if(P=0,G=v,f===0){if(P+=c-R,R<U){U-=R;do F[i++]=v[P++];while(--R);P=i-H,G=F}}else if(f<R){if(P+=c+f-R,R-=f,R<U){U-=R;do F[i++]=v[P++];while(--R);if(P=0,f<U){R=f,U-=R;do F[i++]=v[P++];while(--R);P=i-H,G=F}}}else if(P+=f-R,R<U){U-=R;do F[i++]=v[P++];while(--R);P=i-H,G=F}for(;U>2;)F[i++]=G[P++],F[i++]=G[P++],F[i++]=G[P++],U-=3;U&&(F[i++]=G[P++],U>1&&(F[i++]=G[P++]))}else{P=i-H;do F[i++]=F[P++],F[i++]=F[P++],F[i++]=F[P++],U-=3;while(U>2);U&&(F[i++]=F[P++],U>1&&(F[i++]=F[P++]))}break}if(64&R){t.msg="invalid distance code",te.mode=lb;break e}M=C[(65535&M)+(g&(1<<R)-1)]}}break}}while(e<r&&i<s);U=y>>3,e-=U,y-=U<<3,g&=(1<<y)-1,t.next_in=e,t.next_out=i,t.avail_in=e<r?r-e+5:5-(e-r),t.avail_out=i<s?s-i+257:257-(i-s),te.hold=g,te.bits=y};const ub=15,kB=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),PB=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),FB=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),HB=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var s0=(t,n,e,r,i,a,s,l)=>{const c=l.bits;let d,f,v,g,y,b,C=0,w=0,I=0,M=0,R=0,U=0,H=0,P=0,G=0,Y=0,F=null;const te=new Uint16Array(16),J=new Uint16Array(16);let ne,Oe,X,se=null;for(C=0;C<=ub;C++)te[C]=0;for(w=0;w<r;w++)te[n[e+w]]++;for(R=c,M=ub;M>=1&&te[M]===0;M--);if(R>M&&(R=M),M===0)return i[a++]=20971520,i[a++]=20971520,l.bits=1,0;for(I=1;I<M&&te[I]===0;I++);for(R<I&&(R=I),P=1,C=1;C<=ub;C++)if(P<<=1,P-=te[C],P<0)return-1;if(P>0&&(t===0||M!==1))return-1;for(J[1]=0,C=1;C<ub;C++)J[C+1]=J[C]+te[C];for(w=0;w<r;w++)n[e+w]!==0&&(s[J[n[e+w]]++]=w);if(t===0?(F=se=s,b=20):t===1?(F=kB,se=PB,b=257):(F=FB,se=HB,b=0),Y=0,w=0,C=I,y=a,U=R,H=0,v=-1,G=1<<R,g=G-1,t===1&&G>852||t===2&&G>592)return 1;for(;;){ne=C-H,s[w]+1<b?(Oe=0,X=s[w]):s[w]>=b?(Oe=se[s[w]-b],X=F[s[w]-b]):(Oe=96,X=0),d=1<<C-H,f=1<<U,I=f;do f-=d,i[y+(Y>>H)+f]=ne<<24|Oe<<16|X;while(f!==0);for(d=1<<C-1;Y&d;)d>>=1;if(d!==0?(Y&=d-1,Y+=d):Y=0,w++,--te[C]==0){if(C===M)break;C=n[e+s[w]]}if(C>R&&(Y&g)!==v){for(H===0&&(H=R),y+=I,U=C-H,P=1<<U;U+H<M&&(P-=te[U+H],!(P<=0));)U++,P<<=1;if(G+=1<<U,t===1&&G>852||t===2&&G>592)return 1;v=Y&g,i[v]=R<<24|U<<16|y-a}}return Y!==0&&(i[y+Y]=C-H<<24|64<<16),l.bits=R,0};const{Z_FINISH:UI,Z_BLOCK:BB,Z_TREES:cb,Z_OK:Wf,Z_STREAM_END:GB,Z_NEED_DICT:zB,Z_STREAM_ERROR:$o,Z_DATA_ERROR:kI,Z_MEM_ERROR:PI,Z_BUF_ERROR:VB,Z_DEFLATED:FI}=$0,J1=16180,db=16190,Tc=16191,YT=16192,WT=16194,hb=16199,fb=16200,QT=16206,Xr=16209,HI=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function qB(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ip=t=>{if(!t)return 1;const n=t.state;return!n||n.strm!==t||n.mode<J1||n.mode>16211?1:0},rx=t=>{if(ip(t))return $o;const n=t.state;return t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=J1,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(852),n.distcode=n.distdyn=new Int32Array(592),n.sane=1,n.back=-1,Wf},ix=t=>{if(ip(t))return $o;const n=t.state;return n.wsize=0,n.whave=0,n.wnext=0,rx(t)},ax=(t,n)=>{let e;if(ip(t))return $o;const r=t.state;return n<0?(e=0,n=-n):(e=5+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?$o:(r.window!==null&&r.wbits!==n&&(r.window=null),r.wrap=e,r.wbits=n,ix(t))},BI=(t,n)=>{if(!t)return $o;const e=new qB;t.state=e,e.strm=t,e.window=null,e.mode=J1;const r=ax(t,n);return r!==Wf&&(t.state=null),r};let XT,ZT,GI=!0;const jB=t=>{if(GI){XT=new Int32Array(512),ZT=new Int32Array(32);let n=0;for(;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(s0(1,t.lens,0,288,XT,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;s0(2,t.lens,0,32,ZT,0,t.work,{bits:5}),GI=!1}t.lencode=XT,t.lenbits=9,t.distcode=ZT,t.distbits=5},zI=(t,n,e,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(n.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(n.subarray(e-r,e-r+i),a.wnext),(r-=i)?(a.window.set(n.subarray(e-r,e),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var Oc={inflateReset:ix,inflateReset2:ax,inflateResetKeep:rx,inflateInit:t=>BI(t,15),inflateInit2:BI,inflate:(t,n)=>{let e,r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y=0;const F=new Uint8Array(4);let te,J;const ne=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ip(t)||!t.output||!t.input&&t.avail_in!==0)return $o;e=t.state,e.mode===Tc&&(e.mode=YT),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,d=e.hold,f=e.bits,v=l,g=c,G=Wf;e:for(;;)switch(e.mode){case J1:if(e.wrap===0){e.mode=YT;break}for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(2&e.wrap&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,F[0]=255&d,F[1]=d>>>8&255,e.check=ea(e.check,F,2,0),d=0,f=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",e.mode=Xr;break}if((15&d)!==FI){t.msg="unknown compression method",e.mode=Xr;break}if(d>>>=4,f-=4,P=8+(15&d),e.wbits===0&&(e.wbits=P),P>15||P>e.wbits){t.msg="invalid window size",e.mode=Xr;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=512&d?16189:Tc,d=0,f=0;break;case 16181:for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(e.flags=d,(255&e.flags)!==FI){t.msg="unknown compression method",e.mode=Xr;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=Xr;break}e.head&&(e.head.text=d>>8&1),512&e.flags&&4&e.wrap&&(F[0]=255&d,F[1]=d>>>8&255,e.check=ea(e.check,F,2,0)),d=0,f=0,e.mode=16182;case 16182:for(;f<32;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}e.head&&(e.head.time=d),512&e.flags&&4&e.wrap&&(F[0]=255&d,F[1]=d>>>8&255,F[2]=d>>>16&255,F[3]=d>>>24&255,e.check=ea(e.check,F,4,0)),d=0,f=0,e.mode=16183;case 16183:for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}e.head&&(e.head.xflags=255&d,e.head.os=d>>8),512&e.flags&&4&e.wrap&&(F[0]=255&d,F[1]=d>>>8&255,e.check=ea(e.check,F,2,0)),d=0,f=0,e.mode=16184;case 16184:if(1024&e.flags){for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}e.length=d,e.head&&(e.head.extra_len=d),512&e.flags&&4&e.wrap&&(F[0]=255&d,F[1]=d>>>8&255,e.check=ea(e.check,F,2,0)),d=0,f=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(y=e.length,y>l&&(y=l),y&&(e.head&&(P=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(a,a+y),P)),512&e.flags&&4&e.wrap&&(e.check=ea(e.check,r,y,a)),l-=y,a+=y,e.length-=y),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(l===0)break e;y=0;do P=r[a+y++],e.head&&P&&e.length<65536&&(e.head.name+=String.fromCharCode(P));while(P&&y<l);if(512&e.flags&&4&e.wrap&&(e.check=ea(e.check,r,y,a)),l-=y,a+=y,P)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(l===0)break e;y=0;do P=r[a+y++],e.head&&P&&e.length<65536&&(e.head.comment+=String.fromCharCode(P));while(P&&y<l);if(512&e.flags&&4&e.wrap&&(e.check=ea(e.check,r,y,a)),l-=y,a+=y,P)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(4&e.wrap&&d!==(65535&e.check)){t.msg="header crc mismatch",e.mode=Xr;break}d=0,f=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=Tc;break;case 16189:for(;f<32;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}t.adler=e.check=HI(d),d=0,f=0,e.mode=db;case db:if(e.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,e.hold=d,e.bits=f,zB;t.adler=e.check=1,e.mode=Tc;case Tc:if(n===BB||n===cb)break e;case YT:if(e.last){d>>>=7&f,f-=7&f,e.mode=QT;break}for(;f<3;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}switch(e.last=1&d,d>>>=1,f-=1,3&d){case 0:e.mode=16193;break;case 1:if(jB(e),e.mode=hb,n===cb){d>>>=2,f-=2;break e}break;case 2:e.mode=16196;break;case 3:t.msg="invalid block type",e.mode=Xr}d>>>=2,f-=2;break;case 16193:for(d>>>=7&f,f-=7&f;f<32;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){t.msg="invalid stored block lengths",e.mode=Xr;break}if(e.length=65535&d,d=0,f=0,e.mode=WT,n===cb)break e;case WT:e.mode=16195;case 16195:if(y=e.length,y){if(y>l&&(y=l),y>c&&(y=c),y===0)break e;i.set(r.subarray(a,a+y),s),l-=y,a+=y,c-=y,s+=y,e.length-=y;break}e.mode=Tc;break;case 16196:for(;f<14;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(e.nlen=257+(31&d),d>>>=5,f-=5,e.ndist=1+(31&d),d>>>=5,f-=5,e.ncode=4+(15&d),d>>>=4,f-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=Xr;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;f<3;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}e.lens[ne[e.have++]]=7&d,d>>>=3,f-=3}for(;e.have<19;)e.lens[ne[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,te={bits:e.lenbits},G=s0(0,e.lens,0,19,e.lencode,0,e.work,te),e.lenbits=te.bits,G){t.msg="invalid code lengths set",e.mode=Xr;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;Y=e.lencode[d&(1<<e.lenbits)-1],w=Y>>>24,I=Y>>>16&255,M=65535&Y,!(w<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(M<16)d>>>=w,f-=w,e.lens[e.have++]=M;else{if(M===16){for(J=w+2;f<J;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(d>>>=w,f-=w,e.have===0){t.msg="invalid bit length repeat",e.mode=Xr;break}P=e.lens[e.have-1],y=3+(3&d),d>>>=2,f-=2}else if(M===17){for(J=w+3;f<J;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}d>>>=w,f-=w,P=0,y=3+(7&d),d>>>=3,f-=3}else{for(J=w+7;f<J;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}d>>>=w,f-=w,P=0,y=11+(127&d),d>>>=7,f-=7}if(e.have+y>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=Xr;break}for(;y--;)e.lens[e.have++]=P}}if(e.mode===Xr)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=Xr;break}if(e.lenbits=9,te={bits:e.lenbits},G=s0(1,e.lens,0,e.nlen,e.lencode,0,e.work,te),e.lenbits=te.bits,G){t.msg="invalid literal/lengths set",e.mode=Xr;break}if(e.distbits=6,e.distcode=e.distdyn,te={bits:e.distbits},G=s0(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,te),e.distbits=te.bits,G){t.msg="invalid distances set",e.mode=Xr;break}if(e.mode=hb,n===cb)break e;case hb:e.mode=fb;case fb:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,e.hold=d,e.bits=f,UB(t,g),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,d=e.hold,f=e.bits,e.mode===Tc&&(e.back=-1);break}for(e.back=0;Y=e.lencode[d&(1<<e.lenbits)-1],w=Y>>>24,I=Y>>>16&255,M=65535&Y,!(w<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(I&&!(240&I)){for(R=w,U=I,H=M;Y=e.lencode[H+((d&(1<<R+U)-1)>>R)],w=Y>>>24,I=Y>>>16&255,M=65535&Y,!(R+w<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}d>>>=R,f-=R,e.back+=R}if(d>>>=w,f-=w,e.back+=w,e.length=M,I===0){e.mode=16205;break}if(32&I){e.back=-1,e.mode=Tc;break}if(64&I){t.msg="invalid literal/length code",e.mode=Xr;break}e.extra=15&I,e.mode=16201;case 16201:if(e.extra){for(J=e.extra;f<J;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,f-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;Y=e.distcode[d&(1<<e.distbits)-1],w=Y>>>24,I=Y>>>16&255,M=65535&Y,!(w<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(!(240&I)){for(R=w,U=I,H=M;Y=e.distcode[H+((d&(1<<R+U)-1)>>R)],w=Y>>>24,I=Y>>>16&255,M=65535&Y,!(R+w<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}d>>>=R,f-=R,e.back+=R}if(d>>>=w,f-=w,e.back+=w,64&I){t.msg="invalid distance code",e.mode=Xr;break}e.offset=M,e.extra=15&I,e.mode=16203;case 16203:if(e.extra){for(J=e.extra;f<J;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,f-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=Xr;break}e.mode=16204;case 16204:if(c===0)break e;if(y=g-c,e.offset>y){if(y=e.offset-y,y>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=Xr;break}y>e.wnext?(y-=e.wnext,b=e.wsize-y):b=e.wnext-y,y>e.length&&(y=e.length),C=e.window}else C=i,b=s-e.offset,y=e.length;y>c&&(y=c),c-=y,e.length-=y;do i[s++]=C[b++];while(--y);e.length===0&&(e.mode=fb);break;case 16205:if(c===0)break e;i[s++]=e.length,c--,e.mode=fb;break;case QT:if(e.wrap){for(;f<32;){if(l===0)break e;l--,d|=r[a++]<<f,f+=8}if(g-=c,t.total_out+=g,e.total+=g,4&e.wrap&&g&&(t.adler=e.check=e.flags?ea(e.check,i,g,s-g):r0(e.check,i,g,s-g)),g=c,4&e.wrap&&(e.flags?d:HI(d))!==e.check){t.msg="incorrect data check",e.mode=Xr;break}d=0,f=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;f<32;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(4&e.wrap&&d!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=Xr;break}d=0,f=0}e.mode=16208;case 16208:G=GB;break e;case Xr:G=kI;break e;case 16210:return PI;default:return $o}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,e.hold=d,e.bits=f,(e.wsize||g!==t.avail_out&&e.mode<Xr&&(e.mode<QT||n!==UI))&&zI(t,t.output,t.next_out,g-t.avail_out),v-=t.avail_in,g-=t.avail_out,t.total_in+=v,t.total_out+=g,e.total+=g,4&e.wrap&&g&&(t.adler=e.check=e.flags?ea(e.check,i,g,t.next_out-g):r0(e.check,i,g,t.next_out-g)),t.data_type=e.bits+(e.last?64:0)+(e.mode===Tc?128:0)+(e.mode===hb||e.mode===WT?256:0),(v===0&&g===0||n===UI)&&G===Wf&&(G=VB),G},inflateEnd:t=>{if(ip(t))return $o;let n=t.state;return n.window&&(n.window=null),t.state=null,Wf},inflateGetHeader:(t,n)=>{if(ip(t))return $o;const e=t.state;return 2&e.wrap?(e.head=n,n.done=!1,Wf):$o},inflateSetDictionary:(t,n)=>{const e=n.length;let r,i,a;return ip(t)?$o:(r=t.state,r.wrap!==0&&r.mode!==db?$o:r.mode===db&&(i=1,i=r0(i,n,e,0),i!==r.check)?kI:(a=zI(t,n,e,e),a?(r.mode=16210,PI):(r.havedict=1,Wf)))},inflateInfo:"pako inflate (from Nodeca project)"},$B=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const sx=Object.prototype.toString,{Z_NO_FLUSH:KB,Z_FINISH:YB,Z_OK:o0,Z_STREAM_END:JT,Z_NEED_DICT:eC,Z_STREAM_ERROR:WB,Z_DATA_ERROR:VI,Z_MEM_ERROR:QB}=$0;function l0(t){this.options=Z4({chunkSize:65536,windowBits:15,to:""},t||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),!(n.windowBits>=0&&n.windowBits<16)||t&&t.windowBits||(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(15&n.windowBits||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tx,this.strm.avail_out=0;let e=Oc.inflateInit2(this.strm,n.windowBits);if(e!==o0)throw new Error(_p[e]);if(this.header=new $B,Oc.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=s3(n.dictionary):sx.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=Oc.inflateSetDictionary(this.strm,n.dictionary),e!==o0)))throw new Error(_p[e])}function tC(t,n){const e=new l0(n);if(e.push(t),e.err)throw e.msg||_p[e.err];return e.result}l0.prototype.push=function(t,n){const e=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(s=n===~~n?n:n===!0?YB:KB,sx.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),a=Oc.inflate(e,s),a===eC&&i&&(a=Oc.inflateSetDictionary(e,i),a===o0?a=Oc.inflate(e,s):a===VI&&(a=eC));e.avail_in>0&&a===JT&&e.state.wrap>0&&t[e.next_in]!==0;)Oc.inflateReset(e),a=Oc.inflate(e,s);switch(a){case WB:case VI:case eC:case QB:return this.onEnd(a),this.ended=!0,!1}if(l=e.avail_out,e.next_out&&(e.avail_out===0||a===JT))if(this.options.to==="string"){let c=NB(e.output,e.next_out),d=e.next_out-c,f=SB(e.output,c);e.next_out=d,e.avail_out=r-d,d&&e.output.set(e.output.subarray(c,c+d),0),this.onData(f)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(a!==o0||l!==0){if(a===JT)return a=Oc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},l0.prototype.onData=function(t){this.chunks.push(t)},l0.prototype.onEnd=function(t){t===o0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=J4(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var XB={Inflate:l0,inflate:tC,inflateRaw:function(t,n){return(n=n||{}).raw=!0,tC(t,n)},ungzip:tC};const{Deflate:ZB,deflate:JB,deflateRaw:e9,gzip:t9}=LB,{Inflate:n9,inflate:r9,inflateRaw:i9,ungzip:a9}=XB;var Vl,s9={Deflate:ZB,deflate:JB,deflateRaw:e9,gzip:t9,Inflate:n9,inflate:r9,inflateRaw:i9,ungzip:a9,constants:$0},nC=function(t){return A(void 0,void 0,void 0,(function(){var n,e;return N(this,(function(r){if(n=s9.ungzip(t),typeof TextDecoder<"u")try{return[2,new TextDecoder("utf-8").decode(new Uint8Array(n))]}catch{}return e=8192,[2,Array.from({length:Math.ceil(n.length/e)},(function(i,a){var s=a*e,l=n.slice(s,s+e);return String.fromCharCode.apply(null,l)})).join("")]}))}))},Qe=function(t){return A(void 0,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t()];case 1:return e.sent(),[3,3];case 2:if(!((n=e.sent())instanceof Z))throw n;return n.throwOutside(),[3,3];case 3:return[2]}}))}))},yr=function(t){return A(void 0,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t()];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},o3=(function(t){function n(e){var r=t.call(this)||this;return r.retryAfterTime=1e3*e.retry_after,r.reasonCode=e.reason_code,r.message=e.message,r}return k(n,t),n})(xn);(function(t){t.CONNECTING="CONNECTING",t.OPEN="OPEN",t.CLOSED="CLOSED"})(Vl||(Vl={}));var nn,o9=(function(t){function n(e,r){var i=r.sdkState,a=r.dispatcher,s=r.logger,l=t.call(this)||this;return l.lastActive=0,l._iid=e,l._sdkState=i,l._dispatcher=a,l._logger=s,l}return k(n,t),Object.defineProperty(n.prototype,"isOpen",{get:function(){return this.connectionState===Vl.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Vl.CONNECTING;case 1:return Vl.OPEN}return Vl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ws",{get:function(){var e;return(e=this._ws)!==null&&e!==void 0?e:null},enumerable:!1,configurable:!0}),n.prototype._handleMessage=function(e){var r=this;e.split(`
`).forEach((function(i){if(i){var a=Jn.createFromRawMessage(r._iid,i);if(r._logger.debug("receive websocket event",a),a.code==="LOGI")r.dispatch("message",a);else if(a.code==="PONG")r.dispatch("pong");else if(a.code==="EXPR"){if(a.payload){var s=new yv(a.payload);s.expiresIn>=0&&r._dispatcher.dispatch(s)}}else if(a.code==="BUSY"){if(a.payload){var l=new o3(a.payload);r._dispatcher.dispatch(l)}}else a.code==="NOOP"||r.dispatch("message",a)}}))},n.prototype.connect=function(e,r){return r===void 0&&(r=""),A(this,void 0,void 0,(function(){var i=this;return N(this,(function(a){switch(a.label){case 0:return typeof fetch=="function"?[3,2]:[4,Hb(()=>import("./__bundle-46d64517-BL6-RVtT.js").then(s=>s._),[])];case 1:a.sent(),a.label=2;case 2:return yr((function(){return A(i,void 0,void 0,(function(){return N(this,(function(s){return fetch(this._sdkState.api.host),[2]}))}))})),this._ws=new WebSocket(e,encodeURIComponent(r)),this._ws.onopen=function(){i._logger.debug("websocket open"),i.dispatch("open")},this._ws.onmessage=function(s){return A(i,void 0,void 0,(function(){var l,c,d,f,v,g,y,b=this;return N(this,(function(C){switch(C.label){case 0:return!((y=this._sdkState.websocket)===null||y===void 0)&&y.compression?s.data instanceof Blob?((l=new FileReader).readAsArrayBuffer(s.data),l.onloadend=function(){return A(b,void 0,void 0,(function(){var w,I;return N(this,(function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,nC(l.result)];case 1:return w=M.sent(),this._handleMessage(w),[3,3];case 2:return I=M.sent(),this.error(I),[3,3];case 3:return[2]}}))}))},[3,12]):[3,1]:[3,13];case 1:if(!(s.data instanceof ArrayBuffer))return[3,6];C.label=2;case 2:return C.trys.push([2,4,,5]),[4,nC(new Uint8Array(s.data))];case 3:return v=C.sent(),this._handleMessage(v),[3,5];case 4:return c=C.sent(),this.error(c),[3,5];case 5:return[3,12];case 6:if(!(typeof Buffer<"u"&&s.data instanceof Buffer))return[3,11];C.label=7;case 7:return C.trys.push([7,9,,10]),d=s.data,f=d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength),[4,nC(f)];case 8:return v=C.sent(),this._handleMessage(v),[3,10];case 9:return g=C.sent(),this.error(g),[3,10];case 10:return[3,12];case 11:typeof s.data=="string"&&this._handleMessage(s.data),C.label=12;case 12:return[3,14];case 13:this._handleMessage(s.data),C.label=14;case 14:return[2]}}))}))},this._ws.onerror=function(){i._logger.debug("websocket error"),i.dispatch("error",Z.networkError)},this._ws.onclose=function(s){i._logger.debug("websocket close",s.code,s.reason),i.cleanUpWebSocket(),i.dispatch("close")},this.lastActive=Date.now(),[2]}}))}))},n.prototype.cleanUpWebSocket=function(){this._ws&&(this._ws.onopen=st,this._ws.onmessage=st,this._ws.onerror=st,this._ws.onclose=st,this.connectionState===Vl.OPEN&&this._ws.close(1e3,"Normal Closure"),this._ws=void 0)},n.prototype.disconnect=function(){var e=this;return new Promise((function(r){if(e._ws){if(e.connectionState===Vl.CLOSED)return e.cleanUpWebSocket(),void r();e._ws.onclose=null,e._ws.onclose=function(){e.cleanUpWebSocket(),e.dispatch("close"),r()},e._ws.close()}else r()}))},n.prototype.send=function(e){if(!this._ws)throw Z.connectionClosed;e.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",e),this._ws.send(e.convertToMessage())},n.prototype.error=function(e){this._logger.debug("websocket error",e),this.dispatch("error",e)},n})(Mp),l3=(function(t){function n(e){var r=e.all,i=e.feed,a=e.custom_types,s=e.ts,l=t.call(this)||this;return l.all=r,l.feed=i,l.customTypes=a,l.ts=s,l}return k(n,t),n})(xn),ox=(function(t){function n(e){var r=e.previousMessageId,i=e.messageCreatedAt,a=e.channelUrl,s=t.call(this)||this;return s.previousMessageId=r,s.messageCreatedAt=i,s.channelUrl=a,s}return k(n,t),n})(xn),l9=(function(){function t(n,e){var r=e.session,i=e.sdkState,a=e.dispatcher,s=e.logger,l=e.useFetchCompat,c=l!==void 0&&l,d=this;this._ackStateMap=new Map,this._batchableCommandAckStateMap=new Map,this._redundantActionCommands=new Map,this._sdkState=i,this._dispatcher=a,this._logger=s,this.apiClient=new iB(n,{session:r,sdkState:i,dispatcher:a,logger:s,useFetchCompat:c}),this.websocketClient=new o9(n,{sdkState:i,dispatcher:a,logger:s}),this.websocketClient.on("message",(function(f){var v,g;if(f.payload.unread_cnt&&d._dispatcher.dispatch(new l3(f.payload.unread_cnt)),f.code!=="MESG"&&f.code!=="FILE"&&f.code!=="ADMM"&&f.code!=="BRDM"||f.payload.channel_type!==Lt.GROUP||!f.payload.previous_message_id||d._dispatcher.dispatch(new ox({previousMessageId:f.payload.previous_message_id,messageCreatedAt:f.payload.ts,channelUrl:f.payload.channel_url})),f.requestId){if(d._ackStateMap.has(f.requestId)){var y=d._ackStateMap.get(f.requestId);f.code!=="EROR"?y.resolve(f):y.reject(new Z({code:f.payload.code,message:f.payload.message}))}else if(d._batchableCommandAckStateMap.has(f.requestId)){var b=Date.now();try{for(var C=De(d._batchableCommandAckStateMap.entries()),w=C.next();!w.done;w=C.next()){var I=Ye(w.value,2),M=(I[0],I[1]);M.channelUrl===f.payload.channel_url&&M.requestTime<b&&(y=M.ackState,f.code!=="EROR"?y.resolve(f):y.reject(new Z({code:f.payload.code,message:f.payload.message})))}}catch(H){v={error:H}}finally{try{w&&!w.done&&(g=C.return)&&g.call(C)}finally{if(v)throw v.error}}}}else if(d._redundantActionCommands.has(f.payload.unique_id)){var R=d._redundantActionCommands.get(f.payload.unique_id),U=R?.indexOf(f.code);U!==-1&&R?.splice(U,1),R.length===0&&d._redundantActionCommands.delete(f.payload.unique_id)}else d._dispatcher.dispatch(f)})).on("close",(function(){d._ackStateMap.forEach((function(f){f.reject(Z.connectionClosed)})),d._ackStateMap.clear(),d._batchableCommandAckStateMap.clear(),d._redundantActionCommands.clear()}))}return t.prototype._sendApiRequest=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return n.params.unique_id&&this._redundantActionCommands.set(n.params.unique_id,["SYEV","READ"]),[4,this.apiClient.send(n)];case 1:return[2,e.sent()]}}))}))},t.prototype._sendWebsocketRequest=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a=this;return N(this,(function(s){if(!this._sdkState.websocket)throw Z.connectionRequired;if(e=new ja,n.ackRequired){i=function(l,c){var d=n.code==="READ"?a._batchableCommandAckStateMap:a._ackStateMap;d.has(n.requestId)&&(d.delete(n.requestId),r&&(clearTimeout(r),r=null),l?(a._logger.debug("fail websocket request",n.requestId,l),e.reject(l)):(a._logger.debug("receive websocket ack",n.requestId,n),a._logger.debug("receive websocket ack",c),e.resolve(c)))};try{r=setTimeout((function(){return i(Z.noAckTimeout)}),this._sdkState.websocket.responseTimeout),n.code==="READ"?this._batchableCommandAckStateMap.set(n.requestId,{ackState:{resolve:function(l){return i(void 0,l)},reject:function(l){return i(l)}},channelUrl:n.payload.channel_url,requestTime:Date.now()}):this._ackStateMap.set(n.requestId,{resolve:function(l){return i(void 0,l)},reject:function(l){return i(l)}}),this.websocketClient.send(n)}catch(l){i(l)}}else try{this.websocketClient.send(n),e.resolve()}catch(l){e.reject(l)}return[2,e.promise]}))}))},t.prototype.send=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return n instanceof be?[4,this._sendApiRequest(n)]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return n instanceof ia?[4,this._sendWebsocketRequest(n)]:[3,4];case 4:throw Z.invalidParameters}}))}))},t.prototype.cancel=function(n){this.apiClient.cancel(n)},t.prototype.cancelAll=function(){this.apiClient.cancelAll()},t})();(function(t){t[t.NONE=0]="NONE",t[t.INITIALIZED=1]="INITIALIZED",t[t.CONNECTING=2]="CONNECTING",t[t.CONNECTED=3]="CONNECTED",t[t.RECONNECTING=4]="RECONNECTING",t[t.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",t[t.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",t[t.LOGOUT=7]="LOGOUT",t[t.DELAYED_CONNECTING=8]="DELAYED_CONNECTING"})(nn||(nn={}));var ap,sp,$s=(function(t){function n(e){var r=e.stateType,i=t.call(this)||this;return i.stateType=r,i}return k(n,t),n})(xn),lx=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n})(xn),bS=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n})(xn),ux=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n})(xn),qI=(function(){function t(n){var e,r,i,a;this.isEnabled=(e=n.enabled)!==null&&e!==void 0&&e,this.feedChannels=(r=n.feed_channels)!==null&&r!==void 0?r:{},this.templateListToken=(i=n.template_list_token)!==null&&i!==void 0?i:null,this.settingsUpdatedAt=(a=n.settings_updated_at)!==null&&a!==void 0?a:0}return t.payloadify=function(n){return Pe(We({enabled:n.isEnabled,feed_channels:n.feedChannels,template_list_token:n.templateListToken,settings_updated_at:n.settingsUpdatedAt}))},t})(),u3=function(t){return"sendbird@".concat(t,"/changelog_include_chat_notifications")},jI=(function(){function t(n){var e;this.lastUpdatedAt=(e=n.last_updated_at)!==null&&e!==void 0?e:0}return t.payloadify=function(n){return Pe(We({last_updated_at:n.lastUpdatedAt}))},t})(),$I=(function(){function t(n){var e;this.token=(e=n.template_list_token)!==null&&e!==void 0?e:""}return t.payloadify=function(n){return Pe(We({template_list_token:n.token}))},t})(),pb=(function(){function t(n){n===void 0&&(n={min_stat_count:100,min_interval:10800,max_stat_count_per_request:1e3,lower_threshold:10,request_delay_range:180}),this.minStatCount=n.min_stat_count,this.minInterval=1e3*n.min_interval,this.maxStatCountPerRequest=n.max_stat_count_per_request,this.lowerThreshold=n.lower_threshold,this.requestDelayRange=1e3*n.request_delay_range}return t.payloadify=function(n){return Pe(We({min_stat_count:n.minStatCount,min_interval:n.minInterval/1e3,max_stat_count_per_request:n.maxStatCountPerRequest,lower_threshold:n.lowerThreshold,request_delay_range:n.requestDelayRange/1e3}))},t})(),rC=(function(){function t(n){n===void 0&&(n={default:{min_stat_count:100,min_interval:10800,max_stat_count_per_request:1e3,lower_threshold:10,request_delay_range:180}}),this.default=new pb(n.default),this.realTime=new pb(n.realtime)}return t.payloadify=function(n){return Pe(We({default:pb.payloadify(n.default),realtime:pb.payloadify(n.realTime)}))},t})(),u9=(function(){function t(n){var e;this.templateListToken=(e=n.template_list_token)!==null&&e!==void 0?e:null}return t.payloadify=function(n){return Pe(We({template_list_token:n.templateListToken}))},t})(),KI=(function(){function t(n){this.enabled=n.enabled,this.orderBy=n.order_by.type,this.excludeRecentHours=n.order_by.exclude_recent_hours,this.bufferRatio=n.buffer_ratio}return t.payloadify=function(n){return Pe(We({enabled:n.enabled,order_by:{type:n.orderBy,exclude_recent_hours:n.excludeRecentHours},buffer_ratio:n.bufferRatio}))},t})(),YI=1048576,c9=5;(function(t){t[t.NONE=0]="NONE",t[t.INCLUDE_REPLY=1]="INCLUDE_REPLY",t[t.EXCLUDE_REPLY=2]="EXCLUDE_REPLY",t[t.INCLUDE_REPLY_TO_CHANNEL=3]="INCLUDE_REPLY_TO_CHANNEL"})(ap||(ap={})),(function(t){t[t.NONE=0]="NONE",t[t.INCLUDE_REPLY=1]="INCLUDE_REPLY",t[t.EXCLUDE_REPLY=2]="EXCLUDE_REPLY",t[t.INCLUDE_REPLY_TO_CHANNEL=3]="INCLUDE_REPLY_TO_CHANNEL"})(sp||(sp={}));var WI=(function(){function t(n){var e,r,i,a,s,l,c,d,f,v;n===void 0&&(n={}),this.emojiHash=n.emoji_hash||"",this.uploadSizeLimit=n.file_upload_size_limit?n.file_upload_size_limit*YI:Number.MAX_SAFE_INTEGER,this.useReaction=!!n.use_reaction,this.applicationAttributes=(e=n.application_attributes)!==null&&e!==void 0?e:[],this.premiumFeatureList=(r=n.premium_feature_list)!==null&&r!==void 0?r:[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history"),this.multipleFilesMessageFileCountLimit=(i=n.multiple_file_send_max_size)!==null&&i!==void 0?i:5,this.allowSdkStatsUpload=(a=n.allow_sdk_log_ingestion)===null||a===void 0||a,this.unreadCountThreadingPolicy=(s=n.unread_cnt_threading_policy)!==null&&s!==void 0?s:ap.NONE,this.lastMessageThreadingPolicy=(l=n.last_msg_threading_policy)!==null&&l!==void 0?l:sp.NONE,this.channelRotationInfo=n.channel_rotation?new KI(n.channel_rotation):null,this.uikitConfigInfo=new jI((c=n.uikit_config)!==null&&c!==void 0?c:{}),this.notificationInfo=n.notifications?new qI(n.notifications):null,this.messageTemplateInfo=n.message_template?new $I(n.message_template):null,this.aiAgentInfo=n.ai_agent?new u9(n.ai_agent):null,this.statConfigInfo=n.log_publish_config?new rC(n.log_publish_config):new rC,this.disableSuperGroupMack=(d=n.disable_supergroup_mack)!==null&&d!==void 0&&d,this.configSyncNeeded=(f=n.config_sync_needed)!==null&&f!==void 0&&f,this.requestDedupIntervalMs=(v=n.request_dedup_interval_ms)!==null&&v!==void 0?v:500}return t.payloadify=function(n){return Pe(We({emoji_hash:n.emojiHash,file_upload_size_limit:n.uploadSizeLimit/YI,application_attributes:n.applicationAttributes,premium_feature_list:n.premiumFeatureList,use_reaction:n.useReaction,allow_sdk_log_ingestion:n.allowSdkStatsUpload,unread_cnt_threading_policy:n.unreadCountThreadingPolicy,last_msg_threading_policy:n.lastMessageThreadingPolicy,channel_rotation:n.channelRotationInfo?KI.payloadify(n.channelRotationInfo):null,uikit_config:n.uikitConfigInfo?jI.payloadify(n.uikitConfigInfo):null,notifications:n.notificationInfo?qI.payloadify(n.notificationInfo):null,message_template:n.messageTemplateInfo?$I.payloadify(n.messageTemplateInfo):null,log_publish_config:n.statConfigInfo?rC.payloadify(n.statConfigInfo):null,disable_supergroup_mack:n.disableSuperGroupMack,config_sync_needed:n.configSyncNeeded,request_dedup_interval_ms:n.requestDedupIntervalMs}))},t})(),m1=function(t){return"sendbird@".concat(t,"/app_configs_info")},ti=(function(){function t(n){this._iid="",this._iid=n}return t.payloadify=function(n){return{}},t})(),d9=(function(t){function n(e){var r=e.userId,i=e.metadata,a=t.call(this)||this;return a.method=Ee.POST,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/metadata"),a.params={metadata:i},a}return k(n,t),n})(be),h9=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.metaData=r,i}return k(n,t),n})(we),f9=(function(t){function n(e){var r=e.userId,i=e.metadata,a=e.upsert,s=t.call(this)||this;return s.method=Ee.PUT,s.path="".concat(an,"/").concat(encodeURIComponent(r),"/metadata"),s.params={metadata:i,upsert:a},s}return k(n,t),n})(be),p9=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.metadata=r,i}return k(n,t),n})(we),m9=(function(t){function n(e){var r=e.userId,i=e.metadataKey,a=t.call(this)||this;return a.method=Ee.DELETE,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/metadata/").concat(i),a}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var v9=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.DELETE,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/metadata"),i}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var cv,Dv=function(t,n){var e=JSON.parse(JSON.stringify(t));return e._iid&&delete e._iid,n&&n(e),e},Pc=function(t,n){var e=JSON.parse(JSON.stringify(t));return e},Ne=function(t){return{do:function(n){t||n()},throw:function(n){if(!t)throw n}}};(function(t){t.ONLINE="online",t.OFFLINE="offline",t.NON_AVAILABLE="nonavailable"})(cv||(cv={}));var gp,Mt=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y,b,C,w,I=this;return(I=t.call(this,e)||this).userId=(a=(i=r.guest_id)!==null&&i!==void 0?i:r.user_id)!==null&&a!==void 0?a:"",I.nickname=(l=(s=r.nickname)!==null&&s!==void 0?s:r.name)!==null&&l!==void 0?l:"",I.plainProfileUrl=(d=(c=r.profile_url)!==null&&c!==void 0?c:r.image)!==null&&d!==void 0?d:"",I.requireAuth=(f=r.require_auth_for_profile_image)!==null&&f!==void 0&&f,I.metaData=(v=r.metadata)!==null&&v!==void 0?v:{},I.connectionStatus=cv.NON_AVAILABLE,wt(cv,r.is_online)?I.connectionStatus=r.is_online:W("boolean",r.is_online)&&(I.connectionStatus=r.is_online?cv.ONLINE:cv.OFFLINE),I.isActive=(g=r.is_active)===null||g===void 0||g,I.lastSeenAt=(y=r.last_seen_at)!==null&&y!==void 0?y:null,I.preferredLanguages=r.preferred_languages?et([],Ye(r.preferred_languages),!1):null,I.friendDiscoveryKey=(b=r.friend_discovery_key)!==null&&b!==void 0?b:null,I.friendName=(C=r.friend_name)!==null&&C!==void 0?C:null,I._hashValue=I._generateHashValue(),I._updatedAt=(w=r.updatedat)!==null&&w!==void 0?w:0,I}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{user_id:e.userId,nickname:e.nickname,profile_url:e.plainProfileUrl,require_auth_for_profile_image:e.requireAuth,metadata:e.metaData,is_online:e.connectionStatus,is_active:e.isActive,last_seen_at:e.lastSeenAt,preferred_languages:e.preferredLanguages,friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName})))},n._buildUserFromSerializedData=function(e){var r=Pc(e);return new n(r._iid,n.payloadify(r))},n.prototype._generateHashValue=function(){for(var e,r=JSON.stringify({userId:this.userId,nickname:this.nickname,plainProfileUrl:this.plainProfileUrl,friendDiscoveryKey:this.friendDiscoveryKey,friendName:this.friendName,metaData:JSON.stringify(this.metaData),performanceLanguages:(e=this.preferredLanguages)===null||e===void 0?void 0:e.toString(),requireAuth:this.requireAuth}),i=0,a=0;a<r.length;a++)i=(i<<5)-i+r.charCodeAt(a),i|=0;return i},Object.defineProperty(n.prototype,"profileUrl",{get:function(){var e=j.of(this._iid).sessionManager;return this.requireAuth&&e.ekey?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return Dv(this)},n.prototype._isValidMetaData=function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map((function(r){return e[r]})).every((function(r){return W("string",r)}))},n.prototype._applyMetaData=function(e,r){var i=this;r===void 0&&(r=!1),Object.keys(e).forEach((function(a){r?delete i.metaData[a]:i.metaData[a]=e[a]}))},n.prototype.createMetaData=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return Ne(this._isValidMetaData(e)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.sdkState,a=r.requestQueue,s=new d9({userId:i.userId,metadata:e}),[4,a.send(s)];case 1:return l=d.sent(),c=l.as(h9).metaData,this._applyMetaData(c),[2,this.metaData]}}))}))},n.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),A(this,void 0,void 0,(function(){var i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return Ne(this._isValidMetaData(e)).throw(Z.invalidParameters),i=j.of(this._iid),a=i.sdkState,s=i.requestQueue,l=new f9({userId:a.userId,metadata:e,upsert:r}),[4,s.send(l)];case 1:return c=f.sent(),d=c.as(p9).metadata,this._applyMetaData(d),[2,this.metaData]}}))}))},n.prototype.deleteMetaData=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return Ne(W("string",e)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.sdkState,a=r.requestQueue,s=new m9({userId:i.userId,metadataKey:e}),[4,a.send(s)];case 1:return c.sent(),this._applyMetaData(((l={})[e]=!0,l),!0),[2,this.metaData]}}))}))},n.prototype.deleteAllMetaData=function(){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new v9({userId:r.userId}),[4,i.send(a)];case 1:return s.sent(),this.metaData={},[2]}}))}))},n})(ti),cx=(function(t){function n(e){var r=e.userProfile,i=t.call(this)||this;return i.userProfile=r,i}return k(n,t),n})(xn),TS=(function(){function t(n,e){var r,i,a,s,l,c,d,f,v,g,y,b,C,w;this._iid=n,this.appInfo=new WI(e),this.user=new Mt(n,e),this.connectedAt=(r=e.login_ts)!==null&&r!==void 0?r:0,this.firstConnectedAt=0,this.pingInterval=(i=e.ping_interval)!==null&&i!==void 0?i:15,this.pongTimeout=(a=e.pong_timeout)!==null&&a!==void 0?a:5,this.reconnectInterval=(l=(s=e.reconnect)===null||s===void 0?void 0:s.interval)!==null&&l!==void 0?l:3e3,this.reconnectMaxInterval=(d=(c=e.reconnect)===null||c===void 0?void 0:c.max_interval)!==null&&d!==void 0?d:6e4,this.reconnectRetryCount=(v=(f=e.reconnect)===null||f===void 0?void 0:f.retry_cnt)!==null&&v!==void 0?v:5,this.reconnectIntervalMultiple=(y=(g=e.reconnect)===null||g===void 0?void 0:g.mul)!==null&&y!==void 0?y:2,this.maxUnreadCountOnSuperGroup=(b=e.max_unread_cnt_on_super_group)!==null&&b!==void 0?b:100,this.profileImageEncryption=!!e.profile_image_encryption,this.concurrentCallLimit=(C=e.concurrent_call_limit)!==null&&C!==void 0?C:5,this.backOffDelay=(w=e.back_off_delay)!==null&&w!==void 0?w:100}return t.payloadify=function(n){return Pe(We(q(q(q({},Mt.payloadify(n.user)),WI.payloadify(n.appInfo)),{login_ts:n.connectedAt,ping_interval:n.pingInterval,pong_timeout:n.pongTimeout,reconnect:{interval:n.reconnectInterval,max_interval:n.reconnectMaxInterval,retry_cnt:n.reconnectRetryCount,mul:n.reconnectIntervalMultiple},max_unread_cnt_on_super_group:n.maxUnreadCountOnSuperGroup,profile_image_encryption:n.profileImageEncryption,concurrent_call_limit:n.concurrentCallLimit,back_off_delay:n.backOffDelay})))},t.prototype.apply=function(){var n=this.reconnectInterval,e=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,i=j.of(this._iid);i.sdkState.websocket&&(i.sdkState.websocket.pingInterval=1e3*this.pingInterval,i.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,i.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,i.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(a){return a>0?1e3*Math.min(n*Math.pow(r,a-1),e):10}}),i.appInfo=this.appInfo,i.sessionManager.currentUser=this.user,i.connectedAt=this.connectedAt,this.firstConnectedAt||(i.firstConnectedAt=this.connectedAt),i.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,i.concurrentCallLimit=this.concurrentCallLimit,i.backOffDelay=this.backOffDelay,i.requestDeduplicator.requestDedupInterval=this.appInfo.requestDedupIntervalMs,i.dispatcher.dispatch(new cx({userProfile:this}))},t})(),dx=(function(t){function n(e){var r=e.request,i=r===void 0||r,a=e.features,s=a===void 0?{}:a,l=e.options,c=l===void 0?{}:l,d=e.statConfigInfo,f=t.call(this)||this;return f.request=i,f.features=q({localCache:!0,notification:!0},s),f.options=q({ingestion:!0},c),f.statConfigInfo=d,f}return k(n,t),n})(xn),hx=(function(t){function n(e){var r=t.call(this)||this;return r.configSyncNeeded=!1,r.configSyncNeeded=e,r}return k(n,t),n})(xn),Gb=(function(t){function n(e,r,i){var a,s,l,c,d=this;return(d=t.call(this,e,r,i)||this).error=null,d.services=[],d.userProfile=new TS(e,i),d.deviceTokenLastDeletedAt=(a=i.device_token_last_deleted_at)!==null&&a!==void 0?a:0,d.key=(s=i.key)!==null&&s!==void 0?s:"",d.ekey=(l=i.ekey)!==null&&l!==void 0?l:"",d.error=i.error?new Z(i):null,d.services=(c=i.services)!==null&&c!==void 0?c:[],d.isSessionRefresh="new_key"in i,d}return k(n,t),n.asError=function(e){return new n("","LOGI",q({user_id:"",error:!0},e))},n.prototype.applyTo=function(e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return this.isSessionRefresh?[2]:this.error?[3,4]:(r=j.of(e))?(i=r.sessionManager,a=r.dispatcher,[4,i.login(this)]):[3,2];case 1:return s.sent(),this.userProfile.apply(),a.dispatch(new hx(this.userProfile.appInfo.configSyncNeeded)),a.dispatch(new dx({request:this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"),features:{localCache:this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish"),notification:this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_noti_stats_log_publish")},options:{ingestion:this.userProfile.appInfo.allowSdkStatsUpload},statConfigInfo:this.userProfile.appInfo.statConfigInfo})),[3,3];case 2:throw Z.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}}))}))},n})(Jn),Nh=(function(){function t(){this.type=nn.NONE,this.name="none"}return t.prototype.run=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){return[2]}))}))},t.prototype.onConnect=function(n,e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2]}))}))},t.prototype.onReconnect=function(n,e){return e.resetReconnectCount,A(this,void 0,void 0,(function(){return N(this,(function(r){return[2]}))}))},t.prototype.onDisconnect=function(n,e){return e.error,e.autoReconnect,e.cause,A(this,void 0,void 0,(function(){return N(this,(function(r){return[2]}))}))},t.prototype.onDisconnectWebSocket=function(n,e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2]}))}))},t.prototype.onLogout=function(n,e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2]}))}))},t.prototype.onDelayedConnecting=function(n,e){return e.retryAfterTime,e.reasonCode,e.message,A(this,void 0,void 0,(function(){return N(this,(function(r){return[2]}))}))},t})(),zu=(function(t){function n(e){e===void 0&&(e={});var r,i=this;return(i=t.call(this)||this).type=nn.LOGOUT,i.name="logout",i._wasPreviouslyConnected=(r=e.wasPreviouslyConnected)===null||r===void 0||r,i}return k(n,t),n.prototype.run=function(e){return A(this,void 0,void 0,(function(){var r,i,a=this;return N(this,(function(s){switch(s.label){case 0:return r=Date.now(),i=e.sdkState.userId,[4,e.logout()];case 1:return s.sent(),[4,e.changeState(new c3,r)];case 2:return s.sent(),this._wasPreviouslyConnected&&Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(l){return e.connectionHandlers.forEach((function(c){c.onDisconnected&&c.onDisconnected(i)})),[2]}))}))})),[2]}}))}))},n})(Nh),K0=(function(t){function n(){var e=t.call(this)||this;return e.type=nn.EXTERNAL_DISCONNECTED,e.name="externaldisconnected",e}return k(n,t),n.prototype.run=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,e.disconnect()];case 1:return r.sent(),[2]}}))}))},n.prototype.onConnect=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=Date.now(),[4,e.disconnect()];case 1:return a.sent(),[4,e.changeState(new t2({authToken:r}),i)];case 2:return a.sent(),[2]}}))}))},n.prototype.onReconnect=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.changeState(new M0,r)];case 1:return i.sent(),[2]}}))}))},n.prototype.onLogout=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.changeState(new zu,r)];case 1:return i.sent(),[2]}}))}))},n})(Nh);(function(t){t.ExternalSetBackground="ExternalSetBackground",t.ExternalDisconnectWebSocket="ExternalDisconnectWebSocket",t.MaxReconnectRetry="MaxReconnectRetry"})(gp||(gp={}));var _9=(function(){function t(n,e){var r=e.sdkState,i=e.cacheContext,a=e.connectionHandlers,s=e.sessionManager,l=e.websocketClient,c=e.dispatcher,d=e.logger,f=e.disableWebSocketCloseEventHandling,v=f!==void 0&&f,g=this;this._disableWebSocketCloseEventHandling=!1,this._webSocketClosedCause=null,this._logger=d,this._disableWebSocketCloseEventHandling=v,this._context=new E9(n,{sdkState:r,cacheContext:i,connectionHandlers:a,sessionManager:s,websocketClient:l,dispatcher:c,logger:d}),this._sdkState=r,this._sessionManager=s,this._websocketClient=l,this._commandDispatcher=c,this._commandDispatcher.on((function(y){var b=g._context.currentState;if(y instanceof o3&&b.type===nn.CONNECTED){var C=y.retryAfterTime,w=y.reasonCode,I=y.message;b.onDelayedConnecting(g._context,{retryAfterTime:C,reasonCode:w,message:I})}}))}return t.prototype._registerEventDispatcher=function(){var n=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh",(function(){n.isConnecting||n.isConnected||(n._logger.debug("try reconnect by session key refresh"),yr((function(){return A(n,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this.reconnect()];case 1:return e.sent(),[2]}}))}))})))})),this._websocketEventDispatcherContext=this._websocketClient.on("close",(function(){n._sdkState.appState!=="foreground"||n._webSocketClosedCause||yr((function(){return A(n,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this._sessionManager.isSessionKeyRefreshing?[3,2]:(this._logger.debug("try reconnect by websocket connection closed"),[4,this.reconnect()]);case 1:return e.sent(),[3,4];case 2:return[4,this.disconnectWebSocket()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}))})))},t.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=void 0),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=void 0)},Object.defineProperty(t.prototype,"isConnected",{get:function(){return this._context.currentState.type===nn.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isConnecting",{get:function(){var n=this._context.currentState;return n.type===nn.CONNECTING||n.type===nn.RECONNECTING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"websocketClient",{get:function(){return this._websocketClient},enumerable:!1,configurable:!0}),t.prototype.connect=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return e=this._context.currentState,this._webSocketClosedCause=null,[4,e.onConnect(this._context,n)];case 1:return r.sent(),this._registerEventDispatcher(),[2]}}))}))},t.prototype.reconnect=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return n=this._context.currentState,this._webSocketClosedCause=null,[4,n.onReconnect(this._context,{})];case 1:return e.sent(),[2]}}))}))},t.prototype.resetAndReconnect=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return n=this._context.currentState,this._webSocketClosedCause=null,[4,n.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return e.sent(),[2]}}))}))},t.prototype.background=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return n=this._context.currentState,this._webSocketClosedCause=gp.ExternalSetBackground,[4,n.onDisconnect(this._context,{autoReconnect:!1,cause:this._webSocketClosedCause})];case 1:return e.sent(),[2]}}))}))},t.prototype.disconnect=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:n,autoReconnect:!0,cause:this._webSocketClosedCause})];case 1:return e.sent(),[2]}}))}))},t.prototype.disconnectWebSocket=function(n){return n===void 0&&(n=!1),A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return e=this._context.currentState,n&&(this._webSocketClosedCause=gp.ExternalDisconnectWebSocket),[4,e.onDisconnectWebSocket(this._context,{cause:this._webSocketClosedCause})];case 1:return r.sent(),[2]}}))}))},t.prototype.logout=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return e=this._context.currentState,this._clearEventDispatcher(),[4,e.onLogout(this._context,n)];case 1:return r.sent(),[2]}}))}))},t})(),Ev=(function(t){function n(e){var r=e.retryAfterTime,i=e.reasonCode,a=e.message,s=e.authToken,l=t.call(this)||this;return l.type=nn.DELAYED_CONNECTING,l.name="delayedconnecting",l._timerStartTime=0,l._retryAfterTime=r,l._reasonCode=i,l._message=a,l._authToken=s,l}return k(n,t),n.prototype._clearDelayConnectTimer=function(){this._delayConnectTimer&&(clearTimeout(this._delayConnectTimer),this._delayConnectTimer=void 0),this._timerStartTime=0},n.prototype._startDelayedConnectTimer=function(e){var r=this;this._clearDelayConnectTimer(),this._timerStartTime=Date.now(),this._delayConnectTimer=setTimeout((function(){return A(r,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=Date.now(),clearTimeout(this._delayConnectTimer),this._delayConnectTimer=void 0,this._timerStartTime=0,[4,e.changeState(new M0({authToken:this._authToken,isSoftRateLimited:!0}),i)];case 1:return a.sent(),[2]}}))}))}),this._retryAfterTime),e.connectionHandlers.forEach((function(i){i.onConnectionDelayed&&i.onConnectionDelayed(Math.ceil(r._retryAfterTime/1e3))}))},n.prototype._calculateRemainDelayConnectTime=function(){this._delayConnectTimer&&(this._retryAfterTime=this._retryAfterTime-(Date.now()-this._timerStartTime))},n.prototype._throwDelayedConnectingError=function(){var e=new Z({code:je.DELAYED_CONNECTING,message:this._message});throw e.setDetail(JSON.stringify({retry_after:Math.ceil(this._retryAfterTime/1e3),reason_code:this._reasonCode,message:this._message})),e},n.prototype.run=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return this._startDelayedConnectTimer(e),[2]}))}))},n.prototype.onConnect=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){return this._delayConnectTimer&&(this._calculateRemainDelayConnectTime(),this._startDelayedConnectTimer(e),this._throwDelayedConnectingError()),[2]}))}))},n.prototype.onReconnect=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return this._delayConnectTimer&&(this._calculateRemainDelayConnectTime(),this._startDelayedConnectTimer(e),this._throwDelayedConnectingError()),[2]}))}))},n.prototype.onDelayedConnecting=function(e,r){var i=r.retryAfterTime,a=r.reasonCode,s=r.message;return A(this,void 0,void 0,(function(){return N(this,(function(l){return this._retryAfterTime=i,this._reasonCode=a,this._message=s,this._startDelayedConnectTimer(e),[2]}))}))},n.prototype.onDisconnect=function(e,r){var i=r.autoReconnect,a=i!==void 0&&i,s=r.cause,l=s===void 0?null:s;return A(this,void 0,void 0,(function(){var c;return N(this,(function(d){switch(d.label){case 0:return c=Date.now(),this._clearDelayConnectTimer(),l!==gp.ExternalSetBackground?[3,2]:[4,e.changeState(new bv({autoReconnect:a,retryAfterTime:this._retryAfterTime,disconnectedTime:c,reasonCode:this._reasonCode,message:this._message}),c)];case 1:return d.sent(),[3,6];case 2:return e.hasSession?[4,e.changeState(new bv({autoReconnect:a}),c)]:[3,4];case 3:return d.sent(),[3,6];case 4:return[4,e.changeState(new zu,c)];case 5:d.sent(),d.label=6;case 6:return[2]}}))}))},n.prototype.onDisconnectWebSocket=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),this._clearDelayConnectTimer(),[4,e.changeState(new K0,r)];case 1:return i.sent(),[2]}}))}))},n.prototype.onLogout=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),this._clearDelayConnectTimer(),[4,e.changeState(new zu,r)];case 1:return i.sent(),[2]}}))}))},n})(Nh),bv=(function(t){function n(e){var r=t.call(this)||this;return r.type=nn.INTERNAL_DISCONNECTED,r.name="internaldisconnected",r._autoReconnect=!1,r._autoReconnect=e.autoReconnect,r._retryAfter=e.retryAfterTime,r._disconnectedTime=e.disconnectedTime,r._reasonCode=e.reasonCode,r._message=e.message,r}return k(n,t),n.prototype._getDelayedConnectTime=function(e){return this._retryAfter&&this._disconnectedTime?Math.ceil((this._retryAfter-(e-this._disconnectedTime))/1e3):-1},n.prototype.run=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return i.sent(),this._autoReconnect?[4,e.changeState(new M0,r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},n.prototype.onConnect=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=Date.now(),[4,e.disconnect()];case 1:return a.sent(),[4,e.changeState(new t2({authToken:r}),i)];case 2:return a.sent(),[2]}}))}))},n.prototype.onReconnect=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return r=Date.now(),(i=this._getDelayedConnectTime(r))>0?[4,e.changeState(new Ev({retryAfterTime:i,reasonCode:this._reasonCode,message:this._message}),r)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,e.changeState(new M0,r)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))},n.prototype.onDisconnectWebSocket=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.changeState(new K0,r)];case 1:return i.sent(),[2]}}))}))},n.prototype.onLogout=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.changeState(new zu,r)];case 1:return i.sent(),[2]}}))}))},n})(Nh),Ea=function(t){return A(void 0,void 0,void 0,(function(){return N(this,(function(n){return[2,new Promise((function(e){return setTimeout(e,t)}))]}))}))},fx=(function(){function t(){}return t.prototype.calcTimeout=function(){return 0},t})(),e2=function(t,n,e){return e===void 0&&(e=new fx),A(void 0,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:r=0,i=null,a=function(f){return i=f??new Error("Halted")},s=function(){r=0},d.label=1;case 1:if(!(n===-1||r<n))return[3,9];d.label=2;case 2:return d.trys.push([2,4,,8]),[4,t(a,s)];case 3:if(l=d.sent(),i)throw i;return[2,l];case 4:if(c=d.sent(),i)return[3,6];if(++r===n)throw c;return[4,Ea(e.calcTimeout(r))];case 5:return d.sent(),[3,7];case 6:throw i;case 7:return[3,8];case 8:return[3,1];case 9:throw"It should not happen."}}))}))},M0=(function(t){function n(e){var r=e===void 0?{}:e,i=r.authToken,a=r.isSoftRateLimited,s=t.call(this)||this;return s.type=nn.RECONNECTING,s.name="reconnecting",s._callbacks=[],s._authToken=i,s._isSoftRateLimited=a??void 0,s}return k(n,t),n.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=void 0)},n.prototype._flushCallbacks=function(e){this._haltConnect=void 0,this._resetConnect=void 0,this._callbacks.forEach((function(r){return r(e)}))},n.prototype.run=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:r=Date.now(),i=new ja,this._callbacks.push((function(b){return b?i.reject(b):i.resolve()})),Qe((function(){return A(g,void 0,void 0,(function(){return N(this,(function(b){return e.connectionHandlers.forEach((function(C){C.onReconnectStarted&&C.onReconnectStarted()})),[2]}))}))})),y.label=1;case 1:return y.trys.push([1,4,,12]),a=wo(),s=0,l=e.sdkState.websocket,c=l.reconnectMaxRetry,d=l.reconnectRetryStrategy,[4,e2((function(b,C){return A(g,void 0,void 0,(function(){var w;return N(this,(function(I){switch(I.label){case 0:this._haltConnect=b,this._resetConnect=C,I.label=1;case 1:return I.trys.push([1,3,,4]),s++,[4,e.connect({authToken:this._authToken,connectionKey:a,connectionRetryCount:s,isSoftRateLimited:this._isSoftRateLimited})];case 2:return I.sent(),[3,4];case 3:if(w=I.sent(),e.clearLoginTimer(),w instanceof Z){switch(w.code){case je.CONNECTION_CANCELED:case je.DELAYED_CONNECTING:return b(w),[2]}if(w.isSessionExpiredError||w.isSessionInvalidatedError)return b(w),[2]}throw w;case 4:return[2]}}))}))}),c,d)];case 2:return y.sent(),[4,e.changeState(new px,r)];case 3:return y.sent(),this._flushCallbacks(),Qe((function(){return A(g,void 0,void 0,(function(){return N(this,(function(b){return e.connectionHandlers.forEach((function(C){C.onReconnectSucceeded&&C.onReconnectSucceeded()})),[2]}))}))})),[3,12];case 4:return f=y.sent(),Ca(f)?[3,10]:[4,e.disconnect()];case 5:return y.sent(),f instanceof Z?f.code!==je.DELAYED_CONNECTING?[3,7]:(v=JSON.parse(f.detail),[4,e.changeState(new Ev({retryAfterTime:1e3*v.retry_after,reasonCode:v.reason_code,message:v.message,authToken:this._authToken}),r)]):[3,9];case 6:return y.sent(),[3,9];case 7:return f.code===je.CONNECTION_CANCELED?[3,9]:[4,e.changeState(new bv({autoReconnect:!1}),r)];case 8:y.sent(),y.label=9;case 9:return this._flushCallbacks(f),Qe((function(){return A(g,void 0,void 0,(function(){return N(this,(function(b){return e.connectionHandlers.forEach((function(C){C.onReconnectFailed&&C.onReconnectFailed()})),[2]}))}))})),[3,11];case 10:throw f;case 11:return[3,12];case 12:return[2,i.promise]}}))}))},n.prototype.onConnect=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){return i=new ja,this._halt(Z.connectionCanceled),e.cancelConnectForRetry(),this._callbacks.push((function(){var s=Date.now();e.changeState(new t2({authToken:r}),s).then((function(){i.resolve()})).catch((function(l){i.reject(l)}))})),[2,i.promise]}))}))},n.prototype.onReconnect=function(e,r){var i=r.resetReconnectCount,a=i!==void 0&&i;return A(this,void 0,void 0,(function(){var s;return N(this,(function(l){return s=new ja,this._resetConnect&&a&&this._resetConnect(),this._callbacks.push((function(c){return c?s.reject(c):s.resolve()})),[2,s.promise]}))}))},n.prototype.onDisconnect=function(e,r){r._error;var i=r.autoReconnect,a=i===void 0||i;return A(this,void 0,void 0,(function(){var s;return N(this,(function(l){switch(l.label){case 0:return s=Date.now(),this._halt(Z.connectionCanceled),[4,e.changeState(new bv({autoReconnect:a}),s)];case 1:return l.sent(),[2]}}))}))},n.prototype.onDisconnectWebSocket=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),this._halt(Z.connectionCanceled),[4,e.changeState(new K0,r)];case 1:return i.sent(),[2]}}))}))},n.prototype.onLogout=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),this._halt(Z.connectionCanceled),[4,e.changeState(new zu,r)];case 1:return i.sent(),[2]}}))}))},n.prototype.onDelayedConnecting=function(e,r){var i=r.retryAfterTime,a=r.reasonCode,s=r.message;return A(this,void 0,void 0,(function(){var l,c;return N(this,(function(d){switch(d.label){case 0:return l=Date.now(),(c=new Z({code:je.DELAYED_CONNECTING,message:s})).setDetail(JSON.stringify({retry_after:i/1e3,reason_code:a,message:s})),this._halt(c),[4,e.changeState(new Ev({retryAfterTime:i,reasonCode:a,message:s,authToken:this._authToken}),l)];case 1:return d.sent(),[2]}}))}))},n})(Nh),px=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=nn.CONNECTED,e.name="connected",e}return k(n,t),n.prototype.onReconnect=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return i.sent(),[4,e.changeState(new M0,r)];case 2:return i.sent(),[2]}}))}))},n.prototype.onDisconnect=function(e,r){var i=r.autoReconnect;return A(this,void 0,void 0,(function(){var a;return N(this,(function(s){switch(s.label){case 0:return a=Date.now(),[4,e.changeState(new bv({autoReconnect:i}),a)];case 1:return s.sent(),[2]}}))}))},n.prototype.onDisconnectWebSocket=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.changeState(new K0,r)];case 1:return i.sent(),[2]}}))}))},n.prototype.onLogout=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.changeState(new zu,r)];case 1:return i.sent(),[2]}}))}))},n.prototype.onDelayedConnecting=function(e,r){var i=r.retryAfterTime,a=r.reasonCode,s=r.message;return A(this,void 0,void 0,(function(){var l;return N(this,(function(c){switch(c.label){case 0:return l=Date.now(),[4,e.changeState(new Ev({retryAfterTime:i,reasonCode:a,message:s}),l)];case 1:return c.sent(),[2]}}))}))},n})(Nh),t2=(function(t){function n(e){var r=e.authToken,i=t.call(this)||this;return i.type=nn.CONNECTING,i.name="connecting",i._authToken="",i._callbacks=[],i._authToken=r,i}return k(n,t),n.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=void 0)},n.prototype._flushCallbacks=function(e){this._haltConnect=void 0,this._callbacks.forEach((function(r){return r(e)}))},n.prototype.run=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:r=Date.now(),i=new ja,this._callbacks.push((function(v){return v?i.reject(v):i.resolve()})),f.label=1;case 1:return f.trys.push([1,4,,12]),a=wo(),s=0,[4,e2((function(v){return A(d,void 0,void 0,(function(){var g;return N(this,(function(y){switch(y.label){case 0:this._haltConnect=v,y.label=1;case 1:return y.trys.push([1,3,,4]),s++,[4,e.connect({authToken:this._authToken,connectionKey:a,connectionRetryCount:s})];case 2:return y.sent(),[3,4];case 3:if(g=y.sent(),e.clearLoginTimer(),g instanceof Z)switch(g.code){case je.CONNECTION_CANCELED:case je.SESSION_KEY_EXPIRED:case je.SESSION_TOKEN_EXPIRED:case je.SESSION_REVOKED:case je.USER_AUTH_DEACTIVATED:case je.USER_AUTH_DELETED_OR_NOT_FOUND:case je.USER_DEACTIVATED:case je.DELAYED_CONNECTING:return v(g),[2]}throw g;case 4:return[2]}}))}))}),e.sdkState.websocket.connectMaxRetry)];case 2:return f.sent(),[4,e.changeState(new px,r)];case 3:return f.sent(),Qe((function(){return A(d,void 0,void 0,(function(){return N(this,(function(v){return this._flushCallbacks(),e.connectionHandlers.forEach((function(g){g.onConnected&&g.onConnected(e.sdkState.userId)})),[2]}))}))})),[3,12];case 4:return l=f.sent(),Ca(l)?[3,10]:[4,e.disconnect()];case 5:return f.sent(),l instanceof Z?l.code!==je.DELAYED_CONNECTING?[3,7]:(c=JSON.parse(l.detail),[4,e.changeState(new Ev({retryAfterTime:1e3*c.retry_after,reasonCode:c.reason_code,message:c.message,authToken:this._authToken}),r)]):[3,9];case 6:return f.sent(),[3,9];case 7:return l.code===je.CONNECTION_CANCELED?[3,9]:[4,e.changeState(new c3,r)];case 8:f.sent(),f.label=9;case 9:return Qe((function(){return A(d,void 0,void 0,(function(){return N(this,(function(v){return this._flushCallbacks(l),[2]}))}))})),[3,11];case 10:throw l;case 11:return[3,12];case 12:return[2,i.promise]}}))}))},n.prototype.onConnect=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){return r=new ja,this._callbacks.push((function(a){return a?r.reject(a):r.resolve()})),[2,r.promise]}))}))},n.prototype.onDisconnect=function(e,r){var i=r.error,a=i===void 0?null:i,s=r.autoReconnect,l=s!==void 0&&s,c=r.cause,d=c===void 0?null:c;return A(this,void 0,void 0,(function(){var f;return N(this,(function(v){switch(v.label){case 0:return f=Date.now(),this._halt(a??QI(d)),e.hasSession?[4,e.changeState(new bv({autoReconnect:l}),f)]:[3,2];case 1:return v.sent(),[3,4];case 2:return[4,e.changeState(new zu,f)];case 3:v.sent(),v.label=4;case 4:return[2]}}))}))},n.prototype.onDisconnectWebSocket=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return this._halt(QI(r?.cause||null)),i=Date.now(),e.hasSession?[4,e.changeState(new K0,i)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,e.changeState(new zu,i)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))},n.prototype.onLogout=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=Date.now(),this._halt(r??Z.connectionCanceled),[4,e.changeState(new zu,i)];case 1:return a.sent(),[2]}}))}))},n.prototype.onDelayedConnecting=function(e,r){var i=r.retryAfterTime,a=r.reasonCode,s=r.message;return A(this,void 0,void 0,(function(){var l;return N(this,(function(c){switch(c.label){case 0:return l=Date.now(),[4,e.changeState(new Ev({retryAfterTime:i,reasonCode:a,message:s,authToken:this._authToken}),l)];case 1:return c.sent(),[2]}}))}))},n})(Nh);function QI(t){var n=Z.connectionCanceled;if(t){var e=null;switch(t){case gp.ExternalSetBackground:e="Connection has been canceled due to the application having externally moved to background while in ConnectingState.";break;case gp.ExternalDisconnectWebSocket:e="Connection has been canceled because sb.disconnectWebSocket() was called while in ConnectingState."}e&&n.setDetail(e)}return n}var ah,c3=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=nn.INITIALIZED,e.name="initialized",e}return k(n,t),n.prototype.onConnect=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=Date.now(),[4,e.changeState(new t2({authToken:r}),i)];case 1:return a.sent(),[2]}}))}))},n.prototype.onLogout=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,e.changeState(new zu({wasPreviouslyConnected:!1}),r)];case 1:return i.sent(),[2]}}))}))},n})(Nh),g9=(function(t){function n(){return t.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return k(n,t),n})(ia),y9=(function(){function t(n){var e=n.pingDelegate,r=n.sdkState,i=n.logger;this.pingDelegate=e,this.sdkState=r,this._logger=i}return Object.defineProperty(t.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),t.prototype.ping=function(){var n,e=this;if(!this.sdkState.websocket)throw Z.connectionRequired;var r=new g9;try{var i=(n=this.sdkState.websocket.pongTimeout)!==null&&n!==void 0?n:5e3;this._pingTimeoutTimer=setTimeout((function(){e._logger.debug("pinger.ping() timeout"),e.pingDelegate.error()}),i),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(a){this._logger.debug("pinger.ping() error",a),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0),this.pingDelegate.error()}return r},t.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},t.prototype.refreshTimer=function(){var n,e=this;if(!this.sdkState.websocket)throw Z.connectionRequired;this._logger.debug("pinger.refreshTimer()");var r=(n=this.sdkState.websocket.pingInterval)!==null&&n!==void 0?n:15e3;this.stop(),this._pingTimer=setInterval((function(){e.ping()}),r)},t.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},t.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=void 0),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},t})(),mx=["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash","multiple_file_send_max_size","notifications","message_template","ai_agent"],E9=(function(t){function n(e,r){var i,a=r.sdkState,s=r.cacheContext,l=r.connectionHandlers,c=r.sessionManager,d=r.websocketClient,f=r.dispatcher,v=r.logger,g=r.entryState,y=g===void 0?new c3:g,b=this;return(b=t.call(this)||this)._currentConnectionRetryCount=0,b._stateUpdatedAt=0,b._connectingAt=0,b._connectedAt=0,b._logiReceivedAt=0,b._connectionRequestQueue=[],b._iid=e,b.sdkState=a,b.cacheContext=s,b.connectionHandlers=l,b._sessionManager=c,b._websocketClient=d,b._dispatcher=f,b._logger=v,b._currentState=y,!((i=b.sdkState.websocket)===null||i===void 0)&&i.pingerDisabled||(b._pinger=new y9({pingDelegate:{send:function(C){return b._websocketClient.send(C)},error:function(C){f.dispatch(new Lc(new $n({type:Mn.WEBSOCKET_DISCONNECT,data:{success:!0,error_code:je.NETWORK_ERROR,error_description:"cause=ping_pong_timedout"}}))),b._websocketClient.error(C)}},sdkState:b.sdkState,logger:v})),b._websocketClient.on("open",(function(){b._connectedAt=Date.now(),b._tryResolveConnectionRequest()})).on("message",(function(C){C.code==="LOGI"&&(b.clearLoginTimer(),b._dispatcher.dispatch(C.as(Gb)))})).on("ping-refresh",(function(){var C;return(C=b._pinger)===null||C===void 0?void 0:C.refreshTimer()})).on("pong",(function(){var C;return(C=b._pinger)===null||C===void 0?void 0:C.pong()})).on("error",(function(){var C;return(C=b._pinger)===null||C===void 0?void 0:C.stop()})).on("close",(function(){b._logiProcessingTimer=setTimeout((function(){b._logiProcessingTimer=void 0,b._unresolvedLogi||b._rejectConnectionRequest(Z.networkError)}),500)})),b._dispatcher.on((function(C){if(C instanceof Gb)b._unresolvedLogi=C,b._tryResolveConnectionRequest();else if(C instanceof o3){var w=C.retryAfterTime,I=C.reasonCode,M=C.message,R=new Z({code:je.DELAYED_CONNECTING,message:M});R.setDetail(JSON.stringify({retry_after:w/1e3,reason_code:I,message:M})),b._rejectConnectionRequest(R)}})),b}return k(n,t),Object.defineProperty(n.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasSession",{get:function(){return this._sessionManager.session.hasSession},enumerable:!1,configurable:!0}),n.prototype.changeState=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return r>=this._stateUpdatedAt?(this._currentState=e,this._stateUpdatedAt=r,this._dispatcher.dispatch(new $s({stateType:e.type})),this._logger.debug("connection state changes to ".concat(e.name)),[4,this._currentState.run(this)]):[3,2];case 1:return i.sent(),[2,!0];case 2:return[2,!1]}}))}))},n.prototype._tryResolveConnectionRequest=function(){var e;return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=this._unresolvedLogi,this._websocketClient.isOpen&&r?(this._unresolvedLogi=void 0,this._logiReceivedAt=Date.now(),r.error?[3,2]:[4,r.applyTo(this._iid)]):[3,3];case 1:return i.sent(),this._statLogConnection(),(e=this._pinger)===null||e===void 0||e.start(),this._connectionRequestQueue.forEach((function(a){return a.resolve()})),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:r.error.isSessionExpiredError||r.error.isSessionInvalidatedError?this._dispatcher.dispatch(new yv({reason:r.error.code,message:r.error.message})):this._logger.warn("login failed: ".concat(r.error)),this._rejectConnectionRequest(r.error),i.label=3;case 3:return[2]}}))}))},n.prototype._rejectConnectionRequest=function(e){var r;if((r=this._pinger)===null||r===void 0||r.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var i=this._connectionRequestQueue;this._connectionRequestQueue=[],i.forEach((function(a){return a.reject(e)})),this._statLogConnection(e)}},n.prototype._url=function(e){var r,i=e.configTs,a=this.sdkState,s=a.appId,l=a.appVersion,c=a.userId,d=a.extensions,f=a.sendbirdRuntimeEnvironment,v=this.cacheContext.localCacheEnabled,g=this._sessionManager.session,y=(r=this.sdkState.websocket)===null||r===void 0?void 0:r.compression,b=!!(d??{}).sb_uikit,C=c1.userAgentWithExtension(d);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(fh.OS_VERSION),"&sv=").concat(encodeURIComponent(fh.SDK_VERSION),"&ai=").concat(s).concat(l?"&av=".concat(l):"").concat(g.hasSession?"":"&user_id=".concat(encodeURIComponent(c)),"&pmce=").concat(y?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(C,"&SB-SDK-User-Agent=").concat(encodeURIComponent(c1.sendbirdSdkUserAgentWithExtension(f)),"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(mx))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(v?1:0,"&include_poll_details=1").concat(b?"&uikit_config=1":"","&config_ts=").concat(i)},n.prototype._statLogConnection=function(e){var r,i;this._dispatcher.dispatch(new Lc(new $n({type:Mn.WEBSOCKET_CONNECT,data:{host_url:(r=this.sdkState.websocket)===null||r===void 0?void 0:r.host,success:!e,latency:this._connectedAt>0?this._connectedAt-this._connectingAt:Date.now()-this._connectingAt,logi_latency:this._logiReceivedAt>0?this._logiReceivedAt-this._connectingAt:void 0,connection_id:this._currentConnectionKey,accum_trial:this._currentConnectionRetryCount,is_soft_rate_limited:(i=this._isSoftRateLimited)!==null&&i!==void 0?i:void 0,error_code:e?.code,error_description:e?.code===je.DELAYED_CONNECTING?e?.detail:e?.message}})))},n.prototype.connect=function(e){var r;return e===void 0&&(e={}),A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v,g,y,b,C,w=this;return N(this,(function(I){switch(I.label){case 0:return this._logiProcessingTimer&&(clearTimeout(this._logiProcessingTimer),this._logiProcessingTimer=void 0,this._rejectConnectionRequest(Z.connectionCanceled)),i=new ja,a=e.authToken,s=a===void 0?"":a,l=e.connectionKey,c=l===void 0?wo():l,d=e.connectionRetryCount,f=d===void 0?1:d,v=e.isSoftRateLimited,this._connectionRequestQueue.push(i),this._connectionRequestQueue.length!==1?[3,2]:(this._currentConnectionKey=c,this._currentConnectionRetryCount=f,this._isSoftRateLimited=v,this._connectingAt=Date.now(),this._connectedAt=0,this._logiReceivedAt=0,this._loginTimer=setTimeout((function(){w._loginTimer=void 0,w._rejectConnectionRequest(Z.loginTimeout)}),(r=this.sdkState.websocket)===null||r===void 0?void 0:r.responseTimeout),g=this._sessionManager.session,s&&(g.authToken=s,g.sessionKey=void 0),y=0,[4,this.cacheContext.preference.get(m1(this.sdkState.appId))]);case 1:(b=I.sent())&&(y=b.configTs),C=this._url({configTs:y}),g.sessionKey||g.authToken?this._websocketClient.connect(C,JSON.stringify(g.hasSession?{auth:g.sessionKey}:{token:g.authToken})):this._websocketClient.connect(C,JSON.stringify({})),I.label=2;case 2:return[2,i.promise]}}))}))},n.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Gb.asError(Z.connectionRenew))},n.prototype.disconnect=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return e.sent(),[2]}}))}))},n.prototype.logout=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this.sdkState.userId=void 0,this._unresolvedLogi=void 0,[4,this.disconnect()];case 1:return e.sent(),[4,this._sessionManager.clear()];case 2:return e.sent(),[2]}}))}))},n.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=void 0)},n})(Mp),vx=(function(t){function n(e){var r=e.appId,i=e.userId,a=e.includeUIKitConfig,s=a!==void 0&&a,l=e.localCacheEnabled,c=l===void 0||l,d=e.expiringSession,f=d===void 0||d,v=e.configTs,g=v===void 0?0:v,y=t.call(this)||this;return y.path="".concat(BH,"/").concat(encodeURIComponent(i),"/authentication"),y.method=Ee.POST,y.params=Pe({expiring_session:!!f,include_logi:!0,include_extra_data:String(mx),uikit_config:s,use_local_cache:c,app_id:r,config_ts:g}),y.requireAuth=!1,y}return k(n,t),n})(be),b9=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.logi=new Gb(e,"LOGI",r),i}return k(n,t),n})(we);(function(t){t[t.ALL=0]="ALL",t[t.WEBSOCKET=1]="WEBSOCKET",t[t.API=2]="API"})(ah||(ah={}));var dr,XI,T9=[r3,vx],C9=(function(){function t(n,e){var r=e.session,i=e.sdkState,a=e.dispatcher,s=e.logger,l=e.useFetchCompat,c=l!==void 0&&l,d=this;this._currentConnectionStateType=nn.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new l9(n,{session:r,sdkState:i,dispatcher:a,logger:s,useFetchCompat:c}),this._session=r,this._logger=s,this._dispatcher=a,this._dispatcher.on((function(f){var v,g,y;if(f instanceof $s){var b=f.stateType;switch(d._currentConnectionStateType=b,b){case nn.CONNECTED:d._resolveLazyCallQueue();break;case nn.INITIALIZED:case nn.INTERNAL_DISCONNECTED:case nn.EXTERNAL_DISCONNECTED:case nn.LOGOUT:d._session.isRefreshing||d._rejectLazyCallQueue(!((y=d._session)===null||y===void 0)&&y.hasSession?Z.connectionClosed:Z.connectionRequired)}}else if(f instanceof lx)d._session.hasChatServicePermission||d._resolveLazyCallQueue(ah.API);else if(f instanceof bS||f instanceof ux)d._rejectLazyCallQueue(Z.connectionClosed);else if(f instanceof F4){var C=f.request,w=f.deferred,I=f.error;try{for(var M=De(T9),R=M.next();!R.done;R=M.next())if(C instanceof R.value)return void w.reject(I)}catch(U){v={error:U}}finally{try{R&&!R.done&&(g=M.return)&&g.call(M)}finally{if(v)throw v.error}}d._lazyCallQueue.push({command:C,deferred:w})}}))}return Object.defineProperty(t.prototype,"isReady",{get:function(){return this._currentConnectionStateType===nn.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===nn.CONNECTING||this._currentConnectionStateType===nn.RECONNECTING||this._session.isRefreshing},enumerable:!1,configurable:!0}),t.prototype._classifyLazyCallQueueByScope=function(n){var e,r=[],i=[];switch(n){case ah.ALL:e=null;break;case ah.WEBSOCKET:e=ia;break;case ah.API:e=be}var a=!1;return this._lazyCallQueue.forEach((function(s){!e||s.command instanceof e||(a=!0),a?i.push(s):r.push(s)})),[r,i]},t.prototype._resolveLazyCallQueue=function(n){var e=this;n===void 0&&(n=ah.ALL);var r=Ye(this._classifyLazyCallQueueByScope(n),2),i=r[0],a=r[1];this._lazyCallQueue=a,i.forEach((function(s){return A(e,void 0,void 0,(function(){var l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:l=s.command,c=s.deferred,(d=s.timeout)&&clearTimeout(d),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.send(l)];case 2:return f=g.sent(),c.resolve(f),[3,4];case 3:return v=g.sent(),c.reject(v),[3,4];case 4:return[2]}}))}))}))},t.prototype._rejectLazyCallQueue=function(n,e){var r=this;e===void 0&&(e=ah.ALL);var i=Ye(this._classifyLazyCallQueueByScope(e),2),a=i[0],s=i[1];this._lazyCallQueue=s,a.forEach((function(l){return A(r,void 0,void 0,(function(){var c,d;return N(this,(function(f){return c=l.deferred,d=l.timeout,clearTimeout(d),c.reject(n),[2]}))}))}))},t.prototype.send=function(n){return A(this,void 0,void 0,(function(){var e,r,i=this;return N(this,(function(a){switch(a.label){case 0:return n instanceof ia?this.isReady?(this._logger.debug("send websocket request",n),[4,this.commandRouter.send(n)]):[3,2]:[3,4];case 1:case 5:case 7:return[2,a.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",n),e=new ja,this._lazyCallQueue.push({command:n,deferred:e,timeout:setTimeout((function(){return i.timeout(n.requestId)}),1e4)}),[2,e.promise];throw this._logger.debug("fail websocket request"),Z.connectionRequired;case 3:case 9:return[3,11];case 4:return n instanceof be?this._session.hasSession?(this._logger.debug("send api request",n),[4,this.commandRouter.send(n)]):[3,6]:[3,10];case 6:return n.hasSessionKey?(this._logger.debug("send api request with tmp session key",n),[4,this.commandRouter.send(n)]):[3,8];case 8:if(this.isLazyCallActivated)return this._logger.debug("wait api request",n),e=new ja,this._lazyCallQueue.push({command:n,deferred:e,timeout:setTimeout((function(){return i.timeout(n.requestId)}),1e4)}),[2,e.promise];throw r=Z.connectionRequired,this._logger.debug("fail api request",r),r;case 10:throw Z.invalidCommand;case 11:return[2]}}))}))},t.prototype.forceSend=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this._logger.debug("send forced request",n),n instanceof ia||n instanceof be?[4,this.commandRouter.send(n)]:[3,2];case 1:return[2,e.sent()];case 2:throw Z.invalidCommand}}))}))},t.prototype.timeout=function(n){this._logger.debug("timeout request",n);var e=this._lazyCallQueue.findIndex((function(r){return r.command.requestId===n}));e>-1&&(this._lazyCallQueue[e].deferred.reject(Z.connectionRequired),this._lazyCallQueue.splice(e,1))},t.prototype.cancel=function(n){this._logger.debug("cancel api request",n),this.commandRouter.cancel(n)},t.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},t})(),iC="sendbird@devicetokens",aC=(function(){function t(n){var e=n.type,r=n.token,i=n.device_os,a=n.device_manufacturer,s=n.system_push_enabled;this.type=e,this.token=r,this.deviceOS=i,this.deviceManufacturer=a,this.systemPushEnabled=s}return t.payloadify=function(n){return Pe(We({type:n.type,token:n.token,device_os:n.deviceOS,device_manufacturer:n.deviceManufacturer,system_push_enabled:n.systemPushEnabled}))},t})(),sC=new WeakMap,S9=(function(t){function n(e){var r=e._iid,i=e.session,a=e.cacheContext,s=e.sdkState,l=e.dispatcher,c=e.requestQueue,d=e.logger,f=e.pushNotificationAckManager,v=t.call(this)||this;return v._currentConnectionStateType=nn.INITIALIZED,v._isRefreshingAuthToken=!1,v.currentUser=null,v.session=i,v._iid=r,v._cacheContext=a,v._sdkState=s,v._dispatcher=l,v._requestQueue=c,v._logger=d,v._pushNotificationAckManager=f,v._deviceTokens=[],v._dispatcher.on((function(g){var y,b,C;if(g instanceof $s){var w=g.stateType;v._currentConnectionStateType=w}else if(g instanceof yv&&v.handler&&!v.isSessionKeyRefreshing){if(v._currentConnectionStateType===nn.CONNECTING)return;!((y=g.error)===null||y===void 0)&&y.isSessionInvalidatedError?v.clear():(!((b=g.error)===null||b===void 0)&&b.isSessionTokenExpiredError&&v.refreshAuthToken().catch((function(I){if(Ca(I)&&v._sdkState.appState==="foreground")throw I})),!((C=g.error)===null||C===void 0)&&C.isSessionKeyExpiredError&&(v._logger.debug("session expired"),v.handler.onSessionExpired&&v.handler.onSessionExpired(),v._currentConnectionStateType===nn.CONNECTED&&v._dispatcher.dispatch(new Lc(new $n({type:Mn.WEBSOCKET_DISCONNECT,data:{success:!0,error_code:je.SESSION_KEY_EXPIRED,error_description:"cause=session_expired"}}))),v.refreshSessionKey().catch((function(I){if(Ca(I)&&v._sdkState.appState==="foreground")throw I}))))}})),v}return k(n,t),Object.defineProperty(n.prototype,"ekey",{get:function(){return sC.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),n.prototype.indexOfDeviceToken=function(e,r){return this._deviceTokens.findIndex((function(i){return i.type===e&&i.token===r}))},n.prototype.hasDeviceToken=function(e,r){return this.indexOfDeviceToken(e,r)>=0},n.prototype.createRefreshWebsocketCommand=function(e,r){return new eB({authToken:e,expiringSession:!0,requestId:r})},n.prototype._refreshSessionKeyByWebSocket=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return r=this.createRefreshWebsocketCommand(e),[4,this._requestQueue.forceSend(r)];case 1:if(i=c.sent(),a=i.as(nB),s=a.newKey,l=a.error)throw l;return this.session.sessionKey=s??this.session.sessionKey,[2]}}))}))},n.prototype._refreshSessionKeyByApi=function(e){return A(this,void 0,void 0,(function(){var r,i=this;return N(this,(function(a){switch(a.label){case 0:return r=new r3({userId:this._sdkState.userId,authToken:e,services:this.session.services&&this.session.services.length>0?this.session.services:void 0,expiringSession:!0}),[4,e2((function(s){return A(i,void 0,void 0,(function(){var l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(r)];case 1:return l=g.sent(),c=l.as(tB),d=c.key,f=c.services,this.session.sessionKey=d,this.session.services=f,[3,3];case 2:if(v=g.sent(),!this._isSessionRelatedError(v))throw v;return s(v),[3,3];case 3:return[2]}}))}))}),3)];case 1:return a.sent(),[2]}}))}))},n.prototype._refreshSessionKey=function(e,r){return r===void 0&&(r=!0),A(this,void 0,void 0,(function(){var i,a;return N(this,(function(s){switch(s.label){case 0:if(this._currentConnectionStateType!==nn.CONNECTED)return[3,8];s.label=1;case 1:return s.trys.push([1,3,,8]),[4,this._refreshSessionKeyByWebSocket(e)];case 2:return s.sent(),this.complete(),[2];case 3:i=s.sent(),s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this._handleSessionRefreshError(i,r)];case 5:return s.sent(),[2];case 6:return s.sent(),[3,7];case 7:return[3,8];case 8:return s.trys.push([8,10,,12]),[4,this._refreshSessionKeyByApi(e)];case 9:return s.sent(),this.complete(),[3,12];case 10:return a=s.sent(),[4,this._handleSessionRefreshError(a,r)];case 11:return s.sent(),[3,12];case 12:return[2]}}))}))},n.prototype._receiveNewAuthToken=function(){var e,r=this,i=new ja;if(this._isRefreshingAuthToken=!0,this.session.sessionKey=void 0,this.session.authToken=void 0,(e=this.handler)===null||e===void 0?void 0:e.onSessionTokenRequired){var a=null,s=function(){a&&(clearTimeout(a),a=null)},l=function(d){s(),r._isRefreshingAuthToken&&(r._isRefreshingAuthToken=!1,i.resolve(d))},c=function(d){s(),r._isRefreshingAuthToken&&(r._isRefreshingAuthToken=!1,i.reject(d))};a=setTimeout((function(){return c()}),1e3*this._sdkState.sessionTokenRefreshTimeout),Qe((function(){return A(r,void 0,void 0,(function(){var d;return N(this,(function(f){return!((d=this.handler)===null||d===void 0)&&d.onSessionTokenRequired&&this.handler.onSessionTokenRequired(l,c),[2]}))}))}))}else i.resolve(null);return i.promise},n.prototype._handleSessionRefreshError=function(e,r){return r===void 0&&(r=!1),A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return e instanceof Z&&(e.isSessionTokenExpiredError||e.code===je.APPLICATION_NOT_FOUND)?(this.session.authToken=void 0,r?[4,this._receiveNewAuthToken()]:[3,6]):[3,6];case 1:return(i=a.sent())?(this.session.authToken=i,[4,this._refreshSessionKey(this.session.authToken,!1)]):[3,3];case 2:return a.sent(),[3,5];case 3:return[4,this.clear()];case 4:a.sent(),a.label=5;case 5:return[2];case 6:throw e}}))}))},n.prototype._isSessionRelatedError=function(e){return e instanceof Z&&(e.isSessionExpiredError||e.isSessionInvalidatedError)},Object.defineProperty(n.prototype,"isSessionKeyRefreshing",{get:function(){return this.session.isRefreshing},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionExpiring",{get:function(){return!!this.handler},enumerable:!1,configurable:!0}),n.prototype.authenticate=function(e,r){var i;return A(this,void 0,void 0,(function(){var a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return this.session.authToken=r,a=0,[4,this._cacheContext.preference.get(m1(this._sdkState.appId))];case 1:return(s=f.sent())&&(a=s.configTs),l=new vx({appId:this._sdkState.appId,userId:e,includeUIKitConfig:!!((i=this._sdkState.extensions)!==null&&i!==void 0?i:{}).sb_uikit,localCacheEnabled:this._cacheContext.localCacheEnabled,expiringSession:this.isSessionExpiring,configTs:a}),[4,this._requestQueue.commandRouter.send(l)];case 2:return c=f.sent(),(d=c.as(b9).logi).error?[3,5]:this.session.hasChatServicePermission?[3,4]:[4,d.applyTo(this._iid)];case 3:f.sent(),f.label=4;case 4:return[3,6];case 5:throw d.error;case 6:return[2]}}))}))},n.prototype.login=function(e){var r;return A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:return i=e.key,a=e.ekey,s=e.services,l=e.userProfile,c=e.deviceTokenLastDeletedAt,d=c===void 0?0:c,this.session.sessionKey=i,this.session.services=s,sC.set(this,a),this._deviceTokenCacheEnabled=(r=l?.appInfo)===null||r===void 0?void 0:r.deviceTokenCache,f=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,f.get(iC)]:[3,5];case 1:return!(v=g.sent())||v.lastDeletedAt<d?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=d,[4,this.saveDeviceToken()]):[3,3];case 2:return g.sent(),[3,4];case 3:this._deviceTokens=v.tokens.map((function(y){return new aC(aC.payloadify(y))})),this._deviceTokenLastDeletedAt=v.lastDeletedAt,g.label=4;case 4:return[3,7];case 5:return[4,f.remove(iC)];case 6:g.sent(),g.label=7;case 7:return[2]}}))}))},n.prototype.complete=function(){var e=this;this.dispatch("refresh"),this._dispatcher.dispatch(new lx),Qe((function(){return A(e,void 0,void 0,(function(){var r;return N(this,(function(i){return this._logger.debug("session refreshed"),!((r=this.handler)===null||r===void 0)&&r.onSessionRefreshed&&this.handler.onSessionRefreshed(),[2]}))}))}))},n.prototype.error=function(e){var r=this;Qe((function(){return A(r,void 0,void 0,(function(){var i;return N(this,(function(a){return!((i=this.handler)===null||i===void 0)&&i.onSessionError&&this.handler.onSessionError(e),[2]}))}))}))},n.prototype.close=function(){var e=this;this.dispatch("close"),this._dispatcher.dispatch(new ux),Qe((function(){return A(e,void 0,void 0,(function(){var r;return N(this,(function(i){return this._logger.debug("session closed"),!((r=this.handler)===null||r===void 0)&&r.onSessionClosed&&this.handler.onSessionClosed(),[2]}))}))}))},n.prototype.refreshAuthToken=function(){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:if(e=null,!this.isSessionExpiring||this.session.isRefreshing)return[3,9];this.session.isRefreshing=!0,i.label=1;case 1:return i.trys.push([1,7,8,9]),[4,this._receiveNewAuthToken()];case 2:return(e=i.sent())?(this._logger.debug("session refreshing.."),this.session.authToken=e,[4,this._refreshSessionKey(this.session.authToken)]):[3,4];case 3:return i.sent(),[3,6];case 4:return[4,this.clear()];case 5:i.sent(),i.label=6;case 6:return[3,9];case 7:throw i.sent(),r=e?Z.sessionTokenRefreshFailed:Z.sessionTokenRequestFailed,this._dispatcher.dispatch(new bS),this.error(r),this._logger.debug("refresh auth token error = ",r),r;case 8:return this.session.isRefreshing=!1,[7];case 9:return[2]}}))}))},n.prototype.refreshSessionKey=function(){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:if(!this.isSessionExpiring||this.session.isRefreshing)return[3,5];this.session.isRefreshing=!0,r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this._refreshSessionKey(this.session.authToken)];case 2:return r.sent(),[3,5];case 3:throw r.sent(),e=Z.sessionTokenRefreshFailed,this._dispatcher.dispatch(new bS),this.error(e),e;case 4:return this.session.isRefreshing=!1,[7];case 5:return[2]}}))}))},n.prototype.setDeviceToken=function(e,r,i){if(this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(e,r)<0){var a=new aC({type:e,token:r,device_os:i?.deviceOS,device_manufacturer:i?.deviceManufacturer,system_push_enabled:i?.systemPushEnabled});return this._deviceTokens.push(a),!0}return!1},n.prototype.unsetDeviceToken=function(e,r){if(this._deviceTokenCacheEnabled){var i=this.indexOfDeviceToken(e,r);i>=0&&this._deviceTokens.splice(i,1)}},n.prototype.unsetDeviceTokens=function(e){this._deviceTokenCacheEnabled&&(this._deviceTokens=e?this._deviceTokens.filter((function(r){return r.type!==e})):[])},n.prototype.setDeviceTokenDeletedAt=function(e){e>0&&(this._deviceTokenLastDeletedAt=e)},n.prototype.saveDeviceToken=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(iC,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this.currentUser=null,this.session.clear(),this.close(),sC.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return e.sent(),this._pushNotificationAckManager.clear(),[2]}}))}))},n})(Mp),_x=function(t,n){var e,r;if(t!==null&&n!==null){var i=Object.keys(t),a=Object.keys(n),s=et([],Ye(new Set(et(et([],Ye(i),!1),Ye(a),!1))),!1),l={};try{for(var c=De(s),d=c.next();!d.done;d=c.next()){var f=d.value,v=typeof t[f],g=typeof n[f];v==="undefined"?l[f]=n[f]:g==="undefined"?l[f]=t[f]:v!==g?l[f]=n[f]:v==="object"&&t[f]&&n[f]?l[f]=_x(t[f],n[f]):l[f]=n[f]}}catch(y){e={error:y}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}return l}return n};(function(t){t[t.PENDING=0]="PENDING",t[t.COLLECT_ONLY=1]="COLLECT_ONLY",t[t.ENABLED=2]="ENABLED",t[t.DISABLED=3]="DISABLED"})(dr||(dr={})),(function(t){t.DAILY="daily",t.DEFAULT="default",t.REALTIME="realtime"})(XI||(XI={}));var v1,n2=100,d3=(function(){function t(n){var e=n.deviceId,r=n.cacheContext,i=n.requestQueue;this.queue=[],this.flushWaitQueue=[],this.enabledState=dr.PENDING,this.isFlushing=!1,this._sentLogStats=[],this.deviceId=e,this.cacheContext=r,this.requestQueue=i,this.logInfo={deviceId:e,statLogs:[],generation:1,lastFlushedAt:0},this.limit=n2}return Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.enabledState===dr.ENABLED},enumerable:!1,configurable:!0}),t.prototype.init=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return this.key=n,[4,this.cacheContext.preference.get(this.key)];case 1:return(e=r.sent())&&(this.logInfo=e),[2]}}))}))},t.prototype._mergeQueue=function(){this.flushWaitQueue.length>0&&(this.queue=this.queue.concat(this.flushWaitQueue),this.flushWaitQueue=[])},t.prototype._isDuplicateStat=function(n){var e=this._sentLogStats.find((function(r){var i;return r.channelUrl===n.data.channel_url&&r.messageId===((i=n.data.notificationId)!==null&&i!==void 0?i:n.data.message_id)&&r.action===n.data.action}));return e||this._sentLogStats.push({channelUrl:n.data.channel_url,messageId:n.data.message_id,action:n.data.action}),!!e},t.prototype._save=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return n=et(et([],Ye(this.queue),!1),Ye(this.flushWaitQueue),!1),[4,this.cacheContext.preference.set(this.key,{deviceId:this.logInfo.deviceId,statLogs:n.map((function(r){return $n.payloadify(r)})),generation:this.logInfo.generation++,lastFlushedAt:this.logInfo.lastFlushedAt})];case 1:return e.sent(),[2]}}))}))},t.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){return this.queue=[],this.flushWaitQueue=[],this.logInfo.generation=1,this._save(),[2]}))}))},t})(),O0=(function(t){function n(e){var r,i,a,s,l=e.type,c=e.data,d=e.ts,f=d===void 0?Date.now():d,v=t.call(this,{type:l,data:c,ts:f})||this;return v.date=new Date(f),v.key="".concat((r=v.date,i=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0"),"".concat(i).concat(a).concat(s)),"_").concat(l),v}return k(n,t),n})($n),gx=(function(t){function n(e){var r=e.deviceId,i=e.statLogs,a=t.call(this)||this;return a.method=Ee.POST,a.path="".concat(KH),a.params={device_id:r,log_entries:i.map((function(s){return $n.payloadify(s)}))},a}return k(n,t),n})(be),N9=(function(t){function n(e){var r=e.deviceId,i=e.cacheContext,a=e.requestQueue;return t.call(this,{deviceId:r,cacheContext:i,requestQueue:a})||this}return k(n,t),Object.defineProperty(n.prototype,"_isSendable",{get:function(){return this.queue.length!==0&&Date.now()-this.logInfo.lastFlushedAt>=this.statConfig.minInterval},enumerable:!1,configurable:!0}),n.prototype.init=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,t.prototype.init.call(this,e+".daily")];case 1:return r.sent(),this.queue=this.logInfo.statLogs.map((function(i){return new $n({type:i.stat_type,ts:i.ts,data:i.data})})),[2]}}))}))},n.prototype.setConfig=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this.statConfig=e,this.statConfig.minInterval=864e5,this._mergeQueue(),r.localCacheStat?(this.enabledState=r.enabledStat?dr.ENABLED:dr.COLLECT_ONLY,[3,3]):[3,1];case 1:return this.enabledState=dr.DISABLED,[4,this.clear()];case 2:c.sent(),c.label=3;case 3:return this.isEnabled&&this._isSendable?[4,this._getUploadStats()]:[3,9];case 4:i=c.sent(),a=Math.max(Math.floor(Math.random()*this.statConfig.requestDelayRange),100),s=0,c.label=5;case 5:return s<i.length?(l=i.slice(s,1+this.statConfig.maxStatCountPerRequest),[4,Ea(a)]):[3,9];case 6:return c.sent(),[4,this._flush(l)];case 7:c.sent(),c.label=8;case 8:return s+=this.statConfig.maxStatCountPerRequest,[3,5];case 9:return[2]}}))}))},n.prototype.put=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return this.enabledState===dr.DISABLED?[2,!0]:(r=this.enabledState===dr.PENDING||this.isFlushing?this.flushWaitQueue:this.queue,i=Ye(r.filter((function(c){return c instanceof O0&&c.key===e.key})),1),(a=i[0])?a.data=_x(a.data,e.data):r.push(e),this.enabledState===dr.PENDING?[3,2]:[4,this._save()]);case 1:l.sent(),l.label=2;case 2:return this.isEnabled?(this._mergeQueue(),this._isSendable?[4,this._getUploadStats()]:[3,5]):[3,5];case 3:return s=l.sent(),[4,this._flush(s)];case 4:return[2,l.sent()];case 5:return[2,!0]}}))}))},n.prototype._getUploadStats=function(){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){return e=this.queue.filter((function(i){if(i instanceof O0){var a=new Date,s=Ye([i.date.getFullYear(),a.getFullYear()],2),l=s[0],c=s[1];if(l<c)return!0;if(l===c){var d=Ye([i.date.getMonth(),a.getMonth()],2),f=d[0],v=d[1];if(f<v)return!0;if(f===v){var g=Ye([i.date.getDate(),a.getDate()],2);return g[0]<g[1]}}}return!1})),[2,e]}))}))},n.prototype._flush=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:if(r=!0,!(e.length>0))return[3,10];if(this.isFlushing)return[3,9];this.isFlushing=!0,l.label=1;case 1:return l.trys.push([1,4,8,9]),i=et([],Ye(e),!1).slice(0,Math.min(this.limit,this.statConfig.maxStatCountPerRequest)),a=new gx({deviceId:this.deviceId,statLogs:i}),[4,this.requestQueue.send(a)];case 2:return l.sent(),this.queue=et([],Ye(e),!1).slice(i.length).concat(this.flushWaitQueue),this.flushWaitQueue=[],this.limit=n2,this.logInfo.lastFlushedAt=Date.now(),[4,this._save()];case 3:return l.sent(),[3,9];case 4:return(s=l.sent())instanceof Z?s.code!==je.NON_AUTHORIZED?[3,6]:[4,this.clear()]:[3,7];case 5:return l.sent(),this.enabledState=dr.DISABLED,[3,7];case 6:s.code===je.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=dr.COLLECT_ONLY),l.label=7;case 7:return this.limit=this.limit+20,r=!1,[3,9];case 8:return this.isFlushing=!1,[7];case 9:return[3,11];case 10:this.isFlushing=!1,l.label=11;case 11:return[2,r]}}))}))},n})(d3),A9=(function(t){function n(e){var r=e.deviceId,i=e.cacheContext,a=e.requestQueue;return t.call(this,{deviceId:r,cacheContext:i,requestQueue:a})||this}return k(n,t),n.prototype._isSendable=function(e){if(e===void 0&&(e=!1),this.queue.length<this.statConfig.lowerThreshold)return!1;if(e){if(Date.now()-this.logInfo.lastFlushedAt<this.statConfig.minInterval)return!1}else if(this.queue.length<this.statConfig.minStatCount)return!1;return!0},n.prototype._filterQueueByType=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){return[2,r?e.filter((function(a){return a.type!==Mn.FEATURE_LOCALCACHE_EVENT})):e.filter((function(a){return a.type===Mn.FEATURE_LOCALCACHE_EVENT}))]}))}))},n.prototype.init=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,t.prototype.init.call(this,e+".default")];case 1:return r.sent(),this.queue=this.logInfo.statLogs.map((function(i){return i.data=q({message_init_policy:"",starting_point:0},i.data),new $n({type:i.stat_type,ts:i.ts,data:i.data})})),[2]}}))}))},n.prototype.setConfig=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this.statConfig=e,this._mergeQueue(),r.requestStat||r.localCacheStat?(this.enabledState=r.enabledStat?dr.ENABLED:dr.COLLECT_ONLY,i=void 0,r.requestStat||(i=!1),r.localCacheStat||(i=!0),i===void 0?[3,3]:(a=this,[4,this._filterQueueByType(this.queue,i)])):[3,4];case 1:return a.queue=c.sent(),s=this,[4,this._filterQueueByType(this.flushWaitQueue,i)];case 2:s.flushWaitQueue=c.sent(),this._save(),c.label=3;case 3:return[3,6];case 4:return this.enabledState=dr.DISABLED,[4,this.clear()];case 5:c.sent(),c.label=6;case 6:return this.isEnabled&&this._isSendable(!0)?(l=Math.max(Math.floor(Math.random()*this.statConfig.requestDelayRange),100),[4,Ea(l)]):[3,9];case 7:return c.sent(),[4,this._flush(this.queue)];case 8:c.sent(),c.label=9;case 9:return[2]}}))}))},n.prototype.put=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return this.enabledState===dr.DISABLED?[2,!0]:((r=this.enabledState===dr.PENDING||this.isFlushing?this.flushWaitQueue:this.queue).push(e),this.enabledState===dr.PENDING?[3,2]:[4,this._save()]);case 1:i.sent(),i.label=2;case 2:return this.isEnabled?(this._mergeQueue(),this._isSendable()?[4,this._flush(r)]:[3,4]):[3,4];case 3:return[2,i.sent()];case 4:return[2,!0]}}))}))},n.prototype._flush=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:if(r=!0,!(e.length>0))return[3,10];if(this.isFlushing)return[3,9];this.isFlushing=!0,l.label=1;case 1:return l.trys.push([1,4,8,9]),i=et([],Ye(e),!1).slice(0,Math.min(this.limit,this.statConfig.maxStatCountPerRequest)),a=new gx({deviceId:this.deviceId,statLogs:i}),[4,this.requestQueue.send(a)];case 2:return l.sent(),this.queue=et([],Ye(e),!1).slice(i.length).concat(this.flushWaitQueue),this.flushWaitQueue=[],this.limit=n2,this.logInfo.lastFlushedAt=Date.now(),[4,this._save()];case 3:return l.sent(),[3,9];case 4:return(s=l.sent())instanceof Z?s.code!==je.NON_AUTHORIZED?[3,6]:[4,this.clear()]:[3,7];case 5:return l.sent(),this.enabledState=dr.DISABLED,[3,7];case 6:s.code===je.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=dr.COLLECT_ONLY),l.label=7;case 7:return this.limit=this.limit+20,r=!1,[3,9];case 8:return this.isFlushing=!1,[7];case 9:return[3,11];case 10:this.isFlushing=!1,l.label=11;case 11:return[2,r]}}))}))},n})(d3),w9=(function(t){function n(e){var r=e.deviceId,i=e.statLogs,a=t.call(this)||this;return a.method=Ee.POST,a.path="".concat(YH),a.params={device_id:r,log_entries:i.map((function(s){return $n.payloadify(s)}))},a}return k(n,t),n})(be),I9=(function(t){function n(e){var r=e.deviceId,i=e.cacheContext,a=e.requestQueue;return t.call(this,{deviceId:r,cacheContext:i,requestQueue:a})||this}return k(n,t),Object.defineProperty(n.prototype,"_isSendable",{get:function(){return this.queue.length>=this.statConfig.minStatCount&&this.queue.length>this.statConfig.lowerThreshold||this.logInfo.lastFlushedAt>0&&Date.now()-this.logInfo.lastFlushedAt>=this.statConfig.minInterval},enumerable:!1,configurable:!0}),n.prototype.init=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,t.prototype.init.call(this,e+".realtime")];case 1:return r.sent(),this.queue=this.logInfo.statLogs.map((function(i){var a;return i.data=Pe(q(q({},i.data),{message_id:(a=i.data.notificationId)!==null&&a!==void 0?a:i.data.message_id,notificationId:void 0})),new $n({type:i.stat_type,ts:i.ts,data:i.data})})),this._sentLogStats=this.queue.map((function(i){var a;return{channelUrl:i.data.channelUrl,messageId:(a=i.data.notificationId)!==null&&a!==void 0?a:i.data.message_id,action:i.data.action}})),[2]}}))}))},n.prototype.setConfig=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return this.statConfig=e,this._mergeQueue(),r.notificationStat?(this.enabledState=r.enabledStat?dr.ENABLED:dr.COLLECT_ONLY,[3,3]):[3,1];case 1:return this.enabledState=dr.DISABLED,[4,this.clear()];case 2:a.sent(),a.label=3;case 3:return this.isEnabled&&this._isSendable?(i=Math.max(Math.floor(Math.random()*this.statConfig.requestDelayRange),100),[4,Ea(i)]):[3,6];case 4:return a.sent(),[4,this._flush(this.queue)];case 5:a.sent(),a.label=6;case 6:return[2]}}))}))},n.prototype.put=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return this.enabledState===dr.DISABLED?[2,!0]:(r=this.enabledState===dr.PENDING||this.isFlushing?this.flushWaitQueue:this.queue,this._isDuplicateStat(e)?[2,!0]:(r.push(e),this.enabledState===dr.PENDING?[3,2]:[4,this._save()]));case 1:i.sent(),i.label=2;case 2:return this.isEnabled?(this._mergeQueue(),this.isEnabled&&this._isSendable?[4,this._flush(r)]:[3,4]):[3,4];case 3:return[2,i.sent()];case 4:return[2,!0]}}))}))},n.prototype._flush=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:if(r=!0,!(e.length>0))return[3,10];if(this.isFlushing)return[3,9];this.isFlushing=!0,l.label=1;case 1:return l.trys.push([1,4,8,9]),i=et([],Ye(e),!1).slice(0,Math.min(this.limit,this.statConfig.maxStatCountPerRequest)),a=new w9({deviceId:this.deviceId,statLogs:i}),[4,this.requestQueue.send(a)];case 2:return l.sent(),this.queue=et([],Ye(e),!1).slice(i.length).concat(this.flushWaitQueue),this.flushWaitQueue=[],this.limit=n2,this.logInfo.lastFlushedAt=Date.now(),[4,this._save()];case 3:return l.sent(),[3,9];case 4:return(s=l.sent())instanceof Z?s.code!==je.NON_AUTHORIZED?[3,6]:[4,this.clear()]:[3,7];case 5:return l.sent(),this.enabledState=dr.DISABLED,[3,7];case 6:s.code===je.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=dr.COLLECT_ONLY),l.label=7;case 7:return this.limit=this.limit+20,r=!1,[3,9];case 8:return this.isFlushing=!1,[7];case 9:return[3,11];case 10:this.isFlushing=!1,l.label=11;case 11:return[2,r]}}))}))},n})(d3),M9=(function(){function t(n){var e=n.cacheContext,r=n.requestQueue,i=n.dispatcher,a=n.logger;this._collectRequestStat=!0,this._collectFeatureLocalCacheStat=!0,this._collectionNotificationStat=!0,this._retryCount=0,this.deviceId=wo(),this.cacheContext=e,this.requestQueue=r,this.dispatcher=i,this.logger=a,this._dailyStatCollector=new N9({deviceId:this.deviceId,cacheContext:this.cacheContext,requestQueue:this.requestQueue}),this._defaultStatCollector=new A9({deviceId:this.deviceId,cacheContext:this.cacheContext,requestQueue:this.requestQueue}),this._notificationStatCollector=new I9({deviceId:this.deviceId,cacheContext:this.cacheContext,requestQueue:this.requestQueue})}return t.prototype._migration=function(){return A(this,void 0,void 0,(function(){var n,e,r,i;return N(this,(function(a){switch(a.label){case 0:return[4,this.cacheContext.preference.get(this.key)];case 1:return(n=a.sent())?(e=[],n.statLogs.forEach((function(s){s.stat_type===Mn.FEATURE_LOCALCACHE&&e.push(new $n({type:s.stat_type,ts:s.ts,data:s.data}))})),[4,this.cacheContext.preference.set(this.key+".daily",{deviceId:n.deviceId,statLogs:e.map((function(s){return $n.payloadify(s)})),generation:n.generation,lastFlushedAt:n.lastFlushedAt})]):[3,6];case 2:return a.sent(),r=[],n.statLogs.forEach((function(s){s.stat_type!==Mn.FEATURE_LOCALCACHE&&s.stat_type!==Mn.NOTIFICATION&&(s.stat_type===Mn.FEATURE_LOCALCACHE_EVENT&&(s.data=q({message_init_policy:"",starting_point:0},s.data)),r.push(new $n({type:s.stat_type,ts:s.ts,data:s.data})))})),[4,this.cacheContext.preference.set(this.key+".default",{deviceId:n.deviceId,statLogs:r.map((function(s){return $n.payloadify(s)})),generation:n.generation,lastFlushedAt:n.lastFlushedAt})];case 3:return a.sent(),i=[],n.statLogs.forEach((function(s){var l;s.stat_type===Mn.NOTIFICATION&&(s.data=Pe(q(q({},s.data),{message_id:(l=s.data.notificationId)!==null&&l!==void 0?l:s.data.message_id,notificationId:void 0})),i.push(new $n({type:s.stat_type,ts:s.ts,data:s.data})))})),[4,this.cacheContext.preference.set(this.key+".realtime",{deviceId:n.deviceId,statLogs:i.map((function(s){return $n.payloadify(s)})),generation:n.generation,lastFlushedAt:n.lastFlushedAt})];case 4:return a.sent(),[4,this.cacheContext.preference.remove(this.key)];case 5:a.sent(),a.label=6;case 6:return[2]}}))}))},t.prototype.init=function(n){return A(this,void 0,void 0,(function(){var e=this;return N(this,(function(r){switch(r.label){case 0:return this.key=n,[4,this._migration()];case 1:return r.sent(),[4,this._dailyStatCollector.init(this.key)];case 2:return r.sent(),[4,this._defaultStatCollector.init(this.key)];case 3:return r.sent(),[4,this._notificationStatCollector.init(this.key)];case 4:return r.sent(),this.commandEventContext||(this.commandEventContext=this.dispatcher.on((function(i){return A(e,void 0,void 0,(function(){var a,s,l,c,d,f;return N(this,(function(v){return i instanceof Lc?(a=i.statLog,this.put(a)):i instanceof dx&&(s=i.request,l=i.features,c=i.options,d=i.statConfigInfo,this._retryCount=0,this._collectRequestStat=s,this._collectFeatureLocalCacheStat=l?.localCache,this._collectionNotificationStat=l?.notification,this._statConfig=d,this._dailyStatCollector.setConfig(this._statConfig.default,{localCacheStat:this._collectFeatureLocalCacheStat,enabledStat:c.ingestion}),this._defaultStatCollector.setConfig(this._statConfig.default,{requestStat:this._collectRequestStat,localCacheStat:this._collectFeatureLocalCacheStat,enabledStat:c.ingestion}),this._notificationStatCollector.setConfig((f=this._statConfig.realTime)!==null&&f!==void 0?f:this._statConfig.default,{notificationStat:this._collectionNotificationStat,enabledStat:c.ingestion})),[2]}))}))}))),[2]}}))}))},t.prototype.put=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return e=!0,n instanceof O0?this._collectFeatureLocalCacheStat?[4,this._dailyStatCollector.put(n)]:[3,2]:[3,3];case 1:e=r.sent(),r.label=2;case 2:return[3,13];case 3:switch(n.type){case Mn.API_RESULT:case Mn.WEBSOCKET_CONNECT:case Mn.WEBSOCKET_DISCONNECT:return[3,4];case Mn.FEATURE_LOCALCACHE:case Mn.FEATURE_LOCALCACHE_EVENT:return[3,7];case Mn.NOTIFICATION:return[3,10]}return[3,13];case 4:return this._collectRequestStat?[4,this._defaultStatCollector.put(n)]:[3,6];case 5:e=r.sent(),r.label=6;case 6:return[3,13];case 7:return this._collectFeatureLocalCacheStat?[4,this._defaultStatCollector.put(n)]:[3,9];case 8:e=r.sent(),r.label=9;case 9:return[3,13];case 10:return this._collectionNotificationStat?[4,this._notificationStatCollector.put(n)]:[3,12];case 11:e=r.sent(),r.label=12;case 12:return[3,13];case 13:return e?this._retryCount=0:(this._retryCount++,this._retryCount>20&&(this._dailyStatCollector.enabledState=dr.COLLECT_ONLY,this._defaultStatCollector.enabledState=dr.COLLECT_ONLY,this._notificationStatCollector.enabledState=dr.COLLECT_ONLY,this.logger.debug(Z.statLogUploadLimitExceededError))),[2]}}))}))},t.prototype.close=function(){this.commandEventContext&&(this.commandEventContext.close(),this.commandEventContext=void 0)},t})(),O9=(function(){function t(n){var e=n.limit,r=e===void 0?5:e;this.workersByKey={},this.limit=r}return t.prototype.run=function(n,e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return this.workersByKey[n]||(this.workersByKey[n]=[]),this.workersByKey[n].length<this.limit?(this.workersByKey[n].push(e),[4,e()]):[3,2];case 1:return r=i.sent(),this.workersByKey[n].pop(),[2,r];case 2:throw Z.tooManyRequests}}))}))},t.prototype.clear=function(n){this.workersByKey[n]=[]},t})();(function(t){t.DELIVERY_RECEIPT="delivery_receipt",t.PUSH_ACKNOWLEDGEMENT="push_acknowledgement"})(v1||(v1={}));var ve,R9=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._pushAckedCache={},e}return k(n,t),n.prototype.isAcked=function(e,r){var i,a="".concat(e,"_").concat(r);return(i=this._pushAckedCache[a])!==null&&i!==void 0&&i},n.prototype.markAsAcked=function(e,r){var i="".concat(e,"_").concat(r);this._pushAckedCache[i]=!0},n.prototype.clear=function(){j.of(this._iid).logger.debug("clear push acked cache"),this._pushAckedCache={}},n.prototype.parseData=function(e){var r,i,a,s,l=j.of(this._iid).logger,c=e.sendbird;if(typeof c=="string")try{c=JSON.parse(c)}catch{throw l.info("push notification payload does not contain sendbird payload in JSON format."),Z.malformedDataError}if(!c||typeof c!="object")throw l.info("push notification payload does not contain sendbird payload in JSON format."),Z.malformedDataError;var d=(r=c.push_tracking_id)!==null&&r!==void 0?r:"",f=c.notification_message_id,v=c.notification_channel_key,g=c.notification_template_key,y=c.notification_event_deadline,b=(i=c.session_key)!==null&&i!==void 0?i:{},C=(a=b?.key)!==null&&a!==void 0?a:"",w=(s=b?.topics)!==null&&s!==void 0?s:[];if(typeof d!="string"||d.length===0)throw l.info("push tracking id is not available"),Z.malformedDataError;if(typeof f!="string"||f.length===0)throw l.info("message id is not available"),Z.malformedDataError;return{pushTrackingId:d,sessionKey:C,sessionTopics:w,messageId:f,channelKey:v,templateKey:g,notificationEventDeadline:y}},n})(ti),fv=function(t){this.name=t.name,this._custom=t.custom,this._usedByModerationEngine=t.used_by_moderation_engine},D9=(function(t){function n(){var e=t.call(this)||this;return e.method=Ee.GET,e.path=XH,e}return k(n,t),n})(be),x9=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.reportCategories=r.categories,i}return k(n,t),n})(we),L9=(function(t){function n(e){var r=t.call(this,e)||this;return r._categories=[],r}return k(n,t),n.prototype.categories=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this._categories.length!==0?[3,2]:[4,this._fetchCategories()];case 1:e.sent(),e.label=2;case 2:return[2,this._categories]}}))}))},n.prototype._fetchCategories=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return e=j.of(this._iid).requestQueue,r=new D9,[4,e.send(r)];case 1:return i=l.sent(),(a=i.as(x9).reportCategories)&&(s=this._categories).push.apply(s,et([],Ye(a.map((function(c){return new fv(c)}))),!1)),[2]}}))}))},n})(ti),U9=(function(){function t(){this._enabledRequestDedup=!0,this._requestCache=new Map,this._requestDedupInterval=500}return Object.defineProperty(t.prototype,"requestDedupInterval",{set:function(n){this._requestDedupInterval=n,this._requestDedupInterval<=0?this._enabledRequestDedup=!1:n<50&&(this._requestDedupInterval=50)},enumerable:!1,configurable:!0}),t.prototype.normalizePath=function(n){return n.replace("/v3/sdk/","/v3/")},t.prototype._generateCacheKey=function(n){var e=n.path,r=n.time,i=n.params,a=this.normalizePath(e),s=i?Object.entries(i).sort((function(c,d){var f=Ye(c,1)[0],v=Ye(d,1)[0];return f.localeCompare(v)})).map((function(c){var d=Ye(c,2),f=d[0],v=d[1];return"".concat(f,"=").concat(JSON.stringify(v))})).join("&"):"",l=r?"_".concat(r):"";return"".concat(a,"?").concat(s).concat(l)},t.prototype.requestGetChannel=function(n,e,r,i){var a,s,l=this;if(i===void 0&&(i=!0),!this._enabledRequestDedup)return e();var c=Date.now(),d=this._generateCacheKey({path:n,params:r});if(i)try{for(var f=De(this._requestCache.entries()),v=f.next();!v.done;v=f.next()){var g=Ye(v.value,2),y=g[0],b=g[1];if(y.startsWith(d)&&c-b.requestTime<=this._requestDedupInterval)return b.pendingResponse?Promise.resolve(b.pendingResponse):b.promise}}catch(M){a={error:M}}finally{try{v&&!v.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}var C=i?this._generateCacheKey({path:n,time:c,params:r}):d,w=e().then((function(M){var R=l._requestCache.get(C);return R&&(R.pendingResponse=M,R.responseTime=Date.now()),Promise.resolve(M)})).catch((function(M){return Promise.reject(M)})).finally((function(){setTimeout((function(){l._requestCache.delete(C)}),l._requestDedupInterval)})),I={requestTime:c,responseTime:null,promise:w,pendingResponse:null};return this._requestCache.set(C,I),w},t.prototype.updatePendingResponse=function(n,e){var r,i;try{for(var a=De(this._requestCache.entries()),s=a.next();!s.done;s=a.next()){var l=Ye(s.value,2),c=l[0],d=l[1];if(c.includes(n.url)&&d.pendingResponse&&d.responseTime<e){var f=d.pendingResponse.payload,v=n.constructor.payloadify(n,!0),g=q(q({},f),v);d.pendingResponse=new we(n._iid,g);break}}}catch(y){r={error:y}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t})(),Pf={},j=(function(){function t(n,e){var r,i,a,s,l,c,d,f,v;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!Pf[n]){Pf[n]=this;var g=(r=e.options)!==null&&r!==void 0?r:new O4,y=this.sdkState={appId:e.appId,appVersion:(i=e.appVersion)!==null&&i!==void 0?i:"",appState:"foreground",userId:void 0,extensions:{},api:{host:(a=e.apiHost)!==null&&a!==void 0?a:"https://api-".concat(e.appId,".sendbird.com")},websocket:{host:(s=e.websocketHost)!==null&&s!==void 0?s:"wss://ws-".concat(e.appId,".sendbird.com"),pingerDisabled:!!e.noPingpong,pingInterval:void 0,pongTimeout:void 0,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new fx,responseTimeout:g.websocketResponseTimeout},sessionTokenRefreshTimeout:g.sessionTokenRefreshTimeout};this.appInfo=void 0,this.subscribedUnreadMessageCount={all:0,feed:0,customTypes:{},ts:0};var b=this.logger=e.logger;this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,typeof e.localCacheEnabled=="string"&&(e.localCacheEnabled=e.localCacheEnabled==="true");var C=this.cacheContext=new kH({encryption:e.encryption,store:e.store,localCacheEnabled:(l=e.localCacheEnabled)!==null&&l!==void 0&&l,localCacheConfig:(c=e.localCacheConfig)!==null&&c!==void 0?c:new D4});this.debugMode=(d=e.debugMode)!==null&&d!==void 0&&d,this.maxSuperGroupChannelUnreadCount=fh.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=g.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=g.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=g.typingIndicatorThrottle,this.concurrentCallLimit=void 0,this.backOffDelay=void 0;var w=this.dispatcher=new HH,I=new FH;this.requestQueue=new C9(n,{session:I,sdkState:y,dispatcher:w,logger:b,useFetchCompat:e.useFetchCompat}),this.pushNotificationAckManager=new R9(n),this.sessionManager=new S9({_iid:n,session:I,cacheContext:C,sdkState:y,dispatcher:w,requestQueue:this.requestQueue,logger:b,pushNotificationAckManager:this.pushNotificationAckManager}),this.connectionManager=new _9(n,{sdkState:y,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:w,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(f=e.disableWebSocketCloseEventHandling)!==null&&f!==void 0&&f,logger:b}),this.statManager=new M9({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:this.dispatcher,logger:b}),this.appStateToggleEnabled=(v=e.appStateToggleEnabled)===null||v===void 0||v,this.messageBackgroundSyncThrottleController=new O9({limit:5}),this.reportCategoryManager=new L9(n),this.requestDeduplicator=new U9}return Pf[n]}return t.of=function(n){if(Pf[n])return Pf[n];throw Z.lostInstance},t.clear=function(n){Pf[n]&&delete Pf[n]},t.prototype.hasExtension=function(n){return this.sdkState.extensions&&this.sdkState.extensions[n]},t})(),r2=(function(){function t(){}return t.prototype.init=function(n,e){var r=e.sdkState,i=e.dispatcher,a=e.sessionManager,s=e.requestQueue,l=e.logger;e.onlineDetector;var c=e.cacheContext;this._iid=n,this._cacheContext=c,this._sdkState=r,this._dispatcher=i,this._sessionManager=a,this._requestQueue=s,this._logger=l},t})();(function(t){t.UNKNOWN="UNKNOWN",t.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",t.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",t.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",t.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",t.EVENT_CHANNEL_UNREAD="EVENT_CHANNEL_UNREAD",t.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",t.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",t.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",t.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",t.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",t.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",t.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",t.EVENT_CHANNEL_BANNED="EVENT_CHANNEL_BANNED",t.EVENT_CHANNEL_UNBANNED="EVENT_CHANNEL_UNBANNED",t.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",t.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",t.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",t.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",t.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",t.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",t.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",t.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",t.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",t.EVENT_CHANNEL_METADATA_CREATED="EVENT_CHANNEL_METADATA_CREATED",t.EVENT_CHANNEL_METADATA_UPDATED="EVENT_CHANNEL_METADATA_UPDATED",t.EVENT_CHANNEL_METADATA_DELETED="EVENT_CHANNEL_METADATA_DELETED",t.EVENT_CHANNEL_METACOUNTER_CREATED="EVENT_CHANNEL_METACOUNTER_CREATED",t.EVENT_CHANNEL_METACOUNTER_UPDATED="EVENT_CHANNEL_METACOUNTER_UPDATED",t.EVENT_CHANNEL_METACOUNTER_DELETED="EVENT_CHANNEL_METACOUNTER_DELETED",t.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",t.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",t.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",t.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",t.REQUEST_CHANNEL="REQUEST_CHANNEL",t.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",t.REFRESH_CHANNEL="REFRESH_CHANNEL",t.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",t.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",t.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS",t.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",t.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",t.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",t.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",t.EVENT_MESSAGE_FEEDBACK_ADDED="EVENT_MESSAGE_FEEDBACK_ADDED",t.EVENT_MESSAGE_FEEDBACK_UPDATED="EVENT_MESSAGE_FEEDBACK_UPDATED",t.EVENT_MESSAGE_FEEDBACK_DELETED="EVENT_MESSAGE_FEEDBACK_DELETED",t.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",t.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",t.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",t.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",t.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",t.REQUEST_MESSAGE="REQUEST_MESSAGE",t.EVENT_THREAD_INFO_UPDATED="EVENT_THREADINFO_UPDATED",t.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",t.EVENT_POLL_VOTED="EVENT_POLL_VOTED",t.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",t.EVENT_CHANNEL_CSAT_SUBMITTED="EVENT_CHANNEL_CSAT_SUBMITTED",t.EVENT_CHANNEL_CONVERSATION_HANDEDOFF="EVENT_CHANNEL_CONVERSATION_HANDEDOFF",t.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",t.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",t.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",t.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",t.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",t.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",t.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",t.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",t.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",t.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(ve||(ve={}));var Tv;q({},ve);var wc=function(t){return t.startsWith("EVENT_")||t.startsWith("LOCAL_MESSAGE_")||t===ve.SYNC_MESSAGE_FILL||t===ve.SYNC_MESSAGE_CHANGELOGS||t===ve.SYNC_POLL_CHANGELOGS},cr=(function(t){function n(e){var r=e.messages,i=e.source,a=e.isWebSocketEventComing,s=a!==void 0&&a,l=t.call(this)||this;return l.messages=r,l.source=i,l.isWebSocketEventComing=s,l}return k(n,t),n})(xn),h3=(function(t){function n(e){var r=e.messageIds,i=e.source,a=e.isWebSocketEventComing,s=a!==void 0&&a,l=t.call(this)||this;return l.messageIds=r,l.source=i,l.isWebSocketEventComing=s,l}return k(n,t),n})(xn),yx=(function(t){function n(e){var r=e.messageDeletionTimestamp,i=e.channelUrl,a=e.source,s=t.call(this)||this;return s.messageDeletionTimestamp=r,s.channelUrl=i,s.source=a,s}return k(n,t),n})(xn),Ex=(function(t){function n(e){var r=e.event,i=e.source,a=e.isWebSocketEventComing,s=a!==void 0&&a,l=t.call(this)||this;return l.event=r,l.source=i,l.isWebSocketEventComing=s,l}return k(n,t),n})(xn),bx=(function(t){function n(e){var r=e.event,i=e.source,a=e.isWebSocketEventComing,s=a!==void 0&&a,l=t.call(this)||this;return l.event=r,l.source=i,l.isWebSocketEventComing=s,l}return k(n,t),n})(xn),Tx=(function(t){function n(e){var r=e.reqId,i=e.source,a=t.call(this)||this;return a.reqId=r,a.source=i,a}return k(n,t),n})(xn),Cx=(function(t){function n(e){var r=e.polls,i=e.source,a=t.call(this)||this;return a.polls=r,a.source=i,a}return k(n,t),n})(xn),f3=(function(t){function n(e){var r=e.event,i=e.source,a=t.call(this)||this;return a.event=r,a.source=i,a}return k(n,t),n})(xn),i2=(function(t){function n(e){var r=e.event,i=e.source,a=t.call(this)||this;return a.event=r,a.source=i,a}return k(n,t),n})(xn);(function(t){t.OPEN="open",t.CLOSED="closed"})(Tv||(Tv={}));var Sx="removed",CS=function(t){switch(t){case"open":return Tv.OPEN;case"closed":return Tv.CLOSED;default:return null}},Nx=function(t){return!t||!!t.text&&W("string",t.text)},zb=(function(t){function n(e,r){var i,a,s,l,c,d,f,v=this;return(v=t.call(this,e)||this).pollId=0,v.id=0,v.text=null,v.voteCount=0,v.createdBy=null,v.createdAt=0,v.updatedAt=0,v._lastVotedAt=0,v.pollId=(i=r.poll_id)!==null&&i!==void 0?i:0,v.id=(a=r.id)!==null&&a!==void 0?a:0,v.text=(s=r.text)!==null&&s!==void 0?s:null,v.voteCount=(l=r.vote_count)!==null&&l!==void 0?l:0,v.createdBy=(c=r.created_by)!==null&&c!==void 0?c:null,v.createdAt=(d=r.created_at)!==null&&d!==void 0?d:0,v.updatedAt=(f=r.updated_at)!==null&&f!==void 0?f:0,v}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{vote_count:e.voteCount,poll_id:e.pollId,text:e.text,created_at:e.createdAt,id:e.id,created_by:e.createdBy,updated_at:e.updatedAt})))},n})(ti),al=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y,b,C,w,I=this;return(I=t.call(this,e)||this).id=0,I.title=null,I.createdAt=0,I.updatedAt=0,I.closeAt=-1,I.status=Tv.CLOSED,I.messageId=0,I.data=null,I.voterCount=-1,I.options=[],I.createdBy=null,I.allowUserSuggestion=!1,I.allowMultipleVotes=!1,I.votedPollOptionIds=[],I.id=(i=r.id)!==null&&i!==void 0?i:0,I.title=(a=r.title)!==null&&a!==void 0?a:null,I.createdAt=(s=r.created_at)!==null&&s!==void 0?s:0,I.updatedAt=(l=r.updated_at)!==null&&l!==void 0?l:0,I.closeAt=(c=r.close_at)!==null&&c!==void 0?c:-1,I.status=(d=CS(r.status))!==null&&d!==void 0?d:Tv.CLOSED,I.messageId=(f=r.message_id)!==null&&f!==void 0?f:0,I.data=(v=r.data)!==null&&v!==void 0?v:null,I.voterCount=(g=r.voter_count)!==null&&g!==void 0?g:-1,I.options=r.options?r.options.map((function(M){return new zb(I._iid,M)})):[],I.createdBy=(y=r.created_by)!==null&&y!==void 0?y:null,I.allowUserSuggestion=(b=r.allow_user_suggestion)!==null&&b!==void 0&&b,I.allowMultipleVotes=(C=r.allow_multiple_votes)!==null&&C!==void 0&&C,I.votedPollOptionIds=(w=r.voted_option_ids)!==null&&w!==void 0?w:[],I}return k(n,t),n.prototype._applyPollUpdatePayload=function(e){var r,i,a,s,l,c,d,f,v=this;this.title=(r=e.title)!==null&&r!==void 0?r:this.title,this.updatedAt=(i=e.updated_at)!==null&&i!==void 0?i:this.updatedAt,this.closeAt=(a=e.close_at)!==null&&a!==void 0?a:this.closeAt,this.status=(s=CS(e.status))!==null&&s!==void 0?s:this.status,this.data=(l=e.data)!==null&&l!==void 0?l:this.data,this.voterCount=(c=e.voter_count)!==null&&c!==void 0?c:this.voterCount,e.options&&(this.options=e.options.map((function(g){return new zb(v._iid,g)})),this.votedPollOptionIds=e.options.filter((function(g){return g.vote_count>0})).map((function(g){return g.id}))),this.allowUserSuggestion=(d=e.allow_user_suggestion)!==null&&d!==void 0?d:this.allowUserSuggestion,this.allowMultipleVotes=(f=e.allow_multiple_votes)!==null&&f!==void 0?f:this.allowMultipleVotes},n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{id:e.id,title:e.title,created_at:e.createdAt,updated_at:e.updatedAt,close_at:e.closeAt,status:e.status,message_id:e.messageId,data:e.data,voter_count:e.voterCount,options:e.options.map((function(r){return zb.payloadify(r)})),created_by:e.createdBy,allow_user_suggestion:e.allowUserSuggestion,allow_multiple_votes:e.allowMultipleVotes,voted_option_ids:e.votedPollOptionIds})))},n.prototype.applyPollUpdateEvent=function(e){var r=e._payload.poll;return!(!r||this.id!==r.id||r.updated_at<this.updatedAt)&&(this._applyPollUpdatePayload(r),!0)},n.prototype.applyPollVoteEvent=function(e){if(this.id!==e.pollId)return!1;var r=this.options,i=r.map((function(l){return l.id})),a=e._payload,s=Math.floor(a.ts/1e3);return a.updated_vote_counts.forEach((function(l){var c=i.indexOf(l.option_id);if(c>-1){var d=r[c];s>=d._lastVotedAt&&(d.voteCount=l.vote_count,d._lastVotedAt=s)}})),a.req_id&&a.voted_option_ids&&(this.votedPollOptionIds=a.voted_option_ids),typeof a.voter_count=="number"&&(this.voterCount=a.voter_count),!0},n.prototype.serialize=function(){return Dv(this)},n})(ti),Wc=(function(){function t(n,e){var r;this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=n,this.limit=(r=e.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(t.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),t.prototype._validate=function(){return W("number",this.limit)&&this.limit>0},t})(),Ku=(function(t){function n(e,r,i,a){var s=t.call(this,e,a)||this;return s.channelUrl=r,s.channelType=i,s}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("string",this.channelUrl)&&wt(Lt,this.channelType)},n})(Wc),k9=function(t){this.pollId=0,this.messageId=0,this.pollId=t.poll_id,this.messageId=t.message_id,this._payload=t},P9=(function(t){function n(e){var r=e.title,i=e.optionTexts,a=e.data,s=e.allowUserSuggestion,l=e.allowMultipleVotes,c=e.closeAt,d=t.call(this)||this;return d.method=Ee.POST,d.path=Xl,d.params={title:r,options:i,data:a,allow_user_suggestion:s,allow_multiple_votes:l,close_at:c},d}return k(n,t),n})(be),F9=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.poll=new al(e,r),i}return k(n,t),n})(we),H9=(function(t){function n(e){var r=e.channelUrl,i=e.channelType,a=e.pollId,s=t.call(this)||this;return s.method=Ee.GET,s.path="".concat(Xl,"/").concat(encodeURIComponent(a)),s.params={channel_url:r,channel_type:i},s}return k(n,t),n})(be),B9=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.poll=new al(e,r),i}return k(n,t),n})(we),G9=(function(t){function n(e){var r=e.channelUrl,i=e.channelType,a=e.pollId,s=e.pollOptionId,l=t.call(this)||this;return l.method=Ee.GET,l.path="".concat(Xl,"/").concat(encodeURIComponent(a),"/options/").concat(encodeURIComponent(s)),l.params={channel_url:r,channel_type:i},l}return k(n,t),n})(be),z9=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.pollOption=new zb(e,r),i}return k(n,t),n})(we),V9=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.timestamp,s=e.token,l=t.call(this)||this;return l.method=Ee.GET,l.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/polls/changelogs"),l.params=Pe({change_ts:a,token:s}),l}return k(n,t),n})(be),q9=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.updatedPolls=r.updated.map((function(a){return(function(s,l){return new al(s,l)})(e,a)})),i.deletedPollIds=r.deleted.map((function(a){return a})),i.hasMore=r.has_more,i.nextToken=r.next,i}return k(n,t),n})(we),j9={title:"",optionTexts:[],data:void 0,allowUserSuggestion:void 0,allowMultipleVotes:void 0,closeAt:-1},Ax=function(t){return W("string",t.title)&&(n=t.optionTexts,It("string",n)&&n.every((function(e){return e.trim()!==""})))&&Nx(t.data)&&W("boolean",t.allowUserSuggestion,!0)&&W("boolean",t.allowMultipleVotes,!0)&&W("number",t.closeAt,!0);var n},$9={channelUrl:"",channelType:Lt.BASE,pollId:0,pollOptionId:0},wx=function(t){return W("string",t.channelUrl)&&t.channelUrl!==""&&wt(Lt,t.channelType)&&W("number",t.pollId)&&t.pollId>0&&W("number",t.pollOptionId)&&t.pollOptionId>0},K9={channelUrl:"",channelType:Lt.BASE,pollId:0},Ix=function(t){return W("string",t.channelUrl)&&t.channelUrl!==""&&wt(Lt,t.channelType)&&W("number",t.pollId)},ZI={},_1=(function(){function t(n,e){var r=e.sdkState,i=e.dispatcher,a=e.sessionManager,s=e.requestQueue,l=e.logger;this._iid=n,this._sdkState=r,this._sessionManager=a,this._requestQueue=s,this._dispatcher=i,this._logger=l,ZI[n]=this}return t.of=function(n){return ZI[n]},t.prototype.buildPollFromSerializedData=function(n){var e=Pc(n);return new al(this._iid,al.payloadify(e))},t.prototype.get=function(n){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return Ne(Ix(n)).throw(Z.invalidParameters),e=new H9(q({},n)),[4,this._requestQueue.send(e)];case 1:return r=i.sent(),[2,r.as(B9).poll]}}))}))},t.prototype.create=function(n){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return Ne(Ax(n)).throw(Z.invalidParameters),e=new P9(q({},n)),[4,this._requestQueue.send(e)];case 1:return r=i.sent(),[2,r.as(F9).poll]}}))}))},t.prototype.getOption=function(n){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return Ne(wx(n)).throw(Z.invalidParameters),e=new G9(q({},n)),[4,this._requestQueue.send(e)];case 1:return r=i.sent(),[2,r.as(z9).pollOption]}}))}))},t.prototype.getPollChangeLogs=function(n,e,r,i){return i===void 0&&(i=ve.SYNC_POLL_CHANGELOGS),A(this,void 0,void 0,(function(){var a,s,l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:return a=new V9(We({channelType:e,channelUrl:n,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null})),[4,this._requestQueue.send(a)];case 1:return s=g.sent(),l=s.as(q9),c=l.updatedPolls,d=l.deletedPollIds,f=l.hasMore,v=l.nextToken,c.length>0&&this._dispatcher.dispatch(new Cx({polls:c,source:i})),[2,{updatedPolls:c,deletedPollIds:d,hasMore:f,token:v}]}}))}))},t})(),Y9=(function(t){function n(e){var r=e.channelUrl,i=e.channelType,a=e.token,s=e.limit,l=t.call(this)||this;return l.method=Ee.GET,l.path=Xl,l.params={channel_url:r,channel_type:i,token:a,limit:s},l}return k(n,t),n})(be),W9=(function(t){function n(e,r){var i,a=this;return(a=t.call(this,e,r)||this).polls=((i=r.polls)!==null&&i!==void 0?i:[]).map((function(s){return new al(e,s)})),a.token=r.next,a}return k(n,t),n})(we),Mx=(function(t){function n(e,r){return t.call(this,e,r.channelUrl,r.channelType,r)||this}return k(n,t),n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new Y9(q(q({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(W9),s=a.polls,l=a.token,this._token=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),Q9=(function(t){function n(e){var r=e.channelUrl,i=e.channelType,a=e.pollId,s=e.pollOptionId,l=e.token,c=e.limit,d=t.call(this)||this;return d.method=Ee.GET,d.path="".concat(Xl,"/").concat(encodeURIComponent(a),"/options/").concat(encodeURIComponent(s),"/voters"),d.params={channel_url:r,channel_type:i,token:l,limit:c},d}return k(n,t),n})(be),X9=(function(t){function n(e,r){var i,a=this;return(a=t.call(this,e,r)||this).voters=((i=r.voters)!==null&&i!==void 0?i:[]).map((function(s){return new Mt(e,s)})),a.token=r.next,a}return k(n,t),n})(we),Ox=(function(t){function n(e,r){var i=t.call(this,e,r.channelUrl,r.channelType,r)||this;return i.pollId=r.pollId,i.pollOptionId=r.pollOptionId,i}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("number",this.pollId)&&W("number",this.pollOptionId)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new Q9(q(q({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(X9),s=a.voters,l=a.token,this._token=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),yp,Qc=(function(){function t(n,e,r){var i,a;this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this._requireAuth=!1,this._iid=n,this.plainUrl=e.url,this.width=e.width,this.height=e.height,this.realWidth=(i=e.real_width)!==null&&i!==void 0?i:e.width,this.realHeight=(a=e.real_height)!==null&&a!==void 0?a:e.height,this._requireAuth=r}return t.payloadify=function(n){return Pe(We(n instanceof t?{url:n.plainUrl,width:n.width,height:n.height,real_width:n.realWidth,real_height:n.realHeight}:{url:"",width:n.maxWidth,height:n.maxHeight,real_width:0,real_height:0}))},Object.defineProperty(t.prototype,"url",{get:function(){var n=j.of(this._iid).sessionManager;return this._requireAuth&&n.ekey?"".concat(this.plainUrl,"?auth=").concat(n.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t})(),g1=(function(t){function n(e){var r=t.call(this)||this;if(r.method=Ee.POST,r.path="".concat(GH),r.params=Pe({file:e.file,channel_url:e.channelUrl}),e.thumbnailSizes)for(var i=0;i<e.thumbnailSizes.length;i++){var a=e.thumbnailSizes[i],s=a.maxWidth,l=a.maxHeight;r.params["thumbnail".concat(i+1)]="".concat(s,",").concat(l)}return r.requestId=e.requestId,r}return k(n,t),n})(be),y1=(function(t){function n(e,r){var i,a,s,l,c=this;return(c=t.call(this,e,r)||this).url=r.url,c.fileSize=(i=r.file_size)!==null&&i!==void 0?i:0,c.thumbnails=(s=(a=r.thumbnails)===null||a===void 0?void 0:a.map((function(d){return new Qc(e,d,!1)})))!==null&&s!==void 0?s:[],c.requireAuth=(l=r.require_auth)!==null&&l!==void 0&&l,c}return k(n,t),n})(we),E1=(function(t){function n(e,r){var i,a,s,l,c,d=this;return(d=t.call(this,e)||this).replyCount=0,d.memberCount=0,d.lastRepliedAt=0,d.updatedAt=0,d.replyCount=(i=r.reply_count)!==null&&i!==void 0?i:0,d.memberCount=(a=r.member_count)!==null&&a!==void 0?a:0,d.mostRepliedUsers=r.most_replies&&It("object",r.most_replies)?r.most_replies.map((function(f){return new Mt(d._iid,f)})):[],d.unreadReplyCount=(s=r.unread_message_count)!==null&&s!==void 0?s:0,d.isPushNotificationEnabled=typeof r.push_enabled=="number"?r.push_enabled>0:void 0,d.lastRepliedAt=(l=r.last_replied_at)!==null&&l!==void 0?l:0,d.updatedAt=(c=r.updated_at)!==null&&c!==void 0?c:0,d}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{reply_count:e.replyCount,unread_message_count:e.unreadReplyCount,member_count:e.memberCount,most_replies:Array.isArray(e.mostRepliedUsers)?e.mostRepliedUsers.map((function(r){return Mt.payloadify(r)})):[],push_enabled:typeof e.isPushNotificationEnabled=="boolean"?e.isPushNotificationEnabled?1:0:void 0,last_replied_at:e.lastRepliedAt,updated_at:e.updatedAt})))},Object.defineProperty(n.prototype,"_isUpdateRequired",{get:function(){return this.unreadReplyCount===void 0||this.isPushNotificationEnabled===void 0},enumerable:!1,configurable:!0}),n.prototype._updateFrom=function(e){var r,i;this.unreadReplyCount=(r=e.unreadReplyCount)!==null&&r!==void 0?r:this.unreadReplyCount,this.isPushNotificationEnabled=(i=e.isPushNotificationEnabled)!==null&&i!==void 0?i:this.isPushNotificationEnabled},n})(ti);(function(t){t.ADD="add",t.DELETE="delete"})(yp||(yp={}));var JI,p3=function(t){var n;this.messageId=0,this.operation=null,this.updatedAt=0;var e=W("string",t.msg_id)?parseInt(t.msg_id):t.msg_id,r=t.user_id,i=t.operation?t.operation.toLowerCase():null,a=t.reaction,s=t.updated_at,l=t.count,c=t.sampled_user_ids,d=(n=t.sampled_user_info)!==null&&n!==void 0?n:{};e&&W("string",r)&&W("string",i)&&wt(yp,i)&&W("string",a)&&a&&W("number",s)&&(this.messageId=e,this.userId=r,this.key=a,this.operation=i,this.updatedAt=s,this._count=l,this._sampledUserIds=c,this._sampledUserInfoList=d)},oC=(function(t){function n(e,r,i){var a,s=this;return(s=t.call(this,e)||this).userId=r,s.nickname=i.nickname,s.plainProfileUrl=i.profile_url,s.requireAuth=(a=i.require_auth_for_profile_image)!==null&&a!==void 0&&a,s}return k(n,t),Object.defineProperty(n.prototype,"profileUrl",{get:function(){var e=j.of(this._iid).sessionManager;return this.requireAuth&&e.ekey?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),n.payloadify=function(e){return{nickname:e.nickname,profile_url:e.plainProfileUrl,require_auth_for_profile_image:e.requireAuth}},n})(ti),wg=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y=this;(y=t.call(this,e)||this)._sampledUserInfoList=[],y._count=0,y._hasCurrentUserReacted=!1;var b=r.key,C=et([],Ye((l=(s=r.sampled_user_ids)!==null&&s!==void 0?s:r.user_ids)!==null&&l!==void 0?l:[]),!1),w=(d=(c=r.last_ts)!==null&&c!==void 0?c:r.updated_at)!==null&&d!==void 0?d:0,I=(f=r.is_self_included)!==null&&f!==void 0?f:C.includes(j.of(e).sdkState.userId),M=(v=r.sampled_user_info)!==null&&v!==void 0?v:{};W("string",b)&&b&&It("string",C)&&C.length>0&&W("number",w)&&(y.key=b,y._sampledUserIds=C,y._updatedAt=w,y._count=(g=r.count)!==null&&g!==void 0?g:C.length,y._hasCurrentUserReacted=I,Object.keys(M).forEach((function(P){y._sampledUserInfoList.push(new oC(e,P,M[P]))})));var R={};try{for(var U=De(y.sampledUserIds),H=U.next();!H.done;H=U.next())R[H.value]=y.updatedAt}catch(P){i={error:P}}finally{try{H&&!H.done&&(a=U.return)&&a.call(U)}finally{if(i)throw i.error}}return y._version=R,y}return k(n,t),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._count===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"userIds",{get:function(){return this._sampledUserIds},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sampledUserIds",{get:function(){return this._sampledUserIds},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sampledUserInfoList",{get:function(){return this._sampledUserInfoList},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"updatedAt",{get:function(){return this._updatedAt},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasCurrentUserReacted",{get:function(){return this._hasCurrentUserReacted},enumerable:!1,configurable:!0}),n.payloadify=function(e){var r={};return e._sampledUserInfoList.forEach((function(i){r[i.userId]=oC.payloadify(i)})),Pe(We({key:e.key,sampled_user_ids:e._sampledUserIds,sampled_user_info:r,count:e._count,is_self_included:e._hasCurrentUserReacted,last_ts:e._updatedAt}))},n.prototype.applyEvent=function(e){var r=this;if(e.key===this.key&&this.updatedAt<=e.updatedAt)if(e._sampledUserIds)this._sampledUserIds=e._sampledUserIds,this._sampledUserInfoList=[],Object.keys(e._sampledUserInfoList).forEach((function(a){r._sampledUserInfoList.push(new oC(r._iid,a,e._sampledUserInfoList[a]))})),this._count=e._count,e._hasCurrentUserReacted!==void 0&&(this._hasCurrentUserReacted=e._hasCurrentUserReacted),this._updatedAt=e.updatedAt;else{if(!this._version[e.userId]||this._version[e.userId]<=e.updatedAt){var i=this._sampledUserIds.indexOf(e.userId);switch(e.operation){case yp.ADD:i<0&&this._sampledUserIds.push(e.userId);break;case yp.DELETE:i>=0&&this._sampledUserIds.splice(i,1)}this._count=this._sampledUserIds.length,this._version[e.userId]=e.updatedAt}this._updatedAt=Math.max(this.updatedAt,e.updatedAt)}},n})(ti),eM=(function(){function t(n){this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=n.url,n.secure_url&&(this.secureUrl=n.secure_url),n.type&&(this.type=n.type),n.width&&(this.width=n.width),n.height&&(this.height=n.height),n.alt&&(this.alt=n.alt)}return t.payloadify=function(n){var e,r;return Pe(We({url:n.url,secure_url:n.secureUrl,type:n.type,width:(e=n.width)!==null&&e!==void 0?e:0,height:(r=n.height)!==null&&r!==void 0?r:0,alt:n.alt}))},t})(),tM=(function(){function t(n){this.title=null,this.url=null,this.description=null,this.defaultImage=null,n["og:title"]&&(this.title=n["og:title"]),n["og:url"]&&(this.url=n["og:url"]),n["og:description"]&&(this.description=n["og:description"]),n["og:image"]&&(this.defaultImage=new eM(n["og:image"]))}return t.payloadify=function(n){return Pe(We({"og:title":n.title,"og:url":n.url,"og:description":n.description,"og:image":n.defaultImage?eM.payloadify(n.defaultImage):null}))},t})(),sl=(function(){function t(n){var e,r;this.volume=0,this.name=(e=n.name)!==null&&e!==void 0?e:"default",this.volume=(r=n.volume)!==null&&r!==void 0?r:1}return t.prototype.serialize=function(){return{name:this.name,volume:this.volume}},t.payloadify=function(n){return Pe(We({name:n.name,volume:n.volume}))},t})();(function(t){t.GOOD="good",t.BAD="bad"})(JI||(JI={}));var lh=(function(){function t(n){this.id=n.id,this.rating=n.rating,this.comment=n.comment}return t._getStatus=function(n){return n?"id"in n?"SUBMITTED":"NO_FEEDBACK":"NOT_APPLICABLE"},t._isSubmitted=function(n){return t._getStatus(n)==="SUBMITTED"},t._getPayloadByStatus=function(n){return n==="NO_FEEDBACK"?{}:null},t.payloadify=function(n){return Pe(We({id:n.id,rating:n.rating,comment:n.comment}))},t})(),Cv=(function(t){function n(e,r){var i,a=this;return(a=t.call(this,e,r)||this).isBlockedByMe=!1,a.role=wt(Jo,r.role)?r.role:Jo.NONE,a.isBlockedByMe=(i=r.is_blocked_by_me)!==null&&i!==void 0&&i,a}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{role:e.role,is_blocked_by_me:e.isBlockedByMe})))},n})(Mt),Sa=(function(){function t(n){this.key=n.key,this.value=It("string",n.value)?et([],Ye(n.value),!1):[]}return t.payloadify=function(n){var e;return Pe(We({key:n.key,value:(e=n.value)!==null&&e!==void 0?e:[]}))},t})(),Rx=function(t){switch(t){case Bn.BASE:return"";case Bn.USER:return"MESG";case Bn.FILE:return"FILE";case Bn.ADMIN:return"ADMM"}},Dx=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y=this;(y=t.call(this,e)||this).channelType=Lt.BASE,y.messageType=Bn.BASE,y.mentionType=null,y.mentionedUsers=null,y.mentionedUserIds=null,y.metaArrays=[],y.extendedMessage={},y.createdAt=0,y.updatedAt=0,y.channelUrl=r.channel_url,y.channelType=wt(Lt,r.channel_type)?r.channel_type:Lt.GROUP,r.channel&&(r.channel.channel_url&&(y.channelUrl=r.channel.channel_url),r.channel.channel_type&&(y.channelType=r.channel.channel_type)),y.data=(i=r.data)!==null&&i!==void 0?i:"",y.customType=(a=r.custom_type)!==null&&a!==void 0?a:"",y.mentionType=wt(aa,r.mention_type)?r.mention_type:null,y.mentionedUsers=r.mentioned_users?r.mentioned_users.map((function(M){return new Mt(y._iid,M)})):null,y.mentionedUserIds=(s=r.mentioned_user_ids)!==null&&s!==void 0?s:null,y.mentionedUsers&&!y.mentionedUserIds&&(y.mentionedUserIds=y.mentionedUsers.map((function(M){return M.userId})));var b=(l=r.metaarray)!==null&&l!==void 0?l:{},C=(c=r.metaarray_key_order)!==null&&c!==void 0?c:Object.keys(b).sort((function(M,R){return M.localeCompare(R)}));y.metaArrays=[];for(var w=0;w<C.length;w++){var I=C[w];y.metaArrays.push(new Sa({key:I,value:b[I]||[]}))}return r.sorted_metaarray&&(y.metaArrays=r.sorted_metaarray.map((function(M){return new Sa(M)}))),y.extendedMessage=(d=r.extended_message)!==null&&d!==void 0?d:{},y.extendedMessagePayload=r.extended_message_payload,y.createdAt=(v=(f=r.created_at)!==null&&f!==void 0?f:r.ts)!==null&&v!==void 0?v:0,y.updatedAt=(g=r.updated_at)!==null&&g!==void 0?g:0,y}return k(n,t),n.payloadify=function(e){var r,i;return Pe(We(q(q({},t.payloadify.call(this,e)),{channel_url:e.channelUrl,channel_type:e.channelType,type:Rx(e.messageType),data:e.data,custom_type:e.customType,mention_type:e.mentionType,mentioned_user_ids:e.mentionedUserIds,mentioned_users:(r=e.mentionedUsers)===null||r===void 0?void 0:r.map((function(a){return Mt.payloadify(a)})),sorted_metaarray:(i=e.metaArrays)===null||i===void 0?void 0:i.map((function(a){return Sa.payloadify(a)})),extended_message:e.extendedMessage,extended_message_payload:e.extendedMessagePayload,created_at:e.createdAt,updated_at:e.updatedAt})))},n.prototype.isIdentical=function(e){return!0},n.prototype.isEqual=function(e){return M4(this,e)},n.prototype.isUserMessage=function(){return this.messageType===Bn.USER},n.prototype.isFileMessage=function(){return this.messageType===Bn.FILE&&!Object.prototype.hasOwnProperty.call(this,"fileInfoList")},n.prototype.isMultipleFilesMessage=function(){return this.messageType===Bn.FILE&&Object.prototype.hasOwnProperty.call(this,"fileInfoList")},n.prototype.isAdminMessage=function(){return this.messageType===Bn.ADMIN},n.prototype.serialize=function(){return Dv(this)},n.prototype.getMetaArraysByKeys=function(e){return this.metaArrays.filter((function(r){return e.includes(r.key)}))},n})(ti),xx=(function(t){function n(e,r){var i,a,s,l=this;return(l=t.call(this,e)||this).channelUrl=(i=r.channel_url)!==null&&i!==void 0?i:"",l.channelType=(a=r.channel_type)!==null&&a!==void 0?a:Lt.GROUP,l.reader=new Mt(l._iid,r.user),l.readAt=r.ts,l.isExcluded=(s=r.is_excluded)!==null&&s!==void 0&&s,l}return k(n,t),n})(ti),Z9=(function(t){function n(e){var r=e.channelUrl;return t.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return k(n,t),n})(ia),J9=(function(t){function n(e){var r=t.call(this)||this,i=e.channelUrl,a=e.channelType,s=e.userId,l=e.notificationIds,c=e.messageId,d=e.isExcluded,f=e.uniqueId;return r.method=Ee.PUT,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/messages/mark_as_read"),r.params=Pe(We({user_id:s,message_ids:l,message_id:c,is_excluded:d,unique_id:f})),r}return k(n,t),n})(be),Lx=(function(t){function n(e,r,i){var a=t.call(this,e,"READ",i)||this;return a.readStatus=new xx(e,i),a}return k(n,t),n})(Jn),eG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.readAt=r.ts,i.unreadMessageCount=r.unread_message_count,i.totalUnreadCount=r.total_unread_count,i.channelUrl=r.channel_url,i.userId=r.user_id,i.isExcluded=r.is_excluded,i.uniqueId=r.unique_id,i}return k(n,t),n})(we),tG=(function(t){function n(e){var r=e.channelUrl,i=e.messageId;return t.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r,parent_message_id:i}})||this}return k(n,t),n})(ia),nG=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=e.pushEnabled,l=t.call(this)||this;return l.method=Ee.PUT,l.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(a,"/thread_push"),l.params={push_enabled:s},l}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var rG=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=e.rating,l=e.comment,c=t.call(this)||this;return c.method=Ee.POST,c.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(a,"/feedbacks"),c.params={rating:s,comment:l},c}return k(n,t),n})(be),iG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.feedback=new lh(r),i}return k(n,t),n})(we),aG=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=e.feedbackId,l=e.rating,c=e.comment,d=t.call(this)||this;return d.method=Ee.PUT,d.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(a,"/feedbacks/").concat(s),d.params={rating:l,comment:c},d}return k(n,t),n})(be),sG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.feedback=new lh(r),i}return k(n,t),n})(we),oG=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=e.feedbackId,l=t.call(this)||this;return l.method=Ee.DELETE,l.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(a,"/feedbacks/").concat(s),l}return k(n,t),n})(be);(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.feedback=new lh(r),i}k(n,t)})(we);var Qf,nM,SS=(function(t){function n(e,r){var i,a,s,l,c,d=this;return(d=t.call(this,e)||this).plainUrl="",d.fileName=null,d.mimeType=null,d.fileSize=0,d.thumbnails=[],d._requireAuth=!1,d.plainUrl=(i=r.url)!==null&&i!==void 0?i:"",d.fileName=(a=r.file_name)!==null&&a!==void 0?a:null,d.mimeType=(s=r.file_type)!==null&&s!==void 0?s:null,d.fileSize=(l=r.file_size)!==null&&l!==void 0?l:0,d._requireAuth=(c=r.require_auth)!==null&&c!==void 0&&c,d.thumbnails=r.thumbnails?r.thumbnails.map((function(f){var v;return new Qc(d._iid,typeof f=="string"?{url:f,width:0,height:0}:q(q({},f),{url:((v=f.url)!==null&&v!==void 0?v:"").split("auth=")[0]}),d._requireAuth)})):[],d}return k(n,t),n.payloadify=function(e){var r;return Pe(We({url:e.plainUrl,file_name:e.fileName,file_type:e.mimeType,file_size:e.fileSize,thumbnails:(r=e.thumbnails)===null||r===void 0?void 0:r.map((function(i){var a;return{url:((a=i.plainUrl)!==null&&a!==void 0?a:"").split("auth=")[0],width:i.width,height:i.height,real_width:i.realWidth,real_height:i.realHeight}})),require_auth:e._requireAuth}))},Object.defineProperty(n.prototype,"url",{get:function(){var e=j.of(this._iid).sessionManager;return this._requireAuth&&e.ekey?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),n})(ti),Ux=function(t){var n=t.channelUrl,e=t.channelType,r=t.parentMessage;this.channelUrl=n,this.channelType=e,this.parentMessage=r};(function(t){t.NUMBER="number",t.ENUM="enum",t.TEXT="text",t.REGEX="regex",t.DECIMAL_PLACE="decimal_place"})(Qf||(Qf={})),(function(t){t.TEXT="text",t.TEXTAREA="textarea",t.NUMBER="number",t.PHONE="phone",t.EMAIL="email",t.CHIP="chip"})(nM||(nM={}));var dh,To,rM=(function(){function t(n,e){var r=e.id,i=e.name,a=e.items,s=e.version,l=e.is_submitted;this.messageId=n,this.id=r,this.name=i,this.items=a.map((function(c){return new iM(c)})).sort((function(c,d){return c.sortOrder-d.sortOrder})),this.version=s??1,this._isSubmitted=l}return Object.defineProperty(t.prototype,"isSubmitted",{get:function(){var n;return(n=this._isSubmitted)!==null&&n!==void 0?n:this.items.some((function(e){return Array.isArray(e.submittedValues)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSubmittable",{get:function(){return this.items.every((function(n){return n.required?!!(Array.isArray(n.draftValues)&&n.draftValues.length>0)&&n.isValid(n.draftValues):!(Array.isArray(n.draftValues)&&n.draftValues.length>0)||n.isValid(n.draftValues)}))},enumerable:!1,configurable:!0}),t.payloadify=function(n){return Pe(We({id:n.id,name:n.name,items:n.items.map((function(e){return iM.payloadify(e)})),version:n.version,is_submitted:n._isSubmitted}))},t.isMessageFormPayload=function(n){return!!n?.message_form},t})(),iM=(function(){function t(n){var e=n.id,r=n.name,i=n.required,a=n.sort_order,s=n.placeholder,l=n.style,c=n.item_type,d=n.validators,f=n.value,v=n.values;this.id=e,this.name=r,this.required=i,this.sortOrder=a,this.placeholder=s,Object.keys(l).length===0?this.style={layout:c}:this.style=Pe({layout:l.layout,options:l.options,defaultOptions:l.default_options,resultCount:l.result_count}),v?this.submittedValues=v:f&&(this.submittedValues=[f]),this._validators=d}return t.prototype.isValid=function(n){var e=this;return n.every((function(r){var i=(function(a,s){return s.every((function(l){switch(l.key){case Qf.NUMBER:var c=Number(a);return!(isNaN(c)||l.min&&typeof l.min!="number"||l.max&&typeof l.max!="number"||typeof l.min=="number"&&c<l.min||typeof l.max=="number"&&c>l.max);case Qf.ENUM:return typeof a=="string"&&(!(l.enums&&Array.isArray(l.enums)&&l.enums.length>0&&!l.enums.includes(a))||l.allow_other);case Qf.TEXT:return!(typeof a!="string"||typeof l.min_length=="number"&&a.length<l.min_length||typeof l.max_length=="number"&&a.length>l.max_length);case Qf.REGEX:return!(typeof a!="string"||l.regex&&(typeof l.regex!="string"||!new RegExp(l.regex).test(a)));case Qf.DECIMAL_PLACE:return a.length!==0&&(c=Number(a),!(isNaN(c)||(!l.max_decimal_place||typeof l.max_decimal_place=="number")&&l.max_decimal_place&&!(function(d,f){var v=d.toString(),g=v.indexOf(".");return g===-1||v.slice(g+1).length<=f})(c,l.max_decimal_place)));default:return!0}}))})(r,e._validators);return i}))},t.payloadify=function(n){return Pe(We({id:n.id,name:n.name,required:n.required,sort_order:n.sortOrder,placeholder:n.placeholder,style:Pe({layout:n.style.layout,options:n.style.options,default_options:n.style.defaultOptions,result_count:n.style.resultCount}),item_type:n.style.layout,validators:n._validators,values:n.submittedValues}))},t})(),lG=(function(t){function n(e){var r=t.call(this)||this;return r.method=Ee.POST,r.path="".concat(QH,"/").concat(e.formId,"/submit"),r.params=Pe({message_id:e.messageId,items:e.items}),r}return k(n,t),n})(be);(function(t){t.PENDING="pending",t.SENT="sent",t.FAILED="failed",t.CANCELED="canceled"})(dh||(dh={})),(function(t){t.PENDING="pending",t.IN_QUEUE="in_queue",t.SENT="sent",t.FAILED="failed",t.CANCELED="canceled",t.REMOVED="removed"})(To||(To={}));var op,ba=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y=this;return(y=t.call(this,e,r)||this).parentMessage=null,y.silent=!1,y.isOperatorMessage=!1,y.threadInfo=null,y.reactions=[],y.appleCriticalAlertOptions=null,y.scheduledInfo=null,y.suggestedReplies=null,y.myFeedback=null,y.myFeedbackStatus="NOT_APPLICABLE",y.messageForm=null,y._isContinuousMessages=!1,y._scheduledStatus=null,y._poll=null,y.messageId=(a=(i=r.msg_id)!==null&&i!==void 0?i:r.message_id)!==null&&a!==void 0?a:0,y.parentMessageId=(s=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&s!==void 0?s:0,y.threadInfo=r.thread_info?new E1(y._iid,r.thread_info):null,r.reactions_summary?y.reactions=r.reactions_summary.map((function(b){return new wg(e,b)})):r.reactions?y.reactions=r.reactions.map((function(b){return new wg(e,b)})):y.reactions=[],y.ogMetaData=r.og_tag?new tM(r.og_tag):null,y.silent=(l=r.silent)!==null&&l!==void 0&&l,y.isOperatorMessage=(c=r.is_op_msg)!==null&&c!==void 0&&c,y.appleCriticalAlertOptions=r.apple_critical_alert_options?new sl(r.apple_critical_alert_options):null,typeof r.scheduled_message_id=="number"&&typeof r.scheduled_at=="number"&&r.scheduled_status&&(y.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},y._scheduledStatus=r.scheduled_status),y._isContinuousMessages=(d=r.is_continuous_messages)!==null&&d!==void 0&&d,y.myFeedback=lh._isSubmitted(r.feedback)?new lh(r.feedback):null,y.myFeedbackStatus=lh._getStatus(r.feedback),y.suggestedReplies=(v=(f=r.extended_message_payload)===null||f===void 0?void 0:f.suggested_replies)!==null&&v!==void 0?v:null,y.messageForm=rM.isMessageFormPayload(r.extended_message_payload)?new rM(y.messageId,r.extended_message_payload.message_form):null,y.message=(g=r.message)!==null&&g!==void 0?g:"",y._poll=r.poll?new al(y._iid,r.poll):null,y}return k(n,t),n.payloadify=function(e){var r,i;return Pe(We(q(q({},t.payloadify.call(this,e)),{message_id:e.messageId,parent_message_id:e.parentMessageId,thread_info:e.threadInfo?E1.payloadify(e.threadInfo):null,reactions_summary:e.reactions.map((function(a){return wg.payloadify(a)})),og_tag:e.ogMetaData?tM.payloadify(e.ogMetaData):null,silent:e.silent,is_op_msg:e.isOperatorMessage,apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,scheduled_message_id:(r=e.scheduledInfo)===null||r===void 0?void 0:r.scheduledMessageId,scheduled_at:(i=e.scheduledInfo)===null||i===void 0?void 0:i.scheduledAt,scheduled_status:e._scheduledStatus,feedback:e.myFeedback?lh.payloadify(e.myFeedback):lh._getPayloadByStatus(e.myFeedbackStatus),message:e.message,poll:e._poll?al.payloadify(e._poll):null})))},n._getParentMessageInfoPayload=function(e){var r={type:Rx(e.messageType),ts:e.createdAt,user:e.sender?Cv.payloadify(e.sender):null,message:e.message,data:e.data,custom_type:e.customType};switch(e.messageType){case Bn.USER:return Pe(We(q(q({},r),{translations:e.translations})));case Bn.FILE:return Pe(We(q(q({},r),{file:{url:e.plainUrl,name:e.name,type:e.type,require_auth:e.requireAuth},files:Array.isArray(e.fileInfoList)?e.fileInfoList.map((function(i){return SS.payloadify(i)})):null})));case Bn.ADMIN:return Pe(We(q(q({},r),{translations:e.translations})));default:return Pe(We(q({},r)))}},n.prototype.isIdentical=function(e){return this.messageId===e.messageId},n.prototype.applyThreadInfoUpdateEvent=function(e){return this.messageId===e.targetMessageId&&(e.threadInfo._isUpdateRequired&&this.threadInfo&&e.threadInfo._updateFrom(this.threadInfo),this.threadInfo=e.threadInfo,!0)},n.prototype._findReactionIndex=function(e){for(var r=0;r<this.reactions.length;r++)if(this.reactions[r].key===e)return r;return-1},n.prototype.applyReactionEvent=function(e){var r=j.of(this._iid).sdkState;if(this.messageId===e.messageId)switch(e.operation){case yp.ADD:e.userId===r.userId&&(e._hasCurrentUserReacted=!0),(i=this._findReactionIndex(e.key))!==-1?this.reactions[i].applyEvent(e):e._sampledUserIds?this.reactions.push(new wg(this._iid,{key:e.key,sampled_user_ids:e._sampledUserIds,sampled_user_info:e._sampledUserInfoList,count:e._count,is_self_included:e._hasCurrentUserReacted,last_ts:e.updatedAt})):this.reactions.push(new wg(this._iid,{key:e.key,user_ids:[e.userId],updated_at:e.updatedAt}));break;case yp.DELETE:var i;(i=this._findReactionIndex(e.key))!==-1&&(e._sampledUserIds?e._count===0?this.reactions.splice(i,1):(e.userId===r.userId&&(e._hasCurrentUserReacted=!1),this.reactions[i].applyEvent(e)):(this.reactions[i].applyEvent(e),this.reactions[i].isEmpty&&this.reactions.splice(i,1)))}},n.prototype.applyParentMessage=function(e){if(!this.parentMessage)return this.parentMessage=e,!0;if(this.parentMessageId===e.messageId){var r=this.parentMessage.updatedAt;if(e.updatedAt>=r)return this.parentMessage=e,!0}return!1},n.prototype.applyPoll=function(e){return!(this._poll&&this._poll.id===e.id&&this._poll.updatedAt>e.updatedAt)&&(this._poll=e,!0)},Object.defineProperty(n.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),n.prototype._triggerThreadInfoUpdatedEvent=function(){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){return(e=j.of(this._iid).dispatcher).dispatch(new Ux({channelType:Lt.GROUP,channelUrl:this.channelUrl,parentMessage:this})),e.dispatch(new cr({messages:[this],source:ve.EVENT_MESSAGE_THREADINFO_UPDATED})),[2]}))}))},n.prototype.markThreadAsRead=function(){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid).requestQueue,r=new tG({channelUrl:this.channelUrl,messageId:this.messageId}),[4,e.send(r)];case 1:return i.sent(),this.threadInfo&&this.threadInfo.unreadReplyCount!==0?(this.threadInfo.unreadReplyCount=0,[4,this._triggerThreadInfoUpdatedEvent()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},n.prototype.setPushNotificationEnabled=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return r=j.of(this._iid).requestQueue,i=new nG({channelUrl:this.channelUrl,channelType:this.channelType,messageId:this.messageId,pushEnabled:e}),[4,r.send(i)];case 1:return a.sent(),this.threadInfo&&this.threadInfo.isPushNotificationEnabled!==e&&(this.threadInfo.isPushNotificationEnabled=e),[2]}}))}))},n.prototype.submitMessageForm=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:if(r=j.of(this._iid).requestQueue,i=null,a=null,s=this.messageForm,!e&&s){if(!s.isSubmittable)throw new Z({code:je.INVALID_PARAMETER,message:"The form is not submittable. Please check all form items are valid before submitting."});if(s.isSubmitted)throw new Z({code:je.INVALID_PARAMETER,message:"The form has already been submitted."});i=s.id,a=s.items.reduce((function(d,f){return d.push({form_item_id:f.id,values:Array.isArray(f.draftValues)?f.draftValues:[]}),d}),[])}else e&&(i=e.formId,a=Object.entries(e.answers).reduce((function(d,f){var v=Ye(f,2),g=v[0],y=v[1],b=Number(g);if(Number.isNaN(b))throw new Z({code:je.INVALID_PARAMETER,message:"Keys in answers must be numeric string."});return d.push({form_item_id:b,value:y}),d}),[]));if(!i||!a)throw new Z({code:je.INVALID_PARAMETER,message:"Missing one or more required inputs: formId, answers."});return l=new lG({messageId:this.messageId,formId:i,items:a}),[4,r.send(l)];case 1:return c.sent(),[2]}}))}))},n.prototype.submitFeedback=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return r=j.of(this._iid),i=r.requestQueue,a=r.dispatcher,s=new rG({channelUrl:this.channelUrl,channelType:this.channelType,messageId:this.messageId,rating:e.rating,comment:e.comment}),[4,i.send(s)];case 1:return l=d.sent(),c=l.as(iG),this.myFeedback=c.feedback,this.myFeedbackStatus="SUBMITTED",a.dispatch(new cr({messages:[this],source:ve.EVENT_MESSAGE_FEEDBACK_ADDED})),[2]}}))}))},n.prototype.updateFeedback=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return r=j.of(this._iid),i=r.requestQueue,a=r.dispatcher,s=new aG({channelUrl:this.channelUrl,channelType:this.channelType,messageId:this.messageId,feedbackId:e.id,rating:e.rating,comment:e.comment}),[4,i.send(s)];case 1:return l=d.sent(),c=l.as(sG),this.myFeedback=c.feedback,this.myFeedbackStatus="SUBMITTED",a.dispatch(new cr({messages:[this],source:ve.EVENT_MESSAGE_FEEDBACK_UPDATED})),[2]}}))}))},n.prototype.deleteFeedback=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return r=j.of(this._iid),i=r.requestQueue,a=r.dispatcher,s=new oG({channelUrl:this.channelUrl,channelType:this.channelType,messageId:this.messageId,feedbackId:e}),[4,i.send(s)];case 1:return l.sent(),this.myFeedback=null,this.myFeedbackStatus="NO_FEEDBACK",a.dispatch(new cr({messages:[this],source:ve.EVENT_MESSAGE_FEEDBACK_DELETED})),[2]}}))}))},n})(Dx),Ur=(function(t){function n(e,r){var i,a,s,l,c=this;if((c=t.call(this,e,r)||this).reqId="",c.replyToChannel=!1,c.errorCode=0,c.sender=r.user?new Cv(c._iid,r.user):r.sender_id,c.reqId=(a=(i=r.req_id)!==null&&i!==void 0?i:r.request_id)!==null&&a!==void 0?a:"",c.replyToChannel=(s=r.is_reply_to_channel)!==null&&s!==void 0&&s,r.request_state&&wt(dn,r.request_state)&&(c.sendingStatus=r.request_state),!c.sendingStatus)if(c.messageId>0)c.sendingStatus=dn.SUCCEEDED;else if(c.scheduledInfo)switch(r.scheduled_status&&(c._scheduledStatus=r.scheduled_status),r.scheduled_status){case To.SENT:case To.IN_QUEUE:c.sendingStatus=dn.SUCCEEDED;break;case To.PENDING:c.sendingStatus=dn.SCHEDULED;break;case To.FAILED:case To.REMOVED:c.sendingStatus=dn.FAILED;break;case To.CANCELED:c.sendingStatus=dn.CANCELED}else c.sendingStatus=dn.PENDING;return c.errorCode=(l=r.error_code)!==null&&l!==void 0?l:0,c._messageToken=r.mesg_token,c}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{user:Cv.payloadify(e.sender),req_id:e.reqId,is_reply_to_channel:e.replyToChannel,request_state:e.sendingStatus,error_code:e.errorCode,mesg_token:e._messageToken})))},Object.defineProperty(n.prototype,"isResendable",{get:function(){return(this.sendingStatus===dn.FAILED||this.sendingStatus===dn.CANCELED)&&LH(this.errorCode)},enumerable:!1,configurable:!0}),n.prototype.isIdentical=function(e){return this.messageId>0&&e.messageId>0?this.messageId===e.messageId:this.reqId===e.reqId},n})(ba),Y0={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:na.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},a2=function(t){return W("number",t.prevResultSize)&&W("number",t.nextResultSize)&&W("boolean",t.isInclusive)&&W("boolean",t.reverse)&&W("string",t.messageTypeFilter)&&wt(na,t.messageTypeFilter)&&It("string",t.customTypesFilter,!0)&&It("string",t.senderUserIdsFilter,!0)&&W("boolean",t.includeMetaArray)&&W("boolean",t.includeReactions)&&W("boolean",t.includeParentMessageInfo)},Ep=(function(t){function n(e,r){var i,a,s,l=this;if((l=t.call(this,e,r)||this).translations={},l.messageType=Bn.ADMIN,l.translations=(i=r.translations)!==null&&i!==void 0?i:{},r.parent_message_info){var c=r.parent_message_info;l.parentMessage=sa(e,Pe(We(q(q({},c),{message_id:l.parentMessageId,channel_url:l.channelUrl,channel_type:l.channelType,file:c.file,url:(a=c.file)===null||a===void 0?void 0:a.url,require_auth:(s=c.file)===null||s===void 0?void 0:s.require_auth}))))}return l}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{translations:e.translations,parent_message_info:e.parentMessage?t._getParentMessageInfoPayload.call(this,e.parentMessage):null})))},n.prototype.getThreadedMessagesByTimestamp=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},Y0),r),Ne(this.messageId>0&&W("number",e)&&a2(i)).throw(Z.invalidParameters),[4,_i.of(this._iid).getThreadedMessagesByTimestamp(this,e,i)];case 1:return[2,a.sent()]}}))}))},n})(ba),aM=(function(){function t(n){var e,r;this.detail={},this.type=(e=n.type)!==null&&e!==void 0?e:"",this.vendor=(r=n.vendor)!==null&&r!==void 0?r:"",n.detail&&W("object",n.detail)&&!Array.isArray(n.detail)&&(this.detail=n.detail)}return t.payloadify=function(n){return Pe(We({type:n.type,vendor:n.vendor,detail:n.detail}))},t})(),sM=(function(){function t(n){this.status=n.status,n.original_message_info&&(this.originalMessageInfo={createdAt:n.original_message_info.ts,messageId:n.original_message_info.id})}return t.payloadify=function(n){return Pe({status:n.status,original_message_info:n.originalMessageInfo?{id:n.originalMessageInfo.messageId,ts:n.originalMessageInfo.createdAt}:void 0})},t})(),ta=(function(t){function n(e,r){var i,a,s,l,c,d,f,v=this;if((v=t.call(this,e,r)||this).messageParams=null,v.mentionedMessageTemplate=void 0,v.translations={},v.translationTargetLanguages=[],v.messageSurvivalSeconds=-1,v.plugins=[],v.messageType=Bn.USER,v.translations=(s=r.translations)!==null&&s!==void 0?s:{},v.translationTargetLanguages=(l=r.target_langs)!==null&&l!==void 0?l:[],Object.keys(v.translations).length===0&&v.translationTargetLanguages.length>0)try{for(var g=De(v.translationTargetLanguages),y=g.next();!y.done;y=g.next()){var b=y.value;v.translations[b]=""}}catch(w){i={error:w}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}if(v.mentionedMessageTemplate=r.mentioned_message_template,v.messageSurvivalSeconds=(c=r.message_survival_seconds)!==null&&c!==void 0?c:-1,v.plugins=r.plugins?r.plugins.map((function(w){return new aM(w)})):[],r.parent_message_info){var C=r.parent_message_info;v.parentMessage=sa(e,Pe(We(q(q({},C),{created_at:C.ts,message_id:v.parentMessageId,channel_url:v.channelUrl,channel_type:v.channelType,file:C.file,url:(d=C.file)===null||d===void 0?void 0:d.url,require_auth:(f=C.file)===null||f===void 0?void 0:f.require_auth}))))}return r.review_info&&(v.messageReviewInfo=new sM(r.review_info)),v}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{translations:e.translations,message_survival_seconds:e.messageSurvivalSeconds,mentioned_message_template:e.mentionedMessageTemplate,plugins:e.plugins.map((function(r){return aM.payloadify(r)})),parent_message_info:e.parentMessage?t._getParentMessageInfoPayload.call(this,e.parentMessage):null,review_info:e.messageReviewInfo?sM.payloadify(e.messageReviewInfo):void 0})))},n.prototype.getThreadedMessagesByTimestamp=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},Y0),r),Ne(this.messageId>0&&W("number",e)&&a2(i)).throw(Z.invalidParameters),[4,_i.of(this._iid).getThreadedMessagesByTimestamp(this,e,i)];case 1:return[2,a.sent()]}}))}))},n})(Ur),So=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g=this;if((g=t.call(this,e,r)||this).messageParams=null,g.fileInfoList=[],g.messageSurvivalSeconds=-1,g.messageType=Bn.FILE,g.data=(s=(a=(i=r.file)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:r.custom)!==null&&s!==void 0?s:"",g.fileInfoList=(c=(l=r.files)===null||l===void 0?void 0:l.map((function(b){return new SS(e,b)})))!==null&&c!==void 0?c:[],g.messageSurvivalSeconds=(d=r.message_survival_seconds)!==null&&d!==void 0?d:-1,r.parent_message_info){var y=r.parent_message_info;g.parentMessage=sa(e,Pe(We(q(q({},y),{created_at:y.ts,message_id:g.parentMessageId,channel_url:g.channelUrl,channel_type:g.channelType,file:y.file,url:(f=y.file)===null||f===void 0?void 0:f.url,require_auth:(v=y.file)===null||v===void 0?void 0:v.require_auth}))))}return g}return k(n,t),n.prototype.getThreadedMessagesByTimestamp=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},Y0),r),Ne(this.messageId>0&&W("number",e)&&a2(i)).throw(Z.invalidParameters),[4,_i.of(this._iid).getThreadedMessagesByTimestamp(this,e,i)];case 1:return[2,a.sent()]}}))}))},n.payloadify=function(e){var r,i,a,s,l,c;return Pe(We(q(q({},t.payloadify.call(this,e)),{file:{name:(i=(r=e.fileInfoList[0])===null||r===void 0?void 0:r.fileName)!==null&&i!==void 0?i:"",size:(s=(a=e.fileInfoList[0])===null||a===void 0?void 0:a.fileSize)!==null&&s!==void 0?s:0,type:(c=(l=e.fileInfoList[0])===null||l===void 0?void 0:l.mimeType)!==null&&c!==void 0?c:"",data:e.data},files:Array.isArray(e.fileInfoList)?e.fileInfoList.map((function(d){return SS.payloadify(d)})):null,message_survival_seconds:e.messageSurvivalSeconds,parent_message_info:e.parentMessage?t._getParentMessageInfoPayload.call(this,e.parentMessage):null})))},n._isMultipleFilesMessagePayload=function(e){var r=e.files;return Array.isArray(r)&&r.length>=2},n._isMultipleFilesMessageSerializedData=function(e){var r=e.fileInfoList;return Array.isArray(r)},n})(Ur);(function(t){t.SENT="SENT",t.READ="READ"})(op||(op={}));var bp=(function(t){function n(e,r){var i,a,s=this;if((s=t.call(this,e,r)||this).notificationData=null,s.notificationId=r.notification_message_id,s.messageType=Bn.ADMIN,s.messageStatus=(i=r.message_status)!==null&&i!==void 0?i:op.SENT,s.priority=(a=r.priority)!==null&&a!==void 0?a:fS.NORMAL,s.notificationEventDeadline=r.notification_event_deadline,s.extendedMessage.sub_type===0)try{var l=JSON.parse(s.extendedMessage.sub_data),c=l.label,d=l.tags,f=d===void 0?[]:d,v=l.template_key,g=l.template_variables;s.notificationData={label:c,tags:f,templateKey:v,templateVariables:g}}catch{}return s}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{notification_message_id:e.notificationId,message_status:e.messageStatus,priority:e.priority,notification_event_deadline:e.notificationEventDeadline})))},n.prototype.isIdentical=function(e){return this.notificationId===e.notificationId},n})(Dx),NS=function(t){if(t.notificationId)return bp.payloadify(t);switch(t.messageType){case Bn.USER:return ta.payloadify(t);case Bn.FILE:return t.fileInfoList?So.payloadify(t):Zr.payloadify(t);case Bn.ADMIN:return Ep.payloadify(t);default:throw Z.unknown}},sa=function(t,n){if(n.notification_message_id)return new bp(t,n);switch(n.type){case"MESG":return new ta(t,n);case"FILE":return So._isMultipleFilesMessagePayload(n)?new So(t,n):new Zr(t,n);case"ADMM":case"BRDM":return new Ep(t,n);default:return null}},Zr=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R=this;(R=t.call(this,e,r)||this).messageParams=null,R.plainUrl="",R.requireAuth=!1,R.thumbnails=[],R.messageSurvivalSeconds=-1,R.messageType=Bn.FILE;var U=r.file;if(R.plainUrl=((a=(i=U?.url)!==null&&i!==void 0?i:r.url)!==null&&a!==void 0?a:"").split("?auth=")[0],R.name=(l=(s=U?.name)!==null&&s!==void 0?s:r.name)!==null&&l!==void 0?l:"File",R.size=(d=(c=U?.size)!==null&&c!==void 0?c:r.size)!==null&&d!==void 0?d:0,R.data=(g=(v=(f=U?.data)!==null&&f!==void 0?f:r.custom)!==null&&v!==void 0?v:R.data)!==null&&g!==void 0?g:"",R.type=U?(y=U.type)!==null&&y!==void 0?y:"":(b=r.type)!==null&&b!==void 0?b:"",R.requireAuth=(C=r.require_auth)!==null&&C!==void 0&&C,R.thumbnails=r.thumbnails?r.thumbnails.map((function(P){var G;return new Qc(R._iid,typeof P=="string"?{url:P,width:0,height:0}:q(q({},P),{url:((G=P.url)!==null&&G!==void 0?G:"").split("auth=")[0]}),R.requireAuth)})):[],R.messageSurvivalSeconds=(w=r.message_survival_seconds)!==null&&w!==void 0?w:-1,r.parent_message_info){var H=r.parent_message_info;R.parentMessage=sa(e,Pe(We(q(q({},H),{created_at:H.ts,message_id:R.parentMessageId,channel_url:R.channelUrl,channel_type:R.channelType,file:H.file,url:(I=H.file)===null||I===void 0?void 0:I.url,require_auth:(M=H.file)===null||M===void 0?void 0:M.require_auth}))))}return R}return k(n,t),n.payloadify=function(e){var r;return Pe(We(q(q({},t.payloadify.call(this,e)),{url:e.plainUrl,require_auth:e.requireAuth,file:{name:e.name,size:e.size,type:e.type,data:e.data},thumbnails:(r=e.thumbnails)===null||r===void 0?void 0:r.map((function(i){return{url:i.plainUrl,width:i.width,height:i.height,real_width:i.realWidth,real_height:i.realHeight}})),message_survival_seconds:e.messageSurvivalSeconds,parent_message_info:e.parentMessage?t._getParentMessageInfoPayload.call(this,e.parentMessage):null})))},Object.defineProperty(n.prototype,"url",{get:function(){var e=j.of(this._iid).sessionManager;return this.requireAuth&&e.ekey?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),n.prototype.getThreadedMessagesByTimestamp=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},Y0),r),Ne(this.messageId>0&&W("number",e)&&a2(i)).throw(Z.invalidParameters),[4,_i.of(this._iid).getThreadedMessagesByTimestamp(this,e,i)];case 1:return[2,a.sent()]}}))}))},n})(Ur),R0=(function(t){function n(e,r){var i=r.file,a=r.fileUrl,s=r.fileName,l=r.fileSize,c=r.mimeType,d=r.thumbnailSizes,f=r._uploadedMetaData,v=r._thumbnails,g=t.call(this,e)||this;return g._plainUrl=a,g.file=i,g.fileName=s,g.fileSize=l,g.mimeType=c,g.thumbnailSizes=d,g._uploadedMetaData=f,g._thumbnails=v,g}return k(n,t),n.getPlainUrl=function(e){return e instanceof n?e._plainUrl:e.fileUrl},Object.defineProperty(n.prototype,"fileUrl",{get:function(){var e,r=j.of(this._iid).sessionManager;return this._plainUrl&&(!((e=this._uploadedMetaData)===null||e===void 0)&&e.requireAuth)&&r.ekey?"".concat(this._plainUrl,"?auth=").concat(r.ekey):this._plainUrl},set:function(e){this._plainUrl=e},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return{file:this.file,fileUrl:this._plainUrl,fileName:this.fileName,fileSize:this.fileSize,mimeType:this.mimeType,thumbnailSizes:this.thumbnailSizes,_thumbnails:this._thumbnails,_uploadedMetaData:this._uploadedMetaData}},n})(ti),uG=(function(t){function n(e){var r,i,a,s,l=[];return e.mentionType===aa.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map((function(c){return c.userId})))),t.call(this,{code:"FILE",ackRequired:!0,payload:Pe(We({channel_url:e.channelUrl,files:e.files?kx(e.files):null,url:e.url,name:(r=e.fileName)!==null&&r!==void 0?r:"",type:(i=e.mimeType)!==null&&i!==void 0?i:"",size:(a=e.fileSize)!==null&&a!==void 0?a:0,custom:e.data,custom_type:e.customType,thumbnails:(s=e._thumbnails)===null||s===void 0?void 0:s.map((function(c){return Qc.payloadify(c)})),require_auth:e.requireAuth,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:l,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==Ql.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId?e.parentMessageId:null,req_id:e.reqId,poll_id:e.pollId,pin_message:e.isPinnedMessage,message:e.message}))})||this}return k(n,t),n})(ia),cG=(function(t){function n(e){var r,i,a=this;a=t.call(this)||this;var s=[];return e.mentionType===aa.USERS&&(e.mentionedUserIds?s=e.mentionedUserIds:e.mentionedUsers&&(s=e.mentionedUsers.map((function(l){return l.userId})))),a.method=Ee.POST,a.path="".concat(Jt(e.channelType),"/").concat(encodeURIComponent(e.channelUrl),"/messages"),a.params=Pe(We({message_type:Bn.FILE,user_id:e.userId,files:e.files?kx(e.files):null,url:e.fileUrl,mention_type:e.mentionType,mentioned_user_ids:s,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,data:e.data,custom_type:e.customType,thumbnails:(r=e._thumbnails)===null||r===void 0?void 0:r.map((function(l){return Qc.payloadify(l)})),require_auth:e.requireAuth,sorted_metaarray:(i=e.metaArrays)===null||i===void 0?void 0:i.map((function(l){return Sa.payloadify(l)})),push_option:e.pushNotificationDeliveryOption,parent_message_id:e.parentMessageId?e.parentMessageId:null,apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,reply_to_channel:e.isReplyToChannel,req_id:e.reqId,poll_id:e.pollId,pin_message:e.isPinnedMessage})),a}return k(n,t),n})(be),m3=(function(t){function n(e,r,i){var a,s,l,c,d=this;(d=t.call(this,e,"FILE",i)||this).message=i.files&&i.files.length>=2?new So(e,i):new Zr(e,i);var f=j.of(e).sdkState;return d.isMentioned=gv(d.message.mentionType,(l=(a=d.message.mentionedUserIds)!==null&&a!==void 0?a:(s=d.message.mentionedUsers)===null||s===void 0?void 0:s.map((function(v){return v.userId})))!==null&&l!==void 0?l:[],f.userId),d.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,d}return k(n,t),n})(Jn),dG=(function(t){function n(e,r){var i,a,s,l,c=this;(c=t.call(this,e,r)||this).message=r.files&&r.files.length>=2?new So(e,r):new Zr(e,r);var d=j.of(e).sdkState;return c.isMentioned=gv(c.message.mentionType,(s=(i=c.message.mentionedUserIds)!==null&&i!==void 0?i:(a=c.message.mentionedUsers)===null||a===void 0?void 0:a.map((function(f){return f.userId})))!==null&&s!==void 0?s:[],d.userId),c.forceUpdateLastMessage=(l=r.force_update_last_message)!==null&&l!==void 0&&l,c}return k(n,t),n})(we);function kx(t){return t.map((function(n){var e,r;return Pe(We({url:R0.getPlainUrl(n),file_name:n.fileName,file_type:n.mimeType,file_size:n.fileSize,thumbnails:(e=n._thumbnails)===null||e===void 0?void 0:e.map((function(i){return Qc.payloadify(i)})),require_auth:(r=n._uploadedMetaData)===null||r===void 0?void 0:r.requireAuth}))}))}var wi;(function(t){t[t.PENDING=0]="PENDING",t[t.UPLOADING=1]="UPLOADING",t[t.UPLOADED=2]="UPLOADED",t[t.SENDING=3]="SENDING",t[t.FAILED=4]="FAILED"})(wi||(wi={}));var hG=(function(){function t(n,e){var r=e.sdkState,i=e.dispatcher,a=e.requestQueue,s=e.onlineDetector,l=e.cacheContext,c=this;this._queueMap=new Map,this._iid=n,this._sdkState=r,this._requestQueue=a,this._cacheContext=l,this._dispatcher=i,this._dispatcher.on((function(d){d instanceof $s&&(c._connectionState=d.stateType)})),this._onlineDetector=s}return Object.defineProperty(t.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===nn.CONNECTED||this._connectionState===nn.CONNECTING||this._connectionState===nn.RECONNECTING},enumerable:!1,configurable:!0}),t.prototype._sendFileMessage=function(n,e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return r=this._createSendFileMessageRequestParams(n,e),this._shouldSendThroughWebSocket?(i=new uG(r),[4,this._requestQueue.send(i)]):[3,2];case 1:return a=s.sent(),[2,a.as(m3).message];case 2:return i=new cG(q(q({},r),{userId:this._sdkState.userId})),[4,this._requestQueue.send(i)];case 3:return a=s.sent(),[2,a.as(dG).message]}}))}))},t.prototype._createSendFileMessageRequestParams=function(n,e){var r=q(q({},e.params),{channelUrl:n.url,channelType:n.channelType,reqId:e.requestId,url:""});if(e.multipleFileUploadInfo){var i=e.params;r.files=i.fileInfoList}else i=e.params,r.url=i.fileUrl,r.requireAuth=i.requireAuth;return r},t.prototype._resolveMessageQueue=function(n){var e;return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g,y,b,C;return N(this,(function(w){switch(w.label){case 0:if(!(r=this._queueMap.get(n.url)))return[3,21];if(r.isResolving)return[3,20];r.isResolving=!0,i=[],a=!0,w.label=1;case 1:w.trys.push([1,15,16,17]),s=De(r.messageQueue),l=s.next(),w.label=2;case 2:if(l.done)return[3,14];switch(c=l.value,c.state){case wi.PENDING:case wi.UPLOADING:return[3,3];case wi.UPLOADED:return[3,4];case wi.FAILED:return[3,12]}return[3,13];case 3:return a=!1,i.push(c),[3,13];case 4:if(!a)return[3,10];w.label=5;case 5:return w.trys.push([5,8,,9]),c.state=wi.SENDING,[4,this._sendFileMessage(n,c)];case 6:return d=w.sent(),c.deferred.resolve(d),[4,Ea(100)];case 7:return w.sent(),[3,9];case 8:return f=w.sent(),c.deferred.reject(f),[3,9];case 9:return[3,11];case 10:i.push(c),w.label=11;case 11:return[3,13];case 12:return v=(e=c.error)!==null&&e!==void 0?e:Z.unknown,c.deferred.reject(v.code===je.REQUEST_CANCELED?Z.fileUploadCanceled:v),[3,13];case 13:return l=s.next(),[3,2];case 14:return[3,17];case 15:return g=w.sent(),b={error:g},[3,17];case 16:try{l&&!l.done&&(C=s.return)&&C.call(s)}finally{if(b)throw b.error}return[7];case 17:return y=r.isResolveRequestPending,r.messageQueue=i,r.isResolving=!1,r.isResolveRequestPending=!1,y?[4,this._resolveMessageQueue(n)]:[3,19];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:r.isResolveRequestPending=!0,w.label=21;case 21:return[2]}}))}))},t.prototype._uploadNextPendingItem=function(n){var e;return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g;return N(this,(function(y){switch(y.label){case 0:return(r=this._queueMap.get(n.url))&&(i=r.messageQueue.find((function(b){return b.state===wi.PENDING})))?i.multipleFileUploadInfo?(a=i.multipleFileUploadInfo,s=a.uploadIndex,l=a.uploadCount,c=a.requestHandler,g=i.params,d=g.fileInfoList[s],!Oi(d.file)||!((e=d._uploadedMetaData)===null||e===void 0)&&e.isUploaded?[3,2]:[4,this._tryUploadNextItemAndUpdateItemState(n,r,i)]):[3,4]:[3,9];case 1:return y.sent(),[3,3];case 2:i.state=s<l-1?wi.PENDING:wi.UPLOADED,y.label=3;case 3:return f=g.fileInfoList[s],v=i.multipleFileUploadInfo.uploadIndex++,i.multipleFileUploadInfo.isCopy||c==null||c._triggerOnFileUploaded(i.requestId,v,f,i.error),[3,7];case 4:return g=i.params,Oi(g.file)?[4,this._tryUploadNextItemAndUpdateItemState(n,r,i)]:[3,6];case 5:return y.sent(),[3,7];case 6:g.thumbnailSizes=[],i.state=wi.UPLOADED,y.label=7;case 7:return this._uploadNextPendingItem(n),[4,this._resolveMessageQueue(n)];case 8:y.sent(),y.label=9;case 9:return[2]}}))}))},t.prototype._tryUploadNextItemAndUpdateItemState=function(n,e,r){return A(this,void 0,void 0,(function(){var i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return[4,this._onlineDetector.isOnline()];case 1:if(i=f.sent(),!j.of(this._iid).sessionManager.currentUser||!i)return r.error=Z.connectionRequired,r.state=wi.FAILED,[2];if(!(e.uploadQueue.length<6))return[3,9];r.state=wi.UPLOADING,e.uploadQueue.push(r),f.label=2;case 2:return f.trys.push([2,7,,8]),r.multipleFileUploadInfo?(a=r.multipleFileUploadInfo,s=a.uploadIndex,l=a.uploadCount,c=r.params,[4,this._uploadNextFileForMultipleFilesItemAndUpdateParams(n,r,c)]):[3,4];case 3:return f.sent(),r.state=s<l-1?wi.PENDING:wi.UPLOADED,[3,6];case 4:return c=r.params,[4,this._uploadNextFileForSingleFileItemAndUpdateParams(n,r,c)];case 5:f.sent(),r.state=wi.UPLOADED,f.label=6;case 6:return[3,8];case 7:switch((d=f.sent()).code){case je.REQUEST_FAILED:r.error=new Z({code:je.NETWORK_ERROR,message:"Failed to upload a file."});break;case je.REQUEST_CANCELED:r.error=Z.fileUploadCanceled;break;default:r.error=d}return r.state=wi.FAILED,[3,8];case 8:this._dequeueUploadItem(e,r),f.label=9;case 9:return[2]}}))}))},t.prototype._dequeueUploadItem=function(n,e){var r=n.uploadQueue.findIndex((function(i){return i.requestId===e.requestId}));r>=0&&n.uploadQueue.splice(r,1)},t.prototype._uploadNextFileForSingleFileItemAndUpdateParams=function(n,e,r){var i,a,s;return A(this,void 0,void 0,(function(){var l,c,d,f,v,g,y,b,C,w;return N(this,(function(I){switch(I.label){case 0:return l=new g1({file:r.file,channelUrl:n.url,thumbnailSizes:r.thumbnailSizes,requestId:e.requestId}),[4,this._requestQueue.send(l)];case 1:return c=I.sent(),d=c.as(y1),f=d.url,v=d.fileSize,g=v===void 0?r.fileSize:v,y=d.thumbnails,b=y===void 0?[]:y,C=d.requireAuth,w=C!==void 0&&C,r.fileName=(i=r.fileName)!==null&&i!==void 0?i:r.file.name,r.mimeType=(a=r.mimeType)!==null&&a!==void 0?a:r.file.type,r.fileSize=(s=r.fileSize)!==null&&s!==void 0?s:r.file.size,r.fileUrl=f,r.fileSize=g,r.requireAuth=w,r._thumbnails=b,[2]}}))}))},t.prototype._uploadNextFileForMultipleFilesItemAndUpdateParams=function(n,e,r){var i,a,s;return A(this,void 0,void 0,(function(){var l,c,d,f,v,g,y,b,C,w,I;return N(this,(function(M){switch(M.label){case 0:return l=e.multipleFileUploadInfo.uploadIndex,c=r.fileInfoList[l],d=new g1({file:c.file,channelUrl:n.url,thumbnailSizes:c.thumbnailSizes,requestId:e.requestId}),[4,this._requestQueue.send(d)];case 1:return f=M.sent(),v=f.as(y1),g=v.url,y=v.fileSize,b=y===void 0?c.fileSize:y,C=v.thumbnails,w=v.requireAuth,I=w!==void 0&&w,c.fileName=(i=c.fileName)!==null&&i!==void 0?i:c.file.name,c.mimeType=(a=c.mimeType)!==null&&a!==void 0?a:c.file.type,c.fileSize=(s=c.fileSize)!==null&&s!==void 0?s:c.file.size,c.file=void 0,c.fileUrl=g,c.fileSize=b,c._thumbnails=C,c._uploadedMetaData=q(q({},c._uploadedMetaData),{requireAuth:I,isUploaded:!0}),c instanceof R0||(r.fileInfoList[l]=new R0(this._iid,c)),[2]}}))}))},t.prototype.request=function(n,e,r,i){return i===void 0&&(i={}),A(this,void 0,void 0,(function(){var a,s,l,c,d;return N(this,(function(f){return this._queueMap.has(n.url)||(a={messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1},this._queueMap.set(n.url,a)),s=this._queueMap.get(n.url),l=new ja,c={requestId:e,params:r,state:wi.PENDING,deferred:l},(function(v){return"fileInfoList"in v})(r)&&(d=q({uploadIndex:0,uploadCount:r.fileInfoList.length},i),c.multipleFileUploadInfo=d),s.messageQueue.push(c),this._uploadNextPendingItem(n),[2,l.promise]}))}))},t.prototype.cancel=function(n,e){var r,i,a=this._queueMap.get(n.url);if(a){var s=e?[a.messageQueue.find((function(b){return b.requestId===e}))]:et([],Ye(a.messageQueue),!1);try{for(var l=De(s),c=l.next();!c.done;c=l.next()){var d=c.value;if(d)switch(d.state){case wi.PENDING:if(d.state=wi.FAILED,d.error=Z.requestCanceled,d.multipleFileUploadInfo&&!d.multipleFileUploadInfo.isCopy){var f=d.multipleFileUploadInfo,v=f.uploadIndex,g=f.requestHandler,y=d.params.fileInfoList[v];g?._triggerOnFileUploaded(d.requestId,v,y,Z.fileUploadCanceled)}this._resolveMessageQueue(n);break;case wi.UPLOADING:this._requestQueue.cancel(d.requestId),this._dispatcher.dispatch(new d1({requestId:d.requestId}))}}}catch(b){r={error:b}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}else e&&(this._requestQueue.cancel(e),this._dispatcher.dispatch(new d1({requestId:e})))},t})(),oM,Ko,u0={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:na.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,replyType:ra.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},lM=function(t){return W("number",t.prevResultSize)&&W("number",t.nextResultSize)&&W("boolean",t.isInclusive)&&W("boolean",t.reverse)&&W("string",t.messageTypeFilter)&&wt(na,t.messageTypeFilter)&&It("string",t.customTypesFilter,!0)&&It("string",t.senderUserIdsFilter,!0)&&wt(ra,t.replyType)&&W("boolean",t.includeMetaArray)&&W("boolean",t.includeReactions)&&W("boolean",t.includeParentMessageInfo)&&W("boolean",t.includeThreadInfo)&&W("boolean",t.showSubchannelMessagesOnly)},AS={replyType:ra.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},uM=function(t){return wt(ra,t.replyType)&&W("boolean",t.includeReactions)&&W("boolean",t.includeMetaArray)&&W("boolean",t.includeParentMessageInfo)&&W("boolean",t.includeThreadInfo)};(function(t){t.MESSAGE="message"})(oM||(oM={})),(function(t){t.INTERNAL_BACKSYNC="internal_backsync",t.INTERNAL_FILL_GAP="internal_fill_gap",t.EXTERNAL_LEGACY="external_legacy",t.EXTERNAL_COLLECTION="external_collection"})(Ko||(Ko={}));var wS,fG=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=e.includeMetaArray,l=e.includeReactions,c=e.includeThreadInfo,d=e.includeParentMessageInfo,f=t.call(this)||this;return f.method=Ee.GET,f.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(a)),f.params={is_sdk:!0,with_sorted_meta_array:s,include_reactions_summary:l!=null&&l,include_thread_info:c,include_parent_message_info:d,include_poll_details:!0},f}return k(n,t),n})(be),pG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.message=r?sa(e,q({},r)):null,i}return k(n,t),n})(we),mb=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.timestamp,s=e.token,l=e.prevResultSize,c=e.nextResultSize,d=e.isInclusive,f=e.reverse,v=e.messageTypeFilter,g=e.customTypesFilter,y=e.senderUserIdsFilter,b=e.replyType,C=e.includeMetaArray,w=e.includeReactions,I=e.parentMessageId,M=e.includeThreadInfo,R=e.includeParentMessageInfo,U=e.showSubchannelMessagesOnly,H=e.checkingHasNext,P=e.checkingContinuousMessages,G=e.sdkSource,Y=t.call(this)||this;return Y.method=Ee.GET,Y.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages"),Y.params=Pe(We({is_sdk:!0,prev_limit:l,next_limit:c,include:d,reverse:f,message_ts:a,message_id:s,message_type:v??null,custom_types:g,sender_ids:y,include_reply_type:b,with_sorted_meta_array:C,include_reactions_summary:w,parent_message_id:I,include_thread_info:M,include_parent_message_info:R,show_subchannel_message_only:U,include_poll_details:!0,checking_has_next:H,checking_continuous_messages:P,sdk_source:G})),Y}return k(n,t),n})(be),vb=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return r.is_continuous_messages!==void 0&&(i.isContinuousMessages=r.is_continuous_messages),r.has_next!==void 0&&(i.hasNext=r.has_next),i.messages=r.messages.map((function(a){return sa(e,a)})),i}return k(n,t),n})(we),mG=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.timestamp,s=e.token,l=e.replyType,c=e.includeMetaArray,d=e.includeReactions,f=e.includeThreadInfo,v=e.includeParentMessageInfo,g=t.call(this)||this;return g.method=Ee.GET,g.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/changelogs"),g.params={change_ts:a,token:s,with_sorted_meta_array:c,include_reactions_summary:d,include_thread_info:f,include_reply_type:l,include_parent_message_info:v,include_poll_details:!0},g}return k(n,t),n})(be),vG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.updatedMessages=r.updated.map((function(a){return sa(e,a)})),i.deletedMessagesInfo=r.deleted.map((function(a){return{messageId:a.message_id,deletedAt:a.deleted_at}})),i.hasMore=r.has_more,i.nextToken=r.next,i.forceUseNextToken=r.force_use_next_token||!1,i}return k(n,t),n})(we),_G=(function(t){function n(e){var r=e.channelUrl,i=e.scheduledMessageId,a=t.call(this)||this;return a.method=Ee.GET,a.path="".concat(Aa,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(i)),a.params={},a}return k(n,t),n})(be),gG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.message=r?sa(e,q({},r)):null,i}return k(n,t),n})(we);(function(t){t.MUTED="muted",t.BANNED="banned"})(wS||(wS={}));var cM=(function(){function t(n){var e,r,i,a;this.restrictionType=null,wt(wS,n.restriction_type)&&(this.restrictionType=n.restriction_type),this.description=(e=n.description)!==null&&e!==void 0?e:null,this.endAt=(i=(r=n.end_at)!==null&&r!==void 0?r:n.muted_end_at)!==null&&i!==void 0?i:-1,this.remainingDuration=(a=n.remaining_duration)!==null&&a!==void 0?a:-1}return t.payloadify=function(n){return Pe(We({restriction_type:n.restrictionType,description:n.description,end_at:n.endAt,remaining_duration:n.remainingDuration}))},t})(),Rp=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.restrictionInfo=new cM(r),i}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),cM.payloadify(e.restrictionInfo))))},n})(Mt),yG=(function(t){function n(e,r){var i,a=this;return(a=t.call(this,e,r)||this).isMuted=!1,a.isMuted=(i=r.is_muted)!==null&&i!==void 0&&i,a}return k(n,t),n})(Mt),zs=(function(){function t(){this._onPending=st,this._onFailed=st,this._onSucceeded=st}return t.prototype._trigger=function(n){switch(n?.sendingStatus){case dn.PENDING:n.errorCode===0&&this._onPending(n);break;case dn.SCHEDULED:case dn.SUCCEEDED:this._onSucceeded(n)}},t.prototype._triggerFailed=function(n,e){switch(e?.sendingStatus){case dn.FAILED:case dn.CANCELED:this._onFailed(n,e.scheduledInfo?null:e)}},t.prototype.onPending=function(n){return this._onPending=n,this},t.prototype.onFailed=function(n){return this._onFailed=n,this},t.prototype.onSucceeded=function(n){return this._onSucceeded=n,this},t})(),s2={data:void 0,customType:void 0,mentionType:aa.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,metaArrays:void 0,parentMessageId:void 0,isReplyToChannel:!1,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0,isPinnedMessage:!1,pollId:void 0},o2=function(t){return W("string",t.data,!0)&&W("string",t.customType,!0)&&wt(aa,t.mentionType)&&It("string",t.mentionedUserIds,!0)&&It(Mt,t.mentionedUsers,!0)&&It(Sa,t.metaArrays,!0)&&W("number",t.parentMessageId,!0)&&W("boolean",t.isReplyToChannel)&&wt(Ql,t.pushNotificationDeliveryOption,!0)&&W(sl,t.appleCriticalAlertOptions,!0)&&W("boolean",t.isPinnedMessage,!0)&&W("number",t.pollId,!0)},dM=function(t){return{isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,pollId:t.pollId}},Px=q(q({},s2),{message:"",mentionedMessageTemplate:void 0,translationTargetLanguages:void 0,extendedMessagePayload:void 0});function Fx(t){var n,e,r;return(n=t.messageParams)!==null&&n!==void 0?n:We(q(q({},t),{mentionType:t.mentionType,mentionedUserIds:(e=t.mentionedUserIds)!==null&&e!==void 0?e:(r=t.mentionedUsers)===null||r===void 0?void 0:r.map((function(i){return i.userId})),mentionedMessageTemplate:t.mentionedMessageTemplate,translationTargetLanguages:Object.keys(t.translations),pushNotificationDeliveryOption:Ql.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}))}var fp,IS=function(t){var n;return Pe(We({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUsers:t.mentionedUsers,mentionedUserIds:t.mentionedUserIds,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,pollId:(n=t.poll)===null||n===void 0?void 0:n.id,parentMessageId:t.parentMessageId,appleCriticalAlertOptions:t.appleCriticalAlertOptions,message:t.message,translationTargetLanguages:Object.keys(t.translations),extendedMessagePayload:t.extendedMessagePayload}))},Hx=function(t){return o2(t)&&W("string",t.message)&&W("string",t.mentionedMessageTemplate,!0)&&It("string",t.translationTargetLanguages,!0)&&W("object",t.extendedMessagePayload,!0)};(function(t){t.FILE="file",t.BLOB="blob",t.BLOB_LIKE_OBJECT="blobLikeObject",t.URL="url"})(fp||(fp={}));var Vb=function(t){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&t instanceof Blob},lC=function(t){return t===fp.BLOB||t===fp.FILE},hM=function(t){return{file:t.file,fileKey:t.fileKey,fileType:t.fileType,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption}},fM=q(q({},s2),{file:void 0,fileKey:void 0,fileUrl:void 0,fileName:void 0,fileType:void 0,fileSize:void 0,mimeType:void 0,thumbnailSizes:void 0,requireAuth:!1,message:void 0});function Bx(t){var n,e,r,i;return(n=t.messageParams)!==null&&n!==void 0?n:We(q(q({},t),{fileUrl:t.plainUrl,fileName:t.name,fileSize:t.size,mimeType:t.type,mentionType:t.mentionType,mentionedUserIds:(e=t.mentionedUserIds)!==null&&e!==void 0?e:(r=t.mentionedUsers)===null||r===void 0?void 0:r.map((function(a){return a.userId})),pushNotificationDeliveryOption:Ql.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:(i=t.thumbnails)===null||i===void 0?void 0:i.map((function(a){return{maxWidth:a.width,maxHeight:a.height}})),requireAuth:t.requireAuth,isPinnedMessage:!1,_thumbnails:t.thumbnails,message:t.message}))}var c0,MS=function(t,n){var e,r;return t.messageParams?(!t.url&&Oi(n)&&(t.messageParams.file=n),t.messageParams):Pe(We({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUsers:t.mentionedUsers,mentionedUserIds:t.mentionedUserIds,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,appleCriticalAlertOptions:t.appleCriticalAlertOptions,file:n,fileUrl:t.url,fileName:t.name,fileSize:t.size,mimeType:t.type,thumbnailSizes:(e=t.thumbnails)===null||e===void 0?void 0:e.map((function(i){return{maxWidth:i.width,maxHeight:i.height}})),message:t.message,pollId:(r=t.poll)===null||r===void 0?void 0:r.id}))},pM=function(t){return o2(t)&&(Oi(t.file)||W("string",t.fileUrl))&&W("string",t.fileName,!0)&&W("string",t.mimeType,!0)&&W("number",t.fileSize,!0)&&W("string",t.message,!0)&&(t.thumbnailSizes===null||t.thumbnailSizes===void 0||Array.isArray(t.thumbnailSizes)&&t.thumbnailSizes.every((function(n){return W("object",n)&&n.maxWidth>0&&n.maxHeight>0})))},v3={data:void 0,customType:void 0,mentionType:aa.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,metaArrays:void 0,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0},_3=function(t){return W("string",t.data,!0)&&W("string",t.customType,!0)&&wt(aa,t.mentionType)&&It("string",t.mentionedUserIds,!0)&&It(Mt,t.mentionedUsers,!0)&&It(Sa,t.metaArrays,!0)&&wt(Ql,t.pushNotificationDeliveryOption,!0)&&W(sl,t.appleCriticalAlertOptions,!0)},Gx=q(q({},v3),{message:void 0,mentionedMessageTemplate:void 0,translationTargetLanguages:void 0,pollId:void 0}),zx=function(t){return _3(t)&&W("string",t.mentionedMessageTemplate,!0)&&W("string",t.message,!0)&&It("string",t.translationTargetLanguages,!0)&&W("number",t.pollId,!0)},EG=q({},v3),bG=(function(t){function n(e){var r=e.channelUrl,i=e.channelType,a=e.token,s=e.limit,l=t.call(this)||this;return l.method=Ee.GET,l.path="".concat(Jt(i),"/").concat(encodeURIComponent(r),"/operators"),l.params={token:a,limit:s},l}return k(n,t),n})(be),TG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.operators=r.operators.map((function(a){return new Mt(e,a)})),i.token=r.next,i}return k(n,t),n})(we),CG=(function(t){function n(e,r,i,a){return t.call(this,e,r,i,a)||this}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=j.of(this._iid).requestQueue,i=new bG(q(q({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(i)]):[3,2]):[3,5];case 1:return a=d.sent(),s=a.as(TG),l=s.operators,c=s.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,l];case 2:return[2,e];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),SG=(function(t){function n(e,r,i,a){var s,l,c,d,f,v,g,y,b,C,w=this;return(w=t.call(this,e,r,i,a)||this).reverse=!1,w.messageTypeFilter=na.ALL,w.customTypesFilter=null,w.senderUserIdsFilter=null,w.replyType=ra.NONE,w.includeMetaArray=!1,w.includeReactions=!1,w.includeParentMessageInfo=!1,w.includeThreadInfo=!1,w.showSubchannelMessagesOnly=!1,w._edge=Number.MAX_SAFE_INTEGER,w.reverse=(s=a.reverse)!==null&&s!==void 0&&s,w.messageTypeFilter=(l=a.messageTypeFilter)!==null&&l!==void 0?l:na.ALL,w.customTypesFilter=(c=a.customTypesFilter)!==null&&c!==void 0?c:null,w.senderUserIdsFilter=(d=a.senderUserIdsFilter)!==null&&d!==void 0?d:null,w.replyType=(f=a.replyType)!==null&&f!==void 0?f:ra.NONE,w.includeMetaArray=(v=a.includeMetaArray)!==null&&v!==void 0&&v,w.includeReactions=(g=a.includeReactions)!==null&&g!==void 0&&g,w.includeParentMessageInfo=(y=a.includeParentMessageInfo)!==null&&y!==void 0&&y,w.includeThreadInfo=(b=a.includeThreadInfo)!==null&&b!==void 0&&b,w.showSubchannelMessagesOnly=(C=a.showSubchannelMessagesOnly)!==null&&C!==void 0&&C,w}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("boolean",this.reverse)&&wt(na,this.messageTypeFilter)&&wt(ra,this.replyType)&&It("string",this.customTypesFilter,!0)&&It("string",this.senderUserIdsFilter,!0)&&W("boolean",this.includeMetaArray)&&W("boolean",this.includeReactions)&&W("boolean",this.includeParentMessageInfo)&&W("boolean",this.includeThreadInfo)&&W("boolean",this.showSubchannelMessagesOnly)},n.prototype.load=function(){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,_i.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,We({prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly}))]):[3,2]:[3,5];case 1:return e=r.sent(),this._edge=Math.min.apply(Math,et([Number.MAX_SAFE_INTEGER],Ye(e.map((function(i){return i.createdAt}))),!1)),this._hasNext=e.length>=this.limit,this._isLoading=!1,[2,e];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),NG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.limit,l=e.token;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/mute"),r.params={limit:s,token:l},r}return k(n,t),n})(be),AG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.mutedUsers=[];var a=r.next,s=r.muted_list;return i.token=a,s&&s.length>0&&(i.mutedUsers=s.map((function(l){return new Rp(e,l)}))),i}return k(n,t),n})(we),wG=(function(t){function n(e,r,i,a){return t.call(this,e,r,i,a)||this}return k(n,t),n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new NG(q(q({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(AG),s=a.mutedUsers,l=a.token,this._token=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),IG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.limit,l=e.token;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/ban"),r.params=Pe({limit:s,token:l}),r}return k(n,t),n})(be),MG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.bannedUsers=[];var a=r.next,s=r.banned_list;return i.token=a,s&&s.length>0&&(i.bannedUsers=s.map((function(l){return new Rp(e,l.user)}))),i}return k(n,t),n})(we),OG=(function(t){function n(e,r,i,a){return t.call(this,e,r,i,a)||this}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new IG(q(q({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(MG),s=a.bannedUsers,l=a.token,this._token=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku);(function(t){t.SPAM="spam",t.HARASSING="harassing",t.SUSPICIOUS="suspicious",t.INAPPROPRIATE="inappropriate"})(c0||(c0={}));var RG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.operatorUserIds;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:s},r}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var DG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.operatorUserIds;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:s},r}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var xG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.userId;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/mute/").concat(encodeURIComponent(s)),r}return k(n,t),n})(be),LG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.isMuted=!1,i.startAt=0,i.endAt=0;var a=r.is_muted,s=r.start_at,l=r.end_at,c=r.remaining_duration,d=r.description;return i.isMuted=a,i.startAt=s,i.endAt=l,i.remainingDuration=c,i.description=d,i}return k(n,t),n})(we),mM=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.keys;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metadata"),r.params={keys:s,include_ts:!0},r}return k(n,t),n})(be),vM=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.metadata,s=r.ts;return i.metadata=a,i.ts=s,i}return k(n,t),n})(we),UG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.metadata;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:s,include_ts:!0},r}return k(n,t),n})(be),kG=(function(t){function n(e,r){var i,a,s=this;return(s=t.call(this,e,r)||this).metaData=(i=r.metadata)!==null&&i!==void 0?i:{},s.ts=(a=r.ts)!==null&&a!==void 0?a:null,s}return k(n,t),n})(we),PG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.metadata,l=e.upsert;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:s,include_ts:!0,upsert:l!=null&&l},r}return k(n,t),n})(be),FG=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.metadata,s=r.ts;return i.metadata=a,i.ts=s,i}return k(n,t),n})(we),Vx=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return i.data&&(a.created=i.data.created,a.updated=i.data.updated,a.deleted=i.data.deleted),a}return k(n,t),n})(Jn),HG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.key;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metadata/").concat(s),r.params={include_ts:!0},r}return k(n,t),n})(be),BG=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.ts;return i.ts=a,i}return k(n,t),n})(we),GG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metadata"),r.params={include_ts:!0},r}return k(n,t),n})(be),zG=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.ts;return i.ts=a,i}return k(n,t),n})(we),_M=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.keys;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={keys:s},r}return k(n,t),n})(be),gM=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.metaCounter=r,i}return k(n,t),n})(we),VG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.metaCounter;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:s},r}return k(n,t),n})(be),qG=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.metaCounter=r,i}return k(n,t),n})(we),uC=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.metaCounter,l=e.upsert,c=l!==void 0&&l,d=e.mode,f=d===void 0?"set":d;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:s,upsert:c,mode:f},r}return k(n,t),n})(be),cC=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.metaCounter=r,i}return k(n,t),n})(we),qx=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return i.data&&(a.created=i.data.created,a.updated=i.data.updated,a.deleted=i.data.deleted),a}return k(n,t),n})(Jn),jG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.key;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metacounter/").concat(s),r.params={},r}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var $G=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={},r}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var KG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.userId,l=e.seconds,c=e.description;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/mute"),r.params={user_id:s,seconds:l,description:c},r}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var jx=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return a.user=new Rp(e,i.data),a}return k(n,t),n})(Jn),YG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.userId;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/mute/").concat(encodeURIComponent(s)),r}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var $x=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return a.user=new Rp(e,i.data),a}return k(n,t),n})(Jn),WG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.userId,l=e.seconds,c=e.description;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/ban"),r.params=Pe({user_id:s,seconds:l,description:c}),r}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var Kx=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return a.user=new Rp(e,i.data),i.data.member_count&&(a.memberCount=i.data.member_count),i.data.joined_member_count&&(a.joinedMemberCount=i.data.joined_member_count),a}return k(n,t),n})(Jn),QG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.userId;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/ban/").concat(encodeURIComponent(s)),r}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var Yx=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return a.user=new Rp(e,i.data),a}return k(n,t),n})(Jn),yM=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.freezing;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/freeze"),r.params={freeze:s},r}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var Wx=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return a.freeze=i.data.freeze,a}return k(n,t),n})(Jn),g3=function(t){return t instanceof fv?t._custom?"custom":t.name:t},y3=function(t){if(t instanceof fv&&t._custom)return t.name},XG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.category,l=e.userId,c=e.description;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(k4(a),"/").concat(encodeURIComponent(i)),r.params=Pe({report_category:g3(s),reporting_user_id:l,report_description:c,custom_report_category_name:y3(s)}),r}return k(n,t),n})(be),ZG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.category,l=e.userId,c=e.offendingUserId,d=e.description;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(mS,"/users/").concat(c),r.params=Pe({channel_url:i,channel_type:a===Lt.OPEN?"open_channels":"group_channels",report_category:g3(s),reporting_user_id:l,report_description:d,custom_report_category_name:y3(s)}),r}return k(n,t),n})(be),JG=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType,s=e.category,l=e.userId,c=e.offendingUserId,d=e.messageId,f=e.description;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(k4(a),"/").concat(encodeURIComponent(i),"/messages/").concat(d),r.params=Pe({report_category:g3(s),reporting_user_id:l,report_description:f,offending_user_id:c,custom_report_category_name:y3(s)}),r}return k(n,t),n})(be),ez=(function(t){function n(e){var r=[];return e.mentionType===aa.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map((function(i){return i.userId})))),t.call(this,{code:"MESG",ackRequired:!0,payload:Pe(We({channel_url:e.channelUrl,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:r,mentioned_message_template:e.mentionedMessageTemplate,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==Ql.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId?e.parentMessageId:null,req_id:e.reqId,poll_id:e.pollId,pin_message:e.isPinnedMessage,extended_message_payload:e.extendedMessagePayload}))})||this}return k(n,t),n})(ia),E3=(function(t){function n(e,r,i){var a,s,l,c,d=this;(d=t.call(this,e,"MESG",i)||this).message=new ta(e,i);var f=j.of(e).sdkState;return d.isMentioned=gv(d.message.mentionType,(l=(a=d.message.mentionedUserIds)!==null&&a!==void 0?a:(s=d.message.mentionedUsers)===null||s===void 0?void 0:s.map((function(v){return v.userId})))!==null&&l!==void 0?l:[],f.userId),d.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,d}return k(n,t),n})(Jn),EM=(function(t){function n(e){var r=null;return e.mentionType===aa.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map((function(i){return i.userId})))),t.call(this,{code:"MEDI",ackRequired:!0,payload:Pe(We({channel_url:e.channelUrl,msg_id:e.messageId,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:r,mentioned_message_template:e.mentionedMessageTemplate,apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,poll_id:e.pollId}))})||this}return k(n,t),n})(ia),b1=(function(t){function n(e,r,i){var a,s,l,c,d,f=this;(f=t.call(this,e,"MEDI",i)||this).message=new ta(e,i);var v=j.of(e).sdkState;return f.mentionCountChange=n3({mentionType:(a=i.old_values)===null||a===void 0?void 0:a.mention_type,mentionedUserIds:(l=(s=i.old_values)===null||s===void 0?void 0:s.mentioned_user_ids)!==null&&l!==void 0?l:[]},We({mentionType:f.message.mentionType,mentionedUserIds:(c=f.message.mentionedUserIds)!==null&&c!==void 0?c:(d=f.message.mentionedUsers)===null||d===void 0?void 0:d.map((function(g){return g.userId}))}),v.userId),f}return k(n,t),n})(Jn),bM=(function(t){function n(e){var r=null;return e.mentionType===aa.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map((function(i){return i.userId})))),t.call(this,{code:"FEDI",ackRequired:!0,payload:Pe(We({channel_url:e.channelUrl,msg_id:e.messageId,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:r,apple_critical_alert_options:e.appleCriticalAlertOptions}))})||this}return k(n,t),n})(ia),T1=(function(t){function n(e,r,i){var a,s,l,c,d,f=this;(f=t.call(this,e,"FEDI",i)||this).message=new Zr(e,i);var v=j.of(e).sdkState;return f.mentionCountChange=n3({mentionType:(a=i.old_values)===null||a===void 0?void 0:a.mention_type,mentionedUserIds:(l=(s=i.old_values)===null||s===void 0?void 0:s.mentioned_user_ids)!==null&&l!==void 0?l:[]},We({mentionType:f.message.mentionType,mentionedUserIds:(c=f.message.mentionedUserIds)!==null&&c!==void 0?c:(d=f.message.mentionedUsers)===null||d===void 0?void 0:d.map((function(g){return g.userId}))}),v.userId),f}return k(n,t),n})(Jn),tz=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=e.reactionKey,l=t.call(this)||this;return l.method=Ee.POST,l.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(a,"/reactions"),l.params={reaction:s},l}return k(n,t),n})(be),nz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.reactionEvent=new p3(r),i}return k(n,t),n})(we),rz=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=e.reactionKey,l=t.call(this)||this;return l.method=Ee.DELETE,l.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(a,"/reactions"),l.params={reaction:s},l}return k(n,t),n})(be),iz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.reactionEvent=new p3(q({},r)),i}return k(n,t),n})(we),az=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=e.translationTargetLanguages,l=t.call(this)||this;return l.method=Ee.POST,l.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(a),"/translation"),l.params={target_langs:s},l}return k(n,t),n})(be),sz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.message=new ta(e,r),i}return k(n,t),n})(we),oz=(function(t){function n(e){var r,i=this;i=t.call(this)||this;var a=[];e.mentionType===aa.USERS&&(e.mentionedUserIds?a=e.mentionedUserIds:e.mentionedUsers&&(a=e.mentionedUsers.map((function(c){return c.userId}))));var s=e.channelType,l=e.channelUrl;return i.method=Ee.POST,i.path="".concat(Jt(s),"/").concat(encodeURIComponent(l),"/scheduled_messages"),i.params=Pe(We({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:_v.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:a,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map((function(c){return Sa.payloadify(c)})),apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption})),i}return k(n,t),n})(be),Qx=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.message=new ta(e,r),i}return k(n,t),n})(we),lz=(function(t){function n(e){var r,i,a=this;a=t.call(this)||this;var s=[];e.mentionType===aa.USERS&&(e.mentionedUserIds?s=e.mentionedUserIds:e.mentionedUsers&&(s=e.mentionedUsers.map((function(d){return d.userId}))));var l=e.channelType,c=e.channelUrl;return a.method=Ee.POST,a.path="".concat(Jt(l),"/").concat(encodeURIComponent(c),"/scheduled_messages"),a.params=We({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:_v.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:(r=e._thumbnails)===null||r===void 0?void 0:r.map((function(d){return Qc.payloadify(d)})),custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:s,sorted_metaarray:(i=e.metaArrays)===null||i===void 0?void 0:i.map((function(d){return Sa.payloadify(d)})),apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,push_option:e.pushNotificationDeliveryOption}),a}return k(n,t),n})(be),uz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.message=new Zr(e,r),i}return k(n,t),n})(we),cz=(function(t){function n(e){var r=e.pollId,i=e.title,a=e.data,s=e.allowUserSuggestion,l=e.allowMultipleVotes,c=e.closeAt,d=t.call(this)||this;return d.method=Ee.PUT,d.path="".concat(Xl,"/").concat(encodeURIComponent(r)),d.params={title:i,data:a,allow_user_suggestion:s,allow_multiple_votes:l,close_at:c},d}return k(n,t),n})(be),dz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.poll=new al(e,r),i}return k(n,t),n})(we),hz=(function(t){function n(e){var r=e.pollId,i=t.call(this)||this;return i.method=Ee.DELETE,i.path="".concat(Xl,"/").concat(encodeURIComponent(r)),i}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var fz=(function(t){function n(e){var r=e.pollId,i=t.call(this)||this;return i.method=Ee.PUT,i.path="".concat(Xl,"/").concat(encodeURIComponent(r),"/close"),i}return k(n,t),n})(be),pz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.poll=new al(e,r),i}return k(n,t),n})(we),mz=(function(t){function n(e){var r=e.channelUrl,i=e.channelType,a=e.pollId,s=e.optionText,l=t.call(this)||this;return l.method=Ee.POST,l.path="".concat(Xl,"/").concat(encodeURIComponent(a),"/options"),l.params={channel_url:r,channel_type:i,text:s},l}return k(n,t),n})(be),vz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.poll=new al(e,r),i}return k(n,t),n})(we),_z=(function(t){function n(e){var r=e.pollId,i=e.pollOptionId,a=e.optionText,s=t.call(this)||this;return s.method=Ee.PUT,s.path="".concat(Xl,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(i)),s.params={text:a},s}return k(n,t),n})(be),gz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.poll=new al(e,r),i}return k(n,t),n})(we),yz=(function(t){function n(e){var r=e.pollId,i=e.pollOptionId,a=t.call(this)||this;return a.method=Ee.DELETE,a.path="".concat(Xl,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(i)),a}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var Ez=(function(t){function n(e){var r=e.reqId,i=e.channelType,a=e.channelUrl,s=e.pollId,l=e.pollOptionIds;return t.call(this,{code:"VOTE",ackRequired:!0,payload:Pe({req_id:r,channel_type:i===Lt.OPEN?"open_channels":"group_channels",channel_url:a,poll_id:s,option_ids:l})})||this}return k(n,t),n})(ia),b3=(function(t){function n(e,r,i){var a=t.call(this,e,"VOTE",i)||this;return a.event=new k9(i),a.channelUrl=i.channel_url,a.channelType=i.channel_type,a}return k(n,t),n})(Jn),Xx=100,Zx="GroupChannel",bz="url",Jx=100,T3="Message",Tz="messageId",eL="NotificationMessage",Cz="notificationId",Sz="Poll",Nz="pollId",Az="FeedChannel",wz="url",tL="UserInfo",Iz="userId";function Mz(t){var n,e,r;return(n=t.messageParams)!==null&&n!==void 0?n:We(q(q({},t),{isReplyToChannel:!1,mentionedUserIds:(e=t.mentionedUserIds)!==null&&e!==void 0?e:(r=t.mentionedUsers)===null||r===void 0?void 0:r.map((function(i){return i.userId})),pushNotificationDeliveryOption:Ql.DEFAULT,isPinnedMessage:!1,fileInfoList:t.fileInfoList.map((function(i){var a;return{fileUrl:i.plainUrl,fileName:i.fileName,fileSize:i.fileSize,mimeType:i.mimeType,thumbnailSizes:(a=i.thumbnails)===null||a===void 0?void 0:a.map((function(s){return{maxWidth:s.width,maxHeight:s.height}})),_thumbnails:i.thumbnails,_uploadedMetaData:{requireAuth:i._requireAuth,isUploaded:!0}}}))}))}var Oz=q(q({},s2),{fileInfoList:[],message:""}),Rz=function(t){return(Oi(t.file)||W("string",t.fileUrl))&&W("string",t.fileName,!0)&&W("string",t.mimeType,!0)&&W("number",t.fileSize,!0)&&(t.thumbnailSizes===void 0||Array.isArray(t.thumbnailSizes)&&t.thumbnailSizes.every((function(n){return n.maxWidth>0&&n.maxHeight>0})))},qb=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._onFileUploaded=st,e}return k(n,t),n.prototype._triggerOnFileUploaded=function(e,r,i,a){this._onFileUploaded(e,r,i,a)},n.prototype.onFileUploaded=function(e){return this._onFileUploaded=e,this},n.prototype.onPending=function(e){return t.prototype.onPending.call(this,e),this},n.prototype.onFailed=function(e){return t.prototype.onFailed.call(this,e),this},n.prototype.onSucceeded=function(e){return t.prototype.onSucceeded.call(this,e),this},n})(zs),Dz=(function(t){function n(e,r){var i=t.call(this,e)||this;return i.message=null,i.message=sa(e,r.message),i}return k(n,t),n})(ti),xz=(function(t){function n(e){var r=this,i=e.channelType,a=e.channelUrl,s=e.limit,l=e.token,c=e.includeReactions,d=e.includeMetaArray,f=e.includeParentMessageInfo,v=e.includeThreadInfo,g=e.includePollDetails;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Jt(i),"/").concat(encodeURIComponent(a),"/pinned_messages"),r.params=Pe({limit:s,token:l,include_reactions_summary:c,with_sorted_meta_array:d,include_thread_info:v,include_parent_message_info:f,include_poll_details:g}),r}return k(n,t),n})(be),Lz=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.pinned_messages,s=r.has_more,l=r.next;return i.pinnedMessages=a.map((function(c){return new Dz(e,c)})),i.hasMore=s,i.token=l,i}return k(n,t),n})(we),Uz=(function(t){function n(e,r,i,a){var s=t.call(this,e,r,i,a)||this;return s.includeMetaArray=a.includeMetaArray,s.includeReactions=a.includeReactions,s.includeParentMessageInfo=a.includeParentMessageInfo,s.includeThreadInfo=a.includeThreadInfo,s.includePollDetails=a.includePollDetails,s}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("boolean",this.includeMetaArray,!0)&&W("boolean",this.includeReactions,!0)&&W("boolean",this.includeParentMessageInfo,!0)&&W("boolean",this.includeThreadInfo,!0)&&W("boolean",this.includePollDetails,!0)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new xz(q(q({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=d.sent(),a=i.as(Lz),s=a.pinnedMessages,l=a.hasMore,c=a.token,this._token=c,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),kz=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=t.call(this)||this;return s.method=Ee.POST,s.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(a,"/pin"),s}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var Pz=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.messageId,s=t.call(this)||this;return s.method=Ee.DELETE,s.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(a,"/pin"),s}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var Ji,Fz=2;(function(t){t.SEND="send",t.RESEND="resend",t.COPY="copy"})(Ji||(Ji={}));var _r,C1=(function(t){function n(e,r){var i,a,s,l,c,d,f,v=this;return(v=t.call(this,e)||this)._name="",v._createdAt=0,v.pinnedMessageIds=[],v.channelType=Lt.BASE,v.coverUrl="",v.customType="",v.data="",v.isFrozen=!1,v.isEphemeral=!1,v.creator=null,v._messageCollectionLastAccessedAt=0,v._url=r.channel_url,v._name=(i=r.name)!==null&&i!==void 0?i:"",v._createdAt=1e3*r.created_at,v.coverUrl=(a=r.cover_url)!==null&&a!==void 0?a:"",v.customType=(s=r.custom_type)!==null&&s!==void 0?s:"",v.data=(l=r.data)!==null&&l!==void 0?l:"",v.isFrozen=(c=r.freeze)!==null&&c!==void 0&&c,v.isEphemeral=(d=r.is_ephemeral)!==null&&d!==void 0&&d,v.creator=r.created_by?new Mt(v._iid,r.created_by):null,r.metadata&&Object.keys(r.metadata).length>0&&r.ts?(v._cachedMetaData=new Map,Object.keys(r.metadata).forEach((function(g){v._cachedMetaData.set(g,{value:r.metadata[g],isRemoved:!1,updatedAt:r.ts})}))):typeof r.metadata=="string"&&(v._cachedMetaData=new Map(Object.entries(JSON.parse(r.metadata)))),v.pinnedMessageIds=(f=r.pinned_message_ids)!==null&&f!==void 0?f:[],v}return k(n,t),Object.defineProperty(n.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createdAt",{get:function(){return this._createdAt},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return q(q({},this),{url:this._url,name:this._name,createdAt:this._createdAt})},n.payloadify=function(e,r){r===void 0&&(r=!1);var i=q(q({},t.payloadify.call(this,e)),{channel_url:e.url,name:e.name,cover_url:e.coverUrl,custom_type:e.customType,data:e.data,freeze:e.isFrozen,is_ephemeral:e.isEphemeral,created_by:e.creator?Mt.payloadify(e.creator):null,created_at:e.createdAt/1e3,metadata:e.cachedMetaData,pinned_message_ids:e.pinnedMessageIds});return r?i:Pe(We(i))},n.prototype.isGroupChannel=function(){return this.channelType===Lt.GROUP},n.prototype.isOpenChannel=function(){return this.channelType===Lt.OPEN},n.prototype.isFeedChannel=function(){return this.channelType===Lt.FEED},Object.defineProperty(n.prototype,"cachedMetaData",{get:function(){var e={};return this._cachedMetaData&&this._cachedMetaData.forEach((function(r,i){r.isRemoved||(e[i]=r.value)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),n.prototype._serializeCachedMetaData=function(){return this._cachedMetaData?{cachedMetaData:JSON.stringify(Object.fromEntries(this._cachedMetaData))}:{}},n.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},n.prototype._update=function(e){Object.assign(this,e)},n.prototype._upsertCachedMetaData=function(e,r){var i=this;Object.keys(e).forEach((function(a){i._cachedMetaData||(i._cachedMetaData=new Map);var s=i._cachedMetaData.get(a);(!s||s.updatedAt<=r)&&i._cachedMetaData.set(a,{value:e[a],isRemoved:!1,updatedAt:r})}))},n.prototype._updateCachedMetaData=function(e,r){var i=this,a=!1;return this._cachedMetaData?this._cachedMetaData.forEach((function(s,l){var c;s.updatedAt<=r&&(i._cachedMetaData.set(l,{value:(c=e[l])!==null&&c!==void 0?c:s.value,isRemoved:!e[l],updatedAt:r}),a=!0)})):(this._cachedMetaData=new Map,Object.keys(e).forEach((function(s){i._cachedMetaData.set(s,{value:e[s],isRemoved:!1,updatedAt:r})})),a=!0),{isUpdated:a}},n.prototype._removeFromCachedMetaData=function(e,r){var i=this;this._cachedMetaData&&e.forEach((function(a){var s=i._cachedMetaData.get(a);s&&s.updatedAt<r&&(s.isRemoved=!0,s.updatedAt=r)}))},n.prototype._clearCachedMetaData=function(){this._cachedMetaData&&this._cachedMetaData.clear()},n.prototype._runIfHandleableWithGroupChannel=function(e){this.isGroupChannel()?e(this):this.isFeedChannel()&&e(this.groupChannel)},n.prototype._generateRequestId=function(){return"rq-".concat(wo())},n.prototype.isIdentical=function(e){return e&&this.url===e.url},n.prototype.isEqual=function(e){return M4(this,e)},n.prototype.createOperatorListQuery=function(e){return e===void 0&&(e={}),new CG(this._iid,this.url,this.channelType,e)},n.prototype.createMutedUserListQuery=function(e){return e===void 0&&(e={}),new wG(this._iid,this.url,this.channelType,e)},n.prototype.createBannedUserListQuery=function(e){return e===void 0&&(e={}),new OG(this._iid,this.url,this.channelType,e)},n.prototype.createPreviousMessageListQuery=function(e){return e===void 0&&(e={}),new SG(this._iid,this.url,this.channelType,e)},n.prototype.createPinnedMessageListQuery=function(e){return e===void 0&&(e={}),new Uz(this._iid,this.url,this.channelType,e)},n.prototype.addOperators=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return Ne(It("string",e)).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new RG({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},n.prototype.removeOperators=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return Ne(It("string",e)).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new DG({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},n.prototype.getMyMutedInfo=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f,v,g;return N(this,(function(y){switch(y.label){case 0:return e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new xG({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,i.send(a)];case 1:return s=y.sent(),l=s.as(LG),c=l.isMuted,d=l.startAt,f=l.endAt,v=l.remainingDuration,g=l.description,[2,{isMuted:c,startAt:d,endAt:f,remainingDuration:v,description:g}]}}))}))},n.prototype.getMetaData=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return Ne(It("string",e)).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new mM({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(i)];case 1:return a=d.sent(),s=a.as(vM),l=s.metadata,c=s.ts,this._upsertCachedMetaData(l,c),[2,l]}}))}))},n.prototype.getAllMetaData=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=j.of(this._iid).requestQueue,r=new mM({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return i=c.sent(),a=i.as(vM),s=a.metadata,l=a.ts,this._updateCachedMetaData(s,l),[2,s]}}))}))},n.prototype.createMetaData=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return r=j.of(this._iid).requestQueue,i=new UG({channelUrl:this.url,channelType:this.channelType,metadata:e}),[4,r.send(i)];case 1:return a=l.sent(),s=a.as(kG).metaData,this._upsertCachedMetaData(s,0),[2,s]}}))}))},n.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),A(this,void 0,void 0,(function(){var i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return i=j.of(this._iid).requestQueue,a=new PG({channelUrl:this.url,channelType:this.channelType,metadata:e,upsert:r}),[4,i.send(a)];case 1:return s=f.sent(),l=s.as(FG),c=l.metadata,d=l.ts,this._upsertCachedMetaData(c,d),[2,c]}}))}))},n.prototype.deleteMetaData=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(W("string",e)).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new HG({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(i)];case 1:return a=l.sent(),s=a.as(BG).ts,this._removeFromCachedMetaData([e],s),[2]}}))}))},n.prototype.deleteAllMetaData=function(){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return e=j.of(this._iid).requestQueue,r=new GG({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return i=s.sent(),a=i.as(zG).ts,this._removeFromCachedMetaData(et([],Ye(this._cachedMetaData.keys()),!1),a),[2]}}))}))},n.prototype.getMetaCounters=function(e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return Ne(It("string",e)).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new _M({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(i)];case 1:return a=s.sent(),[2,a.as(gM).metaCounter]}}))}))},n.prototype.getAllMetaCounters=function(){return A(this,void 0,void 0,(function(){var e,r,i;return N(this,(function(a){switch(a.label){case 0:return e=j.of(this._iid).requestQueue,r=new _M({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return i=a.sent(),[2,i.as(gM).metaCounter]}}))}))},n.prototype.createMetaCounters=function(e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return r=j.of(this._iid).requestQueue,i=new VG({channelUrl:this.url,channelType:this.channelType,metaCounter:e}),[4,r.send(i)];case 1:return a=s.sent(),[2,a.as(qG).metaCounter]}}))}))},n.prototype.updateMetaCounters=function(e,r){return r===void 0&&(r=!1),A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return i=j.of(this._iid).requestQueue,a=new uC({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:r}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(cC).metaCounter]}}))}))},n.prototype.increaseMetaCounters=function(e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return r=j.of(this._iid).requestQueue,i=new uC({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"increase"}),[4,r.send(i)];case 1:return a=s.sent(),[2,a.as(cC).metaCounter]}}))}))},n.prototype.decreaseMetaCounters=function(e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return r=j.of(this._iid).requestQueue,i=new uC({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"decrease"}),[4,r.send(i)];case 1:return a=s.sent(),[2,a.as(cC).metaCounter]}}))}))},n.prototype.deleteMetaCounter=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return Ne(W("string",e)).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new jG({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},n.prototype.deleteAllMetaCounters=function(){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid).requestQueue,r=new $G({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return i.sent(),[2]}}))}))},n.prototype.muteUser=function(e,r,i){return A(this,void 0,void 0,(function(){return N(this,(function(a){return[2,this.muteUserWithUserId(e.userId,r,i)]}))}))},n.prototype.muteUserWithUserId=function(e,r,i){return A(this,void 0,void 0,(function(){var a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(W("string",e)&&W("number",r,!0)&&W("string",i,!0)).throw(Z.invalidParameters),a=j.of(this._iid).requestQueue,s=new KG({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:i}),[4,a.send(s)];case 1:return l.sent(),[2]}}))}))},n.prototype.unmuteUser=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this.unmuteUserWithUserId(e.userId)]}))}))},n.prototype.unmuteUserWithUserId=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return Ne(W("string",e)).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new YG({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},n.prototype.banUser=function(e,r,i){return A(this,void 0,void 0,(function(){return N(this,(function(a){return[2,this.banUserWithUserId(e.userId,r,i)]}))}))},n.prototype.banUserWithUserId=function(e,r,i){return A(this,void 0,void 0,(function(){var a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(W("string",e)&&W("number",r,!0)&&W("string",i,!0)).throw(Z.invalidParameters),a=j.of(this._iid).requestQueue,s=new WG({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:i}),[4,a.send(s)];case 1:return l.sent(),[2]}}))}))},n.prototype.unbanUser=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this.unbanUserWithUserId(e.userId)]}))}))},n.prototype.unbanUserWithUserId=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return Ne(W("string",e)).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new QG({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},n.prototype.freeze=function(){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid).requestQueue,r=new yM({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,e.send(r)];case 1:return i.sent(),this.isFrozen=!0,[2]}}))}))},n.prototype.unfreeze=function(){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid).requestQueue,r=new yM({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,e.send(r)];case 1:return i.sent(),this.isFrozen=!1,[2]}}))}))},n.prototype.getMessagesByMessageId=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},u0),r),Ne(W("number",e)&&lM(i)).throw(Z.invalidParameters),[4,_i.of(this._iid).getMessagesByMessageId(this.url,this.channelType,e,i)];case 1:return[2,a.sent()]}}))}))},n.prototype.getMessagesByTimestamp=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},u0),r),Ne(W("number",e)&&lM(i)).throw(Z.invalidParameters),[4,_i.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,e,i)];case 1:return[2,a.sent()]}}))}))},n.prototype.getMessageChangeLogsSinceTimestamp=function(e,r){return r===void 0&&(r={}),A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},AS),r),Ne(W("number",e)&&uM(i)).throw(Z.invalidParameters),[4,_i.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,i)];case 1:return[2,a.sent()]}}))}))},n.prototype.getMessageChangeLogsSinceToken=function(e,r){return r===void 0&&(r={}),A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},AS),r),Ne(W("string",e)&&uM(i)).throw(Z.invalidParameters),[4,_i.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,i)];case 1:return[2,a.sent()]}}))}))},n.prototype._createPendingSendableMessagePayload=function(e,r,i){var a,s=j.of(this._iid).sessionManager;return Pe(We({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,sorted_metaarray:e.metaArrays?e.metaArrays.map((function(l){return Sa.payloadify(l)})):null,apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,created_at:i,user:s.currentUser?Cv.payloadify(s.currentUser):null,req_id:r,request_state:dn.PENDING,mentioned_user_ids:e.mentionedUserIds,mentioned_users:(a=e.mentionedUsers)===null||a===void 0?void 0:a.map((function(l){return Mt.payloadify(l)}))}))},n.prototype._createPendingUserMessage=function(e,r,i){var a,s,l={};if(e.translationTargetLanguages)try{for(var c=De(e.translationTargetLanguages),d=c.next();!d.done;d=c.next())l[d.value]=""}catch(g){a={error:g}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}var f=Pe(q(q({},this._createPendingSendableMessagePayload(e,r,i)),{type:Bn.USER,message:e.message,translations:l,extended_message_payload:e.extendedMessagePayload})),v=new ta(this._iid,f);return v.messageParams=e,v},n.prototype._createPendingScheduledUserMessage=function(e,r,i){var a=this._createPendingUserMessage(e,r,i);return a.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},a},n.prototype._createPendingFileMessage=function(e,r,i){var a,s,l,c,d,f,v,g=Pe(q(q({},this._createPendingSendableMessagePayload(e,r,i)),{type:Bn.FILE,url:e.fileUrl,file:{name:(a=e.fileName)!==null&&a!==void 0?a:(s=e.file)===null||s===void 0?void 0:s.name,size:(l=e.fileSize)!==null&&l!==void 0?l:(c=e.file)===null||c===void 0?void 0:c.size,type:(d=e.mimeType)!==null&&d!==void 0?d:(f=e.file)===null||f===void 0?void 0:f.type,data:e.data},thumbnails:(v=e._thumbnails)===null||v===void 0?void 0:v.map((function(b){return Qc.payloadify(b)})),message:e.message})),y=new Zr(this._iid,g);return y.messageParams=e,y},n.prototype._createPendingMultipleFilesMessage=function(e,r,i){var a=Pe(q(q({},this._createPendingSendableMessagePayload(e,r,i)),{type:Bn.FILE,file:e.fileInfoList.length>0?{name:e.fileInfoList[0].fileName,size:e.fileInfoList[0].fileSize,type:e.fileInfoList[0].mimeType,data:e.data}:void 0,message:e.message})),s=new So(this._iid,a);return s.messageParams=e,s},n.prototype._validateFailedFileMessageHasFile=function(e,r){var i;return!!e.url||Oi(r)||Oi((i=e.messageParams)===null||i===void 0?void 0:i.file)},n.prototype._createPendingScheduledFileMessage=function(e,r,i){var a=this._createPendingFileMessage(e,r,i);return a.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},a},n.prototype._markMessageAsFailed=function(e,r,i){i===void 0&&(i=!1),e.errorCode=r.code,r.code===je.REQUEST_CANCELED||r.code===je.FILE_UPLOAD_CANCEL_FAILED?e.sendingStatus=dn.CANCELED:i||(e.sendingStatus=dn.FAILED)},n.prototype.sendUserMessage=function(e){var r=q(q({},Px),e);return Ne(Hx(r)).throw(Z.invalidParameters),this._sendUserMessage(r)},n.prototype._sendUserMessage=function(e,r,i){var a=this;r===void 0&&(r=Ji.SEND);var s=j.of(this._iid),l=s.dispatcher,c=s.requestQueue,d=i??this._generateRequestId(),f=Date.now(),v=new zs;return Ea(2).then((function(){var g=a._createPendingUserMessage(e,d,f);l.dispatch(new cr({messages:[g],source:r===Ji.RESEND?ve.LOCAL_MESSAGE_RESEND_STARTED:ve.EVENT_MESSAGE_SENT_PENDING})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(b){return[2,v._trigger(g)]}))}))}));var y=new ez(q(q({},e),{channelUrl:a.url,channelType:a.channelType,reqId:d}));c.send(y).then((function(b){var C=b.as(E3).message;l.dispatch(new cr({messages:[C],source:ve.EVENT_MESSAGE_SENT_SUCCESS})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(w){return[2,v._trigger(C)]}))}))}))})).catch((function(b){if(Ca(b))throw b;Ea(2).then((function(){var C=a._createPendingUserMessage(e,d,f),w=j.of(a._iid).cacheContext,I=w.localCacheEnabled&&w.localCacheConfig.enableAutoResend&&l1(b.code);a._markMessageAsFailed(C,b,I),l.dispatch(new cr({messages:[C],source:C.sendingStatus===dn.PENDING?ve.REQUEST_RESEND_MESSAGE:ve.EVENT_MESSAGE_SENT_FAILED})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(M){return[2,v._triggerFailed(b,C)]}))}))}))}))}))})),v},n.prototype._autoResendUserMessage=function(e){return Ne(e instanceof ta&&!!e.messageParams).throw(Z.invalidParameters),this._sendUserMessage(e.messageParams,Ji.SEND,e.reqId)},n.prototype.resendUserMessage=function(e){var r;return A(this,void 0,void 0,(function(){var i,a;return N(this,(function(s){return Ne(e instanceof ta&&!e.scheduledInfo).throw(Z.invalidParameters),i=new ja,a=(r=e.messageParams)!==null&&r!==void 0?r:IS(e),this._sendUserMessage(a,Ji.RESEND,e.reqId).onFailed((function(l){return i.reject(l)})).onSucceeded((function(l){return i.resolve(l)})),[2,i.promise]}))}))},n.prototype.updateUserMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return i=q(q({},Gx),r),Ne(W("number",e)&&zx(i)).throw(Z.invalidParameters),a=j.of(this._iid).requestQueue,s=new EM(q({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:i.metaArrays?{array:i.metaArrays,mode:"add",upsert:!0}:void 0},i)),[4,a.send(s)];case 1:return l=c.sent(),[2,l.as(b1).message]}}))}))},n.prototype.copyUserMessage=function(e,r){var i,a,s;return A(this,void 0,void 0,(function(){var l,c;return N(this,(function(d){return Ne(e instanceof n&&r instanceof ta&&r.sendingStatus===dn.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Z.invalidParameters),Ne(!r.poll).throw(Z.notSupportedError),l=new ja,c=(i=r.messageParams)!==null&&i!==void 0?i:We(q(q({},r),{mentionType:r.mentionType,mentionedUserIds:(a=r.mentionedUserIds)!==null&&a!==void 0?a:(s=r.mentionedUsers)===null||s===void 0?void 0:s.map((function(f){return f.userId})),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:Ql.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1})),e._sendUserMessage(c).onSucceeded((function(f){l.resolve(f)})).onFailed((function(f){return l.reject(f)})),[2,l.promise]}))}))},n.prototype.translateUserMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(e instanceof ta&&e.messageId>0&&It("string",r)).throw(Z.invalidParameters),i=j.of(this._iid).requestQueue,a=new az({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,translationTargetLanguages:r}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(sz).message]}}))}))},n.prototype._createScheduledUserMessage=function(e,r){var i=this,a=j.of(this._iid).requestQueue,s=Date.now(),l=this._generateRequestId();Ea(2).then((function(){var d=i._createPendingScheduledUserMessage(e,l,s);Qe((function(){return A(i,void 0,void 0,(function(){return N(this,(function(f){return[2,r._trigger(d)]}))}))}))}));var c=new oz(q({reqId:l,channelType:this.channelType,channelUrl:this.url},e));a.send(c).then((function(d){var f=d.as(Qx).message;Qe((function(){return A(i,void 0,void 0,(function(){return N(this,(function(v){return[2,r._trigger(f)]}))}))}))})).catch((function(d){if(Ca(d))throw d;Ea(2).then((function(){var f=i._createPendingScheduledUserMessage(e,l,s);i._markMessageAsFailed(f,d),Qe((function(){return A(i,void 0,void 0,(function(){return N(this,(function(v){return[2,r._triggerFailed(d,f)]}))}))}))}))}))},n.prototype.sendFileMessage=function(e){var r=q(q({},fM),e);return Ne(pM(r)).throw(Z.invalidParameters),this._sendFileMessage(r)},n.prototype.sendMultipleFilesMessage=function(e){var r,i=q(q({},Oz),e),a=j.of(this._iid);Ne((function(l,c){return c===void 0&&(c=c9),o2(l)&&W("string",l.message,!0)&&Array.isArray(l.fileInfoList)&&l.fileInfoList.length>=2&&l.fileInfoList.length<=c&&l.fileInfoList.every((function(d){return Rz(d)}))})(i,(r=a.appInfo)===null||r===void 0?void 0:r.multipleFilesMessageFileCountLimit)).throw(Z.invalidParameters);var s=!!e.fileInfoList.find((function(l){var c=a.appInfo.uploadSizeLimit;return l.file instanceof Blob&&l.file.size>c||l.fileSize>c}));return Ne(!s).throw(Z.fileSizeLimitExceededError),this._sendMultipleFilesMessage(i)},n.prototype._sendFileMessage=function(e,r,i){var a=this;r===void 0&&(r=Ji.SEND);var s=j.of(this._iid).dispatcher,l=_i.of(this._iid).fileMessageQueue,c=i??this._generateRequestId(),d=Date.now(),f=new zs;return Ea(2).then((function(){var v=a._createPendingFileMessage(e,c,d);s.dispatch(new cr({messages:[v],source:r===Ji.RESEND?ve.LOCAL_MESSAGE_RESEND_STARTED:ve.EVENT_MESSAGE_SENT_PENDING})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(g){return[2,f._trigger(v)]}))}))})),l.request(a,c,e).then((function(g){s.dispatch(new cr({messages:[g],source:ve.EVENT_MESSAGE_SENT_SUCCESS})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(y){return[2,f._trigger(g)]}))}))}))})).catch((function(g){if(Ca(g))throw g;Ea(2).then((function(){var y=a._createPendingFileMessage(e,c,d),b=j.of(a._iid).cacheContext,C=b.localCacheEnabled&&b.localCacheConfig.enableAutoResend&&l1(g.code);a._markMessageAsFailed(y,g,C),s.dispatch(new cr({messages:[y],source:y.sendingStatus===dn.PENDING?ve.REQUEST_RESEND_MESSAGE:g.code===je.FILE_UPLOAD_CANCEL_FAILED?ve.LOCAL_MESSAGE_CANCELED:ve.EVENT_MESSAGE_SENT_FAILED})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(w){return[2,f._triggerFailed(g,y)]}))}))}))}))}))})),f},n.prototype._autoResendFileMessage=function(e){Ne(e instanceof Zr&&!!e.messageParams).throw(Z.invalidParameters);var r=j.of(this._iid).logger;return r.debug("autoResendFileMessage pending",e),this._sendFileMessage(e.messageParams,Ji.SEND,e.reqId).onFailed((function(i){r.debug("autoResendFileMessage failed",i)})).onSucceeded((function(i){r.debug("autoResendFileMessage success",i)}))},n.prototype._sendMultipleFilesMessage=function(e,r,i){var a=this,s=j.of(this._iid).dispatcher,l=_i.of(this._iid).fileMessageQueue,c=i??this._generateRequestId(),d=Date.now(),f=new qb;return Ea(2).then((function(){var v=a._createPendingMultipleFilesMessage(e,c,d);s.dispatch(new cr({messages:[v],source:r===Ji.RESEND?ve.LOCAL_MESSAGE_RESEND_STARTED:ve.EVENT_MESSAGE_SENT_PENDING})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(g){return[2,f._trigger(v)]}))}))})),l.request(a,c,e,{requestHandler:f,isCopy:r===Ji.COPY}).then((function(g){s.dispatch(new cr({messages:[g],source:ve.EVENT_MESSAGE_SENT_SUCCESS})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(y){return[2,f._trigger(g)]}))}))}))})).catch((function(g){if(Ca(g))throw g;Ea(2).then((function(){var y=a._createPendingMultipleFilesMessage(e,c,d);a._markMessageAsFailed(y,g),s.dispatch(new cr({messages:[y],source:ve.EVENT_MESSAGE_SENT_FAILED})),Qe((function(){return A(a,void 0,void 0,(function(){return N(this,(function(b){return[2,f._triggerFailed(g,y)]}))}))}))}))}))})),f},n.prototype._createScheduledFileMessage=function(e,r,i,a){var s=this,l=j.of(this._iid).requestQueue,c=new lz(q(q({reqId:i,channelType:this.channelType,channelUrl:this.url},e),{fileUrl:e.fileUrl,requireAuth:e.requireAuth}));l.send(c).then((function(d){var f=d.as(uz).message;Qe((function(){return A(s,void 0,void 0,(function(){return N(this,(function(v){return[2,r._trigger(f)]}))}))}))})).catch((function(d){if(Ca(d))throw d;Ea(2).then((function(){var f=s._createPendingScheduledFileMessage(e,i,a);s._markMessageAsFailed(f,d),Qe((function(){return A(s,void 0,void 0,(function(){return N(this,(function(v){return[2,r._triggerFailed(d,f)]}))}))}))}))}))},n.prototype.sendFileMessages=function(e){var r,i;Ne(e.every((function(d){return pM(q(q({},fM),d))}))).throw(Z.invalidParameters);var a=new zs;try{for(var s=De(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.sendFileMessage(c).onPending((function(d){return a._trigger(d)})).onFailed((function(d,f){return a._triggerFailed(d,f)})).onSucceeded((function(d){return a._trigger(d)}))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a},n.prototype.resendFileMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){return i=this._validateFailedFileMessageHasFile(e,r),Ne(e instanceof Zr&&i&&!e.scheduledInfo).throw(Z.invalidParameters),a=new ja,s=MS(e,r),this._sendFileMessage(s,Ji.RESEND,e.reqId).onFailed((function(c){return a.reject(c)})).onSucceeded((function(c){return a.resolve(c)})),[2,a.promise]}))}))},n.prototype.resendMessage=function(e,r){var i,a;if(Ne(e instanceof Ur&&!e.scheduledInfo&&e.isResendable).throw(Z.invalidParameters),e.isUserMessage()){var s=(i=e.messageParams)!==null&&i!==void 0?i:IS(e);return this._sendUserMessage(s,Ji.RESEND,e.reqId)}if(e.isFileMessage()){var l=this._validateFailedFileMessageHasFile(e,r);return Ne(l).throw(Z.invalidParameters),s=(a=e.messageParams)!==null&&a!==void 0?a:MS(e,r),this._sendFileMessage(s,Ji.RESEND,e.reqId)}if(e.isMultipleFilesMessage())throw Z.channelTypeNotSupportedError},n.prototype.updateFileMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return i=q(q({},EG),r),Ne(W("number",e)&&(function(d){return _3(d)})(i)).throw(Z.invalidParameters),a=j.of(this._iid).requestQueue,s=new bM(q({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:i.metaArrays?{array:i.metaArrays,mode:"add",upsert:!0}:void 0},i)),[4,a.send(s)];case 1:return l=c.sent(),[2,l.as(T1).message]}}))}))},n.prototype.uploadFile=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return r=j.of(this._iid).requestQueue,i=wo(),(a=new g1({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:i})).uploadProgressHandler=e.progressHandler,e.uploadStartedHandler&&e.uploadStartedHandler(i),[4,r.send(a)];case 1:return s=f.sent(),l=s.as(y1),c=l.url,d=l.thumbnails,[2,{requestId:i,url:c,thumbnails:d}]}}))}))},n.prototype.cancelUploadingFileMessage=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return Ne(W("string",e)).throw(Z.invalidParameters),_i.of(this._iid).fileMessageQueue.cancel(this,e),[2,!0]}))}))},n.prototype.copyFileMessage=function(e,r){var i,a,s;return A(this,void 0,void 0,(function(){var l,c;return N(this,(function(d){return Ne(e instanceof n&&r instanceof Zr&&r.sendingStatus===dn.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Z.invalidParameters),l=new ja,c=We(q(q({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(i=r.mentionedUserIds)!==null&&i!==void 0?i:(a=r.mentionedUsers)===null||a===void 0?void 0:a.map((function(f){return f.userId})),pushNotificationDeliveryOption:Ql.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:(s=r.thumbnails)===null||s===void 0?void 0:s.map((function(f){return{maxWidth:f.width,maxHeight:f.height}})),requireAuth:r.requireAuth,isPinnedMessage:!1})),e._sendFileMessage(c).onSucceeded((function(f){return l.resolve(f)})).onFailed((function(f){return l.reject(f)})),[2,l.promise]}))}))},n.prototype.copyMessage=function(e,r){Ne(e instanceof n&&r instanceof Ur&&r.sendingStatus===dn.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Z.invalidParameters);var i=r,a=e;if(i.isUserMessage()){Ne(!i.poll).throw(Z.notSupportedError);var s=Fx(i);return a._sendUserMessage(s)}if(i.isFileMessage())return s=Bx(i),a._sendFileMessage(s);if(r.isMultipleFilesMessage())throw Z.channelTypeNotSupportedError},n.prototype.deleteMessage=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return Ne(e instanceof ba).throw(Z.invalidParameters),e.messageId>0?(r=j.of(this._iid).requestQueue,i=new H4({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,messageToken:e instanceof Ur?e._messageToken:void 0}),[4,r.send(i)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},n.prototype.addReaction=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(e instanceof ba&&e.messageId>0&&W("string",r)).throw(Z.invalidParameters),i=j.of(this._iid).requestQueue,a=new tz({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(nz).reactionEvent]}}))}))},n.prototype.deleteReaction=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(e instanceof ba&&e.messageId>0&&W("string",r)).throw(Z.invalidParameters),i=j.of(this._iid).requestQueue,a=new rz({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(iz).reactionEvent]}}))}))},n.prototype._updateUserMessageMetaArray=function(e,r,i,a){return A(this,void 0,void 0,(function(){var s,l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:return s=j.of(this._iid),l=s.dispatcher,c=s.requestQueue,d=new EM({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:i,upsert:a}}),[4,c.send(d)];case 1:return f=g.sent(),v=f.as(b1).message,l.dispatch(new cr({messages:[v],source:ve.EVENT_MESSAGE_UPDATED})),[2,v]}}))}))},n.prototype._updateFileMessageMetaArray=function(e,r,i,a){return A(this,void 0,void 0,(function(){var s,l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:return s=j.of(this._iid),l=s.dispatcher,c=s.requestQueue,d=new bM({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:i,upsert:a}}),[4,c.send(d)];case 1:return f=g.sent(),v=f.as(T1).message,l.dispatch(new cr({messages:[v],source:ve.EVENT_MESSAGE_UPDATED})),[2,v]}}))}))},n.prototype.createMessageMetaArrayKeys=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){return Ne(e instanceof ba&&e.messageId>0&&It("string",r)).throw(Z.invalidParameters),i=r.map((function(s){return new Sa({key:s})})),e instanceof Zr?[2,this._updateFileMessageMetaArray(e.messageId,i,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,i,"add",!0)]}))}))},n.prototype.deleteMessageMetaArrayKeys=function(e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){return Ne(e instanceof ba&&e.messageId>0&&It("string",r)).throw(Z.invalidParameters),i=r.map((function(s){return new Sa({key:s})})),e instanceof Zr?[2,this._updateFileMessageMetaArray(e.messageId,i,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,i,"remove",!0)]}))}))},n.prototype.addMessageMetaArrayValues=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){return Ne(e instanceof ba&&e.messageId>0&&r.every((function(a){return a instanceof Sa}))).throw(Z.invalidParameters),e instanceof Zr?[2,this._updateFileMessageMetaArray(e.messageId,r,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"add",!0)]}))}))},n.prototype.removeMessageMetaArrayValues=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){return Ne(e instanceof ba&&e.messageId>0&&r.every((function(a){return a instanceof Sa}))).throw(Z.invalidParameters),e instanceof Zr?[2,this._updateFileMessageMetaArray(e.messageId,r,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"remove",!0)]}))}))},n.prototype.report=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return Ne((wt(c0,e)||e instanceof fv)&&W("string",r)).throw(Z.invalidParameters),i=j.of(this._iid),a=i.sdkState,s=i.requestQueue,l=new XG({channelUrl:this.url,channelType:this.channelType,userId:a.userId,category:e,description:r}),[4,s.send(l)];case 1:return c.sent(),[2]}}))}))},n.prototype.reportUser=function(e,r,i){return A(this,void 0,void 0,(function(){var a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return Ne(e instanceof Mt&&(wt(c0,r)||r instanceof fv)&&W("string",i)).throw(Z.invalidParameters),a=j.of(this._iid),s=a.sdkState,l=a.requestQueue,c=new ZG({channelUrl:this.url,channelType:this.channelType,userId:s.userId,offendingUserId:e.userId,category:r,description:i}),[4,l.send(c)];case 1:return d.sent(),[2]}}))}))},n.prototype.reportMessage=function(e,r,i){return A(this,void 0,void 0,(function(){var a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return Ne(e instanceof Ur&&(wt(c0,r)||r instanceof fv)&&W("string",i)).throw(Z.invalidParameters),a=j.of(this._iid),s=a.sdkState,l=a.requestQueue,c=new JG({channelUrl:this.url,channelType:this.channelType,userId:s.userId,offendingUserId:e.sender.userId,messageId:e.messageId,category:r,description:i,messageToken:e._messageToken}),[4,l.send(c)];case 1:return d.sent(),[2]}}))}))},n.prototype.updatePoll=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(W("number",e)&&(function(c){return W("string",c.title,!0)&&Nx(c.data)&&W("boolean",c.allowUserSuggestion,!0)&&W("boolean",c.allowMultipleVotes,!0)&&W("number",c.closeAt,!0)})(r)).throw(Z.invalidParameters),i=j.of(this._iid).requestQueue,a=new cz(q({pollId:e},r)),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(dz).poll]}}))}))},n.prototype.deletePoll=function(e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return r=W("number",e),Ne(r).throw(Z.invalidParameters),i=j.of(this._iid).requestQueue,a=new hz({pollId:e}),[4,i.send(a)];case 1:return s.sent(),[2]}}))}))},n.prototype.closePoll=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return r=W("number",e),Ne(r).throw(Z.invalidParameters),i=j.of(this._iid).requestQueue,a=new fz({pollId:e}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(pz).poll]}}))}))},n.prototype.addPollOption=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return i=W("number",e)&&W("string",r)&&r.trim()!=="",Ne(i).throw(Z.invalidParameters),a=j.of(this._iid).requestQueue,s=new mz({channelUrl:this.url,channelType:this.channelType,pollId:e,optionText:r}),[4,a.send(s)];case 1:return l=c.sent(),[2,l.as(vz).poll]}}))}))},n.prototype.updatePollOption=function(e,r,i){return A(this,void 0,void 0,(function(){var a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return a=W("number",e)&&W("number",r)&&W("string",i)&&i.trim()!=="",Ne(a).throw(Z.invalidParameters),s=j.of(this._iid).requestQueue,l=new _z({pollId:e,pollOptionId:r,optionText:i}),[4,s.send(l)];case 1:return c=d.sent(),[2,c.as(gz).poll]}}))}))},n.prototype.deletePollOption=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return i=W("number",e)&&W("number",r),Ne(i).throw(Z.invalidParameters),a=j.of(this._iid).requestQueue,s=new yz({pollId:e,pollOptionId:r}),[4,a.send(s)];case 1:return l.sent(),[2]}}))}))},n.prototype.votePoll=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f;return N(this,(function(v){switch(v.label){case 0:return i=W("number",e)&&It("number",r),Ne(i).throw(Z.invalidParameters),a=j.of(this._iid),s=a.requestQueue,l=a.dispatcher,c=new Ez({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionIds:r}),[4,s.send(c)];case 1:return d=v.sent(),f=d.as(b3).event,l.dispatch(new i2({event:f,source:ve.EVENT_POLL_VOTED})),[2,f]}}))}))},n.prototype.getPollChangeLogsSinceTimestamp=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return Ne(W("number",e)).throw(Z.invalidParameters),[4,_1.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}}))}))},n.prototype.getPollChangeLogsSinceToken=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return Ne(W("string",e,!0)),[4,_1.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}}))}))},n.prototype.createPollListQuery=function(e){return e===void 0&&(e=10),new Mx(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:e})},n.prototype.createPollVoterListQuery=function(e,r,i){return i===void 0&&(i=20),new Ox(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionId:r,limit:i})},n.prototype.pinMessage=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return Ne(W("number",e)&&e>0).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new kz({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},n.prototype.unpinMessage=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return Ne(W("number",e)&&e>0).throw(Z.invalidParameters),r=j.of(this._iid).requestQueue,i=new Pz({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},n})(ti),Hz=(function(t){function n(e){e===void 0&&(e={});var r=t.call(this)||this;return Object.keys(e).forEach((function(i){r.hasOwnProperty(i)&&(r[i]=e[i])})),r}return k(n,t),n})((function(){this.onConnected=st,this.onReconnectStarted=st,this.onReconnectSucceeded=st,this.onReconnectFailed=st,this.onDisconnected=st,this.onConnectionDelayed=st})),TM=(function(t){function n(e){e===void 0&&(e={});var r=t.call(this)||this;return Object.keys(e).forEach((function(i){r.hasOwnProperty(i)&&(r[i]=e[i])})),r}return k(n,t),n})((function(){this.onSessionExpired=st,this.onSessionTokenRequired=function(t){return t(null)},this.onSessionError=st,this.onSessionRefreshed=st,this.onSessionClosed=st})),Bz=(function(t){function n(e){e===void 0&&(e={});var r=t.call(this)||this;return Object.keys(e).forEach((function(i){r.hasOwnProperty(i)&&(r[i]=e[i])})),r}return k(n,t),n})((function(){this.onFriendsDiscovered=st,this.onTotalUnreadMessageCountChanged=st,this.onTotalUnreadMessageCountUpdated=st})),Gz=(function(t){function n(e){var r=e.limit,i=e.token,a=e.userIdsFilter,s=e.metaDataKeyFilter,l=e.metaDataValuesFilter,c=e.nicknameStartsWithFilter,d=t.call(this)||this;return d.method=Ee.GET,d.path=an,d.params=Pe({limit:r,token:i,user_ids:a,metadatakey:s,metadatavalues_in:l,nickname_startswith:c}),d}return k(n,t),n})(be),zz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.users=r.users.map((function(a){return new Mt(e,a)})),i.next=r.next,i}return k(n,t),n})(we),Vz=(function(t){function n(e,r){var i,a,s,l=this;return(l=t.call(this,e,r)||this).userIdsFilter=null,l.metaDataKeyFilter=null,l.metaDataValuesFilter=null,l.nicknameStartsWithFilter=null,l.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,l.metaDataKeyFilter=(a=r.metaDataKeyFilter)!==null&&a!==void 0?a:null,l.metaDataValuesFilter=(s=r.metaDataValuesFilter)!==null&&s!==void 0?s:null,l.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,l}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&It("string",this.userIdsFilter,!0)&&W("string",this.metaDataKeyFilter,!0)&&It("string",this.metaDataValuesFilter,!0)&&W("string",this.nicknameStartsWithFilter,!0)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new Gz(We(q(q({},this),{token:this._token}))),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(zz),s=a.users,l=a.next,this._token=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Wc),qz=(function(t){function n(e){var r=e.userId,i=e.limit,a=e.token,s=e.userIdsFilter,l=t.call(this)||this;return l.method=Ee.GET,l.path="".concat(an,"/").concat(encodeURIComponent(r),"/block"),l.params=Pe({limit:i,token:a,user_ids:s}),l}return k(n,t),n})(be),jz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.users=r.users.map((function(a){return new Mt(e,a)})),i.next=r.next,i}return k(n,t),n})(we),$z=(function(t){function n(e,r){var i,a=this;return(a=t.call(this,e,r)||this).userIdsFilter=null,a.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,a}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&It("string",this.userIdsFilter,!0)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new qz(We(q(q({},this),{userId:r.userId,token:this._token}))),[4,i.send(a)]):[3,2]:[3,5];case 1:return s=f.sent(),l=s.as(jz),c=l.users,d=l.next,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Wc),Kz=(function(t){function n(e){var r=e.userId,i=e.limit,a=e.token,s=t.call(this)||this;return s.method=Ee.GET,s.path="".concat(an,"/").concat(encodeURIComponent(r),"/friends"),s.params={limit:i,token:a},s}return k(n,t),n})(be),Yz=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.hasMore=r.has_more,i.users=r.users.map((function(a){return new Mt(e,a)})),i.next=r.next,i}return k(n,t),n})(we),Wz=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f;return N(this,(function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new Kz(q(q({},this),{userId:r.userId,token:this._token})),[4,i.send(a)]):[3,2]:[3,5];case 1:return s=v.sent(),l=s.as(Yz),c=l.users,d=l.hasMore,f=l.next,this._token=f,this._hasNext=d,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Wc),_b={},W0=(function(){function t(n){var e=n.dbname,r=n.itemSizeLimit,i=r===void 0?1048576:r,a=n.cacheLimit,s=a===void 0?256:a,l=n.blockHashBase,c=l===void 0?2:l,d=n.blockHashMultiplier,f=d===void 0?10:d,v=n.blockHashConstant,g=v===void 0?11:v,y=n.transactionApplyDelay,b=y===void 0?200:y,C=n.disableLogger,w=C!==void 0&&C;return _b[e]||(this.itemSizeLimit=i,this.cacheLimit=s,this.blockHashBase=c,this.blockHashMultiplier=f,this.blockHashConstant=g,this.transactionApplyDelay=b,this.disableLogger=w,_b[e]=this),_b[e]}return t.get=function(n){return _b[n]},t})();(function(t){t[t.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",t[t.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",t[t.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",t[t.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",t[t.STORE_IS_FULL=61001003]="STORE_IS_FULL",t[t.STORE_NOT_INITIALIZED=61001004]="STORE_NOT_INITIALIZED",t[t.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",t[t.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",t[t.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",t[t.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",t[t.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",t[t.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",t[t.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",t[t.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",t[t.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",t[t.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",t[t.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",t[t.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",t[t.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",t[t.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",t[t.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",t[t.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",t[t.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",t[t.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",t[t.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",t[t.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(_r||(_r={}));var lp,yn=(function(t){function n(e){var r=e.code,i=r===void 0?_r.UNKNOWN_ERROR:r,a=e.message,s=a===void 0?"Unknown error occurred.":a,l=t.call(this,s)||this;return l.code=i,Object.setPrototypeOf(l,n.prototype),l}return k(n,t),Object.defineProperty(n,"storeNotDefined",{get:function(){return new n({code:_r.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailable",{get:function(){return new n({code:_r.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailableInPrivateBrowsing",{get:function(){return new n({code:_r.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeIsFull",{get:function(){return new n({code:_r.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotInitialized",{get:function(){return new n({code:_r.STORE_NOT_INITIALIZED,message:"Store is not initialized."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeKeyTypeIsInvalid",{get:function(){return new n({code:_r.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenIntegrity",{get:function(){return new n({code:_r.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenBlob",{get:function(){return new n({code:_r.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeEncryptionInvalid",{get:function(){return new n({code:_r.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeItemSizeExceeded",{get:function(){return new n({code:_r.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeReadFailed",{get:function(){return new n({code:_r.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeWriteFailed",{get:function(){return new n({code:_r.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"databaseSchemaNotOnUpgrade",{get:function(){return new n({code:_r.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionNotReady",{get:function(){return new n({code:_r.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotMatch",{get:function(){return new n({code:_r.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionQueryNotValid",{get:function(){return new n({code:_r.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionInsertDuplicate",{get:function(){return new n({code:_r.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotFound",{get:function(){return new n({code:_r.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotGiven",{get:function(){return new n({code:_r.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionWriteFailed",{get:function(){return new n({code:_r.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionItemSizeExceeded",{get:function(){return new n({code:_r.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTableIsRequired",{get:function(){return new n({code:_r.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTypesNotMatch",{get:function(){return new n({code:_r.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"compareTypesNotMatch",{get:function(){return new n({code:_r.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"circularReferenceFound",{get:function(){return new n({code:_r.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),n})(Error);(function(t){t.INIT="init",t.READY="ready",t.CLOSED="closed"})(lp||(lp={}));var CM,vs=function(t,n){if(n===void 0&&(n=new WeakMap),typeof t=="object"&&t!==null){if(n.has(t))throw yn.circularReferenceFound;var e;return n.set(t,!0),Array.isArray(t)?e=t.map((function(r){return vs(r,n)})):t instanceof RegExp||t instanceof Date?e=t:(e={},Object.keys(t).forEach((function(r){e[r]=vs(t[r],n)}))),n.delete(t),e}return t},Uc=function(t,n){if(n==null)return 1;if(t==null)return-1;if(typeof t!=typeof n)throw yn.compareTypesNotMatch;var e=0;switch(typeof t){case"boolean":case"number":e=t-n;break;case"string":e=t.localeCompare(n)}return e},SM=function(t,n){for(var e=0,r=0;r<t.length;r++)e=t.charCodeAt(r)+(e<<6)+(e<<16)-e;return(e>>>0)%n},gb=function(t){return new Promise((function(n){setTimeout((function(){return n()}),t)}))},pp=function(t,n){if(!n)return!1;if(typeof t!="function"){for(var e in t)if(["/and","&&"].includes(e)){if(t[e].some((function(c){return!pp(c,n)})))return!1}else if(["/or","||"].includes(e)){if(t[e].every((function(c){return!pp(c,n)})))return!1}else if(e==="/where"){if(!(0,t[e])(n))return!1}else{var r=e;if(typeof t[r]=="object"){var i=t[r];for(var a in i)switch(a){case"/eq":case"=":if((s=n[r])!==(l=i[a]))return!1;break;case"/neq":case"!=":if((s=n[r])===(l=i[a]))return!1;break;case"/gt":case">":var s=n[r],l=i[a];if(!(Uc(s,l)>0))return!1;break;case"/gte":case">=":if(s=n[r],l=i[a],!(Uc(s,l)>=0))return!1;break;case"/lt":case"<":if(s=n[r],l=i[a],!(Uc(s,l)<0))return!1;break;case"/lte":case"<=":if(s=n[r],l=i[a],!(Uc(s,l)<=0))return!1;break;case"/in":if(s=n[r],!(l=i[a]).includes(s))return!1;break;case"/nin":if(s=n[r],(l=i[a]).includes(s))return!1;break;case"/contain":if(s=n[r],l=i[a],!s.includes(l))return!1;break;case"/regex":if(s=n[r],!(l=i[a]).test(s))return!1;break;case"/where":if(s=n[r],!(0,i[a])(s))return!1}}else if(typeof t[r]=="function"){if(!t[r](n[r]))return!1}else if(t[r]!==n[r])return!1}return!0}return t(n)},qg=function(){},NM=function(){return Promise.resolve()},Qz=function(t){return t},AM=function(t,n){n()};(function(t){t[t.FORWARD=0]="FORWARD",t[t.BACKWARD=1]="BACKWARD"})(CM||(CM={}));var mp,Ta,ku,Xz=(function(){function t(n){var e=n.initialPrevValue,r=e===void 0?null:e,i=n.initialNextValue,a=i===void 0?null:i,s=n.iterator,l=n.map,c=l===void 0?Qz:l,d=n.backward,f=d===void 0?NM:d,v=n.forward,g=v===void 0?NM:v,y=n.complete,b=y===void 0?qg:y;this._prevValue=r,this._nextValue=a,this._error=null,this._map=c,this._backward=f,this._forward=g,this._iterator=s,this._complete=b}return Object.defineProperty(t.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),t.prototype.prev=function(){return A(this,void 0,void 0,(function(){var n,e,r;return N(this,(function(i){switch(i.label){case 0:if(!this.hasPrevious)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this._prevValue,e=this,[4,this._backward()];case 2:return e._prevValue=i.sent()||null,this._nextValue=n,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}}))}))},t.prototype.next=function(){return A(this,void 0,void 0,(function(){var n,e,r;return N(this,(function(i){switch(i.label){case 0:if(!this.hasNext)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this._nextValue,e=this,[4,this._forward()];case 2:return e._nextValue=i.sent()||null,this._prevValue=n,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}}))}))},t.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},t})(),OS=(function(){function t(n){var e=n.condition,r=e===void 0?{}:e,i=n.backward,a=i!==void 0&&i,s=n.blockManager,l=n.indexer;this.condition=r,this.backward=a,this._blockManager=s,this._indexer=l}return t.prototype.findOptimizedStartPosition=function(){var n=this,e=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var i=this._indexer.origin.length-1;if(typeof this.condition!="function")for(y=0;y<this._indexer.fields.length;y++){var a=this._indexer.fields[y],s=1;if(a[0]==="-"&&(a=a.slice(1),s=-1),this.condition[a]){if(typeof this.condition[a]=="object"){var l=s>0?r:e;for(var c in this.condition[a])if(l.includes(c)){for(var d=i;d>=0;d--)if(s*Uc(this._indexer.origin[d].columnValues[y],this.condition[a][c])<=0){i=d;break}}}else for(d=i;d>=0;d--)if(s*Uc(this._indexer.origin[d].columnValues[y],this.condition[a])<=0){i=d;break}}}return Math.min(i+1,this._indexer.origin.length-1)}var f=0;if(typeof this.condition!="function")for(var v=function(b){var C=g._indexer.fields[b],w=1;if(C[0]==="-"&&(C=C.slice(1),w=-1),g.condition[C]){if(typeof g.condition[C]=="object")Object.keys(g.condition[C]).forEach((function(M){if((w>0?e:r).includes(M)){for(var R=f;R<n._indexer.origin.length;R++)if(w*Uc(n._indexer.origin[R].columnValues[b],n.condition[C][M])>=0){f=R;break}}}));else for(var I=f;I<g._indexer.origin.length;I++)if(w*Uc(g._indexer.origin[I].columnValues[b],g.condition[C])>=0){f=I;break}}},g=this,y=0;y<this._indexer.fields.length;y++)v(y);return Math.max(f-1,0)},t.prototype.each=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:if(e=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[e]&&(r=this._indexer.origin[e].keys.length-1),i=function(){if(d._indexer.origin[e]){if(!d._indexer.origin[e].keys[++r]){if(!d._indexer.origin[++e])return!1;r=0}return!0}return!1},a=function(){if(d._indexer.origin[e]){if(!d._indexer.origin[e].keys[--r]){if(!d._indexer.origin[--e])return!1;r=d._indexer.origin[e].keys.length-1}return!0}return!1},s=null,!this._indexer.origin[e])return[3,4];l=this.backward?a:i,f.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])];case 2:if((c=f.sent())&&pp(this.condition,c))return s=c,[3,4];f.label=3;case 3:if(l())return[3,1];f.label=4;case 4:return[4,new Promise((function(v){var g=new Xz({initialNextValue:vs(s),iterator:n,forward:function(){return A(d,void 0,void 0,(function(){var y,b;return N(this,(function(C){switch(C.label){case 0:y=this.backward?a:i,C.label=1;case 1:return y()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return(b=C.sent())&&pp(this.condition,b)?[2,vs(b)]:[3,1];case 3:return[2,null]}}))}))},backward:function(){return A(d,void 0,void 0,(function(){var y,b;return N(this,(function(C){switch(C.label){case 0:y=this.backward?i:a,C.label=1;case 1:return y()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return(b=C.sent())&&pp(this.condition,b)?[2,vs(b)]:[3,1];case 3:return[2,null]}}))}))},complete:v});n(g)}))];case 5:return[2,f.sent()]}}))}))},t})(),Zz=(function(){function t(n){var e=n.condition,r=e===void 0?{}:e,i=n.backward,a=i!==void 0&&i,s=n.mutex,l=n.blockManager,c=n.indexer;this._mutex=s,this._iterator=new OS({condition:r,backward:a,blockManager:l,indexer:c})}return t.prototype.fetch=function(n){return n===void 0&&(n={}),A(this,void 0,void 0,(function(){var e,r,i,a,s=this;return N(this,(function(l){switch(l.label){case 0:if(e=Math.max(n.offset||0,0),(r=typeof n.limit=="number"?n.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw yn.collectionQueryNotValid;l.label=1;case 1:return l.trys.push([1,4,,5]),i=[],[4,this._mutex.lock()];case 2:return l.sent(),[4,this._iterator.each((function(c){return A(s,void 0,void 0,(function(){return N(this,(function(d){return c.error?c.stop():c.hasNext?e===0?(i.push(c.nextValue),0<r&&r<=i.length?c.stop():c.next()):(e--,c.next()):c.stop(),[2]}))}))}))];case 3:return l.sent(),this._mutex.unlock(),[2,i];case 4:throw a=l.sent(),this._mutex.unlock(),a;case 5:return[2]}}))}))},t.prototype.count=function(){return A(this,void 0,void 0,(function(){var n,e,r=this;return N(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),n=0,[4,this._mutex.lock()];case 1:return i.sent(),[4,this._iterator.each((function(a){return A(r,void 0,void 0,(function(){return N(this,(function(s){return a.error?a.stop():a.hasNext?(n++,a.next()):a.stop(),[2]}))}))}))];case 2:return i.sent(),this._mutex.unlock(),[2,n];case 3:throw e=i.sent(),this._mutex.unlock(),e;case 4:return[2]}}))}))},t})(),C3=function(t){return"".concat("nest","@").concat(t)},Tp=function(t,n){return"".concat(C3(t),"/").concat(n)},dC=function(t,n){return"".concat(Tp(t,n),".metadata")},RS=function(t,n){return"".concat(Tp(t,n),"/block.")},wM=function(t,n){return"".concat(Tp(t,n),"/blob.")},Jz=(function(){function t(n){var e=n.dbname,r=n.collectionName,i=n.store;this.dbname=e,this.collectionName=r,this.store=i}return t.prototype.get=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f;return N(this,(function(v){switch(v.label){case 0:return[4,this.store.get(n)];case 1:return(e=v.sent())?(r=e.data,i=e.type,typeof fetch>"u"?[3,4]:[4,fetch(r)]):[3,5];case 2:return[4,v.sent().blob()];case 3:return[2,v.sent()];case 4:for(a=[],s=atob(r.split(",")[1]),l=0;l<s.length;l+=512){for(c=s.slice(l,l+512),d=new Array(c.length),f=0;f<c.length;f++)d[f]=c.charCodeAt(f);a.push(new Uint8Array(d))}return[2,new Blob(a,{type:i})];case 5:return[2,null]}}))}))},t.prototype.save=function(n,e){return e===void 0&&(e="".concat(Date.now())),A(this,void 0,void 0,(function(){var r,i,a,s,l=this;return N(this,(function(c){switch(c.label){case 0:return[4,new Promise((function(d){var f=(function(g,y,b,C){return C===void 0&&(C=0),"".concat(wM(g,y)).concat(b,".").concat(C)})(l.dbname,l.collectionName,e),v=new FileReader;v.onload=function(){d({blobId:f,data:v.result,type:n.type})},v.readAsDataURL(n)}))];case 1:return r=c.sent(),i=r.blobId,a=r.data,s=r.type,[4,this.store.set({key:i,value:{data:a,type:s}})];case 2:return c.sent(),[2,i]}}))}))},t.prototype.remove=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this.store.remove(n)];case 1:return e.sent(),[2]}}))}))},t.prototype.clear=function(){return A(this,void 0,void 0,(function(){var n,e,r=this;return N(this,(function(i){switch(i.label){case 0:return n=wM(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return e=i.sent(),[4,Promise.all(e.filter((function(a){return a.startsWith(n)})).map((function(a){return A(r,void 0,void 0,(function(){return N(this,(function(s){switch(s.label){case 0:return[4,this.store.remove(a)];case 1:return[2,s.sent()]}}))}))})))];case 2:return i.sent(),[2]}}))}))},t})();(function(t){t[t.COMMIT=0]="COMMIT",t[t.WRITE=1]="WRITE",t[t.ERROR=2]="ERROR"})(mp||(mp={})),(function(t){t.PENDING="pending",t.PERSISTENT="persistent",t.VOLATILE="volatile"})(Ta||(Ta={})),(function(t){t[t.NO_CACHE=0]="NO_CACHE",t[t.DEFAULT=1]="DEFAULT",t[t.PERSISTENT=2]="PERSISTENT"})(ku||(ku={}));var d0,ga,IM=[Ta.PENDING,Ta.VOLATILE],yb={},gs=(function(){function t(n){var e=n.dbname,r=n.limit,i=r===void 0?256:r;return yb[e]||(this.dbname=e,this._items=[],this._limit=i,yb[e]=this),yb[e]}return t.get=function(n){return yb[n]},Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),t.prototype.find=function(n,e,r){return r===void 0&&(r=ku.DEFAULT),A(this,void 0,void 0,(function(){var i,a;return N(this,(function(s){switch(s.label){case 0:return(i=this.get(e))?[3,2]:[4,n.get(e)];case 1:return(a=s.sent())&&(i={key:e,value:a,state:r===ku.PERSISTENT?Ta.PERSISTENT:Ta.VOLATILE},this.put(i)),[3,3];case 2:r===ku.PERSISTENT&&(i.state=Ta.PERSISTENT),s.label=3;case 3:return[2,i]}}))}))},t.prototype.get=function(n,e){e===void 0&&(e=ku.DEFAULT);var r=this._items.map((function(a){return a.key})).indexOf(n);if(r>-1){var i=this._items[r];return e===ku.PERSISTENT&&(i.state=Ta.PERSISTENT),e!==ku.NO_CACHE&&this.put(i),i}return null},t.prototype.put=function(n){var e,r;if(this._limit>0){var i=this._items.map((function(v){return v.key})).indexOf(n.key);if(i>-1)IM.includes(this._items[i].state)&&IM.includes(n.state)?(this._items.splice(i,1),this._items.push(n)):(this._items[i].state=n.state,this._items[i].value=n.value);else{this._items.push(n);var a=this._items.filter((function(v){return v.state===Ta.VOLATILE})),s=a.length-this._limit;if(s>0){var l=[];try{for(var c=De(this._items),d=c.next();!d.done;d=c.next()){var f=d.value;f.state===Ta.VOLATILE&&s>0?s--:l.push(f)}}catch(v){e={error:v}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}this._items=l}}}},t.prototype.remove=function(n){var e=this._items.map((function(r){return r.key})).indexOf(n);e>-1&&this._items.splice(e,1)},t.prototype.clearByCondition=function(n){this._items=this._items.filter((function(e){return!n(e)}))},t.prototype.clearForDatabase=function(n){this.clearByCondition((function(e){return e.key.startsWith(C3(n))}))},t.prototype.clear=function(n){n===void 0&&(n=!1),this._items=n?[]:this._items.filter((function(e){return e.state!==Ta.VOLATILE}))},t})(),eV=(function(){function t(n){var e=n.dbname,r=n.collectionName,i=n.store;this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=e,this.collectionName=r,this.metadataKey=(function(a,s){return"".concat(Tp(a,s),"/trans.metadata")})(e,r),this.recordsetKey=(function(a,s){return"".concat(Tp(a,s),"/trans.recordset")})(e,r),this._store=i}return Object.defineProperty(t.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),t.prototype._getReducedRecordset=function(n){return n===void 0&&(n=[]),A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(e=r.sent()||[]).push.apply(e,et([],Ye(n),!1)),[2,this._reduceRecordSet(e)]}}))}))},t.prototype._reduceRecordSet=function(n){for(var e=[],r={},i=n.length-1;i>=0;i--){for(var a=n[i],s=[],l=a.requests.length-1;l>=0;l--){var c=a.requests[l],d=c.data;r[d.key]||(s.unshift(c),r[d.key]=!0)}s.length>0&&(a.requests=s,e.unshift(a))}return e},t.prototype._applyRecord=function(n,e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:r=gs.get(this.dbname),i=e.generation,a=e.requests,s=null,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this._store.setMany(a.map((function(y){return q(q({},y.data),{generation:i})})))];case 2:for(l=g.sent(),c=0;c<a.length;c++)l[c]instanceof Error&&(s||(s=l[c]),d=a[c].data,r.put(q(q({},d),{state:Ta.PERSISTENT})));return[3,4];case 3:return f=g.sent(),s=f,[3,4];case 4:return s?[3,6]:(v=n.filter((function(y){return y.generation!==i})),[4,this._store.set({key:this.recordsetKey,value:v})]);case 5:return g.sent(),this._onWrite.forEach((function(y){y(a.map((function(b){return b.data})))})),[3,7];case 6:this._onError.forEach((function(y){s&&y(s)})),g.label=7;case 7:return[2]}}))}))},t.prototype.init=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return n=this,[4,this._store.get(this.metadataKey)];case 1:return n._metadata=d.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:e=d.sent(),d.label=3;case 3:d.trys.push([3,8,9,10]),r=De(e),i=r.next(),d.label=4;case 4:return i.done?[3,7]:(a=i.value,[4,this._applyRecord(e,a)]);case 5:d.sent(),d.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return s=d.sent(),l={error:s},[3,10];case 9:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 10:return[2]}}))}))},t.prototype.on=function(n,e,r){switch(n){case mp.COMMIT:this._onCommit.set(e,r);break;case mp.WRITE:this._onWrite.set(e,r);break;case mp.ERROR:this._onError.set(e,r)}},t.prototype.requestWrite=function(n,e){this._requests.push({data:n,options:e}),gs.get(this.dbname).put(q({state:Ta.PENDING},n))},t.prototype.requestMultipleWrite=function(n,e){var r,i,a=gs.get(this.dbname);try{for(var s=De(n),l=s.next();!l.done;l=s.next()){var c=l.value;this._requests.push({data:c,options:e}),a.put(q({state:Ta.PENDING},c))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){return gs.get(this.dbname).clearByCondition((function(e){return e.state===Ta.PENDING})),this._requests=[],[2]}))}))},t.prototype.commit=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c,d,f,v,g,y=this;return N(this,(function(b){switch(b.label){case 0:if(!((n=this._requests).length>0))return[3,4];for(e=[],r={},c=n.length-1;c>=0;c--)i=n[c],f=i.data,r[f.key]||(r[f.key]=!0,e.unshift(i));return a={generation:this.generation,requests:e},[4,this._getReducedRecordset([a])];case 1:return s=b.sent(),[4,this._store.set({key:this.recordsetKey,value:s})];case 2:return b.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata})];case 3:for(b.sent(),l=gs.get(this.dbname),c=0;c<e.length;c++)d=e[c],f=d.data,v=d.options,l.put(q(q({},f),{state:v&&v.persistent?Ta.PERSISTENT:Ta.VOLATILE}));this._requests=[],this._onCommit.forEach((function(C){C(n.map((function(w){return w.data})))})),g=W0.get(this.dbname),setTimeout((function(){try{y._applyRecord(s,a)}catch(C){y._onError.forEach((function(w){return w(C)}))}}),g.transactionApplyDelay),b.label=4;case 4:return[2]}}))}))},t})(),jb=(function(){function t(n){var e=n.blockId,r=n.keyName,i=n.items,a=i===void 0?[]:i,s=n.limit;this.blockId=e,this.keyName=r,this.limit=s,this._items=et([],Ye(a),!1)}return t.createFromCacheItem=function(n){return n?new t(n.value):null},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},t.prototype.getItemByKey=function(n){var e=this,r=this._items.find((function(i){var a=i[e.keyName];return n===a}));return r??null},t.prototype.has=function(n){var e=this;return this._items.map((function(r){return r[e.keyName]})).includes(n)},t.prototype.add=function(n){var e=this,r=this._items.map((function(i){return i[e.keyName]})).indexOf(n[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(n),!0):(this._items[r]=n,!0)},t.prototype.remove=function(n){for(var e=0;e<this._items.length;e++)if(this._items[e][this.keyName]===n)return this._items.splice(e,1),!0;return!1},t.prototype.clear=function(){this._items=[]},t})(),tV=(function(){function t(n){var e=n.dbname,r=n.collectionName,i=n.metadata,a=n.hashFunction,s=a===void 0?SM:a,l=n.transaction,c=n.store;this.dbname=e,this.collectionName=r,this.hashFunction=s,this.metadata=i,this._transaction=l,this._store=c}return Object.defineProperty(t.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),t.prototype.createBlockId=function(n,e){return e===void 0&&(e=this.metadata.blockLevel),r=this.dbname,i=this.collectionName,a=e,s="".concat((function(l,c,d){var f=d.base*Math.pow(d.multiplier,c)+d.constant;return(d.hashFunction||SM)(l,f)})(n,e,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(RS(r,i)).concat(a,".").concat(s);var r,i,a,s},t.prototype._findBlock=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:e=gs.get(this.dbname),r=this.metadata.blockLevel,l.label=1;case 1:return r>0?(i=this.createBlockId(n,r),[4,e.find(this._store,i)]):[3,4];case 2:if((a=l.sent())&&(s=jb.createFromCacheItem(a),s?.getItemByKey(n)))return[2,s];l.label=3;case 3:return r--,[3,1];case 4:return[2,null]}}))}))},t.prototype.getFromBlock=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return[2,(e=r.sent())?e.getItemByKey(n):null]}}))}))},t.prototype.putToBlock=function(n,e){return A(this,void 0,void 0,(function(){var r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return r=W0.get(this.dbname),i=this.createBlockId(n),a=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,gs.get(this.dbname).find(this._store,i)];case 1:return s=c.sent(),(l=s?jb.createFromCacheItem(s):new jb({blockId:i,keyName:this.keyName,items:[],limit:a}))!=null&&l.add(e)?(this._transaction.requestWrite({key:l.blockId,value:l.serialize()}),[2,!0]):[2,!1]}}))}))},t.prototype.removeFromBlock=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return(e=r.sent())&&e.remove(n)?(this._transaction.requestWrite({key:e.blockId,value:e.serialize()}),[2,!0]):[2,!1]}}))}))},t.prototype.clearAllBlocks=function(){return A(this,void 0,void 0,(function(){var n,e,r;return N(this,(function(i){switch(i.label){case 0:return n=RS(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return e=i.sent(),r=e.filter((function(a){return a.startsWith(n)})),[4,this._store.removeMany(r)];case 2:return i.sent(),[4,this._transaction.clear()];case 3:return i.sent(),gs.get(this.dbname).clearByCondition((function(a){return a.key.startsWith(n)})),[2]}}))}))},t})(),Qd=(function(){function t(n){var e=n.dbname,r=n.collectionName,i=n.keyName,a=n.fields,s=n.transaction,l=n.store,c=this;this._origin=[],this._table=[];var d=(function(f,v,g){return"".concat(Tp(f,v),"/index.").concat(g)})(e,r,a.join(">"));this.dbname=e,this.collectionName=r,this.keyName=i,this.fields=a,this.indexerKey=d,this._store=l,this._transaction=s,this._transaction.on(mp.COMMIT,this.indexerKey,(function(){return c.commit()})),this._transaction.on(mp.ERROR,this.indexerKey,(function(){return c.abort()}))}return t.createKey=function(n){return n.join(">")},t.parseKey=function(n){return n.split(">")},t.prototype._addItem=function(n){var e=n[this.keyName],r=this.getColumnValues(n),i=Ye(this.indexOf(r),2),a=i[0];return i[1]?!this._table[a].keys.includes(e)&&(this._table[a].keys.push(e),!0):(this._table.splice(a,0,{columnValues:r,keys:[e]}),!0)},t.prototype._removeItem=function(n){var e=n[this.keyName],r=this.getColumnValues(n),i=Ye(this.indexOf(r),2),a=i[0];if(i[1]){var s=this._table[a].keys.indexOf(e);if(s>-1)return this._table[a].keys.splice(s,1),this._table[a].keys.length===0&&this._table.splice(a,1),!0}return!1},Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),t.prototype.getColumnValues=function(n){var e,r,i,a,s=[];try{for(var l=De(this.fields),c=l.next();!c.done;c=l.next()){var d=c.value;if(d[0]==="-"&&(d=d.slice(1)),i=n[d],a=void 0,a=typeof i,i!==null&&a!=="undefined"&&a!=="boolean"&&a!=="number"&&a!=="string")throw yn.indexTypesNotMatch;s.push(n[d])}}catch(f){e={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return s},t.prototype.diff=function(n,e){for(var r in this.fields){var i=this.fields[r][0]==="-"?-1:1,a=Uc(n[r],e[r]);if(a!==0)return i*a}return 0},t.prototype.indexOf=function(n){if(this._table.length>0){for(var e=0,r=this._table.length-1;e<=r;){var i=Math.floor((e+r)/2),a=this.diff(n,this._table[i].columnValues);if(a>0)e=i+1;else{if(!(a<0))return[i,!0];r=i-1}}return[e,!1]}return[0,!1]},t.prototype.ensure=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c,d,f,v,g,y,b,C,w,I;return N(this,(function(M){switch(M.label){case 0:return[4,(n=gs.get(this.dbname)).find(this._store,this.indexerKey,ku.PERSISTENT)];case 1:return(e=M.sent())?[3,11]:(r=RS(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:i=M.sent(),M.label=3;case 3:M.trys.push([3,8,9,10]),a=De(i),s=a.next(),M.label=4;case 4:return s.done?[3,7]:(l=s.value).startsWith(r)?[4,n.find(this._store,l,ku.NO_CACHE)]:[3,6];case 5:if(c=M.sent(),d=jb.createFromCacheItem(c))try{for(w=void 0,f=De(d.items),v=f.next();!v.done;v=f.next())g=v.value,this._addItem(g)}catch(R){w={error:R}}finally{try{v&&!v.done&&(I=f.return)&&I.call(f)}finally{if(w)throw w.error}}M.label=6;case 6:return s=a.next(),[3,4];case 7:return[3,10];case 8:return y=M.sent(),b={error:y},[3,10];case 9:try{s&&!s.done&&(C=a.return)&&C.call(a)}finally{if(b)throw b.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=e.value,this._table=vs(this._origin),M.label=12;case 12:return[2]}}))}))},t.prototype.drop=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return gs.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return n.sent(),[2]}}))}))},t.prototype.addItem=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){return this._addItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},t.prototype.removeItem=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){return this._removeItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},t.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},t.prototype.commit=function(){this._origin=this._table,this._table=vs(this._origin)},t.prototype.abort=function(){this._table=vs(this._origin)},t})(),S1=function(){return typeof document<"u"&&typeof navigator<"u"&&navigator.product!=="ReactNative"},MM=function(){var t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),(n==="x"?e:3&e|8).toString(16)}))};(function(t){t[t.PROCESSING=0]="PROCESSING",t[t.DONE=1]="DONE"})(d0||(d0={})),(function(t){t.NEWNODE="newnode",t.REMOVENODE="removenode",t.CLAIM_HOST="claimhost",t.SYNC_HOST="synchost",t.REQUEST_LOCK="requestlock",t.ACQUIRE_LOCK="acquirelock",t.RELEASE_LOCK="releaselock"})(ga||(ga={}));var Hl,hC={},S3=(function(){function t(n,e){e===void 0&&(e={});var r=this;return this._state=d0.PROCESSING,this._queue=[],this._activationQueue=[],hC[n]&&!e.forceCreate||(this.nodeId=MM(),this.key=n,S1()&&(e.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",(function(){document.visibilityState==="visible"&&r.claimHost()})),window.addEventListener("message",(function(i){var a,s,l=i.data;if(l?.isNestDbMessage){var c=l.nodeId,d=l.requestId,f=l.key,v=l.op,g=l.data;if(c!==r.nodeId&&f===r.key)switch(v){case ga.NEWNODE:r._sendSync();break;case ga.CLAIM_HOST:r._sendSync(),r._hostId=c;break;case ga.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var y=g,b=y.currentItemRequestId,C=y.queue,w=function(U){var H=r._queue.findIndex((function(P){return P.requestId===U.requestId}));H<0&&r._requestLock({isNestDbMessage:!0,nodeId:U.nodeId,requestId:U.requestId,key:r.key,op:ga.REQUEST_LOCK,ts:U.ts})};try{for(var I=De(C),M=I.next();!M.done;M=I.next())w(M.value)}catch(U){a={error:U}}finally{try{M&&!M.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}r._currentItem=r._queue.find((function(U){return U.requestId===b})),r._completeSync()}break;case ga.REMOVENODE:r._queue=r._queue.filter((function(U){return U.nodeId!==l.nodeId})),r._currentItem&&r._currentItem.nodeId===l.nodeId&&(r._currentItem=void 0,r._acquire(r._queue[0]));break;case ga.REQUEST_LOCK:r._requestLock(l);break;case ga.ACQUIRE_LOCK:var R=r._queue.find((function(U){return U.requestId===d}));r._acquire(R);break;case ga.RELEASE_LOCK:r._release(d)}}})),window.addEventListener("beforeunload",(function(){r._send(ga.REMOVENODE)}))),hC[n]=this),hC[n]}return Object.defineProperty(t.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInSync",{get:function(){return this._state==d0.DONE},enumerable:!1,configurable:!0}),t.prototype._send=function(n,e){var r;e===void 0&&(e={});var i={isNestDbMessage:!0,nodeId:this.nodeId,requestId:(r=e?.requestId)!==null&&r!==void 0?r:MM(),key:this.key,op:n,data:e.data,ts:Date.now()};return S1()&&window.postMessage(i,"*"),i},t.prototype._acquire=function(n){n?(this._currentItem=n,this._currentItem.onAcquired&&this._currentItem.onAcquired(n.requestId)):this._currentItem=void 0},t.prototype._release=function(n){if(this._currentItem&&this._currentItem.requestId===n){var e=this._currentItem;this._currentItem=void 0,e.nodeId===this.nodeId&&this._send(ga.RELEASE_LOCK,{requestId:e.requestId});var r=this._queue.findIndex((function(i){return i.requestId===n}));r>-1&&this._queue.splice(r,1),e.onReleased&&e.onReleased(n)}},t.prototype._requestLock=function(n){var e=this;return new Promise((function(r){for(var i={nodeId:n.nodeId,requestId:n.requestId,ts:n.ts,onAcquired:function(l){e.isHost&&e._send(ga.ACQUIRE_LOCK,{requestId:l}),r()},onReleased:function(){e._acquire(e._queue[0])}},a=!1,s=0;s<e._queue.length;s++)if(e._queue[s].ts>i.ts){e._queue.splice(s,0,i),a=!0;break}a||e._queue.push(i),e._currentItem||e._acquire(e._queue[0])}))},t.prototype._sendSync=function(){var n;this.isHost&&this._send(ga.SYNC_HOST,{data:{currentItemRequestId:(n=this._currentItem)===null||n===void 0?void 0:n.requestId,queue:this._queue.map((function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}}))}})},t.prototype._waitUntilSyncCompleted=function(){return A(this,void 0,void 0,(function(){var n=this;return N(this,(function(e){return this.isHost&&!this.isInSync?[2,new Promise((function(r){n._activationQueue.push(r)}))]:[2]}))}))},t.prototype._waitSync=function(){var n=this;this.isInSync||(this._activationTimeout=setTimeout((function(){n._completeSync()}),8))},t.prototype._completeSync=function(){this.isInSync||(this._state=d0.DONE,this._activationQueue.forEach((function(n){return n()})),this._activationQueue=[])},t.prototype.registerNode=function(){this._send(ga.NEWNODE),this._waitSync()},t.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ga.CLAIM_HOST),this._waitSync()},t.prototype.lock=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return e.sent(),n=this._send(ga.REQUEST_LOCK),[4,this._requestLock(n)];case 2:return e.sent(),[2]}}))}))},t.prototype.unlock=function(){var n;!((n=this._currentItem)===null||n===void 0)&&n.requestId&&this._release(this._currentItem.requestId)},t})(),fC=(function(){function t(n){var e=n.dbname,r=n.collectionName,i=n.keyName,a=n.keyHash,s=n.indexes,l=n.store,c=this;this._state=lp.INIT,this._indexers=[],this.dbname=e,this.name=r,this.keyName=i,this.indexes=et([[i]],Ye(s.filter((function(d){return Qd.createKey(d)!==c.keyName}))),!1),this._keyHash=a,this._store=l,this._mutex=new S3((function(d,f){return"".concat(Tp(d,f),".lock")})(e,r)),this._blobContainer=new Jz({dbname:e,collectionName:r,store:l}),this._transaction=new eV({dbname:e,collectionName:r,store:l})}return t.metadataOf=function(n,e,r){return A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=dC(n,e),[4,r.get(i)];case 1:return[2,a.sent()]}}))}))},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this._state===lp.READY},enumerable:!1,configurable:!0}),t.prototype.init=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c,d,f,v,g,y,b,C=this;return N(this,(function(w){switch(w.label){case 0:return[4,this._mutex.lock()];case 1:w.sent(),w.label=2;case 2:return w.trys.push([2,9,,10]),n=W0.get(this.dbname),[4,t.metadataOf(this.dbname,this.name,this._store)];case 3:return e=w.sent(),this._metadata=e||{keyName:this.keyName,blockLevel:1,blockHashBase:n.blockHashBase,blockHashMultiplier:n.blockHashMultiplier,blockHashConstant:n.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:w.sent(),this._blockManager=new tV({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=et([],Ye(this.indexes),!1),i=[],a=r.map((function(I){return Qd.createKey(I)})),s=e?e.indexes.map((function(I){return Qd.createKey(I)})):[];try{for(l=De(s),c=l.next();!c.done;c=l.next())d=c.value,a.includes(d)||i.push(Qd.parseKey(d))}catch(I){y={error:I}}finally{try{c&&!c.done&&(b=l.return)&&b.call(l)}finally{if(y)throw y.error}}return(f=[]).push.apply(f,et([],Ye(r.map((function(I){var M=new Qd({dbname:C.dbname,collectionName:C.name,keyName:C.keyName,fields:I,transaction:C._transaction,store:C._store});return C._indexers.push(M),M.ensure()}))),!1)),f.push.apply(f,et([],Ye(i.map((function(I){return new Qd({dbname:C.dbname,collectionName:C.name,keyName:C.keyName,fields:I,transaction:C._transaction,store:C._store}).drop()}))),!1)),[4,Promise.all(f)];case 5:return w.sent(),[4,this._transaction.commit()];case 6:return w.sent(),a.sort().join(",")===s.sort().join(",")?[3,8]:(v=dC(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:v,value:this._metadata})]);case 7:w.sent(),w.label=8;case 8:return this._state=lp.READY,this._mutex.unlock(),[3,10];case 9:throw g=w.sent(),this._mutex.unlock(),g;case 10:return[2]}}))}))},t.prototype.close=function(){this._state=lp.CLOSED},t.prototype._hasPropertyOfKeyName=function(n){var e=n[this.keyName];return typeof e=="string"&&!!e},t.prototype._getIndexerBy=function(n){var e,r;n===void 0&&(n=null),n||(n=[this.keyName]);var i=Qd.createKey(n);try{for(var a=De(this._indexers),s=a.next();!s.done;s=a.next()){var l=s.value;if(i===Qd.createKey(l.fields))return l}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}throw yn.indexTableIsRequired},t.prototype._upgradeBlockLevel=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return n=dC(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:n,value:this._metadata})];case 1:return e.sent(),[2]}}))}))},t.prototype._requestInsert=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=n[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return c.sent()?[3,13]:[4,this._blockManager.putToBlock(e,n)];case 2:return c.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return c.sent(),[4,this._blockManager.putToBlock(e,n)];case 4:c.sent(),c.label=5;case 5:c.trys.push([5,10,11,12]),r=De(this._indexers),i=r.next(),c.label=6;case 6:return i.done?[3,9]:[4,i.value.addItem(n)];case 7:c.sent(),c.label=8;case 8:return i=r.next(),[3,6];case 9:return[3,12];case 10:return a=c.sent(),s={error:a},[3,12];case 11:try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(s)throw s.error}return[7];case 12:return[3,14];case 13:throw yn.collectionInsertDuplicate;case 14:return[2]}}))}))},t.prototype._requestUpsert=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f,v,g,y,b;return N(this,(function(C){switch(C.label){case 0:return e=n[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=C.sent())?[3,13]:[4,this._blockManager.putToBlock(e,n)];case 2:return C.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return C.sent(),[4,this._blockManager.putToBlock(e,n)];case 4:C.sent(),C.label=5;case 5:C.trys.push([5,10,11,12]),i=De(this._indexers),a=i.next(),C.label=6;case 6:return a.done?[3,9]:[4,(d=a.value).addItem(n)];case 7:C.sent(),C.label=8;case 8:return a=i.next(),[3,6];case 9:return[3,12];case 10:return s=C.sent(),v={error:s},[3,12];case 11:try{a&&!a.done&&(g=i.return)&&g.call(i)}finally{if(v)throw v.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(e,n)];case 14:C.sent(),C.label=15;case 15:C.trys.push([15,21,22,23]),l=De(this._indexers),c=l.next(),C.label=16;case 16:return c.done?[3,20]:(d=c.value).diff(d.getColumnValues(r),d.getColumnValues(n))===0?[3,19]:[4,d.removeItem(r)];case 17:return C.sent(),[4,d.addItem(n)];case 18:C.sent(),C.label=19;case 19:return c=l.next(),[3,16];case 20:return[3,23];case 21:return f=C.sent(),y={error:f},[3,23];case 22:try{c&&!c.done&&(b=l.return)&&b.call(l)}finally{if(y)throw y.error}return[7];case 23:return[2]}}))}))},t.prototype._requestUpdate=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return e=n[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=f.sent())?[4,this._blockManager.putToBlock(e,n)]:[3,11];case 2:f.sent(),f.label=3;case 3:f.trys.push([3,9,10,11]),i=De(this._indexers),a=i.next(),f.label=4;case 4:return a.done?[3,8]:(s=a.value).diff(s.getColumnValues(r),s.getColumnValues(n))===0?[3,7]:[4,s.removeItem(r)];case 5:return f.sent(),[4,s.addItem(n)];case 6:f.sent(),f.label=7;case 7:return a=i.next(),[3,4];case 8:return[3,11];case 9:return l=f.sent(),c={error:l},[3,11];case 10:try{a&&!a.done&&(d=i.return)&&d.call(i)}finally{if(c)throw c.error}return[7];case 11:return[2]}}))}))},t.prototype._requestRemove=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return[4,this._blockManager.getFromBlock(n)];case 1:return(e=c.sent())?[4,this._blockManager.removeFromBlock(n)]:[3,10];case 2:c.sent(),c.label=3;case 3:c.trys.push([3,8,9,10]),r=De(this._indexers),i=r.next(),c.label=4;case 4:return i.done?[3,7]:[4,i.value.removeItem(e)];case 5:c.sent(),c.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return a=c.sent(),s={error:a},[3,10];case 9:try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(s)throw s.error}return[7];case 10:return[2]}}))}))},t.prototype._requestClear=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:s.sent(),s.label=2;case 2:s.trys.push([2,7,8,9]),n=De(this._indexers),e=n.next(),s.label=3;case 3:return e.done?[3,6]:[4,e.value.clear()];case 4:s.sent(),s.label=5;case 5:return e=n.next(),[3,3];case 6:return[3,9];case 7:return r=s.sent(),i={error:r},[3,9];case 8:try{e&&!e.done&&(a=n.return)&&a.call(n)}finally{if(i)throw i.error}return[7];case 9:return[2]}}))}))},t.prototype.getByKey=function(n){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(n)];case 3:return e=i.sent(),this._mutex.unlock(),[2,vs(e)];case 4:throw r=i.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw yn.collectionNotReady;case 7:return[2]}}))}))},t.prototype.query=function(n){if(n===void 0&&(n={}),this.isReady)return new Zz({condition:n.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(n.index),backward:!!n.backward});throw yn.collectionNotReady},t.prototype.insertOne=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw yn.collectionKeyNotGiven;return[4,this._requestInsert(vs(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw yn.collectionNotReady;case 9:return[2]}}))}))},t.prototype.insertMany=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:f.sent(),f.label=2;case 2:if(f.trys.push([2,12,,14]),n.some((function(v){return!d._hasPropertyOfKeyName(v)})))throw yn.collectionKeyNotGiven;f.label=3;case 3:f.trys.push([3,8,9,10]),e=De(n),r=e.next(),f.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestInsert(vs(i))]);case 5:f.sent(),f.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return a=f.sent(),l={error:a},[3,10];case 9:try{r&&!r.done&&(c=e.return)&&c.call(e)}finally{if(l)throw l.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return f.sent(),this._mutex.unlock(),[2,n];case 12:return s=f.sent(),[4,this._transaction.clear()];case 13:throw f.sent(),this._mutex.unlock(),s;case 14:return[3,16];case 15:throw yn.collectionNotReady;case 16:return[2]}}))}))},t.prototype.upsertOne=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw yn.collectionKeyNotGiven;return[4,this._requestUpsert(vs(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw yn.collectionNotReady;case 9:return[2]}}))}))},t.prototype.upsertMany=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:f.sent(),f.label=2;case 2:if(f.trys.push([2,12,,14]),n.some((function(v){return!d._hasPropertyOfKeyName(v)})))throw yn.collectionKeyNotGiven;f.label=3;case 3:f.trys.push([3,8,9,10]),e=De(n),r=e.next(),f.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestUpsert(vs(i))]);case 5:f.sent(),f.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return a=f.sent(),l={error:a},[3,10];case 9:try{r&&!r.done&&(c=e.return)&&c.call(e)}finally{if(l)throw l.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return f.sent(),this._mutex.unlock(),[2,n];case 12:return s=f.sent(),[4,this._transaction.clear()];case 13:throw f.sent(),this._mutex.unlock(),s;case 14:return[3,16];case 15:throw yn.collectionNotReady;case 16:return[2]}}))}))},t.prototype.update=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw yn.collectionKeyNotGiven;return[4,this._requestUpdate(vs(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw yn.collectionNotReady;case 9:return[2]}}))}))},t.prototype.updateIf=function(n,e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g,y,b,C,w,I=this;return N(this,(function(M){switch(M.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:M.sent(),M.label=2;case 2:return M.trys.push([2,13,,15]),r=n.where,i=r===void 0?{}:r,a=n.index,s=a===void 0?null:a,l=n.backward,c=l!==void 0&&l,d=[],[4,new OS({condition:i,blockManager:this._blockManager,backward:c,indexer:this._getIndexerBy(s)}).each((function(R){return A(I,void 0,void 0,(function(){var U;return N(this,(function(H){if(R.error)throw R.stop(),R.error;return R.hasNext?(U=R.nextValue,pp(i,U)&&e.set&&(typeof e.set!="function"?Object.keys(e.set).forEach((function(P){var G;U[P]=(G=e.set)===null||G===void 0?void 0:G[P]})):e.set(U),d.push(U)),R.next()):R.stop(),[2]}))}))}))];case 3:M.sent(),M.label=4;case 4:M.trys.push([4,9,10,11]),f=De(d),v=f.next(),M.label=5;case 5:return v.done?[3,8]:(g=v.value,[4,this._requestUpdate(vs(g))]);case 6:M.sent(),M.label=7;case 7:return v=f.next(),[3,5];case 8:return[3,11];case 9:return y=M.sent(),C={error:y},[3,11];case 10:try{v&&!v.done&&(w=f.return)&&w.call(f)}finally{if(C)throw C.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return M.sent(),this._mutex.unlock(),[2,d];case 13:return b=M.sent(),[4,this._transaction.clear()];case 14:throw M.sent(),this._mutex.unlock(),b;case 15:return[3,17];case 16:throw this._transaction.clear(),yn.collectionNotReady;case 17:return[2]}}))}))},t.prototype.remove=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(n)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw yn.collectionNotReady;case 9:return[2]}}))}))},t.prototype.removeIf=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f,v,g,y,b,C,w=this;return N(this,(function(I){switch(I.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:I.sent(),I.label=2;case 2:return I.trys.push([2,13,,14]),e=n.where,r=e===void 0?{}:e,i=n.index,a=i===void 0?null:i,s=n.backward,l=s!==void 0&&s,c=[],[4,new OS({condition:r,blockManager:this._blockManager,backward:l,indexer:this._getIndexerBy(a)}).each((function(M){return A(w,void 0,void 0,(function(){var R,U;return N(this,(function(H){if(M.error)throw M.stop(),M.error;return M.hasNext?(R=M.nextValue,pp(r,R)&&(U=R[this.keyName],c.push(U)),M.next()):M.stop(),[2]}))}))}))];case 3:I.sent(),I.label=4;case 4:I.trys.push([4,9,10,11]),d=De(c),f=d.next(),I.label=5;case 5:return f.done?[3,8]:(v=f.value,[4,this._requestRemove(v)]);case 6:I.sent(),I.label=7;case 7:return f=d.next(),[3,5];case 8:return[3,11];case 9:return g=I.sent(),b={error:g},[3,11];case 10:try{f&&!f.done&&(C=d.return)&&C.call(d)}finally{if(b)throw b.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return I.sent(),this._mutex.unlock(),[2,c];case 13:throw y=I.sent(),this._mutex.unlock(),y;case 14:return[3,16];case 15:throw this._transaction.clear(),yn.collectionNotReady;case 16:return[2]}}))}))},t.prototype.clear=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return e.sent(),[4,this._transaction.commit()];case 4:return e.sent(),this._mutex.unlock(),[3,7];case 5:return n=e.sent(),[4,this._transaction.clear()];case 6:throw e.sent(),this._mutex.unlock(),n;case 7:return[3,9];case 8:throw yn.collectionNotReady;case 9:return[2]}}))}))},t.prototype.getBlob=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._blobContainer.get(n)];case 1:return[2,e.sent()]}}))}))},t.prototype.saveBlob=function(n,e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._blobContainer.save(n,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.removeBlob=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._blobContainer.remove(n)];case 1:return e.sent(),[2]}}))}))},t.prototype.removeAllBlobs=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,this._blobContainer.clear()];case 1:return n.sent(),[2]}}))}))},t})(),pC="[NESTDB]",Eb=!0,jf=(function(){function t(){}return t.off=function(){Eb=!1},t.log=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];Eb&&console.log.apply(console,et(["".concat(pC,"[LOG]")],Ye(n),!1))},t.warning=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];Eb&&console.warn.apply(console,et(["".concat(pC,"[WARNING]")],Ye(n),!1))},t.error=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];Eb&&console.error.apply(console,et(["".concat(pC,"[ERROR]")],Ye(n),!1))},t})(),nV=[{},{a:700400,n:"error"}],l2=(function(){function t(n){var e,r,i;this.encryption=(e=n.encryption)!==null&&e!==void 0?e:R4,this.itemSizeLimit=(r=n.itemSizeLimit)!==null&&r!==void 0?r:4194304,this.metadataBuffer=(i=n.metadataBuffer)!==null&&i!==void 0?i:256}return Object.defineProperty(t.prototype,"_encryptionCheckKey",{get:function(){return"".concat(this.dbname,".encrypt")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_reservedKeys",{get:function(){return[this._encryptionCheckKey]},enumerable:!1,configurable:!0}),t.prototype._getRawKey=function(n,e){return e===void 0&&(e=""),"".concat(n).concat(e)},t.prototype._generateShardPostfixArray=function(n){return n===void 0&&(n=1),et([],Ye(Array(n).keys()),!1)},t.prototype._shardify=function(n){var e=this,r=n.key,i=n.value,a=JSON.stringify(this.encryption.encrypt(i)),s=Math.ceil(a.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(s).map((function(l){var c={key:e._getRawKey(r,".".concat(l)),data:a.substring(l*e.adjustedItemSizeLimit,(l+1)*e.adjustedItemSizeLimit)};return l===0&&(c.metadata={shards:s}),c}))},t.prototype._resetIfEncryptionChanged=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c,d,f=this;return N(this,(function(v){switch(v.label){case 0:return[4,this.get(this._encryptionCheckKey)];case 1:if(n=v.sent(),e={encrypted:nV.map((function(g){var y;return(y=f.encryption)===null||y===void 0?void 0:y.encrypt(g)}))},!n)return[3,8];if(!n.encrypted||!Array.isArray(n.encrypted))return[3,6];for(a in r=n.encrypted,i=[],r)i.push(a);s=0,v.label=2;case 2:return s<i.length?(a=i[s])in r?(l=a,c=JSON.stringify(n.encrypted[l]),d=JSON.stringify(e.encrypted[l]),c===d?[3,4]:(jf.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this.clear()])):[3,4]:[3,5];case 3:return v.sent(),[3,5];case 4:return s++,[3,2];case 5:return[3,8];case 6:return[4,this.clear()];case 7:v.sent(),v.label=8;case 8:return[4,this.set({key:this._encryptionCheckKey,value:e})];case 9:return v.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),t.prototype.usage=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return n=0,[4,this._getAllRawKeys()];case 1:e=f.sent(),f.label=2;case 2:f.trys.push([2,7,8,9]),r=De(e),i=r.next(),f.label=3;case 3:return i.done?[3,6]:(a=i.value,[4,this._getRaw(a)]);case 4:(s=f.sent())&&(n+=JSON.stringify(s).length),f.label=5;case 5:return i=r.next(),[3,3];case 6:return[3,9];case 7:return l=f.sent(),c={error:l},[3,9];case 8:try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(c)throw c.error}return[7];case 9:return[2,n]}}))}))},t.prototype.getAllKeys=function(){return A(this,void 0,void 0,(function(){var n=this;return N(this,(function(e){switch(e.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,e.sent().filter((function(r){return r.endsWith(".0")})).map((function(r){return r.replace(/\.0$/,"")})).filter((function(r){return!n._reservedKeys.includes(r)}))]}}))}))},t.prototype.get=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c=this;return N(this,(function(d){switch(d.label){case 0:return e=this._getRawKey(n,".0"),[4,this._getRaw(e)];case 1:if(!(r=d.sent()))return[3,7];d.label=2;case 2:return d.trys.push([2,6,,7]),i=r.data,(a=r.metadata)!=null&&a.shards&&a.shards>1?[4,Promise.all(this._generateShardPostfixArray(a?.shards).map((function(f){return A(c,void 0,void 0,(function(){var v,g;return N(this,(function(y){switch(y.label){case 0:return f>0?(v=this._getRawKey(n,".".concat(f)),[4,this._getRaw(v)]):[3,2];case 1:if(!(g=y.sent()))throw yn.storeBrokenIntegrity;return[2,g.data];case 2:return[2,i]}}))}))})))]:[3,4];case 3:return l=d.sent(),[3,5];case 4:l=[i],d.label=5;case 5:return s=l,[2,this.encryption.decrypt(JSON.parse(s.join("")))];case 6:return d.sent(),[2,null];case 7:return[2,null]}}))}))},t.prototype.set=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return e=this._shardify(n),[4,this._setRaw(e)];case 1:return r.sent(),[2,q({},n.value)]}}))}))},t.prototype.setMany=function(n){return A(this,void 0,void 0,(function(){var e,r=this;return N(this,(function(i){switch(i.label){case 0:return e=[],[4,this._setRaw(e.concat.apply(e,et([],Ye(n.map((function(a){return r._shardify(a)}))),!1)))];case 1:return i.sent(),[2,n.map((function(a){return a.value}))]}}))}))},t.prototype.remove=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l=this;return N(this,(function(c){switch(c.label){case 0:return e=this._getRawKey(n,".0"),[4,this._getRaw(e)];case 1:return(r=c.sent())?(i=r.metadata,a=this._generateShardPostfixArray(i?.shards).map((function(d){return l._getRawKey(n,".".concat(d))})),[4,this._removeRaw(a)]):[3,3];case 2:return c.sent(),(s=gs.get(this.dbname))==null||s.remove(n),[2,!0];case 3:return[2,!1]}}))}))},t.prototype.removeMany=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:e=gs.get(this.dbname),r=[],i=function(b){var C,w,I;return N(this,(function(M){switch(M.label){case 0:return C=a._getRawKey(b,".0"),[4,a._getRaw(C)];case 1:return(w=M.sent())&&(I=w.metadata,r.push.apply(r,et([],Ye(a._generateShardPostfixArray(I?.shards).map((function(R){return g._getRawKey(b,".".concat(R))}))),!1))),e?.remove(b),[2]}}))},a=this,y.label=1;case 1:y.trys.push([1,6,7,8]),s=De(n),l=s.next(),y.label=2;case 2:return l.done?[3,5]:(c=l.value,[5,i(c)]);case 3:y.sent(),y.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return d=y.sent(),f={error:d},[3,8];case 7:try{l&&!l.done&&(v=s.return)&&v.call(s)}finally{if(f)throw f.error}return[7];case 8:return r.length>0?[4,this._removeRaw(r)]:[3,10];case 9:y.sent(),y.label=10;case 10:return[2,n]}}))}))},t.prototype.clear=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){return(n=gs.get(this.dbname))==null||n.clearForDatabase(this.dbname),[2]}))}))},t})(),fs={},Xf=(function(t){function n(e){e===void 0&&(e={});var r,i=this;i=t.call(this,q(q({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:4194304}))||this;var a=e.delay,s=a===void 0?1:a;return i.delay=s,i.observer={},i}return k(n,t),Object.defineProperty(n.prototype,"rawData",{get:function(){return fs[this.dbname]},set:function(e){fs[this.dbname]=e},enumerable:!1,configurable:!0}),n.prototype._getAllRawKeys=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){if(fs[this.dbname])return[2,Object.keys(fs[this.dbname])];throw yn.storeNotAvailable}))}))},n.prototype._getRaw=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return fs[this.dbname]?[4,gb(this.delay)]:[3,2];case 1:return r.sent(),[2,fs[this.dbname][e]?q({key:e},fs[this.dbname][e]):null];case 2:throw yn.storeNotAvailable}}))}))},n.prototype._setRaw=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f;return N(this,(function(v){switch(v.label){case 0:return fs[this.dbname]?[4,gb(this.delay)]:[3,2];case 1:v.sent();try{for(r=De(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.key,l=a.data,c=a.metadata,fs[this.dbname][s]=Object.freeze({data:l,metadata:c})}catch(g){d={error:g}}finally{try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(d)throw d.error}}return[3,3];case 2:throw yn.storeNotAvailable;case 3:return[2]}}))}))},n.prototype._removeRaw=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return fs[this.dbname]?[4,gb(this.delay)]:[3,2];case 1:c.sent();try{for(r=De(e),i=r.next();!i.done;i=r.next())a=i.value,fs[this.dbname][a]&&delete fs[this.dbname][a]}catch(d){s={error:d}}finally{try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(s)throw s.error}}return[3,3];case 2:throw yn.storeNotAvailable;case 3:return[2]}}))}))},n.prototype.observe=function(e,r,i){var a=this;this.observer[e]||(this.observer[e]={}),r.forEach((function(s){return a.observer[e][s]=i}))},n.prototype.checkAvailability=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){return[2]}))}))},n.prototype.init=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return this.dbname=e,fs[this.dbname]||(fs[this.dbname]={}),[4,this._resetIfEncryptionChanged()];case 1:return r.sent(),[2]}}))}))},n.prototype.set=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){if((r=this.observer[e.key])&&typeof r.set=="function"&&(i=r.set()))throw i;return[2,t.prototype.set.call(this,e)]}))}))},n.prototype.setMany=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){try{for(r=De(e),i=r.next();!i.done;i=r.next())if(a=i.value,(s=this.observer[a.key])&&typeof s.set=="function"&&(l=s.set()))throw l}catch(v){c={error:v}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(c)throw c.error}}return[2,t.prototype.setMany.call(this,e)]}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,t.prototype.clear.call(this)];case 1:return e.sent(),[4,gb(this.delay)];case 2:return e.sent(),fs[this.dbname]={},[2]}}))}))},n})(l2),OM="NestDBStore";(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.OPENING=1]="OPENING",t[t.OPEN=2]="OPEN",t[t.CLOSED=3]="CLOSED"})(Hl||(Hl={}));var rV=(function(t){function n(e){e===void 0&&(e={});var r,i=this;return(i=t.call(this,q(q({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:104857600}))||this)._storeName=OM,i._state=Hl.UNINITIALIZED,i._openJobQueue=[],i._window=typeof window<"u"?window:void 0,i._indexedDb=i._window?i._window.indexedDB||i._window.mozIndexedDB||i._window.webkitIndexedDB||i._window.msIndexedDB:void 0,i}return k(n,t),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.isTransactionInactiveError=function(e){return e instanceof Error&&e.message.includes("The transaction is inactive")},n.prototype._putToObjectStore=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){return[2,new Promise((function(a,s){var l=e.put(r);l.addEventListener("success",(function(c){a(c.target.result)})),l.addEventListener("error",(function(c){s(c.target.error)}))}))]}))}))},n.prototype._deleteFromObjectStore=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){return[2,new Promise((function(a,s){var l=e.delete(r);l.addEventListener("success",(function(){return a(r)})),l.addEventListener("error",(function(c){return s(c.target.error)}))}))]}))}))},n.prototype._openDatabase=function(e){var r=this;return new Promise((function(i,a){if(r._indexedDb){r._state=Hl.OPENING;var s=r._indexedDb.open(e);s.addEventListener("upgradeneeded",(function(l){l.target.result.createObjectStore(OM,{keyPath:"key"})})),s.addEventListener("success",(function(l){r._state=Hl.OPEN,r._database=l.target.result,r._openJobQueue.forEach((function(c){return c()})),r._openJobQueue=[],r._database.onclose=function(){r._database=void 0,r._state=Hl.OPENING,setTimeout((function(){r._openDatabase(e)}),5)},i(r._database)})),s.addEventListener("error",(function(l){r._state=Hl.UNINITIALIZED,a(l.target.error)}))}else a(yn.storeNotAvailable)}))},n.prototype._getObjectStore=function(e){return A(this,void 0,void 0,(function(){var r,i=this;return N(this,(function(a){switch(a.label){case 0:return this._database?((r=this._database.transaction(this._storeName,e)).addEventListener("abort",(function(s){throw s.target.error})),[2,r.objectStore(this._storeName)]):[3,1];case 1:switch(this._state){case Hl.UNINITIALIZED:case Hl.OPEN:return[3,2];case Hl.OPENING:case Hl.CLOSED:return[3,3]}return[3,4];case 2:throw yn.storeNotInitialized;case 3:return[2,new Promise((function(s){i._openJobQueue.push((function(){return s(i._getObjectStore(e))}))}))];case 4:return[4,this._getObjectStore(e)];case 5:return[2,a.sent()]}}))}))},n.prototype._getAllRawKeys=function(){return A(this,void 0,void 0,(function(){var e=this;return N(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(i,a){return A(e,void 0,void 0,(function(){var s,l;return N(this,(function(c){switch(c.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return s=c.sent(),(l=s.getAllKeys()).addEventListener("success",(function(d){i(d.target.result)})),l.addEventListener("error",(function(d){return a(d.target.error)})),[2]}}))}))}))];case 1:return[2,r.sent()]}}))}))},n.prototype._getRaw=function(e){return A(this,void 0,void 0,(function(){var r=this;return N(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(a,s){return A(r,void 0,void 0,(function(){var l,c;return N(this,(function(d){switch(d.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return l=d.sent(),(c=l.get(e)).addEventListener("success",(function(f){var v;a((v=f?.target)===null||v===void 0?void 0:v.result)})),c.addEventListener("error",(function(f){return s(f.target.error)})),[2]}}))}))}))];case 1:return[2,i.sent()]}}))}))},n.prototype._setRaw=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:return y.trys.push([0,3,,15]),[4,this._getObjectStore("readwrite")];case 1:return r=y.sent(),[4,Promise.all(e.map((function(b){return g._putToObjectStore(r,b)})))];case 2:return y.sent(),[3,15];case 3:return i=y.sent(),this.isTransactionInactiveError(i)?[4,this._getObjectStore("readwrite")]:[3,13];case 4:a=y.sent(),y.label=5;case 5:y.trys.push([5,10,11,12]),s=De(e),l=s.next(),y.label=6;case 6:return l.done?[3,9]:(c=l.value,[4,this._putToObjectStore(a,c)]);case 7:y.sent(),y.label=8;case 8:return l=s.next(),[3,6];case 9:return[3,12];case 10:return d=y.sent(),f={error:d},[3,12];case 11:try{l&&!l.done&&(v=s.return)&&v.call(s)}finally{if(f)throw f.error}return[7];case 12:return[3,14];case 13:throw i;case 14:return[3,15];case 15:return[2]}}))}))},n.prototype._removeRaw=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:return y.trys.push([0,3,,15]),[4,this._getObjectStore("readwrite")];case 1:return r=y.sent(),[4,Promise.all(e.map((function(b){return g._deleteFromObjectStore(r,b)})))];case 2:return y.sent(),[3,15];case 3:return i=y.sent(),this.isTransactionInactiveError(i)?[4,this._getObjectStore("readwrite")]:[3,13];case 4:a=y.sent(),y.label=5;case 5:y.trys.push([5,10,11,12]),s=De(e),l=s.next(),y.label=6;case 6:return l.done?[3,9]:(c=l.value,[4,this._deleteFromObjectStore(a,c)]);case 7:y.sent(),y.label=8;case 8:return l=s.next(),[3,6];case 9:return[3,12];case 10:return d=y.sent(),f={error:d},[3,12];case 11:try{l&&!l.done&&(v=s.return)&&v.call(s)}finally{if(f)throw f.error}return[7];case 12:return[3,14];case 13:throw i;case 14:return[3,15];case 15:return[2]}}))}))},n.prototype._triggerDatabaseClose=function(){this._database&&this._database.onclose&&this._database.onclose(new Event("dummy"))},n.prototype.checkAvailability=function(){return A(this,void 0,void 0,(function(){var e,r=this;return N(this,(function(i){switch(i.label){case 0:if(!((e=typeof window<"u"?window:null)!=null&&e.indexedDB||e?.mozIndexedDB||e?.webkitIndexedDB||e?.msIndexedDB))return[3,6];if(this._indexedDb=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,!this._window||!S1())return[3,4];if(!(S1()&&navigator.userAgent&&navigator.userAgent.includes("Edge/")))return[3,1];if(!this._window.indexedDB&&(e.PointerEvent||e.MSPointerEvent))throw yn.storeNotAvailableInPrivateBrowsing;return[3,3];case 1:return[4,new Promise((function(a,s){if(r._indexedDb)try{var l=r._indexedDb.open("_testMozilla");l.onerror=function(){return s(yn.storeNotAvailableInPrivateBrowsing)},l.onsuccess=function(c){if(c.target.result.close(),r._indexedDb){var d=r._indexedDb.deleteDatabase("_testMozilla");d.onerror=function(){return a()},d.onsuccess=function(){return a()}}else s(yn.storeNotAvailable)}}catch{s(yn.storeNotAvailableInPrivateBrowsing)}else s(yn.storeNotAvailable)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:throw yn.storeNotAvailable;case 5:return[3,7];case 6:throw yn.storeNotAvailable;case 7:return[2]}}))}))},n.prototype.init=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return this.dbname=e,[4,this.checkAvailability()];case 1:return r.sent(),[4,this._openDatabase(e)];case 2:return r.sent(),[4,this._resetIfEncryptionChanged()];case 3:return r.sent(),[2]}}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){var e=this;return N(this,(function(r){switch(r.label){case 0:return[4,t.prototype.clear.call(this)];case 1:return r.sent(),[4,new Promise((function(i,a){return A(e,void 0,void 0,(function(){var s,l;return N(this,(function(c){switch(c.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return s=c.sent(),(l=s.clear()).addEventListener("success",(function(){return i()})),l.addEventListener("error",(function(d){return a(d.target.error)})),[2]}}))}))}))];case 2:return[2,r.sent()]}}))}))},n})(l2),iV=(function(t){function n(e){var r=this,i=e.AsyncStorage,a=e.itemSizeLimit,s=a===void 0?2097152:a,l=OH(e,["AsyncStorage","itemSizeLimit"]);return(r=t.call(this,q(q({},l),{itemSizeLimit:s}))||this)._asyncStorage=i,r}return k(n,t),n.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},n.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},n.prototype._getAllRawKeys=function(){return A(this,void 0,void 0,(function(){var e,r=this;return N(this,(function(i){switch(i.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return e=i.sent(),[2,e.filter((function(a){return r._isBelonging(a)})).map((function(a){return a.substring("".concat(r.dbname,"/").length)}))]}}))}))},n.prototype._getRaw=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(r=i.sent())?JSON.parse(r):null]}}))}))},n.prototype._setRaw=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:r=[];try{for(i=De(e),a=i.next();!a.done;a=i.next())s=a.value,l=s.key,s.data.length<=this.adjustedItemSizeLimit&&r.push([this._getActualKey(l),JSON.stringify(s)])}catch(v){c={error:v}}finally{try{a&&!a.done&&(d=i.return)&&d.call(i)}finally{if(c)throw c.error}}return[4,this._asyncStorage.multiSet(r)];case 1:return f.sent(),[2]}}))}))},n.prototype._removeRaw=function(e){return A(this,void 0,void 0,(function(){var r=this;return N(this,(function(i){switch(i.label){case 0:return[4,this._asyncStorage.multiRemove(e.map((function(a){return r._getActualKey(a)})))];case 1:return i.sent(),[2]}}))}))},n.prototype.checkAvailability=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){if(!this._asyncStorage)throw yn.storeNotAvailable;return[2]}))}))},n.prototype.init=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return this.dbname=e,[4,this._resetIfEncryptionChanged()];case 1:return r.sent(),[2]}}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return[4,t.prototype.clear.call(this)];case 1:return r.sent(),[4,this.getAllKeys()];case 2:return e=r.sent(),[4,this.removeMany(e)];case 3:return r.sent(),[2]}}))}))},n})(l2),aV=(function(t){function n(e){var r,i,a=this;return(a=t.call(this,q(q({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:6291456}))||this)._mmkv=(i=e.MMKV,{getString:function(s){return i.getString(s)},set:function(s,l){return i.set(s,l)},delete:function(s){return i.remove?i.remove(s):i.delete(s)},getAllKeys:function(){return i.getAllKeys()}}),a}return k(n,t),n.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},n.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},n.prototype._getAllRawKeys=function(){return A(this,void 0,void 0,(function(){var e,r=this;return N(this,(function(i){switch(i.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return e=i.sent(),[2,e.filter((function(a){return r._isBelonging(a)})).map((function(a){return a.substring("".concat(r.dbname,"/").length)}))]}}))}))},n.prototype._getRaw=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return[4,this._mmkv.getString(this._getActualKey(e))];case 1:return[2,(r=i.sent())?JSON.parse(r):null]}}))}))},n.prototype._setRaw=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){try{for(r=De(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.key,a.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(s),JSON.stringify(a))}catch(f){l={error:f}}finally{try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}}return[2]}))}))},n.prototype._removeRaw=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l;return N(this,(function(c){try{for(r=De(e),i=r.next();!i.done;i=r.next())a=i.value,this._mmkv.delete(this._getActualKey(a))}catch(d){s={error:d}}finally{try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(s)throw s.error}}return[2]}))}))},n.prototype.checkAvailability=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){if(!this._mmkv)throw yn.storeNotAvailable;return[2]}))}))},n.prototype.init=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return this.dbname=e,[4,this._resetIfEncryptionChanged()];case 1:return r.sent(),[2]}}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:return[4,t.prototype.clear.call(this)];case 1:return r.sent(),[4,this.getAllKeys()];case 2:return e=r.sent(),[4,this.removeMany(e)];case 3:return r.sent(),[2]}}))}))},n})(l2),ql;(function(t){t.INIT="INIT",t.OPENING="OPENING",t.OPENED="OPENED",t.CLOSED="CLOSED"})(ql||(ql={}));var Rc,sV=(function(){function t(n){var e=n.name,r=n.version,i=n.store,a=n.config;this.name=e,this._version=r,this._state=ql.INIT,this._config=a||new W0({dbname:e}),this._store=i,this._event={success:qg,error:qg,storeReplaced:qg,upgrade:AM},this._collections=new Map,this._globalMutex=new S3("".concat(this.name,".lock")),this._config.disableLogger&&jf.off(),new gs({dbname:e,limit:this._config.cacheLimit})}return Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"store",{get:function(){return this._store},enumerable:!1,configurable:!0}),t.prototype._initializeCollection=function(n,e){var r;return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return a=this._collections.get(n),e?(i=new fC({dbname:this.name,collectionName:n,keyName:e.keyName,indexes:(r=e.index)!==null&&r!==void 0?r:[[e.keyName]],store:this._store}),[3,3]):[3,1];case 1:return a&&a.state===lp.READY?[3,3]:[4,fC.metadataOf(this.name,n,this._store)];case 2:(s=l.sent())&&(i=new fC({dbname:this.name,collectionName:n,keyName:s.keyName,indexes:s.indexes,store:this._store})),l.label=3;case 3:return i?(this._collections.set(n,i),[4,i.init()]):[3,5];case 4:l.sent(),l.label=5;case 5:return[2]}}))}))},t.prototype.estimateUsage=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,(e=this._store,A(void 0,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,e.usage()];case 1:return[2,r.sent()]}}))})))];case 1:return[2,n.sent()]}var e}))}))},t.prototype.commitSchema=function(n){return A(this,void 0,void 0,(function(){var e=this;return N(this,(function(r){switch(r.label){case 0:return this._state!==ql.OPENING?[3,2]:[4,Promise.all(n.map((function(i){return A(e,void 0,void 0,(function(){return N(this,(function(a){switch(a.label){case 0:return[4,this._initializeCollection(i.collectionName,i)];case 1:return a.sent(),[2]}}))}))})))];case 1:return r.sent(),[3,3];case 2:throw yn.databaseSchemaNotOnUpgrade;case 3:return[2]}}))}))},t.prototype.open=function(){var n;return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:return[4,this._globalMutex.lock()];case 1:if(y.sent(),this._state===ql.OPENED)return[3,20];this._state=ql.OPENING,y.label=2;case 2:return y.trys.push([2,13,,20]),[4,this._store.init(this.name)];case 3:return y.sent(),b=this.name,e="".concat(C3(b),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(e)];case 4:i=(n=y.sent())!==null&&n!==void 0?n:r,y.label=5;case 5:y.trys.push([5,10,11,12]),a=De(i.collectionNames),s=a.next(),y.label=6;case 6:return s.done?[3,9]:(l=s.value,[4,this._initializeCollection(l)]);case 7:y.sent(),y.label=8;case 8:return s=a.next(),[3,6];case 9:return[3,12];case 10:return c=y.sent(),f={error:c},[3,12];case 11:try{s&&!s.done&&(v=a.return)&&v.call(a)}finally{if(f)throw f.error}return[7];case 12:return[2,new Promise((function(C,w){var I=function(R){i.version<g._version?g._event.upgrade(i.version,(function(U){return A(g,void 0,void 0,(function(){var H;return N(this,(function(P){switch(P.label){case 0:if(U)return[3,5];i.version++,i.collectionNames=Array.from(this._collections.keys()),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,this._store.set({key:e,value:i})];case 2:return P.sent(),R({continued:!0}),[3,4];case 3:return H=P.sent(),R({continued:!1,err:H}),[3,4];case 4:return[3,6];case 5:R({continued:!1,err:U}),P.label=6;case 6:return[2]}}))}))})):R({continued:!1})},M=function(R){var U=R.continued,H=U!==void 0&&U,P=R.err,G=P===void 0?null:P;H?setTimeout((function(){return I(M)}),10):G?(jf.error(G.message),g._globalMutex.unlock(),g._event.error(G),w(G)):Promise.all(i.collectionNames.map((function(Y){return g._initializeCollection(Y)}))).then((function(){g._state=ql.OPENED,g._globalMutex.unlock(),g._event.success(),C()})).catch((function(Y){jf.error(Y.message),g._globalMutex.unlock(),g._event.error(Y),w(Y)}))};I(M)}))];case 13:switch(d=y.sent(),d.code){case _r.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,14];case _r.STORE_NOT_AVAILABLE:return[3,16]}return[3,18];case 14:return jf.warning("Access to the local storage is not allowed. Switched to MemoryStore automatically."),this._store=new Xf({}),this._globalMutex.unlock(),this._event.error(d),this._event.storeReplaced(this._store),[4,this.open()];case 15:return y.sent(),[3,19];case 16:return jf.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Xf({}),this._globalMutex.unlock(),this._event.error(d),this._event.storeReplaced(this._store),[4,this.open()];case 17:return y.sent(),[3,19];case 18:throw jf.error(d.message),this._globalMutex.unlock(),this._event.error(d),d;case 19:return[3,20];case 20:return[2]}var b}))}))},t.prototype.close=function(){this._collections.forEach((function(n){return n.close()})),this._state=ql.CLOSED},t.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map((function(e){return e.clear()})))];case 1:return n.sent(),[2]}}))}))},t.prototype.reset=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return(n=gs.get(this.name))&&n.clearForDatabase(this.name),[4,this._store.clear()];case 1:return e.sent(),[2]}}))}))},t.prototype.on=function(n,e){this._event[n]=e},t.prototype.off=function(n){typeof this._event[n]=="function"&&(n==="upgrade"?this._event[n]=AM:this._event[n]=qg)},t.prototype.collection=function(n){var e=this._collections.get(n);if(e)return e;throw yn.collectionNotReady},t})();(function(t){t[t.VERBOSE=0]="VERBOSE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.NONE=5]="NONE"})(Rc||(Rc={}));var qi,nL=(function(){function t(){this.level=Rc.WARN}return t.prototype.verbose=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.level<=Rc.VERBOSE&&console.log.apply(console,et(["[verbose]"],Ye(n),!1))},t.prototype.debug=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.level<=Rc.DEBUG&&console.log.apply(console,et(["[debug]"],Ye(n),!1))},t.prototype.info=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.level<=Rc.INFO&&console.log.apply(console,et(["[info]"],Ye(n),!1))},t.prototype.warn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.level<=Rc.WARN&&console.warn.apply(console,et(["[warn]"],Ye(n),!1))},t.prototype.error=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.level<=Rc.ERROR&&console.error.apply(console,et(["[error]"],Ye(n),!1))},t})(),Eh=(function(){function t(n){var e,r,i,a;this.messageTypeFilter=(e=n?.messageTypeFilter)!==null&&e!==void 0?e:na.ALL,this.customTypesFilter=(r=n?.customTypesFilter)!==null&&r!==void 0?r:null,this.senderUserIdsFilter=(i=n?.senderUserIdsFilter)!==null&&i!==void 0?i:null,this.replyType=(a=n?.replyType)!==null&&a!==void 0?a:ra.NONE}return t.prototype.clone=function(){var n=new t,e=JSON.parse(JSON.stringify(this));return Object.keys(e).forEach((function(r){n[r]=e[r]})),n},t.prototype.match=function(n){switch(this.messageTypeFilter){case na.USER:if(n.messageType!==Bn.USER)return!1;break;case na.FILE:if(n.messageType!==Bn.FILE)return!1;break;case na.ADMIN:if(n.messageType!==Bn.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes("*")&&!this.customTypesFilter.includes(n.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(n instanceof Ur)||!this.senderUserIdsFilter.includes(n.sender.userId)))return!1;if(n instanceof ba)switch(this.replyType){case ra.NONE:if(n.parentMessageId>0)return!1;break;case ra.ONLY_REPLY_TO_CHANNEL:if(n instanceof Ur&&n.parentMessageId>0&&!n.replyToChannel)return!1}return!0},t})();(function(t){t.CHANNEL_LATEST="channel_latest",t.NEWEST_CHILD_MESSAGE="newest_child_message"})(qi||(qi={}));var h0,Fu=function(t){switch(t){case qi.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case qi.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},oV=function(){return["channelUrl","-createdAt","-notificationId"]},lV=q(q({},Px),{scheduledAt:void 0}),uV=function(t){return Hx(t)&&W("number",t.scheduledAt,!0)},cV=q(q({},s2),{scheduledAt:0,file:void 0,fileUrl:void 0,fileName:void 0,mimeType:void 0,fileSize:void 0,thumbnailSizes:void 0,requireAuth:!1}),dV=function(t){return o2(t)&&W("number",t.scheduledAt)&&(Oi(t.file)||W("string",t.fileUrl))&&W("string",t.fileName,!0)&&W("string",t.mimeType,!0)&&W("number",t.fileSize,!0)&&(t.thumbnailSizes===null||t.thumbnailSizes===void 0||t.thumbnailSizes.every((function(n){return W("object",n)&&n.maxWidth>0&&n.maxHeight>0})))},rL="UnsentMessage",hV="reqId",bb={},Cp=(function(t){function n(e){var r=t.call(this,e)||this;return r._mutex=new S3("unsendmessagecache.lock"),bb[e]=r,r}return k(n,t),Object.defineProperty(n.prototype,"_cacheContext",{get:function(){return j.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),n.of=function(e,r){return r===void 0&&(r=!1),bb[e]&&!r||(bb[e]=new n(e)),bb[e]},Object.defineProperty(n.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb,r=e?.collection(rL);if(!r)throw Z.databaseError;return r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(e){if(e.messageId>0)throw Z.invalidParameters;var r,i=q({},e.serialize());return e instanceof ta?(e.messageParams&&(i.messageParams=dM(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=(r=e.scheduledInfo.scheduledMessageParams,q(q({},dM(r)),{scheduledAt:r.scheduledAt})))):e instanceof Zr?(e.messageParams&&(i.messageParams=hM(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=(function(a){return q(q({},hM(a)),{scheduledAt:a.scheduledAt})})(e.scheduledInfo.scheduledMessageParams))):e instanceof So&&e.messageParams&&(i.messageParams=(function(a){return Pe({fileInfoList:a.fileInfoList.map((function(s){return{file:s.file,fileUrl:R0.getPlainUrl(s),fileName:s.fileName,fileSize:s.fileSize,mimeType:s.mimeType,thumbnailSizes:s.thumbnailSizes,_thumbnails:s._thumbnails,_uploadedMetaData:s._uploadedMetaData}})),isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption})})(e.messageParams)),i},n.prototype._deserialize=function(e){return e=q(q({},e),{messageId:parseInt(e.messageId)}),_i.of(this._iid).buildMessageFromSerializedData(e)},n.prototype._deserializeWithMessageCreateParams=function(e){var r,i,a;return A(this,void 0,void 0,(function(){var s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:return s=_i.of(this._iid),l=this._deserialize(e),e.messageParams?l instanceof ta?(d=e.messageParams,l.messageParams=s.buildUserMessageCreateParamsFromSerializedData(d,l),[3,6]):[3,1]:[3,6];case 1:return l instanceof Zr?(d=e.messageParams).fileKey&&typeof d.fileKey=="string"&&lC((r=d.fileType)!==null&&r!==void 0?r:"")?(c=d,[4,this.collection.getBlob(d.fileKey)]):[3,3]:[3,4];case 2:c.file=(i=y.sent())!==null&&i!==void 0?i:void 0,y.label=3;case 3:return l.messageParams=s.buildFileMessageCreateParamsFromSerializedData(d,l),[3,6];case 4:return l instanceof So&&(d=e.messageParams)&&d.fileInfoList?(l.messageParams=s.buildMultipleFilesMessageCreateParamsFromSerializedData(d,l),[4,Promise.all(l.messageParams.fileInfoList.map((function(b){return A(g,void 0,void 0,(function(){var C,w,I,M,R;return N(this,(function(U){switch(U.label){case 0:return typeof((w=b._uploadedMetaData)===null||w===void 0?void 0:w.fileKey)=="string"&&lC((M=(I=b._uploadedMetaData)===null||I===void 0?void 0:I.fileType)!==null&&M!==void 0?M:"")?(C=b,[4,this.collection.getBlob(b._uploadedMetaData.fileKey)]):[3,2];case 1:C.file=(R=U.sent())!==null&&R!==void 0?R:void 0,U.label=2;case 2:return[2]}}))}))})))]):[3,6];case 5:y.sent(),y.label=6;case 6:return l.scheduledInfo&&e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams?l instanceof ta?(f=e.scheduledInfo.scheduledMessageParams,l.scheduledInfo.scheduledMessageParams=s.buildScheduledUserMessageCreateParamsFromSerializedData(f,l),[3,10]):[3,7]:[3,10];case 7:return l instanceof Zr?(f=e.scheduledInfo.scheduledMessageParams).fileKey&&typeof f.fileKey=="string"&&typeof f.fileType=="string"&&lC(f.fileType)?(v=f,[4,this.collection.getBlob(f.fileKey)]):[3,9]:[3,10];case 8:v.file=(a=y.sent())!==null&&a!==void 0?a:void 0,y.label=9;case 9:l.scheduledInfo.scheduledMessageParams=s.buildScheduledFileMessageCreateParamsFromSerializedData(f,l),y.label=10;case 10:return[2,l]}}))}))},n.prototype._getFileInfoBlobKey=function(e,r){return"".concat(e,".").concat(r)},n.prototype.get=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=i.sent())return[2,this._deserializeWithMessageCreateParams(r)];i.label=2;case 2:return[2,void 0]}}))}))},n.prototype.fetch=function(e){var r=e.channelUrl,i=e.filter,a=i===void 0?new Eh:i,s=e.order,l=s===void 0?qi.CHANNEL_LATEST:s,c=e.sendingStatus,d=e.backward,f=d!==void 0&&d,v=e.parentMessageId;return A(this,void 0,void 0,(function(){var g,y,b,C,w=this;return N(this,(function(I){switch(I.label){case 0:return this.localCacheEnabled?(g=Fu(l),y={"/where":function(M){return!!(l!==qi.NEWEST_CHILD_MESSAGE||v&&M.parentMessageId!==0&&M.parentMessageId===v)&&a.match(w._deserialize(M))}},r&&(y.channelUrl=r),c&&(y.sendingStatus=c),b={where:y,index:g,backward:f},[4,this.collection.query(b)]):[3,3];case 1:return[4,I.sent().fetch({})];case 2:return C=I.sent(),[2,Promise.all(C.map((function(M){return A(w,void 0,void 0,(function(){return N(this,(function(R){switch(R.label){case 0:return[4,this._deserializeWithMessageCreateParams(M)];case 1:return[2,R.sent()]}}))}))})))];case 3:return[2,[]]}}))}))},n.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new Eh),A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return[4,this.fetch({filter:r,order:qi.NEWEST_CHILD_MESSAGE,channelUrl:e.channelUrl,backward:!1,parentMessageId:e.messageId})];case 1:return[2,i.sent()]}}))}))},n.prototype.upsert=function(e){return A(this,void 0,void 0,(function(){var r=this;return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(a){return A(r,void 0,void 0,(function(){var s;return N(this,(function(l){switch(l.label){case 0:return a instanceof Zr||a instanceof So?[4,this._mutex.lock()]:[3,4];case 1:return l.sent(),[4,this.saveBlob(a)];case 2:return l.sent(),[4,this._mutex.unlock()];case 3:l.sent(),l.label=4;case 4:return s=this._serialize(a),[4,this.collection.upsertOne(s)];case 5:return l.sent(),[2]}}))}))})))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},n.prototype.upsertChildMessages=function(e){return A(this,void 0,void 0,(function(){var r=this;return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(a){return A(r,void 0,void 0,(function(){var s;return N(this,(function(l){switch(l.label){case 0:return s=[],a.threadInfo&&a.threadInfo.replyCount>0?[4,this.getAllChildMessages(a)]:[3,2];case 1:s=l.sent(),l.label=2;case 2:return s.length>0?(s.forEach((function(c){return c.applyParentMessage(a)})),[4,this.upsert(s)]):[3,4];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))})))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},n.prototype.remove=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:if(!this.localCacheEnabled)return[3,8];d.label=1;case 1:d.trys.push([1,6,7,8]),r=De(e),i=r.next(),d.label=2;case 2:return i.done?[3,5]:(a=i.value,[4,this.collection.remove(a)]);case 3:d.sent(),d.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s=d.sent(),l={error:s},[3,8];case 7:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}))},n.prototype.removeMessagesOfChannel=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n.prototype.saveBlob=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s=this;return N(this,(function(l){switch(l.label){case 0:return e instanceof Zr?e.messageParams&&(a=e.messageParams).file&&Vb(a.file)?[4,this.collection.saveBlob(a.file,e.reqId)]:[3,2]:[3,5];case 1:i=l.sent(),a.fileKey=i,a.fileType=fp.BLOB,l.label=2;case 2:return e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(r=e.scheduledInfo.scheduledMessageParams).file&&Vb(r.file)?[4,this.collection.saveBlob(r.file,e.reqId)]:[3,4];case 3:i=l.sent(),r.fileKey=i,r.fileType=fp.BLOB,l.label=4;case 4:return[3,7];case 5:return e instanceof So&&(a=e.messageParams)&&a.fileInfoList&&Array.isArray(a.fileInfoList)?[4,Promise.all(a.fileInfoList.map((function(c,d){return A(s,void 0,void 0,(function(){var f;return N(this,(function(v){switch(v.label){case 0:return c.file&&Vb(c.file)?[4,this.collection.saveBlob(c.file,this._getFileInfoBlobKey(e.reqId,d))]:[3,2];case 1:f=v.sent(),c._uploadedMetaData||(c._uploadedMetaData={}),c._uploadedMetaData.fileKey=f,c._uploadedMetaData.fileType=fp.BLOB,v.label=2;case 2:return[2]}}))}))})))]:[3,7];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))},n})(ti),Tb={},up=(function(t){function n(e){var r=t.call(this,e)||this;return Tb[e]=r,r}return k(n,t),Object.defineProperty(n.prototype,"_sdkState",{get:function(){return j.of(this._iid).sdkState},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_cacheContext",{get:function(){return j.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_unsentMessageCache",{get:function(){return Cp.of(this._iid)},enumerable:!1,configurable:!0}),n.of=function(e,r){return r===void 0&&(r=!1),Tb[e]&&!r||(Tb[e]=new n(e)),Tb[e]},Object.defineProperty(n.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return Ne(!!e).throw(Z.databaseError),e.collection(T3)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(e){return q(q({},e.serialize()),{messageId:"".concat(e.messageId)})},n.prototype._deserialize=function(e){return e=q(q({},e),{messageId:parseInt(e.messageId)}),_i.of(this._iid).buildMessageFromSerializedData(e)},n.prototype.get=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,void 0]}}))}))},n.prototype.fetch=function(e){var r=e.channelUrl,i=e.token,a=e.limit,s=a===void 0?100:a,l=e.filter,c=l===void 0?new Eh:l,d=e.order,f=d===void 0?qi.CHANNEL_LATEST:d,v=e.backward,g=v!==void 0&&v,y=e.parentMessageId,b=e.isPollOnly,C=b!==void 0&&b,w=e.exactMatch,I=w!==void 0&&w,M=e.inclusive,R=M===void 0||M;return A(this,void 0,void 0,(function(){var U,H,P,G=this;return N(this,(function(Y){switch(Y.label){case 0:return this.localCacheEnabled?(U=Fu(f),H={where:{channelUrl:r,"/where":function(F){if(i!=null&&i!=="")switch(f){case qi.CHANNEL_LATEST:if(I&&F.createdAt!==i)return!1;if(g){if(R&&F.createdAt<i||!R&&F.createdAt<=i)return!1}else if(R&&F.createdAt>i||!R&&F.createdAt>=i)return!1;break;case qi.NEWEST_CHILD_MESSAGE:if(!y||F.parentMessageId===0||F.parentMessageId!==y)return!1}return!(C&&!F._poll)&&c.match(G._deserialize(F))}},index:U,backward:g},[4,this.collection.query(H)]):[3,3];case 1:return[4,Y.sent().fetch({limit:s??void 0})];case 2:return P=Y.sent(),[2,Promise.all(P.map((function(F){return A(G,void 0,void 0,(function(){return N(this,(function(te){return[2,this._deserialize(F)]}))}))})))];case 3:return[2,[]]}}))}))},n.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new Eh),A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return[4,this.fetch({channelUrl:e.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:qi.NEWEST_CHILD_MESSAGE,parentMessageId:e.messageId})];case 1:return[2,i.sent()]}}))}))},n.prototype.upsert=function(e){var r;return A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(e)]:[3,13];case 1:y.sent(),y.label=2;case 2:y.trys.push([2,7,8,9]),i=De(e),a=i.next(),y.label=3;case 3:return a.done?[3,6]:(s=a.value,!((r=s.threadInfo)===null||r===void 0)&&r._isUpdateRequired?[4,this.get(s.messageId)]:[3,5]);case 4:(l=y.sent())!=null&&l.threadInfo&&s.threadInfo._updateFrom(l.threadInfo),y.label=5;case 5:return a=i.next(),[3,3];case 6:return[3,9];case 7:return c=y.sent(),f={error:c},[3,9];case 8:try{a&&!a.done&&(v=i.return)&&v.call(i)}finally{if(f)throw f.error}return[7];case 9:return d=e.map((function(b){return g._serialize(b)})),[4,this.collection.upsertMany(d)];case 10:return y.sent(),[4,this.upsertChildMessages(e)];case 11:return y.sent(),[4,this._unsentMessageCache.upsertChildMessages(e)];case 12:y.sent(),y.label=13;case 13:return[2]}}))}))},n.prototype.upsertChildMessages=function(e){return A(this,void 0,void 0,(function(){var r=this;return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(a){return A(r,void 0,void 0,(function(){var s,l;return N(this,(function(c){switch(c.label){case 0:return s=[],!((l=a.threadInfo)===null||l===void 0)&&l.replyCount&&a.threadInfo.replyCount>0?[4,this.getAllChildMessages(a)]:[3,2];case 1:s=c.sent(),c.label=2;case 2:return s.length>0?(s.forEach((function(d){return d.applyParentMessage(a)})),[4,this.upsert(s)]):[3,4];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))})))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},n.prototype.remove=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:if(!this.localCacheEnabled)return[3,8];d.label=1;case 1:d.trys.push([1,6,7,8]),r=De(e),i=r.next(),d.label=2;case 2:return i.done?[3,5]:(a=i.value,[4,this.collection.remove("".concat(a))]);case 3:d.sent(),d.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s=d.sent(),l={error:s},[3,8];case 7:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}))},n.prototype.removeMessagesOfChannel=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:Fu(qi.CHANNEL_LATEST)})]:[3,6];case 1:return i.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))},n.prototype.removeUnderOffset=function(e,r,i){return i===void 0&&(i=!1),A(this,void 0,void 0,(function(){return N(this,(function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:i?{"<=":r}:{"<":r}},index:Fu(qi.CHANNEL_LATEST)})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n.prototype.countBetween=function(e,r,i){return A(this,void 0,void 0,(function(){var a,s=this;return N(this,(function(l){switch(l.label){case 0:return this.localCacheEnabled?(a=Fu(qi.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:e,"/where":function(c){var d=s._deserialize(c);return i.includes(d.createdAt)&&r.match(d)}},index:a}).count()]):[3,2];case 1:return[2,l.sent()];case 2:return[2,0]}}))}))},n.prototype.saveBlobs=function(e){return A(this,void 0,void 0,(function(){var r=this;return N(this,(function(i){switch(i.label){case 0:return[4,Promise.all(e.map((function(a){return A(r,void 0,void 0,(function(){var s,l;return N(this,(function(c){switch(c.label){case 0:return a instanceof Zr&&a.messageParams&&(s=a.messageParams).file&&Vb(s.file)?[4,this.collection.saveBlob(s.file,a.reqId)]:[3,2];case 1:l=c.sent(),s.fileKey=l,c.label=2;case 2:return[2]}}))}))})))];case 1:return i.sent(),[2]}}))}))},n.prototype._getGroupChannelPreferenceSize=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return r=0,[4,(i=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 1:return a=d.sent(),[4,i.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 2:return s=d.sent(),[4,i.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 3:return l=d.sent(),[4,i.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 4:return c=d.sent(),a&&(r+=JSON.stringify(a).length),s&&(r+=JSON.stringify(s).length),l&&(r+=JSON.stringify(l).length),c&&(r+=JSON.stringify(c).length),[2,r]}}))}))},n})(ti),Cb={},fV=(function(t){function n(e){var r=t.call(this,e)||this;return Cb[e]=r,r}return k(n,t),Object.defineProperty(n.prototype,"_sdkState",{get:function(){return j.of(this._iid).sdkState},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_cacheContext",{get:function(){return j.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),n.of=function(e,r){return r===void 0&&(r=!1),Cb[e]&&!r||(Cb[e]=new n(e)),Cb[e]},Object.defineProperty(n.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return Ne(!!e).throw(Z.databaseError),e.collection(eL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(e){return q({},e.serialize())},n.prototype._deserialize=function(e){return _i.of(this._iid).buildMessageFromSerializedData(e)},n.prototype.get=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,void 0]}}))}))},n.prototype.fetch=function(e){var r=e.channelUrl,i=e.token,a=e.limit,s=a===void 0?100:a,l=e.filter,c=l===void 0?new Eh:l,d=e.backward,f=d!==void 0&&d,v=e.exactMatch,g=v!==void 0&&v,y=e.inclusive,b=y===void 0||y;return A(this,void 0,void 0,(function(){var C,w=this;return N(this,(function(I){switch(I.label){case 0:return this.localCacheEnabled?(C={where:{channelUrl:r,"/where":function(M){if(i){if(g&&M.createdAt!==i)return!1;if(f){if(b&&M.createdAt<i||!b&&M.createdAt<=i)return!1}else if(b&&M.createdAt>i||!b&&M.createdAt>=i)return!1}return c.match(w._deserialize(M))}},index:["channelUrl","-createdAt","-notificationId"],backward:f},[4,this.collection.query(C)]):[3,3];case 1:return[4,I.sent().fetch({limit:s??void 0})];case 2:return[2,I.sent().map((function(M){return w._deserialize(M)}))];case 3:return[2,[]]}}))}))},n.prototype.upsert=function(e){return A(this,void 0,void 0,(function(){var r,i=this;return N(this,(function(a){switch(a.label){case 0:return this.localCacheEnabled?(r=e.map((function(s){return i._serialize(s)})),[4,this.collection.upsertMany(r)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},n.prototype.remove=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:if(!this.localCacheEnabled)return[3,8];d.label=1;case 1:d.trys.push([1,6,7,8]),r=De(e),i=r.next(),d.label=2;case 2:return i.done?[3,5]:(a=i.value,[4,this.collection.remove(a)]);case 3:d.sent(),d.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s=d.sent(),l={error:s},[3,8];case 7:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}))},n.prototype.markAsReadByTimestamp=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.updateIf({where:{channelUrl:e,messageStatus:op.SENT,createdAt:{"<":r}}},{set:{messageStatus:op.READ}})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},n.prototype.markAsReadByMessageIds=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.updateIf({where:{channelUrl:e,notificationId:{"/in":r},messageStatus:op.SENT}},{set:{messageStatus:op.READ}})]:[3,2];case 1:return[2,i.sent().length];case 2:return[2,0]}}))}))},n.prototype.removeMessagesOfChannel=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:["channelUrl","-createdAt","-notificationId"]})]:[3,6];case 1:return i.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))},n.prototype.removeUnderOffset=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:{"<":r}},index:Fu(qi.CHANNEL_LATEST)})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n.prototype.countBetween=function(e,r,i){return A(this,void 0,void 0,(function(){var a,s=this;return N(this,(function(l){switch(l.label){case 0:return this.localCacheEnabled?(a=["channelUrl","-createdAt","-notificationId"],[4,this.collection.query({where:{channelUrl:e,"/where":function(c){var d=s._deserialize(c);return i.includes(d.createdAt)&&r.match(d)}},index:a}).count()]):[3,2];case 1:return[2,l.sent()];case 2:return[2,0]}}))}))},n})(ti),Ig={},iL=(function(t){function n(e){var r=t.call(this,e)||this;return r._observers=new Map,r._dispatcherContext=r._dispatcher.on((function(i){return A(r,void 0,void 0,(function(){var a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F,te=this;return N(this,(function(J){switch(J.label){case 0:return i instanceof cr?(a=i.messages,F=i.source,f=i.isWebSocketEventComing,s=a.filter((function(ne){return ne instanceof ba&&ne.channelType!==Lt.OPEN&&ne.messageId>0})),l=a.filter((function(ne){return ne instanceof ba&&ne.channelType!==Lt.OPEN&&ne.messageId===0})),c=a.filter((function(ne){return ne instanceof bp})),s.length>0?[4,yr((function(){return A(te,void 0,void 0,(function(){return N(this,(function(ne){switch(ne.label){case 0:return[4,this._messageCache.upsert(s)];case 1:return ne.sent(),[4,this._unsentMessageCache.remove(s.map((function(Oe){return Oe instanceof Ur?Oe.reqId:null})).filter((function(Oe){return Oe!==null})))];case 2:return ne.sent(),[2]}}))}))}))]:[3,2]):[3,7];case 1:J.sent(),f||this._broadcastUpdateEvent(s,F),J.label=2;case 2:return l.length>0?[4,yr((function(){return A(te,void 0,void 0,(function(){return N(this,(function(ne){switch(ne.label){case 0:return[4,this._unsentMessageCache.upsert(l)];case 1:return ne.sent(),[2]}}))}))}))]:[3,4];case 3:J.sent(),f||this._broadcastUpdateEvent(l,F),J.label=4;case 4:return c.length>0?[4,yr((function(){return A(te,void 0,void 0,(function(){return N(this,(function(ne){switch(ne.label){case 0:return[4,this._notificationCache.upsert(c)];case 1:return ne.sent(),[2]}}))}))}))]:[3,6];case 5:J.sent(),f||this._broadcastUpdateEvent(c,F),J.label=6;case 6:return[3,24];case 7:return i instanceof h3?(d=i.messageIds,F=i.source,f=i.isWebSocketEventComing,v=d.filter((function(ne){return typeof ne=="number"})),g=d.filter((function(ne){return typeof ne=="string"})),[4,yr((function(){return A(te,void 0,void 0,(function(){return N(this,(function(ne){switch(ne.label){case 0:return v.length>0?[4,this._messageCache.remove(v)]:[3,2];case 1:ne.sent(),ne.label=2;case 2:return g.length>0?[4,this._notificationCache.remove(g)]:[3,4];case 3:ne.sent(),ne.label=4;case 4:return[2]}}))}))}))]):[3,9];case 8:return J.sent(),f||this._broadcastRemoveEvent(d,F),[3,24];case 9:return i instanceof Tx?(y=i.reqId,F=i.source,[4,yr((function(){return A(te,void 0,void 0,(function(){return N(this,(function(ne){switch(ne.label){case 0:return[4,this._unsentMessageCache.remove([y])];case 1:return ne.sent(),[2]}}))}))}))]):[3,11];case 10:return J.sent(),this._broadcastRemoveUnsentEvent(y,F),[3,24];case 11:return i instanceof Cx?(b=i.polls,F=i.source,this._cacheContext.localCacheEnabled?(C=b.map((function(ne){return ne.messageId})),[4,Promise.all(C.map((function(ne){return te._messageCache.get(ne)})))]):[3,14]):[3,15];case 12:return(w=J.sent().filter((function(ne){return ne}))).length>0&&b.forEach((function(ne){var Oe=w.find((function(X){return X.messageId===ne.messageId}));Oe&&Oe.applyPoll(ne)})),[4,yr((function(){return A(te,void 0,void 0,(function(){return N(this,(function(ne){switch(ne.label){case 0:return[4,this._messageCache.upsert(w)];case 1:return[2,ne.sent()]}}))}))}))];case 13:J.sent(),J.label=14;case 14:return this._broadcastPollChangeLogEvent(b,F),[3,24];case 15:return i instanceof f3?(I=i.event,F=i.source,[4,this._messageCache.get(I.messageId)]):[3,19];case 16:return(M=J.sent())&&M.isUserMessage()&&M.poll&&M.poll.applyPollUpdateEvent(I)?[4,yr((function(){return A(te,void 0,void 0,(function(){return N(this,(function(ne){switch(ne.label){case 0:return[4,this._messageCache.upsert([M])];case 1:return[2,ne.sent()]}}))}))}))]:[3,18];case 17:J.sent(),J.label=18;case 18:return this._broadcastPollUpdateEvent(I,F),[3,24];case 19:return i instanceof i2?(R=i.event,F=i.source,[4,this._messageCache.get(R.messageId)]):[3,23];case 20:return(U=J.sent())&&U.isUserMessage()&&U.poll&&U.poll.applyPollVoteEvent(R)?[4,yr((function(){return A(te,void 0,void 0,(function(){return N(this,(function(ne){switch(ne.label){case 0:return[4,this._messageCache.upsert([U])];case 1:return[2,ne.sent()]}}))}))}))]:[3,22];case 21:J.sent(),J.label=22;case 22:return this._broadcastPollVoteEvent(R,F),[3,24];case 23:i instanceof Ex?(H=i.event,F=i.source,H.messageId>0&&this._broadcastReactionUpdateEvent(H,F)):i instanceof bx?(P=i.event,F=i.source,this._broadcastThreadUpdateEvent(P,F)):i instanceof yx&&(G=i.messageDeletionTimestamp,Y=i.channelUrl,F=i.source,this._broadcastMessageRetentionEvent(G,Y,F)),J.label=24;case 24:return[2]}}))}))})),r}return k(n,t),Object.defineProperty(n.prototype,"_cacheContext",{get:function(){return j.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_dispatcher",{get:function(){return j.of(this._iid).dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_messageCache",{get:function(){return up.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_unsentMessageCache",{get:function(){return Cp.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_notificationCache",{get:function(){return fV.of(this._iid)},enumerable:!1,configurable:!0}),n.of=function(e,r){var i;return r===void 0&&(r=!1),Ig[e]&&!r||(Ig[e]&&((i=Ig[e]._dispatcherContext)===null||i===void 0||i.close()),Ig[e]=new n(e)),Ig[e]},n.prototype._broadcastUpdateEvent=function(e,r){var i,a;try{for(var s=De(this._observers.values()),l=s.next();!l.done;l=s.next()){var c=l.value;c.onUpdate&&c.onUpdate(e,r)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype._broadcastPollChangeLogEvent=function(e,r){var i,a;try{for(var s=De(this._observers.values()),l=s.next();!l.done;l=s.next()){var c=l.value;c.onPollChangeLogUpdate&&c.onPollChangeLogUpdate(e,r)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype._broadcastPollUpdateEvent=function(e,r){var i,a;try{for(var s=De(this._observers.values()),l=s.next();!l.done;l=s.next()){var c=l.value;c.onPollUpdate&&c.onPollUpdate(e,r)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype._broadcastPollVoteEvent=function(e,r){var i,a;try{for(var s=De(this._observers.values()),l=s.next();!l.done;l=s.next()){var c=l.value;c.onPollVote&&c.onPollVote(e,r)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype._broadcastRemoveEvent=function(e,r){var i,a;try{for(var s=De(this._observers.values()),l=s.next();!l.done;l=s.next()){var c=l.value;c.onRemove&&c.onRemove(e,r)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype._broadcastRemoveUnsentEvent=function(e,r){var i,a;try{for(var s=De(this._observers.values()),l=s.next();!l.done;l=s.next()){var c=l.value;c.onRemoveUnsent&&c.onRemoveUnsent(e,r)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype._broadcastReactionUpdateEvent=function(e,r){var i,a;try{for(var s=De(this._observers.values()),l=s.next();!l.done;l=s.next()){var c=l.value;c.onReactionUpdate&&c.onReactionUpdate(e,r)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype._broadcastThreadUpdateEvent=function(e,r){var i,a;try{for(var s=De(this._observers.values()),l=s.next();!l.done;l=s.next()){var c=l.value;c.onThreadInfoUpdate&&c.onThreadInfoUpdate(e,r)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype._broadcastMessageRetentionEvent=function(e,r,i){var a,s;try{for(var l=De(this._observers.values()),c=l.next();!c.done;c=l.next()){var d=c.value;d.onDeletedByRetentionPolicy&&d.onDeletedByRetentionPolicy(e,r,i)}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},n.prototype.subscribe=function(e,r){this._observers.set(e,r)},n.prototype.unsubscribe=function(e){this._observers.delete(e)},n.prototype.unsubscribeAll=function(){this._observers.clear()},n})(ti),RM={},DS=(function(t){function n(e,r){var i=r.sdkState,a=r.cacheContext,s=t.call(this,e)||this;return s._users=new Map,s._sdkState=i,s._cacheContext=a,RM[e]=s,s}return k(n,t),n.of=function(e){return RM[e]},Object.defineProperty(n.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return Ne(!!e).throw(Z.databaseError),e.collection(tL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"users",{get:function(){return et([],Ye(this._users.values()),!1)},enumerable:!1,configurable:!0}),n.prototype._serialize=function(e,r){return q(q({},e.serialize()),{updatedAt:r})},n.prototype._deserialize=function(e){return Mt._buildUserFromSerializedData(e)},n.prototype.isCachedInMemory=function(e){return this._users.has(e)},n.prototype.getUserInfoFromCache=function(e){if(this._users.has(e))return this._users.get(e)},n.prototype.get=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return this._users.has(e)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(r=a.sent())return i=this._deserialize(r),this._users.set(i.userId,i),[2,i];a.label=2;case 2:return[2,void 0];case 3:return[2,this._users.get(e)]}}))}))},n.prototype.fetch=function(e){var r=e.limit,i=r===void 0?100:r,a=e.backward,s=a!==void 0&&a;return A(this,void 0,void 0,(function(){var l,c,d,f=this;return N(this,(function(v){switch(v.label){case 0:if(!this.localCacheEnabled)return[2,[]];v.label=1;case 1:return v.trys.push([1,4,,5]),l={index:["-userId","-updatedAt"],backward:s},[4,this.collection.query(l)];case 2:return[4,v.sent().fetch({limit:i})];case 3:return c=v.sent(),(d=c.map((function(g){return f._deserialize(g)}))).forEach((function(g){f._users.has(g.userId)||f._users.set(g.userId,g)})),[2,d];case 4:return v.sent(),[2,[]];case 5:return[2]}}))}))},n.prototype.upsert=function(e,r){return A(this,void 0,void 0,(function(){var i,a;return N(this,(function(s){switch(s.label){case 0:if(!this.localCacheEnabled)return[3,2];if(i=this._serialize(e,r),a=this._users.get(e.userId)){if(a._hashValue===e._hashValue)return[2];if(a._updatedAt>r)return[2]}return this._users.set(e.userId,Mt._buildUserFromSerializedData(i)),[4,this.collection.upsertOne(i)];case 1:s.sent(),s.label=2;case 2:return[2]}}))}))},n.prototype.remove=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return this._users.has(e)&&this._users.delete(e),this.localCacheEnabled?[4,this.collection.remove(e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},n.prototype.clearMemoryCache=function(){this._users.clear()},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n})(ti),pV=(function(t){function n(e){var r=this,i=e.reverse,a=i!==void 0&&i,s=e.limit,l=s===void 0?20:s,c=e.keys,d=e.token;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(U4),r.params=Pe({token:d,limit:l,reverse:a,order:pS.UPDATED_AT,show_ui_template:!0,show_color_variables:!0,keys:c}),r}return k(n,t),n})(be),mV=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.next,s=r.has_more,l=s!==void 0&&s,c=r.templates;return i.nextToken=a,i.hasMore=l,i.templates=c.map((function(d){return{template:JSON.stringify(d)}})),i}return k(n,t),n})(we),vV=(function(t){function n(e){var r=this,i=e.key;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(U4,"/").concat(i),r}return k(n,t),n})(be),_V=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.template=JSON.stringify(r),i}return k(n,t),n})(we),DM={},_i=(function(){function t(n,e){var r=e.sdkState,i=e.dispatcher,a=e.requestQueue,s=e.onlineDetector,l=e.cacheContext;this._iid=n,this._sdkState=r,this._requestQueue=a,this._dispatcher=i,this._cacheContext=l,up.of(n),Cp.of(n),iL.of(n),this.fileMessageQueue=new hG(n,{sdkState:r,dispatcher:i,requestQueue:a,onlineDetector:s,cacheContext:l}),DM[n]=this}return t.of=function(n){return DM[n]},t.prototype._setSenderInfo=function(n){if(this._cacheContext.localCacheEnabled&&(n.messageType===Bn.USER||n.messageType===Bn.FILE)){var e=n.sender;if(e){var r=DS.of(this._iid),i=r.getUserInfoFromCache(e.userId);if(i){var a=q(q({},n.sender),{nickname:i.nickname,profileUrl:i.plainProfileUrl,requireAuth:i.requireAuth,metadata:i.metaData});n.sender=a}else r.upsert(new Mt(this._iid,Mt.payloadify(e)),n.createdAt)}}},t.prototype.buildMessageFromSerializedData=function(n){var e=Pc(n);if(e.notificationId)return new bp(this._iid,bp.payloadify(e));switch(this._setSenderInfo(e),e.messageType){case Bn.USER:return new ta(this._iid,ta.payloadify(e));case Bn.FILE:return So._isMultipleFilesMessageSerializedData(e)?new So(this._iid,So.payloadify(e)):new Zr(this._iid,Zr.payloadify(e));case Bn.ADMIN:return new Ep(this._iid,Ep.payloadify(e))}throw Z.invalidParameters},t.prototype.buildUserMessageCreateParamsFromSerializedData=function(n,e){return Pe(We({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,message:e.message,translationTargetLanguages:Object.keys(e.translations),pollId:n.pollId}))},t.prototype.buildFileMessageCreateParamsFromSerializedData=function(n,e){var r;return Pe(We({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,file:n.file,fileKey:n.fileKey,fileUrl:e.plainUrl,fileName:e.name,fileSize:e.size,mimeType:e.type,thumbnailSizes:(r=e.thumbnails)===null||r===void 0?void 0:r.map((function(i){return{maxWidth:i.width,maxHeight:i.height}})),fileType:n.fileType,requireAuth:e.requireAuth}))},t.prototype.buildMultipleFilesMessageCreateParamsFromSerializedData=function(n,e){var r=this;return Pe({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,fileInfoList:n.fileInfoList.map((function(i){return new R0(r._iid,i)}))})},t.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(n,e){return q(q({},this.buildUserMessageCreateParamsFromSerializedData(n,e)),{scheduledAt:n.scheduledAt})},t.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(n,e){return q(q({},this.buildFileMessageCreateParamsFromSerializedData(n,e)),{scheduledAt:n.scheduledAt})},t.prototype.buildSenderFromSerializedData=function(n){var e=Pc(n);return new Cv(this._iid,Cv.payloadify(e))},t.prototype.getMessage=function(n){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=new fG(n),[4,this._requestQueue.send(e)];case 1:return r=i.sent(),[2,r.as(pG).message]}}))}))},t.prototype.getScheduledMessage=function(n){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=new _G(n),[4,this._requestQueue.send(e)];case 1:return r=i.sent(),[2,r.as(gG).message]}}))}))},t.prototype.getMessagesByMessageId=function(n,e,r,i,a){return a===void 0&&(a=ve.REQUEST_MESSAGE),A(this,void 0,void 0,(function(){var s,l,c;return N(this,(function(d){switch(d.label){case 0:return s=new mb(q(q(q({channelType:e,channelUrl:n,token:String(r)},u0),i),{sdkSource:Ko.EXTERNAL_LEGACY})),[4,this._requestQueue.send(s)];case 1:return l=d.sent(),c=l.as(vb).messages,this._dispatcher.dispatch(new cr({messages:c,source:a})),[2,c]}}))}))},t.prototype.getMessagesByTimestamp=function(n,e,r,i,a){return a===void 0&&(a=ve.REQUEST_MESSAGE),A(this,void 0,void 0,(function(){var s,l,c;return N(this,(function(d){switch(d.label){case 0:return s=new mb(q(q(q({channelType:e,channelUrl:n,timestamp:r},u0),i),{sdkSource:Ko.EXTERNAL_LEGACY})),[4,this._requestQueue.send(s)];case 1:return l=d.sent(),c=l.as(vb).messages,this._dispatcher.dispatch(new cr({messages:c,source:a})),[2,c]}}))}))},t.prototype._getMessagesByTimestampForCollection=function(n,e,r,i,a,s,l,c){return a===void 0&&(a=ve.REQUEST_MESSAGE),A(this,void 0,void 0,(function(){var d,f,v,g,y,b;return N(this,(function(C){switch(C.label){case 0:return d=new mb(q(q(q({channelType:e,channelUrl:n,timestamp:r},u0),i),{checkingHasNext:s,checkingContinuousMessages:l,sdkSource:c})),[4,this._requestQueue.send(d)];case 1:return f=C.sent(),v=f.as(vb),g=v.messages,y=v.isContinuousMessages,b=v.hasNext,this._dispatcher.dispatch(new cr({messages:g,source:a})),[2,{messages:g,isContinuousMessages:y,hasNext:b}]}}))}))},t.prototype.getThreadedMessagesByTimestamp=function(n,e,r,i){return i===void 0&&(i=ve.REQUEST_THREADED_MESSAGE),A(this,void 0,void 0,(function(){var a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return a=new mb(q(q(q({channelUrl:n.channelUrl,channelType:n.channelType,timestamp:e},Y0),r),{replyType:ra.ALL,parentMessageId:n.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(a)];case 1:return s=d.sent(),l=s.as(vb).messages,(c=l.slice(1)).forEach((function(f){f.parentMessage=n})),this._dispatcher.dispatch(new cr({messages:c,source:i})),[2,{parentMessage:l[0],threadedMessages:c}]}}))}))},t.prototype.getMessageTemplatesByToken=function(n,e){return e===void 0&&(e={}),A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return r=new pV(q({token:n},e)),[4,this._requestQueue.send(r)];case 1:return i=d.sent(),a=i.as(mV),s=a.hasMore,l=a.nextToken,c=a.templates,[2,{hasMore:s,token:l,templates:c}]}}))}))},t.prototype.getMessageTemplate=function(n){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=new vV({key:n}),[4,this._requestQueue.send(e)];case 1:return r=i.sent(),[2,{template:r.as(_V).template}]}}))}))},t.prototype.getMessageChangelogs=function(n,e,r,i,a){return a===void 0&&(a=ve.REQUEST_MESSAGE_CHANGELOGS),A(this,void 0,void 0,(function(){var s,l,c,d,f,v,g,y,b;return N(this,(function(C){switch(C.label){case 0:return s=new mG(Pe(We(q(q({channelType:e,channelUrl:n,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},AS),i)))),[4,this._requestQueue.send(s)];case 1:return l=C.sent(),c=l.as(vG),d=c.updatedMessages,f=c.deletedMessagesInfo,v=c.hasMore,g=c.nextToken,y=c.forceUseNextToken,b=f.map((function(w){return w.messageId})),d.length>0&&this._dispatcher.dispatch(new cr({messages:d,source:a})),b.length>0&&this._dispatcher.dispatch(new h3({messageIds:b,source:a})),[2,{updatedMessages:d,deletedMessageIds:b,hasMore:v,token:g,forceUseNextToken:y}]}}))}))},t})(),aL=(function(t){function n(e,r){var i=t.call(this,e)||this;i.targetMessageId=0;var a=r.thread_info,s=r.parent_message_id,l=r.channel_url,c=r.channel_type;return a&&W("object",a)&&W("number",s)&&W("string",l)&&W("string",c)&&(i.threadInfo=new E1(e,a),i.targetMessageId=s,i.channelUrl=l,i.channelType=c),i}return k(n,t),n})(ti),gV={channelUrl:"",channelType:Lt.BASE,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},yV=(function(t){function n(e){var r=e.channelCustomType,i=e.keyword,a=e.limit,s=e.reverse,l=e.exactMatch,c=e.channelUrl,d=e.order,f=e.messageTimestampFrom,v=e.messageTimestampTo,g=e.advancedQuery,y=e.targetFields,b=e.nextToken,C=t.call(this)||this;return C.method=Ee.GET,C.path="".concat(qH,"/messages"),C.params=Pe({custom_type:r,query:i,limit:a,reverse:s,exact_match:l,channel_url:c,message_ts_from:f,message_ts_to:v,sort_field:d,advanced_query:g,target_fields:y,after:b}),C}return k(n,t),n})(be),EV=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.messages=r.results.map((function(a){return sa(e,a)})),i.hasNext=r.has_next,i.nextToken=r.end_cursor,i.totalCount=r.total_count,i}return k(n,t),n})(we);(function(t){t.SCORE="score",t.TIMESTAMP="ts"})(h0||(h0={}));var bV=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y=this;return(y=t.call(this,e,r)||this).keyword="",y.reverse=!1,y.exactMatch=!1,y.channelUrl=null,y.channelCustomType=null,y.messageTimestampFrom=null,y.messageTimestampTo=null,y.order=h0.SCORE,y.advancedQuery=!1,y.targetFields=null,y._nextToken="",y.totalCount=-1,y.keyword=r.keyword,y.reverse=(i=r.reverse)!==null&&i!==void 0&&i,y.exactMatch=(a=r.exactMatch)!==null&&a!==void 0&&a,y.channelUrl=(s=r.channelUrl)!==null&&s!==void 0?s:null,y.channelCustomType=(l=r.channelCustomType)!==null&&l!==void 0?l:null,y.messageTimestampFrom=(c=r.messageTimestampFrom)!==null&&c!==void 0?c:null,y.messageTimestampTo=(d=r.messageTimestampTo)!==null&&d!==void 0?d:null,y.order=(f=r.order)!==null&&f!==void 0?f:h0.SCORE,y.advancedQuery=(v=r.advancedQuery)!==null&&v!==void 0&&v,y.targetFields=(g=r.targetFields)!==null&&g!==void 0?g:null,y}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("string",this.keyword)&&this.keyword.length>0&&W("boolean",this.reverse)&&W("boolean",this.exactMatch)&&W("string",this.channelUrl,!0)&&W("string",this.channelCustomType,!0)&&W("number",this.messageTimestampFrom,!0)&&W("number",this.messageTimestampTo,!0)&&wt(h0,this.order)&&W("boolean",this.advancedQuery)&&It("string",this.targetFields,!0)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new yV(We(q(q({},this),{nextToken:this._nextToken?this._nextToken:null}))),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),a=i.as(EV),s=a.messages,l=a.hasNext,c=a.nextToken,d=a.totalCount,this._nextToken=c,this._hasNext=l,this._isLoading=!1,this.totalCount=d,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Wc),TV=(function(t){function n(e){var r=e.channelType,i=e.channelUrl,a=e.limit,s=e.token,l=t.call(this)||this;return l.method=Ee.GET,l.path="".concat(Jt(r),"/").concat(encodeURIComponent(i),"/messages/parent_thread_message"),l.params=Pe(We({limit:a,token:s})),l}return k(n,t),n})(be),CV=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.token=r.next,i.messages=r.messages.map((function(a){return sa(e,a)})),i}return k(n,t),n})(we),SV=(function(t){function n(e,r,i,a){var s=t.call(this,e,r,i,a)||this;return s._edge="",s}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)},n.prototype.load=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new TV({channelType:this.channelType,channelUrl:this.channelUrl,token:this._edge,limit:this.limit}),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(CV),s=a.messages,l=a.token,this._edge=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),NV={channelUrl:"",scheduledMessageId:0},AV={reverse:!1,limit:20},wV=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.name="message",e}return k(n,t),n.prototype.init=function(e,r){var i=r.sdkState,a=r.dispatcher,s=r.sessionManager,l=r.requestQueue,c=r.logger,d=r.onlineDetector,f=r.cacheContext;t.prototype.init.call(this,e,{sdkState:i,dispatcher:a,sessionManager:s,requestQueue:l,logger:c,onlineDetector:d,cacheContext:f}),this._manager=new _i(e,{sdkState:i,dispatcher:a,requestQueue:l,onlineDetector:d,cacheContext:f})},n.prototype.buildMessageFromSerializedData=function(e){return this._manager.buildMessageFromSerializedData(e)},n.prototype.buildSenderFromSerializedData=function(e){return this._manager.buildSenderFromSerializedData(e)},n.prototype.getMessage=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return r=q(q({},gV),e),Ne((function(s){return W("string",s.channelUrl)&&wt(Lt,s.channelType)&&W("number",s.messageId)&&W("boolean",s.includeReactions,!0)&&W("boolean",s.includeMetaArray,!0)&&W("boolean",s.includeParentMessageInfo,!0)&&W("boolean",s.includeThreadInfo,!0)})(r)).throw(Z.invalidParameters),[4,this._manager.getMessage(r)];case 1:if((i=a.sent())instanceof ba||i instanceof bp||i===null)return[2,i];throw"Unknown message type is given."}}))}))},n.prototype.getScheduledMessage=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){return r=q(q({},NV),e),Ne((function(a){return W("string",a.channelUrl)&&a.channelUrl!==""&&W("number",a.scheduledMessageId)&&a.scheduledMessageId>0})(r)).throw(Z.invalidParameters),[2,this._manager.getScheduledMessage(r)]}))}))},n.prototype.getMessageTemplatesByToken=function(e,r){return r===void 0&&(r={}),A(this,void 0,void 0,(function(){var i;return N(this,(function(a){return i=q(q({},AV),r),Ne(W("string",e,!0)&&(function(s){return W("boolean",s.reverse,!0)&&W("number",s.limit,!0)&&It("string",s.keys,!0)})(i)).throw(Z.invalidParameters),[2,this._manager.getMessageTemplatesByToken(e,i)]}))}))},n.prototype.getMessageTemplate=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return Ne(W("string",e)).throw(Z.invalidParameters),[2,this._manager.getMessageTemplate(e)]}))}))},n})(r2),wr,f0,xS;(function(t){t.LATEST_LAST_MESSAGE="latest_last_message",t.CHRONOLOGICAL="chronological",t.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",t.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(wr||(wr={})),(function(t){t.CHRONOLOGICAL="chronological",t.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",t.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(f0||(f0={})),(function(t){t.CREATED_AT="created_at",t.SCHEDULED_AT="scheduled_at"})(xS||(xS={}));var D0,$b=function(t){switch(t){case wr.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case wr.CHRONOLOGICAL:return["-createdAt","syncIndex"];case wr.CHANNEL_NAME_ALPHABETICAL:return["name"];default:return["-lastMessageUpdatedAt","-createdAt","syncIndex"]}},sL=(function(t){function n(e){var r=e.message,i=t.call(this)||this;return i.message=r,i}return k(n,t),n})(xn),xM={},jg=(function(){function t(n,e){var r=e.localCacheEnabled,i=e.enableAutoResend,a=e.dispatcher,s=e.sdkState,l=e.logger,c=this;this._iid=n,xM[n]=this,this._localCacheEnabled=r,this._enableAutoResend=i,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=a,this._logger=l,this._sdkState=s,this._localCacheEnabled&&a.on((function(d){if(d instanceof $s)switch(d.stateType){case nn.CONNECTED:c._isProcessingAutoResend||c.processAutoResendRegisteredPendingMessages().then((function(){return c._processNextAutoResend()}));break;case nn.INTERNAL_DISCONNECTED:case nn.EXTERNAL_DISCONNECTED:c._isProcessingAutoResend=!1}}))}return t.of=function(n){return xM[n]},t.prototype.processNonAutoResendRegisteredPendingMessages=function(){return A(this,void 0,void 0,(function(){var n=this;return N(this,(function(e){switch(e.label){case 0:return this._enableAutoResend?[4,yr((function(){return A(n,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:r=d.sent();try{for(i=De(r),a=i.next();!a.done;a=i.next())(s=a.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",s.reqId),s.sendingStatus=dn.FAILED,s.errorCode=je.ACK_TIMEOUT,this._dispatcher.dispatch(new cr({messages:[s],source:ve.LOCAL_MESSAGE_FAILED})))}catch(f){l={error:f}}finally{try{a&&!a.done&&(c=i.return)&&c.call(i)}finally{if(l)throw l.error}}return[2]}}))}))}))]:[2];case 1:return e.sent(),[2]}}))}))},t.prototype.processAutoResendRegisteredPendingMessages=function(){return A(this,void 0,void 0,(function(){var n=this;return N(this,(function(e){switch(e.label){case 0:return[4,yr((function(){return A(n,void 0,void 0,(function(){var r,i,a,s,l,c,d,f;return N(this,(function(v){switch(v.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:r=v.sent();try{for(i=De(r),a=i.next();!a.done;a=i.next())s=a.value,this._enableAutoResend&&s.errorCode&&l1(s.errorCode)&&(l=new Date().getTime(),c=s.createdAt+2592e5,this._enableAutoResend&&l<=c?this._autoResendQueue.map((function(g){return g.reqId})).indexOf(s.reqId)<0&&this._autoResendQueue.push(s):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(c).toLocaleString()),s.sendingStatus=dn.FAILED,this._dispatcher.dispatch(new cr({messages:[s],source:ve.LOCAL_MESSAGE_FAILED}))))}catch(g){d={error:g}}finally{try{a&&!a.done&&(f=i.return)&&f.call(i)}finally{if(d)throw d.error}}return[2]}}))}))}))];case 1:return e.sent(),[2]}}))}))},t.prototype.completeCurrentAndProcessNextAutoResend=function(n){if(this._localCacheEnabled&&this._enableAutoResend&&(n.sendingStatus===dn.SUCCEEDED||n.sendingStatus===dn.FAILED&&!l1(n.errorCode))){var e=this.indexOf(n);e>=0&&this._autoResendQueue.splice(e,1),e===0&&this._processNextAutoResend()}},t.prototype._fetchAllCachedPendingMessages=function(){return A(this,void 0,void 0,(function(){var n,e;return N(this,(function(r){switch(r.label){case 0:return n=Cp.of(this._iid),(e=new Eh).replyType=ra.ALL,[4,n.fetch({sendingStatus:dn.PENDING,backward:!0,filter:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.indexOf=function(n){return this._autoResendQueue.length>0?this._autoResendQueue.map((function(e){return e.reqId})).indexOf(n.reqId):-1},t.prototype._processNextAutoResend=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){if(this._localCacheEnabled&&this._enableAutoResend&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),n=this._autoResendQueue[0],this._dispatcher.dispatch(new sL({message:n})),this._logger.debug("processing auto-resend for message request id: ",n.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]}))}))},t})();(function(t){t[t.USER_BLOCK=20001]="USER_BLOCK",t[t.USER_UNBLOCK=2e4]="USER_UNBLOCK",t[t.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(D0||(D0={}));var Ic,N1=(function(){function t(n){this.category=n.cat,this.data=n.data}return t.getDataAsUserBlockEvent=function(n,e){var r=e.data,i=r.blocker,a=r.blockee;return{blocker:new Mt(n,i),blockee:new Mt(n,a)}},t.getDataAsFriendDiscoveredEvent=function(n,e){var r=e.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map((function(i){return new Mt(n,i)})):[]}},t})(),oL=(function(t){function n(e,r){var i=r.userId,a=t.call(this)||this;return a._iid=e,a.userId=i,a}return k(n,t),n})(xn),lL=(function(t){function n(){return t.call(this)||this}return k(n,t),n})(xn),uL=(function(t){function n(e){var r=e.configTs,i=t.call(this)||this;return i.configTs=r,i}return k(n,t),n})(xn),cL=(function(t){function n(e,r,i){var a=t.call(this,e,"USEV",i)||this;return a.event=new N1(i),a}return k(n,t),n})(Jn),dL=(function(t){function n(e){var r=e.appConfigsInfo,i=e.configTs,a=t.call(this)||this;return a.appConfigsInfo={},a.configTs=0,a.appConfigsInfo=r,a.configTs=i,a}return k(n,t),n})(xn);(function(t){t[t.IDLE=0]="IDLE",t[t.RUNNING=1]="RUNNING",t[t.END=2]="END"})(Ic||(Ic={}));var Vc=(function(t){function n(e,r,i,a){var s=t.call(this)||this;return s._state=Ic.IDLE,s._retryCount=0,s._retryLimit=3,s.priority=0,s._worker=r,s}return k(n,t),Object.defineProperty(n.prototype,"isIdle",{get:function(){return this._state===Ic.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRunning",{get:function(){return this._state===Ic.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDone",{get:function(){return this._state===Ic.END},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),n.prototype._run=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:if(!this.isRunning)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._worker(e)];case 2:return r=a.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return i=a.sent(),this.dispatch("error",i),this._retryCount<this._retryLimit?(this._retryCount++,this._run(e)):this.stop(),[3,4];case 4:return[2]}}))}))},n.prototype.start=function(e){this.isRunning||(this._state=Ic.RUNNING,this._run(e))},n.prototype.stop=function(){this._state=Ic.IDLE,this.dispatch("stop")},n.prototype.end=function(){this._state=Ic.END,this.dispatch("end")},n})(Mp),IV=function(t,n){this.pollId=0,this.messageId=0,this.pollId=n.poll.id,this.messageId=n.poll.message_id,this._iid=t,this._payload=n},gn;(function(t){t[t.NONE=0]="NONE",t[t.CHANNEL_ENTER=10102]="CHANNEL_ENTER",t[t.CHANNEL_EXIT=10103]="CHANNEL_EXIT",t[t.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",t[t.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",t[t.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",t[t.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",t[t.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",t[t.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",t[t.TYPING_START=10900]="TYPING_START",t[t.TYPING_END=10901]="TYPING_END",t[t.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",t[t.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",t[t.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",t[t.CHANNEL_INVITE=10020]="CHANNEL_INVITE",t[t.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",t[t.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",t[t.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",t[t.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",t[t.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",t[t.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",t[t.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",t[t.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",t[t.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(gn||(gn={}));var MV=(function(){function t(n){var e;this.channelUrl=n.channel_url,this.channelType=n.channel_type,this.category=n.cat,this.data=(e=n.data)!==null&&e!==void 0?e:{},this.ts=n.ts}return Object.defineProperty(t.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Lt.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Lt.OPEN},enumerable:!1,configurable:!0}),t})(),Xc=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return a.event=new MV(i),a}return k(n,t),n})(Jn),hL=(function(t){function n(e,r,i){var a=t.call(this,e,r,i)||this,s=i.data.operators,l=s===void 0?[]:s;return a.operators=l.map((function(c){return new Mt(a._iid,c)})),a}return k(n,t),n})(Xc),fL=(function(t){function n(e,r,i){var a,s=this;return(s=t.call(this,e,"SYEV",i)||this).pinnedMessageIds=[],s.latestPinnedMessage=null,s.ts=0,i.data&&(s.pinnedMessageIds=(a=i.data.pinned_message_ids)!==null&&a!==void 0?a:[],s.latestPinnedMessage=i.data.latest_pinned_message?sa(e,q({},i.data.latest_pinned_message)):null),s.ts=i.ts,s}return k(n,t),n})(Jn),pL=(function(t){function n(e,r){var i=t.call(this,e)||this;return i._logger=r.logger,i._sdkState=r.sdkState,i._sessionManager=r.sessionManager,i._requestQueue=r.requestQueue,i._dispatcher=r.dispatcher,i._cacheContext=r.cacheContext,i._channelType=r.channelType,i}return k(n,t),Object.defineProperty(n.prototype,"_messageBroadcast",{get:function(){return iL.of(this._iid)},enumerable:!1,configurable:!0}),n.prototype.subscribeMessageEvent=function(e,r){this._messageBroadcast.subscribe(e,r)},n.prototype.unsubscribeMessageEvent=function(e){this._messageBroadcast.unsubscribe(e)},n.prototype.getMessageFromCache=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2,null]}))}))},n.prototype.getExactlyMatchingMessagesForTokenFromCache=function(e,r,i){return A(this,void 0,void 0,(function(){return N(this,(function(a){return[2,[]]}))}))},n.prototype.getMessagesFromCache=function(e,r,i,a,s,l){return A(this,void 0,void 0,(function(){return N(this,(function(c){return[2,[]]}))}))},n.prototype.getPollMessagesFromCache=function(e,r,i,a){return A(this,void 0,void 0,(function(){return N(this,(function(s){return[2,[]]}))}))},n.prototype.getCachedMessageCountBetween=function(e,r,i,a){return A(this,void 0,void 0,(function(){return N(this,(function(s){return[2,0]}))}))},n.prototype.getUnsentMessagesFromCache=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){return[2,[]]}))}))},n.prototype.removeFailedMessageFromCache=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2]}))}))},n})(ti),mL=(function(t){function n(e,r,i){var a,s,l,c,d=this;(d=t.call(this,e,"ADMM",i)||this).message=new Ep(e,i);var f=j.of(e).sdkState;return d.isMentioned=gv(d.message.mentionType,(l=(a=d.message.mentionedUserIds)!==null&&a!==void 0?a:(s=d.message.mentionedUsers)===null||s===void 0?void 0:s.map((function(v){return v.userId})))!==null&&l!==void 0?l:[],f.userId),d.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,d}return k(n,t),n})(Jn),vL=(function(t){function n(e,r,i){var a,s,l,c,d,f=this;(f=t.call(this,e,"AEDI",i)||this).message=new Ep(e,i);var v=j.of(e).sdkState;return f.mentionCountChange=n3({mentionType:(a=i.old_values)===null||a===void 0?void 0:a.mention_type,mentionedUserIds:(l=(s=i.old_values)===null||s===void 0?void 0:s.mentioned_user_ids)!==null&&l!==void 0?l:[]},We({mentionType:f.message.mentionType,mentionedUserIds:(c=f.message.mentionedUserIds)!==null&&c!==void 0?c:(d=f.message.mentionedUsers)===null||d===void 0?void 0:d.map((function(g){return g.userId}))}),v.userId),f}return k(n,t),n})(Jn),_L=(function(t){function n(e,r,i){var a=t.call(this,e,"MRCT",i)||this;return a.channelUrl=i.channel_url,a.channelType=i.channel_type,a.event=new p3(i),a}return k(n,t),n})(Jn),gL=(function(t){function n(e,r,i){var a=t.call(this,e,"MTHD",i)||this;return a.event=new aL(e,i),a}return k(n,t),n})(Jn),yL=(function(t){function n(e,r,i){var a=t.call(this,e,"MCNT",i)||this;return a.groupChannelMemberCounts=i.group_channels.map((function(s){return{channelUrl:s.channel_url,memberCount:s.member_count,joinedMemberCount:s.joined_member_count,updatedAt:s.ts}})),a.openChannelMemberCounts=i.open_channels.map((function(s){return{channelUrl:s.channel_url,participantCount:s.participant_count,updatedAt:s.ts}})),a}return k(n,t),n})(Jn),EL=(function(t){function n(e,r,i){var a=t.call(this,e,"PEDI",i)||this;return a.event=new IV(e,i),a.status=CS(i.poll.status)||i.poll.status,a.channelUrl=i.channel_url,a.channelType=i.channel_type,a}return k(n,t),n})(Jn),bL=function(){this.onUserMuted=st,this.onUserUnmuted=st,this.onUserBanned=st,this.onUserUnbanned=st,this.onChannelChanged=st,this.onChannelDeleted=st,this.onChannelFrozen=st,this.onChannelUnfrozen=st,this.onOperatorUpdated=st,this.onChannelMemberCountChanged=st,this.onMetaDataCreated=st,this.onMetaDataUpdated=st,this.onMetaDataDeleted=st,this.onMetaCounterCreated=st,this.onMetaCounterUpdated=st,this.onMetaCounterDeleted=st,this.onMessageReceived=st,this.onMessageUpdated=st,this.onMessageDeleted=st,this.onMentionReceived=st,this.onReactionUpdated=st,this.onThreadInfoUpdated=st},Lr;(function(t){t.NONE="none",t.JOINED="joined",t.INVITED="invited",t.LEFT="left"})(Lr||(Lr={}));var Vu,_s,Es,_h,Xo,A1,Fc,x0,Co=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.state=null,i.role=null,i.isMuted=!1,i.isBlockedByMe=!1,i.isBlockingMe=!1,i.state=wt(Lr,r.state)?r.state:null,i.role=wt(Jo,r.role)?r.role:null,typeof r.is_muted=="boolean"&&(i.isMuted=r.is_muted),typeof r.is_blocked_by_me=="boolean"&&(i.isBlockedByMe=r.is_blocked_by_me),typeof r.is_blocking_me=="boolean"&&(i.isBlockingMe=r.is_blocking_me),i}return k(n,t),n.payloadify=function(e){return Pe(We(q(q({},t.payloadify.call(this,e)),{state:e.state,role:e.role,is_muted:e.isMuted,is_blocked_by_me:e.isBlockedByMe,is_blocking_me:e.isBlockingMe})))},n})(Rp),OV=(function(t){function n(e,r){var i,a,s=this;return(s=t.call(this,e)||this).channelUrl=(i=r.channel_url)!==null&&i!==void 0?i:"",s.channelType=(a=r.channel_type)!==null&&a!==void 0?a:Lt.GROUP,s.member=new Mt(s._iid,r.user),s.deliveryAt=r.ts,s}return k(n,t),n})(ti);(function(t){t.ALL="all",t.PUBLIC="public",t.PRIVATE="private"})(Vu||(Vu={})),(function(t){t.ALL="all",t.JOINED="joined_only",t.INVITED="invited_only",t.INVITED_BY_FRIEND="invited_by_friend",t.INVITED_BY_NON_FRIEND="invited_by_non_friend"})(_s||(_s={})),(function(t){t.ALL="all",t.SUPER="super",t.NON_SUPER="nonsuper",t.BROADCAST_ONLY="broadcast_only",t.EXCLUSIVE_ONLY="exclusive_only"})(Es||(Es={})),(function(t){t.ALL="all",t.UNREAD_MESSAGE="unread_message"})(_h||(_h={})),(function(t){t.ALL="all",t.UNHIDDEN="unhidden_only",t.HIDDEN="hidden_only",t.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",t.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"})(Xo||(Xo={})),(function(t){t.ALL="all",t.OPERATOR="operator",t.NONOPERATOR="nonoperator"})(A1||(A1={})),(function(t){t.AND="AND",t.OR="OR"})(Fc||(Fc={})),(function(t){t.MEMBER_NICKNAME="member_nickname",t.CHANNEL_NAME="channel_name"})(x0||(x0={}));var gr,TL=(function(){function t(n){var e,r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H;this._searchFilter=null,this._userIdsFilter=null,this.metadataKey=null,this.metadataValues=null,this.metadataValueStartsWith=null,this.includeEmpty=(e=n?.includeEmpty)!==null&&e!==void 0&&e,this.nicknameContainsFilter=(r=n?.nicknameContainsFilter)!==null&&r!==void 0?r:null,this.nicknameStartsWithFilter=(i=n?.nicknameStartsWithFilter)!==null&&i!==void 0?i:null,this.nicknameExactMatchFilter=(a=n?.nicknameExactMatchFilter)!==null&&a!==void 0?a:null,this.channelNameContainsFilter=(s=n?.channelNameContainsFilter)!==null&&s!==void 0?s:"",this.myMemberStateFilter=(l=n?.myMemberStateFilter)!==null&&l!==void 0?l:_s.ALL,this.customTypesFilter=(c=n?.customTypesFilter)!==null&&c!==void 0?c:null,this.channelUrlsFilter=(d=n?.channelUrlsFilter)!==null&&d!==void 0?d:null,this.superChannelFilter=(f=n?.superChannelFilter)!==null&&f!==void 0?f:Es.ALL,this.publicChannelFilter=(v=n?.publicChannelFilter)!==null&&v!==void 0?v:Vu.ALL,this.customTypeStartsWithFilter=(g=n?.customTypeStartsWithFilter)!==null&&g!==void 0?g:null,this.unreadChannelFilter=(y=n?.unreadChannelFilter)!==null&&y!==void 0?y:_h.ALL,this.hiddenChannelFilter=(b=n?.hiddenChannelFilter)!==null&&b!==void 0?b:Xo.UNHIDDEN,this.includeFrozen=(C=n?.includeFrozen)===null||C===void 0||C,this.metadataKey=(w=n?.metadataKey)!==null&&w!==void 0?w:null,this.metadataValues=(I=n?.metadataValues)!==null&&I!==void 0?I:null,this.metadataValueStartsWith=(M=n?.metadataValueStartsWith)!==null&&M!==void 0?M:null,this._userIdsFilter=(R=n?.userIdsFilter)!==null&&R!==void 0?R:null,this._searchFilter=(U=n?.searchFilter)!==null&&U!==void 0?U:null,n?.createdAfter&&(this.createdAfter=n.createdAfter),n?.createdBefore&&(this.createdBefore=n.createdBefore),this.includeMetaData=(H=n?.includeMetaData)===null||H===void 0||H}return t.prototype._isFriend=function(n){return!(!n||!n.friendDiscoveryKey&&!n.friendName)},Object.defineProperty(t.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),t.prototype.setSearchFilter=function(n,e){Array.isArray(n)&&n.length!==0&&typeof e=="string"&&e&&(this._searchFilter={query:e,fields:n})},Object.defineProperty(t.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),t.prototype.setUserIdsFilter=function(n,e,r){r===void 0&&(r=Fc.AND),this._userIdsFilter={userIds:n,includeMode:e,queryType:r}},t.prototype.clone=function(){var n,e=new t;this.searchFilter&&e.setSearchFilter(this.searchFilter.fields,(n=this.searchFilter.query)!==null&&n!==void 0?n:void 0),this.userIdsFilter&&e.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var r=JSON.parse(JSON.stringify(this));return Object.keys(r).forEach((function(i){e[i]=r[i]})),e},t.prototype.match=function(n,e){var r;if(this._searchFilter){var i=this._searchFilter,a=i.query,s=i.fields;if(a&&s&&s.length>0&&!s.some((function(C){switch(C){case x0.CHANNEL_NAME:return n.name.toLowerCase().includes(a.toLowerCase());case x0.MEMBER_NICKNAME:return n.members.some((function(w){return w.nickname.toLowerCase().includes(a.toLowerCase())}));default:return!0}})))return!1}if(this._userIdsFilter){var l=this._userIdsFilter,c=l.userIds,d=l.includeMode,f=l.queryType,v=n.members.map((function(C){return C.userId}));if(d){if(c.length>0)switch(f){case Fc.AND:if(c.some((function(C){return!v.includes(C)})))return!1;break;case Fc.OR:if(c.every((function(C){return!v.includes(C)})))return!1}}else if(c.includes(e)||c.push(e),n.members.length>c.length||!UH(c,v))return!1}if(!this.includeEmpty&&!n.lastMessage||!this.includeFrozen&&n.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes("*")&&!this.customTypesFilter.includes(n.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(n.customType)||this.channelNameContainsFilter&&!n.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var g=this.nicknameContainsFilter.toLowerCase();if(!n.members.some((function(C){return C.userId!==e&&C.nickname.toLowerCase().includes(g)})))return!1}if(this.nicknameStartsWithFilter){var y=this.nicknameStartsWithFilter.toLowerCase();if(!n.members.some((function(C){return C.userId!==e&&C.nickname.toLowerCase().startsWith(y)})))return!1}if(this.nicknameExactMatchFilter){var b=this.nicknameExactMatchFilter.toLowerCase();if(!n.members.some((function(C){return C.userId!==e&&C.nickname.toLowerCase()!=b})))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(n.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case _s.ALL:if(n.myMemberState==="none")return!1;break;case _s.JOINED:if(n.myMemberState!=="joined")return!1;break;case _s.INVITED:if(n.myMemberState!=="invited")return!1;break;case _s.INVITED_BY_FRIEND:if(n.myMemberState!=="invited"||!this._isFriend(n.inviter))return!1;break;case _s.INVITED_BY_NON_FRIEND:if(n.myMemberState!=="invited"||this._isFriend(n.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case Xo.UNHIDDEN:if(n.isHidden||n.hiddenState!=="unhidden")return!1;break;case Xo.HIDDEN:if(!n.isHidden)return!1;break;case Xo.HIDDEN_ALLOW_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case Xo.HIDDEN_PREVENT_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===_h.UNREAD_MESSAGE&&n.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case Vu.PUBLIC:if(!n.isPublic)return!1;break;case Vu.PRIVATE:if(n.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case Es.SUPER:if(!n.isSuper)return!1;break;case Es.NON_SUPER:if(n.isSuper)return!1}return this.includeMetaData&&this.metadataKey&&(((r=n.cachedMetaData)===null||r===void 0?void 0:r[this.metadataKey])===void 0||this.metadataValues&&!this.metadataValues.includes(n.cachedMetaData[this.metadataKey])||this.metadataValueStartsWith&&!n.cachedMetaData[this.metadataKey].startsWith(this.metadataValueStartsWith))?!1:!(this.createdAfter&&n.createdAt<this.createdAfter)&&!(this.createdBefore&&n.createdAt>this.createdBefore)},t})(),RV=(function(t){function n(e,r){var i=r.sdkState,a=r.cacheContext,s=t.call(this,e)||this;return s._channels=new Map,s._sdkState=i,s._cacheContext=a,s}return k(n,t),Object.defineProperty(n.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return Ne(!!e).throw(Z.databaseError),e.collection(Zx)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(e,r){return r===void 0&&(r=0),q(q({},e.serialize()),{lastMessageUpdatedAt:e.lastMessage?e.lastMessage.createdAt:0,syncIndex:r})},n.prototype._deserialize=function(e){return pi.of(this._iid).buildGroupChannelFromSerializedData(e)},Object.defineProperty(n.prototype,"channels",{get:function(){return et([],Ye(this._channels.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.isCachedInMemory=function(e){return this._channels.has(e)},n.prototype.filterOffsetChanged=function(e){var r=this;return e.filter((function(i){if(r._channels.has(i.url))return r._channels.get(i.url).messageOffsetTimestamp<i.messageOffsetTimestamp}))},n.prototype.get=function(e){return A(this,void 0,void 0,(function(){var r,i;return N(this,(function(a){switch(a.label){case 0:return this._channels.has(e)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(r=a.sent())return i=this._deserialize(r),this._channels.set(e,i),[2,i];a.label=2;case 2:return[2,void 0];case 3:return[2,this._channels.get(e)]}}))}))},n.prototype.fetch=function(e){var r=e.token,i=e.offset,a=i===void 0?0:i,s=e.limit,l=s===void 0?Xx:s,c=e.backward,d=c!==void 0&&c,f=e.filter,v=f===void 0?new TL:f,g=e.order,y=g===void 0?wr.LATEST_LAST_MESSAGE:g,b=e.borderlineChannelUrl;return A(this,void 0,void 0,(function(){var C,w,I,M,R,U=this;return N(this,(function(H){switch(H.label){case 0:return this.localCacheEnabled?(C=!!b,w=$b(y),I={where:function(P){if(a>0)return a--,!1;if(r)switch(y){case wr.CHANNEL_NAME_ALPHABETICAL:if(!d&&P.name.localeCompare(r)<0||d&&P.name.localeCompare(r)>0)return!1;break;case wr.CHRONOLOGICAL:if(!d&&P.createdAt>r||d&&P.createdAt<r)return!1;break;case wr.LATEST_LAST_MESSAGE:if(!d&&P.lastMessageUpdatedAt>r||d&&P.lastMessageUpdatedAt<r)return!1}return C&&b&&b===P.url?(C=!1,!1):!C&&v.match(U._deserialize(P),U._sdkState.userId)},index:w,backward:d},[4,this.collection.query(I)]):[3,3];case 1:return[4,H.sent().fetch({limit:l})];case 2:return M=H.sent(),(R=M.map((function(P){return U._deserialize(P)}))).forEach((function(P){!v.includeMetaData&&P.cachedMetaData&&P._clearCachedMetaData(),U._channels.has(P.url)||U._channels.set(P.url,P)})),[2,R];case 3:return[2,[]]}}))}))},n.prototype.upsert=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l=this;return N(this,(function(c){switch(c.label){case 0:if(i=[],e.forEach((function(d){if(l._channels.has(d.url)){var f=l._channels.get(d.url);f._pinnedMessagesUpdatedAt<d._pinnedMessagesUpdatedAt&&(f._pinnedMessagesUpdatedAt=d._pinnedMessagesUpdatedAt),f._messageCollectionLastAccessedAt>d._messageCollectionLastAccessedAt&&(d._messageCollectionLastAccessedAt=f._messageCollectionLastAccessedAt),d.cachedMetaData instanceof Map&&d.cachedMetaData.size>0&&r&&(f._updateCachedMetaData(d.cachedMetaData,r).isUpdated||Object.assign(d,{_cachedMetaData:f.cachedMetaData})),f._update(d),i.push(f)}else l._channels.set(d.url,d),i.push(d)})),!this.localCacheEnabled)return[3,2];for(a=[],s=0;s<i.length;s++)a.push(this._serialize(i[s],s));return[4,this.collection.upsertMany(a)];case 1:c.sent(),c.label=2;case 2:return[2,i]}}))}))},n.prototype.remove=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:try{for(r=De(e),i=r.next();!i.done;i=r.next())a=i.value,this._channels.delete(a)}catch(d){s={error:d}}finally{try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(s)throw s.error}}return this.localCacheEnabled?[4,this.collection.removeIf({where:{url:{"/in":e}}})]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n.prototype.clearMemoryCache=function(){this._channels.clear()},n.prototype._setBlockStateOfAllChannels=function(e,r,i){return A(this,void 0,void 0,(function(){var a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G;return N(this,(function(Y){switch(Y.label){case 0:if(a=[],e===this._sdkState.userId)try{for(s=De(this._channels.values()),l=s.next();!l.done;l=s.next()){g=l.value;try{for(M=void 0,c=De(g.members),d=c.next();!d.done;d=c.next())if((C=d.value).userId===r){C.isBlockedByMe=i,a.push(g);break}}catch(F){M={error:F}}finally{try{d&&!d.done&&(R=c.return)&&R.call(c)}finally{if(M)throw M.error}}}}catch(F){w={error:F}}finally{try{l&&!l.done&&(I=s.return)&&I.call(s)}finally{if(w)throw w.error}}else if(r===this._sdkState.userId)try{for(f=De(this._channels.values()),v=f.next();!v.done;v=f.next()){g=v.value;try{for(P=void 0,y=De(g.members),b=y.next();!b.done;b=y.next())if((C=b.value).userId===e){C.isBlockingMe=i,a.push(g);break}}catch(F){P={error:F}}finally{try{b&&!b.done&&(G=y.return)&&G.call(y)}finally{if(P)throw P.error}}}}catch(F){U={error:F}}finally{try{v&&!v.done&&(H=f.return)&&H.call(f)}finally{if(U)throw U.error}}return a.length>0?[4,this.upsert(a)]:[3,2];case 1:Y.sent(),Y.label=2;case 2:return[2]}}))}))},n.prototype.block=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!0)];case 1:return i.sent(),[2]}}))}))},n.prototype.unblock=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!1)];case 1:return i.sent(),[2]}}))}))},n.prototype.markAsRead=function(e,r){return r===void 0&&(r=et([],Ye(this._channels.keys()),!1)),A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:i=[],g.label=1;case 1:g.trys.push([1,6,7,8]),a=De(r),s=a.next(),g.label=2;case 2:return s.done?[3,5]:(l=s.value,[4,this.get(l)]);case 3:(c=g.sent())!=null&&c._updateUnreadMemberState(this._sdkState.userId,e)&&(c._updateUnreadCount(0,0),i.push(c)),g.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return d=g.sent(),f={error:d},[3,8];case 7:try{s&&!s.done&&(v=a.return)&&v.call(a)}finally{if(f)throw f.error}return[7];case 8:return i.length>0?[4,this.upsert(i)]:[3,10];case 9:g.sent(),g.label=10;case 10:return[2]}}))}))},n})(ti),Kb={invitedUserIds:void 0,channelUrl:void 0,coverUrl:void 0,coverImage:void 0,isDistinct:void 0,isSuper:void 0,isBroadcast:void 0,isExclusive:void 0,isPublic:void 0,isDiscoverable:void 0,isStrict:void 0,isEphemeral:void 0,accessCode:void 0,name:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,messageSurvivalSeconds:void 0},LS=function(t){return It("string",t.invitedUserIds,!0)&&W("string",t.channelUrl,!0)&&W("string",t.coverUrl,!0)&&(Oi(t.coverImage)||W("string",t.coverImage,!0))&&W("boolean",t.isDistinct,!0)&&W("boolean",t.isSuper,!0)&&W("boolean",t.isBroadcast,!0)&&W("boolean",t.isExclusive,!0)&&W("boolean",t.isPublic,!0)&&W("boolean",t.isStrict,!0)&&W("boolean",t.isDiscoverable,!0)&&W("boolean",t.isEphemeral,!0)&&W("string",t.accessCode,!0)&&W("string",t.name,!0)&&W("string",t.data,!0)&&W("string",t.customType,!0)&&It("string",t.operatorUserIds,!0)&&W("number",t.messageSurvivalSeconds,!0)},w1={customTypes:void 0,includeEmpty:!1,includeFrozen:!0,includeMetaData:!0,includeChatNotification:!1},US=function(t){return It("string",t.customTypes,!0)&&W("boolean",t.includeEmpty,!0)&&W("boolean",t.includeFrozen,!0)&&W("boolean",t.includeMetaData,!0)&&W("boolean",t.includeChatNotification,!0)},CL={myMemberStateFilter:_s.ALL},SL=function(t){return wt(_s,t.myMemberStateFilter)};(function(t){t.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",t.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",t.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",t.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",t.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",t.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",t.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",t.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",t.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(gr||(gr={}));var DV={keys:[gr.GROUP_CHANNEL_UNREAD_MENTION_COUNT,gr.NONSUPER_UNREAD_MENTION_COUNT,gr.SUPER_UNREAD_MENTION_COUNT,gr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT,gr.NONSUPER_UNREAD_MESSAGE_COUNT,gr.SUPER_UNREAD_MESSAGE_COUNT,gr.GROUP_CHANNEL_INVITATION_COUNT,gr.NONSUPER_INVITATION_COUNT,gr.SUPER_INVITATION_COUNT],customTypeFilters:void 0,customTypesFilter:void 0},xV={channelCustomTypesFilter:void 0,superChannelFilter:Es.ALL},LV=function(t){return It("string",t.channelCustomTypesFilter,!0)&&wt(Es,t.superChannelFilter)},UV={channelUrl:void 0,scheduledStatus:void 0,messageTypeFilter:na.ALL};q({},ve);var Yb=function(t){return t.startsWith("EVENT_")||t===ve.SYNC_CHANNEL_CHANGELOGS||t===ve.REFRESH_CHANNEL},Rt=(function(t){function n(e){var r=e.channels,i=e.context,a=e.isWebSocketEventComing,s=a!==void 0&&a,l=e.ts,c=t.call(this)||this;return c.channels=r,c.context=i,c.isWebSocketEventComing=s,c.ts=l,c}return k(n,t),n})(xn),Sc=(function(t){function n(e){var r=e.channelUrls,i=e.context,a=e.isWebSocketEventComing,s=a!==void 0&&a,l=t.call(this)||this;return l.channelUrls=r,l.context=i,l.isWebSocketEventComing=s,l}return k(n,t),n})(xn),NL=(function(t){function n(e){var r=e.channel,i=t.call(this)||this;return i.channel=r,i}return k(n,t),n})(xn),kV=(function(){function t(n){var e=n.groupChannelCache,r=n.userInfoCache,i=n.messageCache,a=n.unsentMessageCache,s=n.dispatcher,l=this;this._observers=new Map,s.on((function(c){return A(l,void 0,void 0,(function(){var d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F,te,J=this;return N(this,(function(ne){switch(ne.label){case 0:if(!(c instanceof Rt))return[3,19];if(d=c.channels,H=c.context,P=c.isWebSocketEventComing,f=d.filter((function(Oe){return Oe instanceof Io})),H.source!==ve.EVENT_CHANNEL_RESET_HISTORY&&H.source!==ve.EVENT_CHANNEL_HIDDEN)return[3,9];ne.label=1;case 1:ne.trys.push([1,6,7,8]),v=De(f),g=v.next(),ne.label=2;case 2:return g.done?[3,5]:(I=g.value,[4,i.removeUnderOffset(I.url,I.messageOffsetTimestamp)]);case 3:ne.sent(),ne.label=4;case 4:return g=v.next(),[3,2];case 5:return[3,8];case 6:return y=ne.sent(),G={error:y},[3,8];case 7:try{g&&!g.done&&(Y=v.return)&&Y.call(v)}finally{if(G)throw G.error}return[7];case 8:return[3,17];case 9:b=e.filterOffsetChanged(f),ne.label=10;case 10:ne.trys.push([10,15,16,17]),C=De(b),w=C.next(),ne.label=11;case 11:return w.done?[3,14]:(I=w.value,[4,i.removeUnderOffset(I.url,I.messageOffsetTimestamp)]);case 12:ne.sent(),ne.label=13;case 13:return w=C.next(),[3,11];case 14:return[3,17];case 15:return M=ne.sent(),F={error:M},[3,17];case 16:try{w&&!w.done&&(te=C.return)&&te.call(C)}finally{if(F)throw F.error}return[7];case 17:return[4,e.upsert(f,c.ts)];case 18:return R=ne.sent(),P||this._broadcastUpdateEvent(R,H),[3,25];case 19:return c instanceof Sc?(U=c.channelUrls,H=c.context,P=c.isWebSocketEventComing,[4,e.remove(U)]):[3,22];case 20:return ne.sent(),[4,yr((function(){return A(J,void 0,void 0,(function(){var Oe,X,se,$,le,he;return N(this,(function(xe){switch(xe.label){case 0:xe.trys.push([0,6,7,8]),Oe=De(U),X=Oe.next(),xe.label=1;case 1:return X.done?[3,5]:(se=X.value,[4,i.removeMessagesOfChannel(se)]);case 2:return xe.sent(),[4,a.removeMessagesOfChannel(se)];case 3:xe.sent(),xe.label=4;case 4:return X=Oe.next(),[3,1];case 5:return[3,8];case 6:return $=xe.sent(),le={error:$},[3,8];case 7:try{X&&!X.done&&(he=Oe.return)&&he.call(Oe)}finally{if(le)throw le.error}return[7];case 8:return[2]}}))}))}))];case 21:return ne.sent(),P||this._broadcastRemoveEvent(U,H),[3,25];case 22:return c instanceof oL?[4,e.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,25];case 23:return ne.sent(),[4,r.fetch({limit:Number.MAX_SAFE_INTEGER})];case 24:ne.sent(),ne.label=25;case 25:return[2]}}))}))}))}return t.prototype._broadcastUpdateEvent=function(n,e){var r,i;try{for(var a=De(this._observers.values()),s=a.next();!s.done;s=a.next()){var l=s.value;l.onUpdate&&l.onUpdate(n,e)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype._broadcastRemoveEvent=function(n,e){var r,i;try{for(var a=De(this._observers.values()),s=a.next();!s.done;s=a.next()){var l=s.value;l.onRemove&&l.onRemove(n,e)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.subscribe=function(n,e){this._observers.set(n,e)},t.prototype.unsubscribe=function(n){this._observers.delete(n)},t.prototype.unsubscribeAll=function(){this._observers.clear()},t})(),PV=(function(t){function n(e){var r=e.userId,i=e.ts,a=e.token,s=e.filter,l=e.includeChatNotification,c=l!==void 0&&l,d=t.call(this)||this,f=q(q({},w1),s),v=f.customTypes,g=f.includeEmpty,y=f.includeFrozen;return d.method=Ee.GET,d.path="".concat(an,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),d.params=Pe(We({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:i||null,token:a,custom_types:v,show_empty:g,show_frozen:y,include_chat_notification:c})),d}return k(n,t),n})(be),FV=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.updatedChannels=r.updated.map((function(a){return new Io(e,Object.assign(a,{ts:r.ts}))})),i.deletedChannelUrls=r.deleted,i.hasMore=r.has_more,i.token=r.next,i.ts=r.ts,i}return k(n,t),n})(we),kS=(function(t){function n(e){var r=e.channelUrl,i=e.isInternalCall,a=e.showLatestMessage,s=t.call(this)||this;return s.method=Ee.GET,s.path="".concat(i?zH:Aa,"/").concat(encodeURIComponent(r)),s.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_latest_message:a!=null&&a,show_conversation:!0},s}return k(n,t),n})(be),PS=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Io(e,r),i}return k(n,t),n})(we),ev={includeEmpty:!1,myMemberStateFilter:_s.ALL,unreadChannelFilter:_h.ALL,superChannelFilter:Es.ALL,publicChannelFilter:Vu.ALL,hiddenChannelFilter:Xo.ALL,userIdsFilter:{queryType:Fc.AND},order:wr.LATEST_LAST_MESSAGE},HV=(function(t){function n(e){var r=this,i=e.userId,a=e.token,s=e.limit,l=e.order,c=e.includeEmpty,d=e.myMemberStateFilter,f=e.superChannelFilter,v=e.publicChannelFilter,g=e.unreadChannelFilter,y=e.nicknameContainsFilter,b=e.nicknameStartsWithFilter,C=e.nicknameExactMatchFilter,w=e.channelNameContainsFilter,I=e.channelUrlsFilter,M=e.customTypesFilter,R=e.customTypeStartsWithFilter,U=e.hiddenChannelFilter,H=e.metadataOrderKeyFilter,P=e.metadataKey,G=e.metadataValues,Y=e.metadataValueStartsWith,F=e.includeFrozen,te=e.includeMetaData,J=e.searchFilter,ne=e.userIdsFilter,Oe=e.includeChatNotification,X=Oe!==void 0&&Oe,se=e.includeLeftChannel,$=se!==void 0&&se,le=e.createdAfter,he=e.createdBefore;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(an,"/").concat(encodeURIComponent(i),"/my_group_channels"),r.params=Pe({token:a,limit:s,order:l??ev.order,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:c??ev.includeEmpty,member_state_filter:d??ev.myMemberStateFilter,super_mode:f??ev.superChannelFilter,public_mode:v??ev.publicChannelFilter,unread_filter:g??ev.unreadChannelFilter,members_nickname_contains:y,members_nickname_startswith:b,members_nickname:C,name_contains:w,channel_urls:I,custom_types:M,custom_type_startswith:R,hidden_mode:U,metadata_order_key:H,metadata_key:P,metadata_values:G,metadata_value_startswith:Y,show_frozen:F,show_metadata:te,include_chat_notification:X,include_left_channel:$,created_after:le,created_before:he}),J&&J.query&&J.fields&&(r.params.search_query=J.query,r.params.search_fields=J.fields),ne&&ne.userIds&&ne.userIds.length>0&&(ne.includeMode?(r.params.members_include_in=ne.userIds,r.params.query_type=ne.queryType.toUpperCase()):r.params.members_exactly_in=ne.userIds),r}return k(n,t),n})(be),BV=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.channels=[];var a=r.next,s=r.channels,l=r.ts;return i.token=a,s&&s.length>0&&(i.channels=s.map((function(c){return c.ts=l,new Io(e,c)}))),i.ts=l??0,i}return k(n,t),n})(we),GV=(function(t){function n(e){var r=e.userId,i=e.filter,a=t.call(this)||this,s=i.myMemberStateFilter;return a.method=Ee.GET,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/group_channel_count"),a.params={state:s??_s.ALL},a}return k(n,t),n})(be),zV=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.groupChannelCount=r.group_channel_count,i}return k(n,t),n})(we),VV=(function(t){function n(e){var r=e.userId,i=e.filter,a=t.call(this)||this,s=i.keys,l=i.customTypeFilters,c=i.customTypesFilter;return a.method=Ee.GET,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/unread_item_count"),a.params=Pe({item_keys:s,custom_types:c??l}),a}return k(n,t),n})(be),qV=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return typeof r[gr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(i.groupChannelUnreadMentionCount=r[gr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[gr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(i.groupChannelUnreadMessageCount=r[gr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[gr.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(i.groupChannelInvitationCount=r[gr.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[gr.SUPER_UNREAD_MENTION_COUNT]=="number"&&(i.superGroupChannelUnreadMentionCount=r[gr.SUPER_UNREAD_MENTION_COUNT]),typeof r[gr.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.superGroupChannelUnreadMessageCount=r[gr.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[gr.SUPER_INVITATION_COUNT]=="number"&&(i.superGroupChannelInvitationCount=r[gr.SUPER_INVITATION_COUNT]),typeof r[gr.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMentionCount=r[gr.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[gr.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMessageCount=r[gr.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[gr.NONSUPER_INVITATION_COUNT]=="number"&&(i.nonSuperGroupChannelInvitationCount=r[gr.NONSUPER_INVITATION_COUNT]),i}return k(n,t),n})(we),jV=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/unread_channel_count"),i}return k(n,t),n})(be),$V=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.unreadCount=r.unread_count,i}return k(n,t),n})(we),KV=(function(t){function n(e){var r=e.userId,i=e.filter,a=e.includeFeedChannel,s=a!==void 0&&a,l=t.call(this)||this,c=i.channelCustomTypesFilter,d=i.superChannelFilter;return l.method=Ee.GET,l.path="".concat(an,"/").concat(encodeURIComponent(r),"/unread_message_count"),l.params={super_mode:d??Es.ALL,custom_types:c,include_feed_channel:s},l}return k(n,t),n})(be),YV=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.unreadCount=r.unread_count,i.unreadFeedCount=r.unread_feed_count,i}return k(n,t),n})(we),WV=(function(t){function n(e){var r=e.channelUrl,i=e.scheduledStatus,a=e.messageTypeFilter,s=t.call(this)||this;return s.method=Ee.GET,s.path="".concat(L4,"/count"),s.params={channel_url:r,status:XV(i)},a&&(s.params.message_type=a),s}return k(n,t),n})(be),QV=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.count=r.count,i}return k(n,t),n})(we),XV=function(t){if(!t)return[];var n=[];return t.forEach((function(e){switch(e){case dh.PENDING:n.push(To.PENDING);break;case dh.SENT:n.push(To.IN_QUEUE),n.push(To.SENT);break;case dh.CANCELED:n.push(To.CANCELED);break;case dh.FAILED:n.push(To.FAILED)}})),n},ZV=(function(t){function n(e){var r=this,i=e.userId,a=e.channelUrl,s=e.coverUrl,l=e.coverImage,c=e.isDistinct,d=e.isSuper,f=e.isBroadcast,v=e.isPublic,g=e.isExclusive,y=e.isDiscoverable,b=e.isStrict,C=e.isEphemeral,w=e.accessCode,I=e.name,M=e.data,R=e.customType,U=e.messageSurvivalSeconds,H=e.invitedUserIds,P=e.operatorUserIds;return(r=t.call(this)||this).method=Ee.POST,r.path=Aa,r.params=Pe({user_ids:et([i],Ye(H??[]),!1).filter((function(G,Y,F){return Y===F.indexOf(G)})),channel_url:a,cover_url:s,cover_file:l,is_distinct:c,is_super:d,is_broadcast:f,is_exclusive:g,is_public:v,is_discoverable:y,strict:b,is_ephemeral:C,access_code:w,name:I,data:M,custom_type:R,operator_ids:P,message_survival_seconds:U}),r}return k(n,t),n})(be),JV=(function(t){function n(e,r){var i,a=this;return(a=t.call(this,e,r)||this).channel=new Io(e,r),a.isCreated=(i=r.is_created)===null||i===void 0||i,a}return k(n,t),n})(we),LM=(function(t){function n(e){var r=e.userId,i=e.channelUrls,a=t.call(this)||this;return a.method=Ee.PUT,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),a.params={channel_urls:i},a}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var eq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.userId,s=e.accessCode;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/join"),r.params={user_id:a,access_code:s},r}return k(n,t),n})(be),tq=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Io(e,r),i}return k(n,t),n})(we),nq=(function(t){function n(e,r,i){var a=t.call(this,e,r,i)||this,s=i.data,l=s.member_count,c=l===void 0?0:l,d=s.joined_member_count,f=d===void 0?0:d,v=s.users,g=v===void 0?null:v;return a.memberCount=c,a.joinedMemberCount=f,a.members=Array.isArray(g)?g.map((function(y){return new Co(e,y)})):[new Co(e,i.data)],a}return k(n,t),n})(Xc),rq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.userId,s=e.shouldRemoveOperatorStatus;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/leave"),r.params={user_id:a,should_remove_operator_status:s},r}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var iq=(function(t){function n(e,r,i){var a=t.call(this,e,r,i)||this,s=i.data,l=s.member_count,c=l===void 0?0:l,d=s.joined_member_count,f=d===void 0?0:d;return a.memberCount=c,a.joinedMemberCount=f,a.member=new Co(a._iid,i.data),a}return k(n,t),n})(Xc),aq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.userIds;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/invite"),r.params={user_ids:a},r}return k(n,t),n})(be),sq=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Io(e,r),i}return k(n,t),n})(we),oq=(function(t){function n(e,r,i){var a=t.call(this,e,r,i)||this;a.inviter=null;var s=i.data,l=s.member_count,c=l===void 0?0:l,d=s.joined_member_count,f=d===void 0?0:d,v=s.inviter,g=s.invitees,y=g===void 0?[]:g;return a.memberCount=c,a.joinedMemberCount=f,v&&Object.keys(v).length>0&&(a.inviter=new Mt(e,v)),a.invitees=y.map((function(b){return new Co(e,b)})),a}return k(n,t),n})(Xc),lq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.userId;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/decline"),r.params={user_id:a},r}return k(n,t),n})(be);(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Io(e,r),i.channel.myMemberState=Lr.NONE,i}k(n,t)})(we);var uq=(function(t){function n(e,r,i){var a=t.call(this,e,r,i)||this,s=i.data,l=s.member_count,c=s.joined_member_count,d=s.inviter,f=s.invitee;return a.memberCount=l??0,a.joinedMemberCount=c??0,a.inviter=new Mt(e,d),a.invitee=new Co(e,f),a}return k(n,t),n})(Xc),FS={hidePreviousMessages:!1,allowAutoUnhide:!0},cq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.userId,s=e.hidePreviousMessages,l=e.allowAutoUnhide;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/hide"),r.params={user_id:a,hide_previous_messages:s??FS.hidePreviousMessages,allow_auto_unhide:l??FS.allowAutoUnhide},r}return k(n,t),n})(be),dq=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.ts_message_offset;return i.messageOffsetTimestamp=a,i}return k(n,t),n})(we),hq=(function(t){function n(e,r,i){var a,s,l,c=this;return(c=t.call(this,e,"SYEV",i)||this).allowAutoUnhide=null,c.hidePreviousMessages=null,c.messageOffsetTimestamp=null,i.data&&(c.allowAutoUnhide=(a=i.data.allow_auto_unhide)!==null&&a!==void 0?a:null,c.hidePreviousMessages=(s=i.data.hide_previous_messages)!==null&&s!==void 0?s:null),c.messageOffsetTimestamp=(l=i.ts_message_offset)!==null&&l!==void 0?l:null,c}return k(n,t),n})(Jn),fq=(function(t){function n(e){var r=e.channelUrl,i=e.time;return t.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return k(n,t),n})(ia),pq=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return a.user=new Mt(e,i.data),a}return k(n,t),n})(Jn),mq=(function(t){function n(e){var r=e.channelUrl,i=e.time;return t.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return k(n,t),n})(ia),vq=(function(t){function n(e,r,i){var a=t.call(this,e,"SYEV",i)||this;return a.user=new Mt(e,i.data),a}return k(n,t),n})(Jn),_q=(function(t){function n(e){var r=e.channelUrl,i=e.messageId;return t.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:i}})||this}return k(n,t),n})(ia),AL=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F,te,J=this;return(J=t.call(this,e,r)||this).includeEmpty=!1,J.includeFrozen=!0,J.includeMetaData=!0,J.includeChatNotification=!1,J.channelUrlsFilter=null,J.customTypesFilter=null,J.customTypeStartsWithFilter=null,J.nicknameContainsFilter=null,J.nicknameStartsWithFilter=null,J.nicknameExactMatchFilter=null,J.channelNameContainsFilter="",J.myMemberStateFilter=_s.ALL,J.unreadChannelFilter=_h.ALL,J.superChannelFilter=Es.ALL,J.publicChannelFilter=Vu.ALL,J.hiddenChannelFilter=Xo.UNHIDDEN,J.searchFilter={fields:[],query:null},J.userIdsFilter={userIds:[],includeMode:!0,queryType:Fc.AND},J.metadataKey=null,J.metadataValues=null,J.metadataOrderKeyFilter=null,J.metadataValueStartsWith=null,J.order=wr.LATEST_LAST_MESSAGE,J.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,J.includeFrozen=(a=r.includeFrozen)===null||a===void 0||a,J.includeMetaData=(s=r.includeMetaData)===null||s===void 0||s,J.includeChatNotification=(l=r.includeChatNotification)!==null&&l!==void 0&&l,J.channelUrlsFilter=(c=r.channelUrlsFilter)!==null&&c!==void 0?c:null,J.customTypesFilter=(d=r.customTypesFilter)!==null&&d!==void 0?d:null,J.customTypeStartsWithFilter=(f=r.customTypeStartsWithFilter)!==null&&f!==void 0?f:"",J.nicknameContainsFilter=(v=r.nicknameContainsFilter)!==null&&v!==void 0?v:null,J.nicknameStartsWithFilter=(g=r.nicknameStartsWithFilter)!==null&&g!==void 0?g:null,J.nicknameExactMatchFilter=(y=r.nicknameExactMatchFilter)!==null&&y!==void 0?y:null,J.channelNameContainsFilter=(b=r.channelNameContainsFilter)!==null&&b!==void 0?b:"",J.myMemberStateFilter=(C=r.myMemberStateFilter)!==null&&C!==void 0?C:_s.ALL,J.unreadChannelFilter=(w=r.unreadChannelFilter)!==null&&w!==void 0?w:_h.ALL,J.superChannelFilter=(I=r.superChannelFilter)!==null&&I!==void 0?I:Es.ALL,J.publicChannelFilter=(M=r.publicChannelFilter)!==null&&M!==void 0?M:Vu.ALL,J.hiddenChannelFilter=(R=r.hiddenChannelFilter)!==null&&R!==void 0?R:Xo.UNHIDDEN,J.searchFilter=(U=r.searchFilter)!==null&&U!==void 0?U:{fields:[],query:null},J.userIdsFilter=(H=r.userIdsFilter)!==null&&H!==void 0?H:{userIds:[],includeMode:!0,queryType:Fc.AND},J.metadataKey=(P=r.metadataKey)!==null&&P!==void 0?P:null,J.metadataValues=(G=r.metadataValues)!==null&&G!==void 0?G:null,J.metadataOrderKeyFilter=(Y=r.metadataOrderKeyFilter)!==null&&Y!==void 0?Y:null,J.metadataValueStartsWith=(F=r.metadataValueStartsWith)!==null&&F!==void 0?F:null,J.order=(te=r.order)!==null&&te!==void 0?te:wr.LATEST_LAST_MESSAGE,r.createdAfter&&(J.createdAfter=r.createdAfter),r.createdBefore&&(J.createdBefore=r.createdBefore),J}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("boolean",this.includeEmpty)&&W("boolean",this.includeFrozen)&&W("boolean",this.includeMetaData)&&W("string",this.channelNameContainsFilter)&&It("string",this.channelUrlsFilter,!0)&&It("string",this.customTypesFilter,!0)&&W("string",this.customTypeStartsWithFilter)&&W("string",this.nicknameContainsFilter,!0)&&W("string",this.nicknameStartsWithFilter,!0)&&W("string",this.nicknameExactMatchFilter,!0)&&wt(_s,this.myMemberStateFilter)&&wt(Es,this.superChannelFilter)&&wt(Vu,this.publicChannelFilter)&&wt(_h,this.unreadChannelFilter)&&wt(Xo,this.hiddenChannelFilter)&&It(x0,this.searchFilter.fields)&&W("string",this.searchFilter.query,!0)&&It("string",this.userIdsFilter.userIds)&&W("boolean",this.userIdsFilter.includeMode)&&wt(Fc,this.userIdsFilter.queryType)&&wt(wr,this.order)&&W("string",this.metadataOrderKeyFilter,!0)&&W("string",this.metadataKey,!0)&&It("string",this.metadataValues,!0)&&W("string",this.metadataValueStartsWith,!0)&&_I(this.createdAfter)&&_I(this.createdBefore)},n.prototype.serialize=function(){return Dv(this)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i;return N(this,(function(a){switch(a.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,pi.of(this._iid).getMyGroupChannels(this._token,We(q({},this)),this.limit,ve.REQUEST_CHANNEL,!0)]):[3,2]:[3,5];case 1:return e=a.sent(),r=e.channels,i=e.token,this._token=i,this._hasNext=!!i,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Wc),gq=(function(t){function n(e){var r=e.channelUrl,i=e.userId,a=t.call(this)||this;return a.method=Ee.PUT,a.path="".concat(Aa,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),a.params=Pe({user_id:i}),a}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var HS,yq=(function(t){function n(e,r,i){var a=t.call(this,e,"DLVR",i)||this;return a.channelUrl=i.channel_url,a.deliveredStateUpdate=i.updated,a}return k(n,t),n})(Jn),jl=(function(){function t(n){var e=n.top,r=e===void 0?Number.MAX_SAFE_INTEGER:e,i=n.bottom,a=i===void 0?0:i;this.top=r,this.bottom=a}return t.prototype.includes=function(){for(var n=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.every((function(i){return n.top<=i&&i<=n.bottom}))},t.prototype.overlap=function(n){return this.includes(n.top)||this.includes(n.bottom)},t.prototype.intersect=function(){for(var n=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some((function(i){return n.top<=i&&i<=n.bottom}))},t.prototype.extends=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.top=Math.min.apply(Math,et([this.top],Ye(n),!1)),this.bottom=Math.max.apply(Math,et([this.bottom],Ye(n),!1))},t})(),kl={},wL=function(t,n){return"sendbird:".concat(t,"@groupchannel/").concat(n,"/message/sync.meta")},Eq=(function(){function t(n){var e=n._iid,r=n.channel,i=n.limit,a=i===void 0?100:i,s=this;this.ref=0,this._iid=e,this._channel=r,this._limit=a,this._prevSyncLoopCount=0;var l=j.of(this._iid),c=l.sdkState,d=l.cacheContext,f=l.dispatcher,v=l.logger,g=l.statManager,y=l.messageBackgroundSyncThrottleController;this._metadataKey=wL(c.userId,r.url);var b,C,w=(b=c.userId,C=r.url,"sendbird:".concat(b,"@groupchannel/").concat(C,"/message/sync"));this._prevSync=new Vc(w,(function(I){return A(s,void 0,void 0,(function(){var M=this;return N(this,(function(R){switch(R.label){case 0:return[4,y.run("message-background-sync-".concat(r.url,"-prev"),(function(){return A(M,void 0,void 0,(function(){var U,H,P,G,Y,F,te,J,ne,Oe,X,se;return N(this,(function($){switch($.label){case 0:return U={hasNext:!0,nextToken:0},this._prevSyncLoopCount++,[4,this.loadMetadata()];case 1:if($.sent(),v.debug("message background prev sync from",(F=this._metadata)===null||F===void 0?void 0:F.range.top),(te=this._metadata)===null||te===void 0?void 0:te.previousComplete)return[3,10];$.label=2;case 2:return $.trys.push([2,5,8,9]),[4,_i.of(this._iid)._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,!((ne=(J=this._metadata)===null||J===void 0?void 0:J.range)===null||ne===void 0)&&ne.top?this._metadata.range.top:I,{prevResultSize:this._limit,nextResultSize:0,replyType:ra.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0,isInclusive:!0},ve.SYNC_MESSAGE_BACKGROUND,!1,!1,Ko.INTERNAL_BACKSYNC)];case 3:return(H=$.sent().messages).length>0&&(P=H.map((function(le){return le.createdAt})),!((Oe=this._metadata)===null||Oe===void 0)&&(Y=Oe.range).intersect.apply(Y,et([],Ye(P),!1))?this.extendRange(H):this._metadata={range:new jl({top:Math.min.apply(Math,et([],Ye(P),!1)),bottom:Math.max.apply(Math,et([],Ye(P),!1))}),previousComplete:!1}),U.hasNext=H.length>=this._limit&&this._prevSyncLoopCount<1,this._metadata&&(U.nextToken=this._metadata.range.top,this._metadata.previousComplete=H.length<this._limit),v.debug("message background prev sync progress",U),[4,this.saveMetadata()];case 4:return $.sent(),[3,9];case 5:return G=$.sent(),v.debug("message background prev sync error",G),G instanceof Z&&G.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:$.sent(),$.label=7;case 7:throw G;case 8:return g.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:r.url,measured_on:"back_sync",event:"cache_fetch",max_db_size:(se=(X=d.localCacheConfig)===null||X===void 0?void 0:X.maxSize)!==null&&se!==void 0?se:0,use_local_cache:d.localCacheEnabled,starting_point:0,message_init_policy:""}})),[7];case 9:return[3,11];case 10:U.hasNext=!1,$.label=11;case 11:return[2,U]}}))}))}))];case 1:return[2,R.sent()]}}))}))})),this._nextSync=new Vc(w,(function(I){return A(s,void 0,void 0,(function(){var M=this;return N(this,(function(R){switch(R.label){case 0:return[4,y.run("message-background-sync-".concat(r.url,"-next"),(function(){return A(M,void 0,void 0,(function(){var U,H,P,G,Y,F,te,J,ne,Oe,X;return N(this,(function(se){switch(se.label){case 0:return U={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:se.sent(),v.debug("message background next sync from",(F=this._metadata)===null||F===void 0?void 0:F.range.bottom),se.label=2;case 2:return se.trys.push([2,5,6,7]),[4,_i.of(this._iid)._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,!((J=(te=this._metadata)===null||te===void 0?void 0:te.range)===null||J===void 0)&&J.bottom?this._metadata.range.bottom:I,{prevResultSize:0,nextResultSize:this._limit,replyType:ra.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0,isInclusive:!0},ve.SYNC_MESSAGE_BACKGROUND,!1,!1,Ko.INTERNAL_BACKSYNC)];case 3:return(H=se.sent().messages).length>0&&(P=H.map((function($){return $.createdAt})),!((ne=this._metadata)===null||ne===void 0)&&(Y=ne.range).intersect.apply(Y,et([],Ye(P),!1))?this.extendRange(H):this._metadata={range:new jl({top:Math.min.apply(Math,et([],Ye(P),!1)),bottom:Math.max.apply(Math,et([],Ye(P),!1))}),previousComplete:!1}),U.hasNext=H.length>=this._limit,this._metadata&&(U.nextToken=this._metadata.range.bottom),v.debug("message background next sync progress",U),[4,this.saveMetadata()];case 4:return se.sent(),[3,7];case 5:throw G=se.sent(),v.debug("message background next sync error",G),G;case 6:return g.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:r.url,measured_on:"back_sync",event:"cache_fetch",max_db_size:(X=(Oe=d.localCacheConfig)===null||Oe===void 0?void 0:Oe.maxSize)!==null&&X!==void 0?X:0,use_local_cache:d.localCacheEnabled,starting_point:0,message_init_policy:""}})),[7];case 7:return[2,U]}}))}))}))];case 1:return[2,R.sent()]}}))}))})),this._connectionEventContext=f.on((function(I){I instanceof $s&&(I.stateType===nn.CONNECTED?s.resume():s.pause())}))}return t.of=function(n,e){return kl[n]||(kl[n]={}),kl[n][e.url]||(kl[n][e.url]=new t({_iid:n,channel:e})),kl[n][e.url].ref++,kl[n][e.url]},t.clear=function(n,e){kl[n]&&kl[n][e]&&(kl[n][e].close(),delete kl[n])},Object.defineProperty(t.prototype,"range",{get:function(){var n,e;return(e=(n=this._metadata)===null||n===void 0?void 0:n.range)!==null&&e!==void 0?e:new jl({})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousComplete",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.previousComplete)},enumerable:!1,configurable:!0}),t.prototype.isWrappingMessages=function(n){var e;return(e=this.range)===null||e===void 0?void 0:e.includes.apply(e,et([],Ye(n.map((function(r){return r.createdAt}))),!1))},t.prototype.extendRange=function(n){var e;this._metadata&&(e=this._metadata.range).extends.apply(e,et([],Ye(n.map((function(r){return r.createdAt}))),!1))},t.prototype.loadMetadata=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,j.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=e.sent(),this._metadata=n?{range:new jl(n.range),previousComplete:n.previousComplete}:{range:new jl({}),previousComplete:!1},e.label=2;case 2:return[2,this._metadata]}}))}))},t.prototype.saveMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return this._metadata?[4,j.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return n.sent(),[2,!0];case 2:return[2,!1]}}))}))},t.prototype.clearMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,j.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),this._metadata=void 0,[2]}}))}))},t.prototype.resume=function(n){var e,r,i,a;n===void 0&&(n=Date.now());var s=j.of(this._iid),l=s.logger,c=s.sessionManager;s.cacheContext.localCacheEnabled&&c.session.hasSession&&(l.debug("message background sync resume()"),this._prevSyncLoopCount=0,this._metadata&&this._metadata.previousComplete||this._prevSync.start((r=(e=this._metadata)===null||e===void 0?void 0:e.range.top)!==null&&r!==void 0?r:n),this._nextSync.start((a=(i=this._metadata)===null||i===void 0?void 0:i.range.bottom)!==null&&a!==void 0?a:n))},t.prototype.pause=function(){j.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},t.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete kl[this._iid][this._channel.url])},t})(),bq=(function(){function t(n){var e=n._iid,r=n.cacheContext,i=n.groupChannelCache,a=n.messageCache,s=n.unsentMessageCache,l=n.activeChannelCount,c=l===void 0?2e3:l;this._iid=e,this._cacheContext=r,this._groupChannelCache=i,this._messageCache=a,this._unsentMessageCache=s,this.activeChannelCount=c}return t.prototype.removeChannelMessages=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._messageCache.removeMessagesOfChannel(n)];case 1:return e.sent(),[4,this._unsentMessageCache.removeMessagesOfChannel(n)];case 2:return e.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"channelRotationEnabled",{get:function(){var n,e,r=j.of(this._iid).appInfo;return(e=(n=r?.channelRotationInfo)===null||n===void 0?void 0:n.enabled)!==null&&e!==void 0&&e},enumerable:!1,configurable:!0}),t.prototype.removeChannelsByRotation=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:return n=j.of(this._iid),e=n.appInfo,r=n.connectedAt,e?.channelRotationInfo&&e.channelRotationInfo.enabled?(i=e.channelRotationInfo,a=i.orderBy,s=i.excludeRecentHours,l=i.bufferRatio,a==="LAST_MESSAGE_TS_EXCLUDING_RECENT_JOINS"?[3,1]:[3,5]):[3,5];case 1:return[4,this._groupChannelCache.fetch({token:0,order:wr.LATEST_LAST_MESSAGE,offset:this.activeChannelCount*l,limit:Number.MAX_SAFE_INTEGER})];case 2:return c=f.sent(),typeof s=="number"&&(c=c.filter((function(v){return 1e3*v.joinedAt<r-3600*s*1e3}))),[4,this._groupChannelCache.remove(c.map((function(v){return v.url})))];case 3:return f.sent(),[4,Promise.all(c.map((function(v){return d.removeChannelMessages(v.url)})))];case 4:return f.sent(),[3,5];case 5:return[2]}}))}))},t})(),Ff={},pi=(function(t){function n(e,r){var i,a=this;return(a=t.call(this,e,q(q({},r),{channelType:Lt.GROUP}))||this)._leftChannels=new Map,a._markAsReadAllLastSentAt=0,a._forceDisableMack=(i=r.forceDisableMack)!==null&&i!==void 0&&i,a._groupChannelHandlers=new Map,a._groupChannelCache=new RV(a._iid,{sdkState:r.sdkState,cacheContext:r.cacheContext}),a._groupChannelRotationManager=new bq({_iid:a._iid,cacheContext:r.cacheContext,groupChannelCache:a._groupChannelCache,messageCache:a._messageCache,unsentMessageCache:a._unsentMessageCache}),a._userInfoCache=new DS(a._iid,{sdkState:r.sdkState,cacheContext:r.cacheContext}),a._groupChannelBroadcast=new kV({dispatcher:r.dispatcher,groupChannelCache:a._groupChannelCache,userInfoCache:a._userInfoCache,messageCache:up.of(a._iid),unsentMessageCache:Cp.of(a._iid)}),setInterval((function(){var s,l,c=function(v){v.invalidateTypingStatus()&&(a._dispatcher.dispatch(new Rt({channels:[v],context:{source:ve.EVENT_CHANNEL_TYPING_STATUS_UPDATE}})),a._groupChannelHandlers.forEach((function(g){g.onTypingStatusUpdated&&g.onTypingStatusUpdated(v)})))};try{for(var d=De(a._groupChannelCache.channels),f=d.next();!f.done;f=d.next())c(f.value)}catch(v){s={error:v}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}}),1e3),a._dispatcher.on((function(s){if(s instanceof Jn)a._handleEvent(s).catch((function(f){if(Ca(f)&&a._sdkState.appState==="foreground")throw f}));else if(s instanceof sL)A(a,void 0,void 0,(function(){var f,v;return N(this,(function(g){switch(g.label){case 0:return f=s.message,[4,this.getChannelFromCache(f.channelUrl)];case 1:return(v=g.sent())&&!v.isFrozen?[3,3]:[4,this.getChannelWithoutCache(f.channelUrl,!0)];case 2:v=g.sent(),g.label=3;case 3:return v.isFrozen||(f instanceof ta?v._autoResendUserMessage(f):f instanceof Zr&&v._autoResendFileMessage(f)),[2]}}))}));else if(s instanceof lL)a.reduceDBSize();else if(s instanceof dL){var l=s.appConfigsInfo,c=s.configTs,d=l.message_purge_offset;d&&a._messageDataRetention(d),a._dispatcher.dispatch(new uL({configTs:c}))}else s instanceof Ux?A(a,void 0,void 0,(function(){var f,v,g,y,b,C=this;return N(this,(function(w){switch(w.label){case 0:return f=s.channelUrl,v=s.channelType,g=s.parentMessage,y=new aL(this._iid,{channel_type:Lt.GROUP,channel_url:f,parent_message_id:g.messageId,thread_info:E1.payloadify(g.threadInfo)}),v!==Lt.GROUP?[3,2]:[4,this.getChannel(f,!0)];case 1:b=w.sent(),Qe((function(){return A(C,void 0,void 0,(function(){var I,M,R,U,H;return N(this,(function(P){try{for(I=De(this._groupChannelHandlers.values()),M=I.next();!M.done;M=I.next())(R=M.value).onThreadInfoUpdated&&R.onThreadInfoUpdated(b,y)}catch(G){U={error:G}}finally{try{M&&!M.done&&(H=I.return)&&H.call(I)}finally{if(U)throw U.error}}return[2]}))}))})),w.label=2;case 2:return[2]}}))})):s instanceof NL?A(a,void 0,void 0,(function(){var f;return N(this,(function(v){switch(v.label){case 0:return f=s.channel,[4,this._groupChannelCache.upsert([f])];case 1:return v.sent(),[2]}}))})):s instanceof ox&&A(a,void 0,void 0,(function(){return N(this,(function(f){switch(f.label){case 0:return[4,this._expandMessageChunk(s)];case 1:return f.sent(),[2]}}))}))})),Ff[e]||(Ff[e]=a),a}return k(n,t),Object.defineProperty(n.prototype,"_messageCache",{get:function(){return up.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_unsentMessageCache",{get:function(){return Cp.of(this._iid)},enumerable:!1,configurable:!0}),n.of=function(e){return Ff[e]||(Ff[e]=new n(e,j.of(e))),Ff[e]},n.clear=function(e){Ff[e]&&delete Ff[e]},Object.defineProperty(n.prototype,"handlers",{get:function(){return et([],Ye(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.buildGroupChannelFromSerializedData=function(e){var r=Pc(e);return new Io(this._iid,Io.payloadify(r))},n.prototype.buildGroupChannelListQueryFromSerializedData=function(e){var r=Pc(e);return new AL(this._iid,r)},n.prototype.buildMemberFromSerializedData=function(e){var r=Pc(e);return new Co(this._iid,Co.payloadify(r))},n.prototype.getChannelFromCache=function(e){var r;return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return[4,this._groupChannelCache.get(e)];case 1:return[2,(r=i.sent())!==null&&r!==void 0?r:null]}}))}))},n.prototype.getChannelsFromCache=function(e,r,i,a,s){return A(this,void 0,void 0,(function(){return N(this,(function(l){switch(l.label){case 0:return[4,this._groupChannelCache.fetch({token:e,filter:r,order:i,limit:a,borderlineChannelUrl:s})];case 1:return[2,l.sent()]}}))}))},n.prototype.upsertChannelsToCache=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._groupChannelCache.upsert(e)];case 1:return[2,r.sent()]}}))}))},n.prototype.removeChannelsFromCache=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._groupChannelCache.remove(e)];case 1:return r.sent(),[2]}}))}))},n.prototype.clearChannelsFromCache=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._groupChannelCache.clear()];case 1:return e.sent(),[2]}}))}))},n.prototype.removeChannelsByRotation=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._groupChannelRotationManager.removeChannelsByRotation()];case 1:return e.sent(),[2]}}))}))},n.prototype.reduceDBSize=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f,v,g,y,b,C,w;return N(this,(function(I){switch(I.label){case 0:return e=up.of(this._iid),r=j.of(this._iid).cacheContext,i=r.localCacheConfig,a=r.nestdb,r.localCacheEnabled&&a&&a.state==ql.OPENED?(s=1024*i.maxSize*1024,[4,a.estimateUsage()]):[2];case 1:if((l=I.sent())<s)return[2];c=[],d=this._groupChannelCache.channels,f={},b=0,I.label=2;case 2:return b<d.length?[4,this.getMessagesFromCache(d[b].url,0,"prev",new Eh)]:[3,5];case 3:v=I.sent(),f[d[b].url]=JSON.stringify(v).length,g=new PH({channel:d[b],cachedMessageCount:v.length}),c.push(g),I.label=4;case 4:return b++,[3,2];case 5:y=c.sort(i.clearOrderComparator),b=0,I.label=6;case 6:return b<y.length?[4,e.removeMessagesOfChannel(y[b].channel.url)]:[3,10];case 7:return I.sent(),[4,e._getGroupChannelPreferenceSize(y[b].channel.url)];case 8:if(C=I.sent(),w=f[y[b].channel.url]+C,(l-=w)<s)return[3,10];I.label=9;case 9:return b++,[3,6];case 10:return[4,DS.of(this._iid).clear()];case 11:return I.sent(),[2]}}))}))},n.prototype._messageDataRetention=function(e){var r;return A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v,g,y,b=this;return N(this,(function(C){switch(C.label){case 0:i=[],a=up.of(this._iid),s=function(w){var I,M;return N(this,(function(R){switch(R.label){case 0:return I=w.customType,M=(r=e[I])!==null&&r!==void 0?r:e.global,[4,a.removeUnderOffset(w.url,M,!0)];case 1:return R.sent(),w.lastMessage&&w.lastMessage.createdAt<=M&&(w.lastMessage=null,i.push(w),Qe((function(){return A(b,void 0,void 0,(function(){var U,H,P,G,Y;return N(this,(function(F){try{for(U=De(this._groupChannelHandlers.values()),H=U.next();!H.done;H=U.next())(P=H.value).onChannelChanged&&P.onChannelChanged(w)}catch(te){G={error:te}}finally{try{H&&!H.done&&(Y=U.return)&&Y.call(U)}finally{if(G)throw G.error}}return[2]}))}))}))),l._dispatcher.dispatch(new yx({channelUrl:w.url,messageDeletionTimestamp:M,source:ve.EVENT_MESSAGE_OFFSET_UPDATED})),[2]}}))},l=this,C.label=1;case 1:C.trys.push([1,6,7,8]),c=De(this._groupChannelCache.channels),d=c.next(),C.label=2;case 2:return d.done?[3,5]:(f=d.value,[5,s(f)]);case 3:C.sent(),C.label=4;case 4:return d=c.next(),[3,2];case 5:return[3,8];case 6:return v=C.sent(),g={error:v},[3,8];case 7:try{d&&!d.done&&(y=c.return)&&y.call(c)}finally{if(g)throw g.error}return[7];case 8:return i.length>0&&this._dispatcher.dispatch(new Rt({channels:i,context:{source:ve.EVENT_CHANNEL_UPDATED}})),[2]}}))}))},n.prototype._expandMessageChunk=function(e){var r;return A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:return i=j.of(this._iid).cacheContext,a=e.previousMessageId,s=e.messageCreatedAt,l=e.channelUrl,i.localCacheEnabled&&((r=i.nestdb)===null||r===void 0?void 0:r.state)===ql.OPENED&&a?[4,this.getMessageFromCache(a)]:[2];case 1:return c=g.sent(),d=wL(this._sdkState.userId,l),[4,i.preference.get(d)];case 2:return(f=g.sent())?[3,5]:c?(v={range:new jl({top:c.createdAt,bottom:s}),previousComplete:!1},[4,i.preference.set(d,v)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[3,7];case 5:return c&&f.range.includes(c.createdAt)?(f.range.extends(c.createdAt,s),[4,i.preference.set(d,f)]):[3,7];case 6:g.sent(),g.label=7;case 7:return[2]}}))}))},n.prototype._isSuperGroupMackDisabled=function(e){var r=j.of(this._iid).appInfo;return!(!e.isSuper||e.isBroadcast||!r?.disableSuperGroupMack)},n.prototype._getCachedUserInfo=function(e){return this._userInfoCache.getUserInfoFromCache(e)},n.prototype._upsertCachedUserInfo=function(e,r){j.of(this._iid).useMemberInfoInMessage&&this._userInfoCache.upsert(e,r)},n.prototype._handleEvent=function(e){var r,i;return A(this,void 0,void 0,(function(){var a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F,te,J,ne,Oe,X,se,$,le,he,xe,Ge,Q,fe,Ae,$e,Te,Fe,Je,Ot,Ct,Kn,An,Ln,En,en,Pn,Gn,fn,Er,Un,Fn,pt,kn,er,vn,Yn,Pt,Wn,hr,ht,ni,Ei,Ir,kr,Qn,bn,tn,Mr,oa,Dt,Ut,Et,Ze,Ie,St,bt,Tt,zn,kt,Ki,la,bi,Ys,Ss,ui,Yi,rt,yt,at,Nt,mt,qt,Tn,Br,Gr,br,nt,ae,He,Xe,Wt,hn,Ft,fr,Or,Rr,Ti,tr,Ns,Ya,Yu,Ws,jr,ua,Ci,Jl,Wu,ll,Qs,Mo,eu,Di,As,ul,Qu,Xs,tu,cl,ca,Ia,nu,Oo,ws,Ro,Do,xo,da,dl,hl,Fi,Zs,ed,td,Ah,Nr,Wa,Xu,fl,Qa,ru,Vn,Xn,Zu,iu,wh,xi,Lo,au,pl,Ih,$r,ml,Ma,vl,Ju,Wi,Mh,nd,ec,rd,Oh,pn=this;return N(this,(function(ut){switch(ut.label){case 0:switch(ut.trys.push([0,88,,89]),e.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,27];case"MCNT":return[3,31];case"PEDI":return[3,40];case"VOTE":return[3,43];case"SYEV":return[3,46];case"USEV":return[3,86]}return[3,87];case 1:return y=null,e.code==="MESG"?y=e.as(E3):e.code==="FILE"?y=e.as(m3):e.code!=="ADMM"&&e.code!="BRDM"||(y=e.as(mL)),y?(a=y.message,s=y.isMentioned,l=y.forceUpdateLastMessage,a.channelType!==Lt.GROUP?[3,3]:(Fe=this._groupChannelCache.isCachedInMemory(a.channelUrl),X=a instanceof Ur&&a.sender.userId===this._sdkState.userId,[4,this.getChannel(a.channelUrl,!0)])):[3,3];case 2:if(c=ut.sent(),d=j.of(this._iid),I=d.useMemberInfoInMessage,Nr=d.requestDeduplicator,this._forceDisableMack||this._isSuperGroupMackDisabled(c)||a instanceof Ep||X||yr((function(){return A(pn,void 0,void 0,(function(){var Ce;return N(this,(function(ce){switch(ce.label){case 0:return Ce=new _q(a),[4,this._requestQueue.send(Ce)];case 1:return ce.sent(),[2]}}))}))})),a instanceof Ur){f=a.sender,c.isSuper&&this._upsertCachedUserInfo(f,a.createdAt);try{for(v=De(c.members),g=v.next();!g.done;g=v.next())if((jr=g.value).userId===a.sender.userId){I&&(jr.nickname=a.sender.nickname,jr.plainProfileUrl=a.sender.plainProfileUrl,jr.metaData=a.sender.metaData,jr.isBlockedByMe=a.sender.isBlockedByMe);break}}catch(Ce){Xn={error:Ce}}finally{try{g&&!g.done&&(Zu=v.return)&&Zu.call(v)}finally{if(Xn)throw Xn.error}}I&&s&&((r=a.mentionedUsers)===null||r===void 0||r.forEach((function(Ce){var ce,vt;try{for(var ot=De(c.members),ft=ot.next();!ft.done;ft=ot.next()){var nr=ft.value;if(Ce.userId===nr.userId){nr.nickname=Ce.nickname,nr.plainProfileUrl=Ce.plainProfileUrl,nr.metaData=Ce.metaData;break}}}catch(mn){ce={error:mn}}finally{try{ft&&!ft.done&&(vt=ot.return)&&vt.call(ot)}finally{if(ce)throw ce.error}}}))),X&&(P=this._sessionManager.currentUser)&&(P.nickname=a.sender.nickname,P.plainProfileUrl=a.sender.plainProfileUrl,P.metaData=a.sender.metaData)}a.silent&&!X||(c.isEphemeral||Fe)&&(c._updateLastMessage(a),X||c._shouldUpdateUnreadCountWith(a)&&c._updateUnreadCount(c.unreadMessageCount+1,c.unreadMentionCount+(s?1:0))),l&&c._updateLastMessage(a),Nr.updatePendingResponse(c,Date.now()),this._dispatcher.dispatch(new Rt({channels:[c],context:{source:ve.EVENT_MESSAGE_RECEIVED}})),a.silent&&!X||Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onChannelChanged&&vt.onChannelChanged(c)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),this._dispatcher.dispatch(new cr({messages:[a],source:ve.EVENT_MESSAGE_RECEIVED})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onMessageReceived&&vt.onMessageReceived(c,a),s&&vt.onMentionReceived&&vt.onMentionReceived(c,a)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),ut.label=3;case 3:return[3,87];case 4:return y=null,e.code==="MEDI"?y=e.as(b1):e.code==="FEDI"?y=e.as(T1):e.code==="AEDI"&&(y=e.as(vL)),y?(b=y.message,C=y.mentionCountChange,w=j.of(this._iid),I=w.useMemberInfoInMessage,Nr=w.requestDeduplicator,b.threadInfo&&(b.threadInfo.unreadReplyCount=void 0),b.channelType!==Lt.GROUP?[3,6]:(Fe=this._groupChannelCache.isCachedInMemory(b.channelUrl),[4,this.getChannel(b.channelUrl,!0)])):[3,6];case 5:if(M=ut.sent(),X=!1,b instanceof Ur){X=b.sender.userId===this._sdkState.userId,M.isSuper&&this._upsertCachedUserInfo(b.sender,b.updatedAt);try{for(R=De(M.members),U=R.next();!U.done;U=R.next())if((jr=U.value).userId===b.sender.userId){I&&(jr.nickname=b.sender.nickname,jr.plainProfileUrl=b.sender.plainProfileUrl,jr.metaData=b.sender.metaData,jr.isBlockedByMe=b.sender.isBlockedByMe);break}}catch(Ce){iu={error:Ce}}finally{try{U&&!U.done&&(wh=R.return)&&wh.call(R)}finally{if(iu)throw iu.error}}}fe=!1,X?(H=b.sender,(P=this._sessionManager.currentUser)&&(P.nickname=H.nickname,P.plainProfileUrl=H.plainProfileUrl,P.metaData=H.metaData)):M.isReadMessage(b)||C!==0&&!b.silent&&Fe&&(M._updateUnreadCount(M.unreadMessageCount,M.unreadMentionCount+C),fe=!0),M._updateLastMessage(b)?fe=!0:!((i=M.lastMessage)===null||i===void 0)&&i.isIdentical(b)&&(Fe?M._updateLastMessage(b)&&(fe=!0):fe=!0),G=!1,M.lastPinnedMessage&&M.lastPinnedMessage.messageId===b.messageId&&(M.lastPinnedMessage=b,fe=!0,G=!0),fe&&(Nr.updatePendingResponse(M,Date.now()),this._dispatcher.dispatch(new Rt({channels:[M],context:{source:G?ve.EVENT_PINNED_MESSAGE_UPDATED:ve.EVENT_MESSAGE_UPDATED}})),b.silent&&!X||Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onChannelChanged&&vt.onChannelChanged(M)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),G&&Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onPinnedMessageUpdated&&vt.onPinnedMessageUpdated(M)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))}))),this._dispatcher.dispatch(new cr({messages:[b],source:ve.EVENT_MESSAGE_UPDATED})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onMessageUpdated&&vt.onMessageUpdated(M,b),C>0&&vt.onMentionReceived&&vt.onMentionReceived(M,b)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),ut.label=6;case 6:return[3,87];case 7:return Y=e.as(B4),tn=Y.channelUrl,Mr=Y.channelType,F=Y.messageId,te=Y.silent,J=Y.messageCreatedAt,ne=Y.senderId,Mr!==Lt.GROUP?[3,9]:[4,this.getChannel(tn,!0)];case 8:Oe=ut.sent(),X=ne===this._sdkState.userId,te||X||J>0&&Oe.myLastRead<J&&Oe.unreadMessageCount>0&&(Oe._updateUnreadCount(Oe.unreadMessageCount-1,0),(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(Oe,Date.now())),this._dispatcher.dispatch(new h3({messageIds:[F],source:ve.EVENT_MESSAGE_DELETED})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onMessageDeleted&&vt.onMessageDeleted(Oe,F)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),ut.label=9;case 9:return[3,87];case 10:return(se=e.as(Lx).readStatus).channelType!==Lt.GROUP?[3,12]:(Fe=this._groupChannelCache.isCachedInMemory(se.channelUrl),[4,this.getChannel(se.channelUrl,!0)]);case 11:if($=ut.sent(),le=se.reader.userId===this._sdkState.userId,he=!0,Fe&&(he=$._updateUnreadMemberState(se.reader.userId,se.readAt,se.isExcluded)),se.isExcluded){if(he){try{for(xe=De(this._groupChannelHandlers.values()),Ge=xe.next();!Ge.done;Ge=xe.next())(Q=Ge.value).onUserMarkedUnread!==st?Q.onUserMarkedUnread($,[se.reader.userId]):Q.onUnreadMemberStatusUpdated&&Q.onUnreadMemberStatusUpdated($)}catch(Ce){xi={error:Ce}}finally{try{Ge&&!Ge.done&&(Lo=xe.return)&&Lo.call(xe)}finally{if(xi)throw xi.error}}this._dispatcher.dispatch(new Rt({channels:[$],context:{source:ve.EVENT_CHANNEL_UNREAD,userIds:[se.reader.userId]}}))}}else fe=!0,le&&(Fe?$.unreadMentionCount>0||$.unreadMessageCount>0?$._updateUnreadCount(0,0):fe=!1:$.unreadMessageCount!==0&&$.unreadMentionCount!==0&&(fe=!1)),fe&&(this._dispatcher.dispatch(new Rt({channels:[$],context:{source:he?ve.EVENT_CHANNEL_READ:ve.EVENT_CHANNEL_UPDATED,userIds:[se.reader.userId]}})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())vt=ce.value,le?vt.onChannelChanged!==st&&vt.onChannelChanged($):he&&(vt.onUserMarkedRead!==st?vt.onUserMarkedRead($,[se.reader.userId]):vt.onUnreadMemberStatusUpdated!==st&&vt.onUnreadMemberStatusUpdated($))}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})));ut.label=12;case 12:return[3,87];case 13:return Ae=e.as(yq),tn=Ae.channelUrl,$e=Ae.deliveredStateUpdate,Te=$e===void 0?{}:$e,Fe=this._groupChannelCache.isCachedInMemory(tn),[4,this.getChannel(tn,!0)];case 14:return Je=ut.sent(),Fe&&Object.keys(Te).forEach((function(Ce){Je._updateUndeliveredMemberState(Ce,Te[Ce])})),Object.keys(Te).some((function(Ce){return Ce!==pn._sdkState.userId}))&&(this._dispatcher.dispatch(new Rt({channels:[Je],context:{source:ve.EVENT_CHANNEL_DELIVERED}})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onUndeliveredMemberStatusUpdated&&vt.onUndeliveredMemberStatusUpdated(Je)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))}))),[3,87];case 15:return Ot=e.as(_L),tn=Ot.channelUrl,Mr=Ot.channelType,Ct=Ot.event,Mr!==Lt.GROUP?[3,26]:[4,this.getChannel(tn,!0)];case 16:return Kn=ut.sent(),[4,this.getMessageFromCache(Ct.messageId)];case 17:if(Un=ut.sent(),!Kn.isSuper)return[3,25];ut.label=18;case 18:ut.trys.push([18,23,24,25]),An=De(Object.keys(Ct._sampledUserInfoList)),Ln=An.next(),ut.label=19;case 19:return Ln.done?[3,22]:(En=Ln.value,[4,this._userInfoCache.get(En)]);case 20:(en=ut.sent())?(en.plainProfileUrl=Ct._sampledUserInfoList[En].profile_url,en.nickname=Ct._sampledUserInfoList[En].nickname,this._upsertCachedUserInfo(en,Ct.updatedAt)):(Pn=new Mt(this._iid,{user_id:En,nickname:Ct._sampledUserInfoList[En].nickname,profile_url:Ct._sampledUserInfoList[En].profile_url,require_auth_for_profile_image:Ct._sampledUserInfoList[En].require_auth_for_profile_image}),this._upsertCachedUserInfo(Pn,Ct.updatedAt)),ut.label=21;case 21:return Ln=An.next(),[3,19];case 22:return[3,25];case 23:return Gn=ut.sent(),au={error:Gn},[3,25];case 24:try{Ln&&!Ln.done&&(pl=An.return)&&pl.call(An)}finally{if(au)throw au.error}return[7];case 25:Un?Un instanceof ba&&(Un.applyReactionEvent(Ct),this._dispatcher.dispatch(new cr({messages:[Un],source:ve.EVENT_MESSAGE_REACTION_UPDATED}))):this._dispatcher.dispatch(new Ex({event:Ct,source:ve.EVENT_MESSAGE_REACTION_UPDATED})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onReactionUpdated&&vt.onReactionUpdated(Kn,Ct)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),ut.label=26;case 26:return[3,87];case 27:return(fn=e.as(gL).event).channelType!==Lt.GROUP?[3,30]:[4,this.getChannel(fn.channelUrl,!0)];case 28:return Er=ut.sent(),[4,this.getMessageFromCache(fn.targetMessageId)];case 29:if((Un=ut.sent())?Un instanceof ba&&(Un.applyThreadInfoUpdateEvent(fn),this._dispatcher.dispatch(new cr({messages:[Un],source:ve.EVENT_MESSAGE_THREADINFO_UPDATED}))):this._dispatcher.dispatch(new bx({event:fn,source:ve.EVENT_MESSAGE_THREADINFO_UPDATED})),Er.isSuper)try{for(Fn=De(fn.threadInfo.mostRepliedUsers),pt=Fn.next();!pt.done;pt=Fn.next())Ti=pt.value,this._upsertCachedUserInfo(Ti,fn.threadInfo.updatedAt)}catch(Ce){Ih={error:Ce}}finally{try{pt&&!pt.done&&($r=Fn.return)&&$r.call(Fn)}finally{if(Ih)throw Ih.error}}Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onThreadInfoUpdated&&vt.onThreadInfoUpdated(Er,fn)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),ut.label=30;case 30:return[3,87];case 31:kn=e.as(yL).groupChannelMemberCounts,er=[],ut.label=32;case 32:ut.trys.push([32,37,38,39]),vn=De(kn),Yn=vn.next(),ut.label=33;case 33:return Yn.done?[3,36]:(Pt=Yn.value,tn=Pt.channelUrl,Wt=Pt.memberCount,hn=Pt.joinedMemberCount,Wn=Pt.updatedAt,[4,this.getChannelFromCache(tn)]);case 34:(hr=ut.sent())&&hr._setLatestMemberCount(Wt,hn,Wn)&&er.push(hr),ut.label=35;case 35:return Yn=vn.next(),[3,33];case 36:return[3,39];case 37:return ht=ut.sent(),ml={error:ht},[3,39];case 38:try{Yn&&!Yn.done&&(Ma=vn.return)&&Ma.call(vn)}finally{if(ml)throw ml.error}return[7];case 39:return er.length>0&&(this._dispatcher.dispatch(new Rt({channels:er,context:{source:ve.EVENT_CHANNEL_MEMBER_COUNT_UPDATED}})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onChannelMemberCountChanged&&vt.onChannelMemberCountChanged(er)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))}))),[3,87];case 40:return ni=e.as(EL),Ei=ni.event,Ir=ni.status,tn=ni.channelUrl,Mr=ni.channelType,tn&&Mr===Lt.GROUP?[4,this.getChannel(tn,!0)]:[3,42];case 41:kr=ut.sent(),this._dispatcher.dispatch(new f3({event:Ei,source:ve.EVENT_POLL_UPDATED})),Qe(Ir===Sx?function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onPollDeleted&&vt.onPollDeleted(kr,Ei.pollId)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))}:function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onPollUpdated&&vt.onPollUpdated(kr,Ei)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))}),ut.label=42;case 42:return[3,87];case 43:return Qn=e.as(b3),bn=Qn.event,tn=Qn.channelUrl,Mr=Qn.channelType,tn&&Mr===Lt.GROUP?[4,this.getChannel(tn,!0)]:[3,45];case 44:oa=ut.sent(),this._dispatcher.dispatch(new i2({event:bn,source:ve.EVENT_POLL_VOTED})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onPollVoted&&vt.onPollVoted(oa,bn)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),ut.label=45;case 45:return[3,87];case 46:if(!(Dt=e.as(Xc).event).isGroupChannelEvent)return[3,85];switch(Dt.category){case gn.CHANNEL_JOIN:return[3,47];case gn.CHANNEL_LEAVE:return[3,49];case gn.CHANNEL_OPERATOR_UPDATE:return[3,53];case gn.CHANNEL_INVITE:return[3,55];case gn.CHANNEL_DECLINE_INVITE:return[3,57];case gn.TYPING_START:case gn.TYPING_END:return[3,59];case gn.USER_CHANNEL_MUTE:case gn.USER_CHANNEL_UNMUTE:return[3,61];case gn.USER_CHANNEL_BAN:return[3,63];case gn.USER_CHANNEL_UNBAN:return[3,67];case gn.CHANNEL_FREEZE:case gn.CHANNEL_UNFREEZE:return[3,69];case gn.CHANNEL_HIDE:return[3,71];case gn.CHANNEL_UNHIDE:return[3,73];case gn.CHANNEL_DELETED:return[3,75];case gn.CHANNEL_PROP_CHANGED:return[3,76];case gn.CHANNEL_META_DATA_CHANGED:return[3,79];case gn.CHANNEL_META_COUNTERS_CHANGED:return[3,81];case gn.PINNED_MESSAGE_CHANGED:return[3,83]}return[3,85];case 47:return[4,this.getChannel(Dt.channelUrl,!0)];case 48:if(Ut=ut.sent(),Et=e.as(nq),Ze=Et.memberCount,Ie=Et.joinedMemberCount,St=Et.members,bt=!1,St.forEach((function(Ce){Ut.isExclusive||Ut.isSuper||Ut.isBroadcast?bt=bt||Ut._setLatestMemberCount(Ze,Ie,Dt.ts):(Ce.state=Lr.JOINED,Ut.addMember(Ce,Dt.ts),pn._updateJoinedMemberCount(Ut)),Ce.userId===pn._sdkState.userId&&(Ut.myMemberState=Lr.JOINED)})),Ut.isSuper)try{for(Tt=De(St),zn=Tt.next();!zn.done;zn=Tt.next())jr=zn.value,this._upsertCachedUserInfo(jr,Dt.ts)}catch(Ce){vl={error:Ce}}finally{try{zn&&!zn.done&&(Ju=Tt.return)&&Ju.call(Tt)}finally{if(vl)throw vl.error}}return(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(Ut,Date.now()),this._dispatcher.dispatch(new Rt({channels:[Ut],context:{source:ve.EVENT_CHANNEL_JOINED,users:St}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){var vt,ot;try{for(var ft=De(St),nr=ft.next();!nr.done;nr=ft.next()){var mn=nr.value;ce.onUserJoined&&ce.onUserJoined(Ut,mn)}}catch(Ar){vt={error:Ar}}finally{try{nr&&!nr.done&&(ot=ft.return)&&ot.call(ft)}finally{if(vt)throw vt.error}}Ut.isBroadcast&&bt&&ce.onChannelMemberCountChanged&&ce.onChannelMemberCountChanged([Ut])})),[2]}))}))})),[3,85];case 49:return(ua=this._leftChannels.get(Dt.channelUrl))?(Ki=ua.channel,[3,52]):[3,50];case 50:return[4,this.getChannel(Dt.channelUrl,!0)];case 51:Ki=ut.sent(),ut.label=52;case 52:return kt=Ki,la=e.as(iq),Wt=la.memberCount,hn=la.joinedMemberCount,bi=la.member,Ys=!1,Ss=j.of(this._iid),ui=Ss.appInfo,Nr=Ss.requestDeduplicator,kt.isExclusive||kt.isSuper||kt.isBroadcast?Ys=kt._setLatestMemberCount(Wt,hn,Dt.ts):(ui?.enabledChannelMemberShipHistory?((Yi=kt.members.find((function(Ce){return Ce.userId===bi.userId})))&&(Yi.state=Lr.LEFT),kt.memberCount=Wt):kt.removeMember(bi),this._updateJoinedMemberCount(kt)),bi.userId===this._sdkState.userId?(kt.myMemberState=Lr.NONE,kt.invitedAt=0,kt.joinedAt=0,kt._updateUnreadCount(0,0),kt.isPublic?this._dispatcher.dispatch(new Rt({channels:[kt],context:{source:ve.EVENT_CHANNEL_LEFT,user:bi}})):(this._markAsLeave(kt),this._dispatcher.dispatch(new Sc({channelUrls:[kt.url],context:{source:ve.EVENT_CHANNEL_LEFT,user:bi}})))):this._dispatcher.dispatch(new Rt({channels:[kt],context:{source:ve.EVENT_CHANNEL_LEFT,user:bi}})),Nr.updatePendingResponse(kt,Date.now()),kt.isSuper&&this._upsertCachedUserInfo(bi,Dt.ts),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onUserLeft&&ce.onUserLeft(kt,bi),kt.isBroadcast&&Ys&&ce.onChannelMemberCountChanged&&ce.onChannelMemberCountChanged([kt])})),[2]}))}))})),[3,85];case 53:return[4,this.getChannel(Dt.channelUrl,!0)];case 54:rt=ut.sent(),yt=e.as(hL).operators,at=yt.map((function(Ce){return Ce.userId}));try{for(Nt=De(rt.members),mt=Nt.next();!mt.done;mt=Nt.next())(jr=mt.value).role=at.includes(jr.userId)?Jo.OPERATOR:Jo.NONE}catch(Ce){Wi={error:Ce}}finally{try{mt&&!mt.done&&(Mh=Nt.return)&&Mh.call(Nt)}finally{if(Wi)throw Wi.error}}return rt.myRole=at.includes(this._sdkState.userId)?Jo.OPERATOR:Jo.NONE,(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(rt,Date.now()),this._dispatcher.dispatch(new Rt({channels:[rt],context:{source:ve.EVENT_CHANNEL_OPERATOR_UPDATED,operators:yt}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onOperatorUpdated&&ce.onOperatorUpdated(rt,yt)})),[2]}))}))})),[3,85];case 55:return[4,this.getChannel(Dt.channelUrl,!0)];case 56:qt=ut.sent(),Tn=e.as(oq),Wt=Tn.memberCount,hn=Tn.joinedMemberCount,Br=Tn.inviter,(Gr=Tn.invitees).forEach((function(Ce){return Ce.state=Lr.INVITED}));try{for(br=De(Gr),nt=br.next();!nt.done;nt=br.next())ae=nt.value,qt.isExclusive||qt.isSuper||qt.isBroadcast?(qt.isSuper&&this._userInfoCache.upsert(ae,Dt.ts),qt._setLatestMemberCount(Wt,hn,Dt.ts)):qt.addMember(ae,Dt.ts),this._sdkState.userId===ae.userId&&(qt.hiddenState=Eo.UNHIDDEN,qt.myMemberState!==Lr.JOINED&&(qt.myMemberState=Lr.INVITED),qt.invitedAt=Dt.ts)}catch(Ce){nd={error:Ce}}finally{try{nt&&!nt.done&&(ec=br.return)&&ec.call(br)}finally{if(nd)throw nd.error}}return(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(qt,Date.now()),this._dispatcher.dispatch(new Rt({channels:[qt],context:{source:ve.EVENT_CHANNEL_INVITED,inviter:Br,invitees:Gr}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onUserReceivedInvitation&&ce.onUserReceivedInvitation(qt,Br,Gr)})),[2]}))}))})),[3,85];case 57:return[4,this.getChannel(Dt.channelUrl,!0)];case 58:return He=ut.sent(),Xe=e.as(uq),Wt=Xe.memberCount,hn=Xe.joinedMemberCount,Ft=Xe.inviter,fr=Xe.invitee,He.isExclusive||He.isSuper||He.isBroadcast?(He.isSuper&&this._userInfoCache.upsert(fr,Dt.ts),He._setLatestMemberCount(Wt,hn,Dt.ts)):He.removeMember(fr),this._sdkState.userId===fr.userId?(He.invitedAt=0,He.myMemberState=Lr.NONE,He.isPublic?this._dispatcher.dispatch(new Rt({channels:[He],context:{source:ve.EVENT_CHANNEL_DECLINED_INVITE,inviter:Ft,invitee:fr}})):this._dispatcher.dispatch(new Sc({channelUrls:[He.url],context:{source:ve.EVENT_CHANNEL_DECLINED_INVITE,inviter:Ft,invitee:fr}}))):this._dispatcher.dispatch(new Rt({channels:[He],context:{source:ve.EVENT_CHANNEL_DECLINED_INVITE,inviter:Ft,invitee:fr}})),(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(He,Date.now()),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onUserDeclinedInvitation&&ce.onUserDeclinedInvitation(He,Ft,fr)})),[2]}))}))})),[3,85];case 59:return[4,this.getChannel(Dt.channelUrl,!0)];case 60:return Or=ut.sent(),Rr=Dt.category===gn.TYPING_START,Ti=e.as(Rr?pq:vq).user,Or._updateTypingStatus(Ti,Rr?Dt.ts:0),(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(Or,Date.now()),this._dispatcher.dispatch(new Rt({channels:[Or],context:{source:ve.EVENT_CHANNEL_TYPING_STATUS_UPDATE}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onTypingStatusUpdated&&ce.onTypingStatusUpdated(Or)})),[2]}))}))})),[3,85];case 61:return[4,this.getChannel(Dt.channelUrl,!0)];case 62:tr=ut.sent(),Ns=Dt.category===gn.USER_CHANNEL_MUTE,(Ya=e.as(Ns?jx:$x).user).userId===this._sdkState.userId&&(tr.myMutedState=Ns?Wo.MUTED:Wo.UNMUTED,tr._myMutedRemainingTime=Ya.restrictionInfo.remainingDuration);try{for(Yu=De(tr.members),Ws=Yu.next();!Ws.done;Ws=Yu.next())if((jr=Ws.value).userId===Ya.userId){jr.isMuted=Ns;break}}catch(Ce){rd={error:Ce}}finally{try{Ws&&!Ws.done&&(Oh=Yu.return)&&Oh.call(Yu)}finally{if(rd)throw rd.error}}return tr.isSuper&&this._userInfoCache.upsert(Ya,Dt.ts),(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(tr,Date.now()),this._dispatcher.dispatch(new Rt({channels:[tr],context:{source:Ns?ve.EVENT_CHANNEL_MUTED:ve.EVENT_CHANNEL_UNMUTED,user:Ya}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){Ns?ce.onUserMuted&&ce.onUserMuted(tr,Ya):ce.onUserUnmuted&&ce.onUserUnmuted(tr,Ya)})),[2]}))}))})),[3,85];case 63:return(ua=this._leftChannels.get(Dt.channelUrl))?(Jl=ua.channel,[3,66]):[3,64];case 64:return[4,this.getChannel(Dt.channelUrl,!0)];case 65:Jl=ut.sent(),ut.label=66;case 66:return Ci=Jl,this._markAsLeave(Ci),Wu=e.as(Kx).user,Mo=Wu.userId===this._sdkState.userId,Ci.isSuper&&this._userInfoCache.upsert(Wu,Dt.ts),Mo&&this._dispatcher.dispatch(new Sc({channelUrls:[Ci.url],context:{source:ve.EVENT_CHANNEL_BANNED,user:Wu}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onUserBanned&&ce.onUserBanned(Ci,Wu)})),[2]}))}))})),[3,85];case 67:return[4,this.getChannel(Dt.channelUrl,!0)];case 68:return ll=ut.sent(),Qs=e.as(Yx).user,Mo=Qs.userId===this._sdkState.userId,ll.isSuper&&this._userInfoCache.upsert(Qs,Dt.ts),Mo&&this._dispatcher.dispatch(new Sc({channelUrls:[ll.url],context:{source:ve.EVENT_CHANNEL_UNBANNED,user:Qs}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onUserUnbanned&&ce.onUserUnbanned(ll,Qs)})),[2]}))}))})),[3,85];case 69:return[4,this.getChannel(Dt.channelUrl,!0)];case 70:return eu=ut.sent(),Di=e.as(Wx).freeze,eu.isFrozen=Di,(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(eu,Date.now()),this._dispatcher.dispatch(new Rt({channels:[eu],context:{source:Di?ve.EVENT_CHANNEL_FROZEN:ve.EVENT_CHANNEL_UNFROZEN}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){Di?ce.onChannelFrozen&&ce.onChannelFrozen(eu):ce.onChannelUnfrozen&&ce.onChannelUnfrozen(eu)})),[2]}))}))})),[3,85];case 71:return[4,this.getChannel(Dt.channelUrl,!0)];case 72:return As=ut.sent(),ul=e.as(hq),Qu=ul.allowAutoUnhide,Xs=ul.hidePreviousMessages,tu=ul.messageOffsetTimestamp,Qu!==null&&(As.hiddenState=Qu?Eo.HIDDEN_ALLOW_AUTO_UNHIDE:Eo.HIDDEN_PREVENT_AUTO_UNHIDE),Xs!==null&&Xs&&As._updateUnreadCount(0,0),tu!==null&&(As.messageOffsetTimestamp=tu),(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(As,Date.now()),this._dispatcher.dispatch(new Rt({channels:[As],context:{source:ve.EVENT_CHANNEL_HIDDEN}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onChannelHidden&&ce.onChannelHidden(As)})),[2]}))}))})),[3,85];case 73:return[4,this.getChannel(Dt.channelUrl,!0)];case 74:return(cl=ut.sent()).hiddenState=Eo.UNHIDDEN,(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(cl,Date.now()),this._dispatcher.dispatch(new Rt({channels:[cl],context:{source:ve.EVENT_CHANNEL_UNHIDDEN}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onChannelChanged&&ce.onChannelChanged(cl)})),[2]}))}))})),[3,85];case 75:return this._dispatcher.dispatch(new Sc({channelUrls:[Dt.channelUrl],context:{source:ve.EVENT_CHANNEL_DELETED}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onChannelDeleted&&ce.onChannelDeleted(Dt.channelUrl,Lt.GROUP)})),[2]}))}))})),[3,85];case 76:return[4,Ea(50)];case 77:return ut.sent(),[4,this.getChannelWithoutCache(Dt.channelUrl,!0,!1)];case 78:return ca=ut.sent(),this._dispatcher.dispatch(new Rt({channels:[ca],context:{source:ve.EVENT_CHANNEL_UPDATED}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onChannelChanged&&ce.onChannelChanged(ca)})),[2]}))}))})),[3,85];case 79:return[4,this.getChannel(Dt.channelUrl,!0)];case 80:return Ia=ut.sent(),nu=e.as(Vx),Oo=nu.created,ws=nu.updated,Ro=nu.deleted,Oo&&(Ia._upsertCachedMetaData(Oo,Dt.ts),this._dispatcher.dispatch(new Rt({channels:[Ia],context:{source:ve.EVENT_CHANNEL_METADATA_CREATED,metaData:Oo},ts:Dt.ts}))),ws&&(Ia._upsertCachedMetaData(ws,Dt.ts),this._dispatcher.dispatch(new Rt({channels:[Ia],context:{source:ve.EVENT_CHANNEL_METADATA_UPDATED,metaData:ws},ts:Dt.ts}))),Ro&&(Ia._removeFromCachedMetaData(Ro,Dt.ts),this._dispatcher.dispatch(new Rt({channels:[Ia],context:{source:ve.EVENT_CHANNEL_METADATA_DELETED,metaDataKeys:Ro},ts:Dt.ts}))),(Oo||ws||Ro)&&(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(Ia,Date.now()),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){Oo&&ce.onMetaDataCreated&&ce.onMetaDataCreated(Ia,Oo),ws&&ce.onMetaDataUpdated&&ce.onMetaDataUpdated(Ia,ws),Ro&&ce.onMetaDataDeleted&&ce.onMetaDataDeleted(Ia,Ro)})),[2]}))}))})),[3,85];case 81:return[4,this.getChannel(Dt.channelUrl,!0)];case 82:return Do=ut.sent(),xo=e.as(qx),da=xo.created,dl=xo.updated,hl=xo.deleted,da&&this._dispatcher.dispatch(new Rt({channels:[Do],context:{source:ve.EVENT_CHANNEL_METACOUNTER_CREATED,metaCounters:da}})),dl&&this._dispatcher.dispatch(new Rt({channels:[Do],context:{source:ve.EVENT_CHANNEL_METACOUNTER_UPDATED,metaCounters:dl}})),hl&&this._dispatcher.dispatch(new Rt({channels:[Do],context:{source:ve.EVENT_CHANNEL_METACOUNTER_DELETED,metaCounterKeys:hl}})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){da&&ce.onMetaCounterCreated&&ce.onMetaCounterCreated(Do,da),dl&&ce.onMetaCounterUpdated&&ce.onMetaCounterUpdated(Do,dl),hl&&ce.onMetaCounterDeleted&&ce.onMetaCounterDeleted(Do,hl)})),[2]}))}))})),[3,85];case 83:return[4,this.getChannel(Dt.channelUrl,!0)];case 84:return Fi=ut.sent(),Zs=e.as(fL),ed=Zs.pinnedMessageIds,td=Zs.latestPinnedMessage,(Ah=Zs.ts)>Fi._pinnedMessagesUpdatedAt&&(Fi.pinnedMessageIds=ed??[],Fi.lastPinnedMessage=td,Fi._pinnedMessagesUpdatedAt=Ah,(Nr=j.of(this._iid).requestDeduplicator).updatePendingResponse(Fi,Date.now()),this._dispatcher.dispatch(new Rt({channels:[Fi],context:{source:ve.EVENT_PINNED_MESSAGE_UPDATED}})),Qe((function(){return A(pn,void 0,void 0,(function(){var Ce,ce,vt,ot,ft;return N(this,(function(nr){try{for(Ce=De(this._groupChannelHandlers.values()),ce=Ce.next();!ce.done;ce=Ce.next())(vt=ce.value).onChannelChanged&&vt.onChannelChanged(Fi)}catch(mn){ot={error:mn}}finally{try{ce&&!ce.done&&(ft=Ce.return)&&ft.call(Ce)}finally{if(ot)throw ot.error}}return[2]}))}))})),Qe((function(){return A(pn,void 0,void 0,(function(){return N(this,(function(Ce){return this._groupChannelHandlers.forEach((function(ce){ce.onPinnedMessageUpdated&&ce.onPinnedMessageUpdated(Fi)})),[2]}))}))}))),[3,85];case 85:return[3,87];case 86:switch((Wa=e.as(cL).event).category){case D0.USER_BLOCK:Xu=N1.getDataAsUserBlockEvent(this._iid,Wa),Qa=Xu.blocker,ru=Xu.blockee,this._groupChannelCache.block(Qa.userId,ru.userId);break;case D0.USER_UNBLOCK:fl=N1.getDataAsUserBlockEvent(this._iid,Wa),Qa=fl.blocker,ru=fl.blockee,this._groupChannelCache.unblock(Qa.userId,ru.userId)}return[3,87];case 87:return[3,89];case 88:if(Vn=ut.sent(),Ca(Vn))throw Vn;return[3,89];case 89:return[2]}}))}))},n.prototype._markAsLeave=function(e){var r,i=this,a=(r=this._leftChannels.get(e.url))!==null&&r!==void 0?r:{channel:e,ref:0};a.ref++,this._leftChannels.set(e.url,a),setTimeout((function(){a.ref--,a.ref===0&&i._leftChannels.delete(e.url)}),1e4)},n.prototype.addHandler=function(e,r){this._groupChannelHandlers.set(e,r)},n.prototype.removeHandler=function(e){this._groupChannelHandlers.delete(e)},n.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},n.prototype.subscribeChannelEvent=function(e,r){this._groupChannelBroadcast.subscribe(e,r)},n.prototype.unsubscribeChannelEvent=function(e){this._groupChannelBroadcast.unsubscribe(e)},n.prototype._updateJoinedMemberCount=function(e){e.joinedMemberCount=e.members.filter((function(r){return r.state===Lr.JOINED})).length},n.prototype.getChannel=function(e,r){return r===void 0&&(r=!1),A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:Ne(W("string",e)).throw(Z.invalidParameters),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.getChannelFromCache(e)];case 2:return(i=a.sent())?[2,i]:[3,4];case 3:return a.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(e,r)];case 5:return[2,a.sent()]}}))}))},n.prototype.getChannelWithoutCache=function(e,r,i){return r===void 0&&(r=!1),i===void 0&&(i=!0),A(this,void 0,void 0,(function(){var a,s,l,c,d,f,v,g,y,b,C,w,I,M=this;return N(this,(function(R){switch(R.label){case 0:return Ne(W("string",e)).throw(Z.invalidParameters),a=j.of(this._iid).requestDeduplicator,s=new kS({channelUrl:e,isInternalCall:r}),[4,a.requestGetChannel(s.path,(function(){return M._requestQueue.send(s)}),s.params,i)];case 1:switch(l=R.sent(),c=l.as(PS).channel,d=c.unreadMessageCount,f=c.unreadMentionCount,c.myCountPreference){case yo.UNREAD_MESSAGE_COUNT_ONLY:f=0;break;case yo.UNREAD_MENTION_COUNT_ONLY:d=0;break;case yo.OFF:d=0,f=0}c._updateUnreadCount(d,f),v=this._groupChannelCache.filterOffsetChanged([c]),R.label=2;case 2:R.trys.push([2,7,8,9]),g=De(v),y=g.next(),R.label=3;case 3:return y.done?[3,6]:(b=y.value,[4,this._messageCache.removeUnderOffset(b.url,b.messageOffsetTimestamp)]);case 4:R.sent(),R.label=5;case 5:return y=g.next(),[3,3];case 6:return[3,9];case 7:return C=R.sent(),w={error:C},[3,9];case 8:try{y&&!y.done&&(I=g.return)&&I.call(g)}finally{if(w)throw w.error}return[7];case 9:return[4,this._groupChannelCache.upsert([c])];case 10:return[2,R.sent()[0]]}}))}))},n.prototype.refreshChannel=function(e,r,i,a){return r===void 0&&(r=!0),i===void 0&&(i=ve.REFRESH_CHANNEL),a===void 0&&(a=!1),A(this,void 0,void 0,(function(){var s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:return y.trys.push([0,5,,6]),s=j.of(this._iid).requestDeduplicator,l=new kS({channelUrl:e,isInternalCall:r,showLatestMessage:a}),[4,s.requestGetChannel(l.path,(function(){return g._requestQueue.send(l)}),l.params)];case 1:return c=y.sent(),(d=c.as(PS).channel).myMemberState!==Lr.NONE?[3,2]:(this._dispatcher.dispatch(new Sc({channelUrls:[d.url],context:{source:i}})),[3,4]);case 2:return[4,this.upsertChannelsToCache([d])];case 3:f=y.sent(),this._dispatcher.dispatch(new Rt({channels:f,context:{source:i}})),y.label=4;case 4:return[3,6];case 5:return(v=y.sent()).code!==je.NON_AUTHORIZED&&v.code!==je.NOT_FOUND_IN_DATABASE||this._dispatcher.dispatch(new Sc({channelUrls:[e],context:{source:i}})),[3,6];case 6:return[2]}}))}))},n.prototype.getMyGroupChannels=function(e,r,i,a,s){return a===void 0&&(a=ve.REQUEST_CHANNEL),s===void 0&&(s=!1),A(this,void 0,void 0,(function(){var l,c,d,f,v,g,y,b,C;return N(this,(function(w){switch(w.label){case 0:return r.createdAfter&&(r.createdAfter=Math.floor(r.createdAfter/1e3)),r.createdBefore&&(r.createdBefore=Math.floor(r.createdBefore/1e3)),l=!1,s&&(c=j.of(this._iid),d=c.appInfo,(f=c.cacheContext)&&!f.localCacheEnabled&&d?.enabledChannelMemberShipHistory&&d?.applicationAttributes.includes("left_user_view_support")&&(l=!0)),v=new HV(q(q({},r),{userId:this._sdkState.userId,token:e,limit:i,includeLeftChannel:s&&l})),[4,this._requestQueue.send(v)];case 1:return g=w.sent(),y=g.as(BV),b=y.channels,C=y.token,this._dispatcher.dispatch(new Rt({channels:b,context:{source:a}})),[2,{channels:b,token:C}]}}))}))},n.prototype.getMyGroupChannelChangeLogs=function(e,r,i){return i===void 0&&(i=ve.REQUEST_CHANNEL_CHANGELOGS),A(this,void 0,void 0,(function(){var a,s,l,c,d,f,v,g;return N(this,(function(y){switch(y.label){case 0:return a=q(q({},w1),r),Ne((W("string",e)||W("number",e))&&US(a)).throw(Z.invalidParameters),s=new PV(We({userId:this._sdkState.userId,ts:typeof e=="number"?e:null,token:typeof e=="string"?e:null,filter:a})),[4,this._requestQueue.send(s)];case 1:return l=y.sent(),c=l.as(FV),d=c.updatedChannels,f=c.deletedChannelUrls,v=c.hasMore,g=c.ts,d.length>0&&this._dispatcher.dispatch(new Rt({channels:d,context:{source:i},ts:g})),f.length>0&&this._dispatcher.dispatch(new Sc({channelUrls:f,context:{source:i}})),[2,{updatedChannels:d,deletedChannelUrls:f,hasMore:v,token:c.token}]}}))}))},n.prototype.getGroupChannelCount=function(e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return r=q(q({},CL),e),Ne(SL(r)).throw(Z.invalidParameters),i=new GV({userId:this._sdkState.userId,filter:r}),[4,this._requestQueue.send(i)];case 1:return a=s.sent(),[2,a.as(zV).groupChannelCount]}}))}))},n.prototype.getUnreadItemCount=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M;return N(this,(function(R){switch(R.label){case 0:return r=q(q({},DV),e),Ne((function(U){return It(gr,U.keys)&&It("string",U.customTypeFilters,!0)&&It("string",U.customTypesFilter,!0)})(r)).throw(Z.invalidParameters),i=j.of(this._iid),a=i.sdkState,s=i.requestQueue,l=new VV({userId:a.userId,filter:r}),[4,s.send(l)];case 1:return c=R.sent(),d=c.as(qV),f=d.groupChannelUnreadMentionCount,v=d.groupChannelUnreadMessageCount,g=d.groupChannelInvitationCount,y=d.superGroupChannelUnreadMentionCount,b=d.superGroupChannelUnreadMessageCount,C=d.superGroupChannelInvitationCount,w=d.nonSuperGroupChannelUnreadMentionCount,I=d.nonSuperGroupChannelUnreadMessageCount,M=d.nonSuperGroupChannelInvitationCount,[2,Pe({groupChannelUnreadMentionCount:f,groupChannelUnreadMessageCount:v,groupChannelInvitationCount:g,superGroupChannelUnreadMentionCount:y,superGroupChannelUnreadMessageCount:b,superGroupChannelInvitationCount:C,nonSuperGroupChannelUnreadMentionCount:w,nonSuperGroupChannelUnreadMessageCount:I,nonSuperGroupChannelInvitationCount:M})]}}))}))},n.prototype.getTotalUnreadChannelCount=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new jV({userId:r.userId}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as($V).unreadCount]}}))}))},n.prototype.getTotalUnreadMessageCount=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return r=q(q({},xV),e),Ne(LV(r)).throw(Z.invalidParameters),i=j.of(this._iid),a=i.sdkState,s=i.requestQueue,l=new KV({userId:a.userId,filter:r}),[4,s.send(l)];case 1:return c=d.sent(),[2,c.as(YV).unreadCount]}}))}))},n.prototype.getTotalScheduledMessageCount=function(e){return e===void 0&&(e={}),A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return r=q(q({},UV),e),Ne((function(c){return W("string",c.channelUrl,!0)&&It(dh,c.scheduledStatus,!0)&&wt(na,c.messageTypeFilter)})(r)).throw(Z.invalidParameters),i=j.of(this._iid).requestQueue,a=new WV(r),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(QV).count]}}))}))},n.prototype.getSubscribedTotalUnreadMessageCount=function(){var e=j.of(this._iid).subscribedUnreadMessageCount;return e.all>=0?e.all:0},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var e=0,r=j.of(this._iid).subscribedUnreadMessageCount;return Object.keys(r.customTypes).forEach((function(i){e+=r.customTypes[i]})),e},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){var r;return(r=j.of(this._iid).subscribedUnreadMessageCount.customTypes[e])!==null&&r!==void 0?r:0},n.prototype.createChannel=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return r=q(q({},Kb),e),Ne(LS(r)).throw(Z.invalidParameters),r.isPublic||(r.accessCode=void 0),i=new ZV(q({userId:this._sdkState.userId},r)),[4,this._requestQueue.send(i)];case 1:return a=l.sent(),s=a.as(JV).channel,[4,this.upsertChannelsToCache([s])];case 2:return l.sent(),[2,s]}}))}))},n.prototype.markAsReadAll=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return e=Date.now(),Ne(e-this._markAsReadAllLastSentAt>=1e3).throw(Z.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=e,r=new LM({userId:this._sdkState.userId}),[4,this._requestQueue.send(r)];case 1:f.sent(),i=this._groupChannelCache.channels;try{for(a=De(i),s=a.next();!s.done;s=a.next())(l=s.value)._updateUnreadMemberState(this._sdkState.userId,e),l._updateUnreadCount(0,0)}catch(v){c={error:v}}finally{try{s&&!s.done&&(d=a.return)&&d.call(a)}finally{if(c)throw c.error}}return i.length>0?[4,this.upsertChannelsToCache(i)]:[3,3];case 2:f.sent(),f.label=3;case 3:return[2]}}))}))},n.prototype.markAsReadWithChannelUrls=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:return r=Date.now(),Ne(It("string",e)&&r-this._markAsReadAllLastSentAt>=1e3).throw(Z.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=r,i=new LM({userId:this._sdkState.userId,channelUrls:e}),[4,this._requestQueue.send(i)];case 1:g.sent(),a=this._groupChannelCache.channels,s=[];try{for(l=De(a),c=l.next();!c.done;c=l.next())d=c.value,e.includes(d.url)&&(d._updateUnreadMemberState(this._sdkState.userId,r),d._updateUnreadCount(0,0),s.push(d))}catch(y){f={error:y}}finally{try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(f)throw f.error}}return s.length>0?[4,this.upsertChannelsToCache(s)]:[3,3];case 2:g.sent(),g.label=3;case 3:return[2]}}))}))},n.prototype.markAsDelivered=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this.getChannel(e)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}}))}))},n.prototype.getMessageFromCache=function(e){var r;return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return[4,this._messageCache.get(e)];case 1:return[2,(r=i.sent())!==null&&r!==void 0?r:null]}}))}))},n.prototype.getExactlyMatchingMessagesForTokenFromCache=function(e,r,i){return A(this,void 0,void 0,(function(){return N(this,(function(a){switch(a.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:r,filter:i,exactMatch:!0})];case 1:return[2,a.sent()]}}))}))},n.prototype.getMessagesFromCache=function(e,r,i,a,s,l){return s===void 0&&(s=Jx),l===void 0&&(l=!0),A(this,void 0,void 0,(function(){return N(this,(function(c){switch(c.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:r,limit:s,filter:a,backward:i==="next",inclusive:l})];case 1:return[2,c.sent()]}}))}))},n.prototype.getPollMessagesFromCache=function(e,r,i,a){return A(this,void 0,void 0,(function(){return N(this,(function(s){switch(s.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:r,limit:a,filter:i,backward:!1,isPollOnly:!0})];case 1:return[2,s.sent()]}}))}))},n.prototype.getCachedMessageCountBetween=function(e,r,i,a){return A(this,void 0,void 0,(function(){return N(this,(function(s){switch(s.label){case 0:return[4,this._messageCache.countBetween(e,r,new jl({top:i,bottom:a}))];case 1:return[2,s.sent()]}}))}))},n.prototype.getUnsentMessagesFromCache=function(e,r){return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:e,filter:r})];case 1:return[2,i.sent()]}}))}))},n.prototype.removeFailedMessageFromCache=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.remove([e])];case 1:return r.sent(),[2]}}))}))},n})(pL),vo=function(t,n){return n instanceof Ur?t.findIndex((function(e){return e instanceof Ur&&n.isIdentical(e)})):t.findIndex((function(e){return e.isIdentical(n)}))},Mg=function(t,n){return t.findIndex((function(e){return e instanceof ba?e.messageId===n:e instanceof bp?e.notificationId===n:void 0}))},mC=function(t,n){if(t.length>0){for(var e=0,r=t.length-1,i=Math.floor((e+r)/2);e<r;){var a=t[i].createdAt-n.createdAt;if(a>0)r=i,i=Math.floor((e+r)/2);else{if(!(a<0))return i;e=i+1,i=Math.floor((e+r)/2)}}return t[i].createdAt>n.createdAt?i:i+1}return t.length},Pl={},Tq=(function(){function t(n){var e=n._iid,r=n.channel,i=n.includeParams,a=this;this.ref=0,this._iid=e,this._channel=r,this._includeParams=i;var s,l,c=j.of(this._iid),d=c.logger,f=c.sdkState,v=c.dispatcher;this._metadataKey=(s=f.userId,l=r.url,"sendbird:".concat(s,"@groupchannel/").concat(l,"/message/changelogs.meta"));var g=(function(y,b){return"sendbird:".concat(y,"@groupchannel/").concat(b,"/message/changelogs")})(f.userId,this._channel.url);this._sync=new Vc(g,(function(){return A(a,void 0,void 0,(function(){var y,b,C,w,I,M,R,U,H;return N(this,(function(P){switch(P.label){case 0:return y={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:P.sent(),d.debug("message changelog sync from",(H=this._metadata)===null||H===void 0?void 0:H.token),P.label=2;case 2:return P.trys.push([2,5,,8]),[4,_i.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,q({replyType:ra.ALL},this._includeParams),ve.SYNC_MESSAGE_CHANGELOGS)];case 3:return b=P.sent(),C=b.updatedMessages,w=b.deletedMessageIds,I=b.hasMore,M=b.token,R=b.forceUseNextToken,y.hasNext=I,y.nextToken=M,C.length>0||w.length>0?this._metadata&&(this._metadata.token=M):R&&this._metadata&&(this._metadata.token=M),d.debug("message changelog sync progress",y),[4,this.saveMetadata()];case 4:return P.sent(),[3,8];case 5:return U=P.sent(),d.debug("message changelog sync error",U),U instanceof Z&&U.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:P.sent(),P.label=7;case 7:throw U;case 8:return[2,y]}}))}))})),this._connectionEventContext=v.on((function(y){y instanceof $s&&(y.stateType===nn.CONNECTED?a.resume():a.pause())}))}return t.of=function(n,e,r){return Pl[n]||(Pl[n]={}),Pl[n][e.url]||(Pl[n][e.url]=new t({_iid:n,channel:e,includeParams:r})),Pl[n][e.url].ref++,Pl[n][e.url]},t.clear=function(n,e){Pl[n]&&Pl[n][e]&&(Pl[n][e].close(),delete Pl[n])},t.prototype.loadMetadata=function(){return A(this,void 0,void 0,(function(){var n,e,r,i;return N(this,(function(a){switch(a.label){case 0:return this._metadata?[3,2]:(n=j.of(this._iid),e=n.cacheContext,r=n.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:i=a.sent(),this._metadata={token:i?i.token:r},a.label=2;case 2:return[2,this._metadata]}}))}))},t.prototype.saveMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return this._metadata?[4,j.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return n.sent(),[2,!0];case 2:return[2,!1]}}))}))},t.prototype.clearMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,j.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),this._metadata=void 0,[2]}}))}))},t.prototype.resume=function(){var n=j.of(this._iid),e=n.logger;n.sessionManager.session.hasSession&&(e.debug("message changelog sync resume()"),this._sync.start(0))},t.prototype.pause=function(){j.of(this._iid).logger.debug("message changelog sync pause()"),this._sync.stop()},t.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Pl[this._iid][this._channel.url])},t})(),Hf={},Cq=(function(){function t(n){var e=n._iid,r=n.channel,i=n.hasPollMessage,a=this;this.ref=0,this._iid=e,this._channel=r;var s,l,c=j.of(this._iid),d=c.logger,f=c.sdkState,v=c.dispatcher;this._metadataKey=(s=f.userId,l=r.url,"sendbird:".concat(s,"@groupchannel/").concat(l,"/poll/changelogs.meta"));var g=(function(y,b){return"sendbird:".concat(y,"@groupchannel/").concat(b,"/poll/changelogs")})(f.userId,this._channel.url);this._sync=new Vc(g,(function(){return A(a,void 0,void 0,(function(){var y,b,C,w,I,M,R,U;return N(this,(function(H){switch(H.label){case 0:return y={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return H.sent(),d.debug("poll changelog sync from",(U=this._metadata)===null||U===void 0?void 0:U.token),(b=!this._metadata||!this._metadata.token)?[4,i()]:[3,3];case 2:b=!H.sent(),H.label=3;case 3:if(b)return[2,{hasNext:!1,nextToken:0}];this._metadata||(C=j.of(this._iid).firstConnectedAt,this._metadata={token:C}),H.label=4;case 4:return H.trys.push([4,7,,10]),[4,_1.of(this._iid).getPollChangeLogs(this._channel.url,this._channel.channelType,this._metadata.token)];case 5:return w=H.sent(),I=w.hasMore,M=w.token,y.hasNext=I,y.nextToken=M,this._metadata.token=M,d.debug("poll changelog sync progress",y),[4,this.saveMetadata()];case 6:return H.sent(),[3,10];case 7:return R=H.sent(),d.debug("poll changelog sync error",R),R instanceof Z&&R.isInvalidTokenError?[4,this.clearMetadata()]:[3,9];case 8:H.sent(),H.label=9;case 9:throw R;case 10:return[2,y]}}))}))})),this._connectionEventContext=v.on((function(y){y instanceof $s&&(y.stateType===nn.CONNECTED?a.resume():a.pause())}))}return t.of=function(n,e,r){return Hf[n]||(Hf[n]={}),Hf[n][e.url]||(Hf[n][e.url]=new t({_iid:n,channel:e,hasPollMessage:r})),Hf[n][e.url].ref++,Hf[n][e.url]},t.prototype.loadMetadata=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,j.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=e.sent(),this._metadata=n?{token:n.token}:void 0,e.label=2;case 2:return[2]}}))}))},t.prototype.saveMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return this._metadata?[4,j.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.clearMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,j.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),this._metadata=void 0,[2]}}))}))},t.prototype.resume=function(){j.of(this._iid).logger.debug("poll changelog sync resume()"),this._sync.start(0)},t.prototype.pause=function(){j.of(this._iid).logger.debug("poll changelog sync pause()"),this._sync.stop()},t.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Hf[this._iid][this._channel.url])},t})(),Sq=(function(t){function n(e){var r,i,a,s,l,c,d,f,v,g,y=this;return(y=t.call(this)||this).method=Ee.GET,y.path="".concat(Jt(e.channelType),"/").concat(e.channelUrl,"/messages_gap"),y.params=Pe({prev_start_ts:e.prevStart,prev_end_ts:e.prevEnd,prev_cache_count:e.prevCount,next_start_ts:e.nextStart,next_end_ts:e.nextEnd,next_cache_count:e.nextCount,huge_gap_threshold:(r=e.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(i=e.customTypes)!==null&&i!==void 0?i:["*"],message_type:(a=e.messageType)!==null&&a!==void 0?a:null,include_reply_type:(s=e.replyType)!==null&&s!==void 0?s:ra.NONE,include_reactions_summary:(l=e.includeReactions)===null||l===void 0||l,include_meta_array:(c=e.includeMetaArray)===null||c===void 0||c,include_thread_info:(d=e.includeThreadInfo)===null||d===void 0||d,include_parent_message_info:(f=e.includeParentMessageInfo)===null||f===void 0||f,with_sorted_meta_array:(v=e.includeMetaArray)===null||v===void 0||v,show_subchannel_messages_only:(g=e.showSubchannelMessagesOnly)!==null&&g!==void 0&&g,include_poll_details:!0,checking_continuous_messages:e.checkingContinuousMessages}),y}return k(n,t),n})(be),Nq=(function(t){function n(e,r){var i,a,s,l,c,d,f=this;return(f=t.call(this,e,r)||this).isHugeGap=r.is_huge_gap,f.prevMessages=((i=r.prev_messages)!==null&&i!==void 0?i:[]).map((function(v){return sa(e,v)})),f.prevHasMore=(a=r.prev_hasmore)!==null&&a!==void 0&&a,f.isContinuousPrevMessages=(s=r.is_continuous_prev_messages)!==null&&s!==void 0&&s,f.nextMessages=((l=r.next_messages)!==null&&l!==void 0?l:[]).map((function(v){return sa(e,v)})),f.nextHasmore=(c=r.next_hasmore)!==null&&c!==void 0&&c,f.isContinuousNextMessages=(d=r.is_continuous_next_messages)!==null&&d!==void 0&&d,f}return k(n,t),n})(we),UM={includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeParentMessageInfo:!0};(function(t){t.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(HS||(HS={}));var p0,m0,v0,Aq=(function(){function t(){this._onCacheResult=st,this._onApiResult=st}return t.prototype._invokeResponse=function(n,e,r){var i=this;Qe((function(){return A(i,void 0,void 0,(function(){return N(this,(function(a){switch(n){case"local":this._onCacheResult(e,r);break;case"remote":this._onApiResult(e,r)}return[2]}))}))}))},t.prototype.onCacheResult=function(n){return this._onCacheResult=n,this},t.prototype.onApiResult=function(n){return this._onApiResult=n,this},t})(),wq=(function(){function t(n,e){var r=e.filter,i=e.startingPoint,a=e.limit,s=e.prevResultLimit,l=e.nextResultLimit,c=e.channel,d=e.channelManager,f=e.disableBackgroundSync,v=f!==void 0&&f,g=this;this._messages=[],this._unsentMessages=[],this._isLoadingPrevious=!1,this._isLoadingNext=!1,this._iid=n,this._key="mc-".concat(wo()),this._isDisposed=!1,this.filter=r??new Eh,this._channel=c,this._syncRange=new jl({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=typeof i=="number"&&Number.isFinite(i)?i:Number.MAX_SAFE_INTEGER,this._limit=a||Jx,this._prevResultLimit=s??Math.floor(this._limit/2),this._nextResultLimit=l??Math.floor(this._limit/2),this._channelManager=d;var y=j.of(this._iid).statManager;this._channelManager.subscribeChannelEvent(this._key,{onUpdate:function(M,R){var U=R.source,H=M.findIndex((function(P){return P.isIdentical(g.channel)}));H>=0&&(g._replaceChannelOfCollection(M[H]),g.channel._runIfHandleableWithGroupChannel((function(P){switch(U){case ve.EVENT_CHANNEL_UPDATED:for(var G=!1,Y=0;Y<g._messages.length;Y++)if(g._messages[Y].createdAt>=P.messageOffsetTimestamp){G=!0;var F=Y;if(F>0){var te=g._messages.splice(0,F);g._removeMessagesFromView(te.map((function(Oe){return g.keyOf(Oe)})),ve.EVENT_MESSAGE_OFFSET_UPDATED)}break}!G&&g._messages.length>0&&g._removeMessagesFromView(g._messages.map((function(Oe){return g.keyOf(Oe)})),ve.EVENT_MESSAGE_OFFSET_UPDATED);break;case ve.EVENT_CHANNEL_UNMUTED:var J=j.of(g._iid).sdkState,ne=R.user;J.userId===ne.userId&&g._clearCheckMyMutedTimer();break;case ve.EVENT_CHANNEL_MUTED:J=j.of(g._iid).sdkState,ne=R.user,J.userId===ne.userId&&P._myMutedRemainingTime!==-1&&g._startCheckMyMutedTimer(P._myMutedRemainingTime);break;case ve.EVENT_CHANNEL_LEFT:P.isPublic&&g._clearCheckMyMutedTimer()}Qe((function(){return A(g,void 0,void 0,(function(){var Oe;return N(this,(function(X){return Yb(U)&&(!((Oe=this._handler)===null||Oe===void 0)&&Oe.onChannelUpdated)&&this._handler.onChannelUpdated(R,this.channel),[2]}))}))}))})),g._postprocessChannelUpdateEvent(M[H],U))},onRemove:function(M,R){var U=M.indexOf(g.channel.url);U>=0&&g._channel._runIfHandleableWithGroupChannel((function(H){H.myMemberState=Lr.NONE,g._clearCheckMyMutedTimer(),Qe((function(){return A(g,void 0,void 0,(function(){var P;return N(this,(function(G){return!((P=this._handler)===null||P===void 0)&&P.onChannelDeleted&&this._handler.onChannelDeleted(R,this.channel.url),[2]}))}))})),g._postprocessChannelRemoveEvent(M[U])}))}}),this._channelManager.subscribeMessageEvent(this._key,{onUpdate:function(M,R){var U,H,P=[],G=[];try{for(var Y=De(M),F=Y.next();!F.done;F=Y.next()){var te=F.value;te.channelUrl===g._channel.url&&(g.filter.match(te)?P.push(te):G.push(g.keyOf(te)))}}catch(J){U={error:J}}finally{try{F&&!F.done&&(H=Y.return)&&H.call(Y)}finally{if(U)throw U.error}}if(wc(R)){if(P.length>0)switch(R){case ve.LOCAL_MESSAGE_CANCELED:case ve.LOCAL_MESSAGE_RESEND_STARTED:case ve.EVENT_MESSAGE_SENT_FAILED:case ve.EVENT_MESSAGE_SENT_SUCCESS:case ve.EVENT_MESSAGE_UPDATED:case ve.EVENT_MESSAGE_THREADINFO_UPDATED:case ve.EVENT_MESSAGE_REACTION_UPDATED:case ve.EVENT_MESSAGE_FEEDBACK_ADDED:case ve.EVENT_MESSAGE_FEEDBACK_UPDATED:case ve.EVENT_MESSAGE_FEEDBACK_DELETED:case ve.SYNC_MESSAGE_CHANGELOGS:g._updateMessagesToView(P,R);break;case ve.EVENT_MESSAGE_SENT_PENDING:g._addMessagesToView(P,R);break;case ve.EVENT_MESSAGE_RECEIVED:g.hasNext||g._addMessagesToView(P,R);break;case ve.SYNC_MESSAGE_FILL:g._addMessagesToView(P,R)}G.length>0&&g._removeMessagesFromView(G,R)}g._postprocessMessageUpdateEvent(M,R)},onRemove:function(M,R){g._removeMessagesFromView(M,R),g._postprocessMessageRemoveEvent(M)},onRemoveUnsent:function(M,R){g._removeUnsentMessageFromView(M,R)},onPollChangeLogUpdate:function(M,R){g._updatePollsToView(M,R)},onPollUpdate:function(M,R){g._applyPollUpdateEventToView(M,R)},onPollVote:function(M,R){g._applyPollVoteEventToView(M,R)},onReactionUpdate:function(M,R){g._applyReactionEventToView(M,R)},onThreadInfoUpdate:function(M,R){g._applyThreadInfoEventToView(M,R)},onDeletedByRetentionPolicy:function(M,R,U){R===g.channel.url&&g._messageRetention(M,U)}});var b=j.of(this._iid),C=b.cacheContext,w=b.dispatcher,I=b.messageBackgroundSyncThrottleController;this._channel._updateMessageCollectionLastAccessedAt(),w.dispatch(new Rt({channels:[this._channel],context:{source:ve.CHANNEL_LASTACCESSEDAT_UPDATED}})),this._backgroundSync=Eq.of(this._iid,this._channel),!v&&this._shouldStartBackgroundSync()&&this._backgroundSync.resume(this._startingPoint),this._changelogSync=Tq.of(this._iid,this._channel,this.changelogIncludeParams),this._changelogSync.resume(),this._pollChangelogSync=Cq.of(this._iid,this._channel,this._hasPollMessage.bind(this)),this._pollChangelogSync.resume(),this._prevFill=new Vc(this._key,(function(M){return A(g,void 0,void 0,(function(){var R=this;return N(this,(function(U){switch(U.label){case 0:return[4,I.run("message-fill-sync-".concat(c.url,"-prev"),(function(){return A(R,void 0,void 0,(function(){var H,P,G,Y,F,te,J;return N(this,(function(ne){switch(ne.label){case 0:return[4,this._getRemoteMessages(M,{prevLimit:this._prevResultLimit,source:ve.SYNC_MESSAGE_FILL,checkingContinuousMessages:C.localCacheEnabled,sdkSource:Ko.INTERNAL_FILL_GAP})];case 1:return H=ne.sent(),P=H.messages,G=H.isContinuousMessages,P.length>0?(Y=Math.min.apply(Math,et([],Ye(P.map((function(Oe){return Oe.createdAt}))),!1)),this._syncRange.extends(Y),G&&((F=this._backgroundSync)===null||F===void 0||F.range.extends(Y)),[2,{hasNext:P.length>=this._prevResultLimit&&this.viewTop<Y,nextToken:this._syncRange.top}]):(C.localCacheEnabled&&y.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,measured_on:"gap_check",event:"cache_fetch",max_db_size:(J=(te=C.localCacheConfig)===null||te===void 0?void 0:te.maxSize)!==null&&J!==void 0?J:0,use_local_cache:C.localCacheEnabled,starting_point:0,message_init_policy:""}})),[2,{hasNext:!1,nextToken:0}])}}))}))}))];case 1:return[2,U.sent()]}}))}))})),this._nextFill=new Vc(this._key,(function(M){return A(g,void 0,void 0,(function(){var R=this;return N(this,(function(U){switch(U.label){case 0:return[4,I.run("message-fill-sync-".concat(c.url,"-next"),(function(){return A(R,void 0,void 0,(function(){var H,P,G,Y,F,te,J,ne;return N(this,(function(Oe){switch(Oe.label){case 0:return[4,this._getRemoteMessages(M,{nextLimit:this._nextResultLimit,source:ve.SYNC_MESSAGE_FILL,checkingHasNext:!0,checkingContinuousMessages:C.localCacheEnabled,sdkSource:Ko.INTERNAL_FILL_GAP})];case 1:return H=Oe.sent(),P=H.messages,G=H.isContinuousMessages,Y=H.hasNext,P.length>0?(F=Math.max.apply(Math,et([],Ye(P.map((function(X){return X.createdAt}))),!1)),this._syncRange.extends(F),G&&((te=this._backgroundSync)===null||te===void 0||te.range.extends(F)),[2,{hasNext:Y,nextToken:this._syncRange.bottom}]):(C.localCacheEnabled&&y.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,measured_on:"gap_check",event:"cache_fetch",max_db_size:(ne=(J=C.localCacheConfig)===null||J===void 0?void 0:J.maxSize)!==null&&ne!==void 0?ne:0,use_local_cache:C.localCacheEnabled,starting_point:0,message_init_policy:""}})),[2,{hasNext:!1,nextToken:0}])}}))}))}))];case 1:return[2,U.sent()]}}))}))})),this._connectionEventContext=w.on((function(M){if(M instanceof $s)switch(M.stateType){case nn.CONNECTED:yr((function(){return A(g,void 0,void 0,(function(){return N(this,(function(R){return this._activate(),[2]}))}))}));break;case nn.LOGOUT:g.dispose();break;default:g._clearCheckMyMutedTimer(),g._prevFill.stop(),g._nextFill.stop()}}))}return t.prototype.keyOf=function(n){return 0},Object.defineProperty(t.prototype,"changelogIncludeParams",{get:function(){return{includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0}},enumerable:!1,configurable:!0}),t.prototype._postprocessChannelUpdateEvent=function(n,e){},t.prototype._postprocessChannelRemoveEvent=function(n){},t.prototype._postprocessMessageUpdateEvent=function(n,e){},t.prototype._postprocessMessageRemoveEvent=function(n){},Object.defineProperty(t.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"succeededMessages",{get:function(){return et([],Ye(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter((function(n){return n.sendingStatus===dn.FAILED}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter((function(n){return n.sendingStatus===dn.PENDING}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewTop",{get:function(){return Math.min.apply(Math,et(et([],Ye(this._messages.map((function(n){return n.createdAt}))),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,et(et([],Ye(this._messages.map((function(n){return n.createdAt}))),!1),[0],!1))},enumerable:!1,configurable:!0}),t.prototype._activate=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return j.of(this._iid).logger.debug("check huge gap"),this._checkHugeGap(),[4,this._refreshChannel(ve.SYNC_CHANNEL_CHANGELOGS)];case 1:return n.sent(),[2]}}))}))},t.prototype._replaceChannelOfCollection=function(n){this._channel.isGroupChannel()?this._channel=n:this._channel.isFeedChannel()&&(this._channel._groupChannel=n._groupChannel)},t.prototype._shouldStartBackgroundSync=function(){var n=j.of(this._iid).cacheContext;return this.channel.isGroupChannel()?n.localCacheEnabled&&!this.channel.isSuper:n.localCacheEnabled},t.prototype._setBaseMessageCollectionHandler=function(n){this._handler=n},t.prototype._filterUnderOffsetMessage=function(n){var e;return this._channel._runIfHandleableWithGroupChannel((function(r){e=n.filter((function(i){return i.createdAt>=r.messageOffsetTimestamp}))})),e!==void 0?e:n},t.prototype._updateChildMessagesInView=function(n){var e=[];return this._messages.forEach((function(r){r instanceof ba&&r.parentMessageId===n.messageId&&r.applyParentMessage(n)&&e.push(r)})),e},t.prototype._updatePollsToView=function(n,e){var r,i,a=this,s=[];try{for(var l=De(n),c=l.next();!c.done;c=l.next()){var d=c.value,f=Mg(this._messages,d.messageId);if(f>=0){var v=this._messages[f];v.isUserMessage()&&v.applyPoll(d),s.push(v)}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return s.length>0&&wc(e)&&Qe((function(){return A(a,void 0,void 0,(function(){var g,y,b;return N(this,(function(C){return g={source:e},s.length>0&&((b=(y=this._handler).onMessagesUpdated)===null||b===void 0||b.call(y,g,this.channel,s)),[2]}))}))})),s},t.prototype._applyPollUpdateEventToView=function(n,e){var r=this,i=Mg(this._messages,n.messageId);if(i>=0){var a=this._messages[i];a&&a.isUserMessage()&&a.poll&&a.poll.applyPollUpdateEvent(n)&&wc(e)&&Qe((function(){return A(r,void 0,void 0,(function(){var s,l,c;return N(this,(function(d){return s={source:e},(c=(l=this._handler)===null||l===void 0?void 0:l.onMessagesUpdated)===null||c===void 0||c.call(l,s,this.channel,[a]),[2]}))}))}))}},t.prototype._applyPollVoteEventToView=function(n,e){var r=this,i=Mg(this._messages,n.messageId);if(i>=0){var a=this._messages[i];a&&a.isUserMessage()&&a.poll&&a.poll.applyPollVoteEvent(n)&&wc(e)&&Qe((function(){return A(r,void 0,void 0,(function(){var s,l,c;return N(this,(function(d){return s={source:e},(c=(l=this._handler)===null||l===void 0?void 0:l.onMessagesUpdated)===null||c===void 0||c.call(l,s,this.channel,[a]),[2]}))}))}))}},t.prototype._applyReactionEventToView=function(n,e){var r=this,i=Mg(this._messages,n.messageId);if(i>=0){var a=this._messages[i];a&&(a.isUserMessage()||a.isFileMessage()||a.isMultipleFilesMessage())&&wc(e)&&(a.applyReactionEvent(n),Qe((function(){return A(r,void 0,void 0,(function(){var s,l,c;return N(this,(function(d){return s={source:e},(c=(l=this._handler)===null||l===void 0?void 0:l.onMessagesUpdated)===null||c===void 0||c.call(l,s,this.channel,[a]),[2]}))}))})))}},t.prototype._applyThreadInfoEventToView=function(n,e){var r=this,i=Mg(this._messages,n.targetMessageId);if(i>=0){var a=this._messages[i];a&&(a.isUserMessage()||a.isFileMessage()||a.isMultipleFilesMessage())&&wc(e)&&(a.applyThreadInfoUpdateEvent(n),Qe((function(){return A(r,void 0,void 0,(function(){var s,l,c;return N(this,(function(d){return s={source:e},(c=(l=this._handler)===null||l===void 0?void 0:l.onMessagesUpdated)===null||c===void 0||c.call(l,s,this.channel,[a]),[2]}))}))})))}},t.prototype._removeMessagesFromView=function(n,e){var r,i,a=this,s=[],l=[],c=function(g){var y=d._messages.findIndex((function(C){return a.keyOf(C)===g}));if(y>=0){var b=d._messages[y];s.push(d.keyOf(b)),l.push(b),d._messages.splice(y,1)}},d=this;try{for(var f=De(n),v=f.next();!v.done;v=f.next())c(v.value)}catch(g){r={error:g}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return wc(e)&&l.length>0&&Qe((function(){return A(a,void 0,void 0,(function(){var g,y,b;return N(this,(function(C){return g={source:e},(b=(y=this._handler)===null||y===void 0?void 0:y.onMessagesDeleted)===null||b===void 0||b.call(y,g,this.channel,s,l),[2]}))}))})),s},t.prototype._messageRetention=function(n,e){var r,i,a=[];try{for(var s=De(this._messages),l=s.next();!l.done;l=s.next()){var c=l.value;c.createdAt<=n&&a.push(this.keyOf(c))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}a.length>0&&this._removeMessagesFromView(a,e)},t.prototype._removeUnsentMessageFromView=function(n,e){var r=this._unsentMessages.findIndex((function(i){return i.reqId===n}));r>=0&&this._unsentMessages.splice(r,1)},t.prototype._getLocalMessages=function(n,e){var r=e.prevLimit,i=r===void 0?0:r,a=e.nextLimit,s=a===void 0?0:a,l=e.inclusive,c=l===void 0||l;return A(this,void 0,void 0,(function(){var d,f,v,g,y;return N(this,(function(b){switch(b.label){case 0:return d=[],c?[4,this._channelManager.getExactlyMatchingMessagesForTokenFromCache(this._channel.url,n,this.filter)]:[3,2];case 1:d=b.sent(),b.label=2;case 2:return i>0?[4,this._channelManager.getMessagesFromCache(this._channel.url,n,"prev",this.filter,i,!1)]:[3,4];case 3:return v=b.sent(),[3,5];case 4:v=[],b.label=5;case 5:return f=v,s>0?[4,this._channelManager.getMessagesFromCache(this._channel.url,n,"next",this.filter,s,!1)]:[3,7];case 6:return y=b.sent(),[3,8];case 7:y=[],b.label=8;case 8:return g=y,[2,{messages:et(et(et([],Ye(d),!1),Ye(f),!1),Ye(g),!1).sort((function(C,w){return w.createdAt-C.createdAt})),prevMessagesCount:f.length,nextMessagesCount:g.length}]}}))}))},t.prototype._getRemoteMessages=function(n,e){var r=e.prevLimit,i=r===void 0?0:r,a=e.nextLimit,s=a===void 0?0:a,l=e.source,c=l===void 0?ve.REQUEST_MESSAGE:l,d=e.reverse,f=d!==void 0&&d,v=e.checkingHasNext,g=v!==void 0&&v,y=e.checkingContinuousMessages,b=y!==void 0&&y,C=e.sdkSource;return A(this,void 0,void 0,(function(){var w,I;return N(this,(function(M){switch(M.label){case 0:return w=_i.of(this._iid),i>0||s>0?[4,w._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,n,We(q(q(q({},this.filter),UM),{isInclusive:!0,reverse:f,prevResultSize:i,nextResultSize:s})),c,g,b,C)]:[3,2];case 1:return I=M.sent(),[3,3];case 2:I={messages:[],isContinuousMessages:!1},M.label=3;case 3:return[2,I]}}))}))},t.prototype._checkHugeGap=function(){var n,e,r,i,a;return A(this,void 0,void 0,(function(){var s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F,te,J,ne,Oe,X,se=this;return N(this,(function($){switch($.label){case 0:return s=j.of(this._iid),l=s.dispatcher,c=s.requestQueue,d=s.cacheContext,f=s.statManager,v=s.logger,this._messages.length>0?(g=this._syncRange.top,y=this.viewTop,b=this._syncRange.bottom,C=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,this._channelManager.getCachedMessageCountBetween(this._channel.url,this.filter,y,g)]):[3,8];case 1:return w=$.sent(),[4,this._channelManager.getCachedMessageCountBetween(this._channel.url,this.filter,b,C)];case 2:I=$.sent(),$.label=3;case 3:return $.trys.push([3,5,6,7]),[4,e2((function(){return A(se,void 0,void 0,(function(){var le,he,xe,Ge,Q,fe,Ae,$e,Te,Fe,Je,Ot,Ct,Kn,An,Ln,En,en=this;return N(this,(function(Pn){switch(Pn.label){case 0:return le=new Sq(q(q({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:y,prevEnd:g,prevCount:w,nextStart:b,nextEnd:C,nextCount:I,checkingContinuousMessages:d.localCacheEnabled},this.filter),UM)),[4,c.send(le)];case 1:return he=Pn.sent(),xe=he.as(Nq),Ge=xe.isHugeGap,Q=xe.prevMessages,fe=Q===void 0?[]:Q,Ae=xe.prevHasMore,$e=xe.isContinuousPrevMessages,Te=xe.nextMessages,Fe=Te===void 0?[]:Te,Je=xe.nextHasmore,Ot=xe.isContinuousNextMessages,Ge?Qe((function(){return A(en,void 0,void 0,(function(){var Gn;return N(this,(function(fn){return!((Gn=this._handler)===null||Gn===void 0)&&Gn.onHugeGapDetected&&this._handler.onHugeGapDetected(),[2]}))}))})):(Ct=this.viewTop,Kn=this.viewBottom,An=Math.min.apply(Math,et([Number.MAX_SAFE_INTEGER,Ct],Ye(fe.map((function(Gn){return Gn.createdAt}))),!1)),Ln=Math.max.apply(Math,et([0,Kn],Ye(Fe.map((function(Gn){return Gn.createdAt}))),!1)),l.dispatch(new cr({messages:fe,source:ve.SYNC_MESSAGE_FILL})),l.dispatch(new cr({messages:Fe,source:ve.SYNC_MESSAGE_FILL})),this._syncRange.extends(An,Ln),($e||Ot)&&((En=this._backgroundSync)===null||En===void 0||En.range.extends(An,Ln)),Ae&&this._prevFill.start(An),Je&&this._nextFill.start(Ln)),[2]}}))}))}),1)];case 4:return $.sent(),[3,7];case 5:return M=$.sent(),v.debug("Failed HugeGap Check ",M),[3,7];case 6:return d.localCacheEnabled&&f.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,measured_on:"gap_check",event:"cache_fetch",max_db_size:(e=(n=d.localCacheConfig)===null||n===void 0?void 0:n.maxSize)!==null&&e!==void 0?e:0,use_local_cache:d.localCacheEnabled,starting_point:0,message_init_policy:""}})),[7];case 7:return[3,13];case 8:R=Date.now(),$.label=9;case 9:return $.trys.push([9,11,12,13]),[4,this._getRemoteMessages(R,{prevLimit:this._prevResultLimit,nextLimit:this._nextResultLimit,source:ve.SYNC_MESSAGE_FILL,checkingHasNext:!0,checkingContinuousMessages:d.localCacheEnabled,sdkSource:Ko.INTERNAL_FILL_GAP})];case 10:if(U=$.sent(),H=U.messages,P=U.isContinuousMessages,G=U.hasNext,H.length>0){for(Y=H.map((function(le){return le.createdAt})),F=0,te=0,J=0;J<Y.length;J++)(ne=Y[J])<=R?F++:ne>=R&&te++;this._hasPrevious=F>=this._prevResultLimit,this._hasNext=G??te>=this._nextResultLimit,(X=this._syncRange).extends.apply(X,et([],Ye(Y),!1)),P&&((r=this._backgroundSync)===null||r===void 0||r.range.extends(this._syncRange.top,this._syncRange.bottom)),this._addMessagesToView(H,ve.SYNC_MESSAGE_FILL)}else this._hasPrevious=!1,this._hasNext=!1;return[3,13];case 11:return(Oe=$.sent())instanceof Z&&Oe.code===je.NOT_FOUND_IN_DATABASE&&(this._hasPrevious=!1,this._hasNext=!1),[3,13];case 12:return d.localCacheEnabled&&f.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,measured_on:"gap_check",event:"cache_fetch",max_db_size:(a=(i=d.localCacheConfig)===null||i===void 0?void 0:i.maxSize)!==null&&a!==void 0?a:0,use_local_cache:d.localCacheEnabled,starting_point:0,message_init_policy:""}})),[7];case 13:return[2]}}))}))},t.prototype._loadUnsentMessages=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return n=this,[4,this._channelManager.getUnsentMessagesFromCache(this._channel.url,this.filter)];case 1:return n._unsentMessages=e.sent(),[2]}}))}))},t.prototype._hasPollMessage=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,this._channelManager.getPollMessagesFromCache(this._channel.url,Date.now()+6e5,this.filter,1)];case 1:return n.sent().length>0?[2,!0]:[2,!1]}}))}))},t.prototype._refreshChannel=function(n,e){return e===void 0&&(e=!1),A(this,void 0,void 0,(function(){var r,i,a=this;return N(this,(function(s){switch(s.label){case 0:r=j.of(this._iid).logger,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._channelManager.refreshChannel(this.channel.url,!0,n,e)];case 2:return s.sent(),this.channel._runIfHandleableWithGroupChannel((function(l){l.myMutedState===Wo.MUTED&&yr((function(){return A(a,void 0,void 0,(function(){var c;return N(this,(function(d){switch(d.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(c=d.sent()).isMuted&&c.remainingDuration!==-1&&this._startCheckMyMutedTimer(c.remainingDuration),[2]}}))}))}))})),[3,4];case 3:return i=s.sent(),r.warn("Failed to refresh channel",i),[3,4];case 4:return[2]}}))}))},t.prototype._startCheckMyMutedTimer=function(n){var e=this;this._clearCheckMyMutedTimer(),this._checkMyMutedStateTimer=setTimeout((function(){return A(e,void 0,void 0,(function(){var r,i,a,s=this;return N(this,(function(l){switch(l.label){case 0:this._checkMyMutedStateTimer=void 0,r=!0,l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this._channel.getMyMutedInfo()];case 2:return i=l.sent(),r=!i.isMuted,[3,5];case 3:return l.sent(),r=!0,[3,5];case 4:return r&&(a=j.of(this._iid).sessionManager,this.channel._runIfHandleableWithGroupChannel((function(c){var d,f;c.myMutedState=Wo.UNMUTED;var v={source:ve.EVENT_CHANNEL_UNMUTED,user:a.currentUser};(f=(d=s._handler)===null||d===void 0?void 0:d.onChannelUpdated)===null||f===void 0||f.call(d,v,s.channel)}))),[7];case 5:return[2]}}))}))}),n+1e3)},t.prototype._clearCheckMyMutedTimer=function(){this._checkMyMutedStateTimer&&(clearTimeout(this._checkMyMutedStateTimer),this._checkMyMutedStateTimer=void 0)},t.prototype._setHasNextAndHasPrevious=function(n,e){for(var r=n.map((function(c){return c.createdAt})),i=0,a=0,s=0;s<r.length;s++){var l=r[s];l<this._startingPoint?i++:l>this._startingPoint&&a++}this._hasPrevious=i>=this._prevResultLimit,this._hasNext=e??a>=this._nextResultLimit},t.prototype.initialize=function(n){var e=this,r=new Aq;this._messages=[],this._unsentMessages=[],this._syncRange=new jl({}),this._hasNext=!0,this._hasPrevious=!0;var i=[],a={messages:[],prevMessagesCount:0,nextMessagesCount:0};return Qe((function(){return A(e,void 0,void 0,(function(){var s,l,c,d,f,v=this;return N(this,(function(g){switch(g.label){case 0:return[4,(f=this._backgroundSync)===null||f===void 0?void 0:f.loadMetadata()];case 1:return s=g.sent(),l=j.of(this._iid),c=l.cacheContext,d=l.statManager,n===HS.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:this._prevResultLimit,nextLimit:this._nextResultLimit}).then((function(y){return A(v,void 0,void 0,(function(){return N(this,(function(b){switch(b.label){case 0:return a=y,i=this._filterUnderOffsetMessage(a.messages),this._addMessagesToView(i,ve.REQUEST_MESSAGE),[4,this._loadUnsentMessages()];case 1:return b.sent(),r._invokeResponse("local",null,i),[2]}}))}))})).catch((function(y){if(Ca(y))throw y;r._invokeResponse("local",y,null)})).finally((function(){return A(v,void 0,void 0,(function(){var y,b,C,w,I,M,R,U=this;return N(this,(function(H){switch(H.label){case 0:return y=j.of(this._iid).cacheContext,b=!0,C=!0,w=!1,y.localCacheEnabled&&(i.length>0&&(I=s.range).includes.apply(I,et([],Ye(i.map((function(P){return P.createdAt}))),!1))?!s.previousComplete&&a.prevMessagesCount<this._prevResultLimit?C=!0:this._startingPoint>s.range.bottom||a.nextMessagesCount<this._nextResultLimit?w=!0:C=!1:i.length===0&&(w=!0)),[4,this._refreshChannel(ve.REFRESH_CHANNEL,w)];case 1:return H.sent(),w&&this._channel._runIfHandleableWithGroupChannel((function(P){var G=Math.max.apply(Math,et([],Ye(i.map((function(Y){return Y.createdAt}))),!1));P._latestMessageInfo&&G>=P._latestMessageInfo.createdAt&&(C=!1)})),C?(b=!1,this._getRemoteMessages(this._startingPoint,{prevLimit:this._prevResultLimit,nextLimit:this._nextResultLimit,reverse:!0,checkingHasNext:!0,checkingContinuousMessages:y.localCacheEnabled,sdkSource:Ko.EXTERNAL_COLLECTION}).then((function(P){var G,Y,F,te=P.messages,J=P.isContinuousMessages,ne=P.hasNext,Oe=U._filterUnderOffsetMessage(te);U._messages=[],Oe.length>0?(U._setHasNextAndHasPrevious(Oe,ne),(G=U._syncRange).extends.apply(G,et([],Ye(Oe.map((function(X){return X.createdAt}))),!1)),J&&(!((Y=U._backgroundSync)===null||Y===void 0)&&Y.range.overlap(U._syncRange))&&((F=U._backgroundSync)===null||F===void 0||F.range.extends(U._syncRange.top,U._syncRange.bottom)),U._addMessagesToView(Oe,ve.REQUEST_MESSAGE)):(U._hasPrevious=!1,U._hasNext=!1),r._invokeResponse("remote",null,Oe)})).catch((function(P){if(Ca(P))throw P;r._invokeResponse("remote",P,null)}))):(this._setHasNextAndHasPrevious(i),r._invokeResponse("remote",null,i)),y.localCacheEnabled&&d.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"initial_load",event:b?"cache_hit":"cache_miss",max_db_size:(R=(M=y.localCacheConfig)===null||M===void 0?void 0:M.maxSize)!==null&&R!==void 0?R:0,message_init_policy:n,use_local_cache:y.localCacheEnabled,collection_id:this._key}})),[2]}}))}))})),d.put(new O0({type:Mn.FEATURE_LOCALCACHE,data:{use_local_cache:c.localCacheEnabled,collection_interface:{message_init_policy:n,message:!0}}})),[2]}}))}))})),r},t.prototype.loadPrevious=function(){var n,e,r;return A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:if(this._isDisposed)throw new Z({code:je.COLLECTION_DISPOSED,message:"Collection has been disposed."});return i=j.of(this._iid),a=i.cacheContext,s=i.statManager,l=i.logger,this._hasPrevious?this._isLoadingPrevious?(l.warn("Messages are already fetching."),[2,[]]):(this._isLoadingPrevious=!0,c=this.viewTop,d=[],[4,yr((function(){return A(g,void 0,void 0,(function(){var b;return N(this,(function(C){switch(C.label){case 0:return[4,this._getLocalMessages(c,{prevLimit:this._prevResultLimit,inclusive:!1})];case 1:return b=C.sent(),d=this._filterUnderOffsetMessage(b.messages),[2]}}))}))}))]):[2,[]];case 1:return y.sent(),f=d.length>=this._prevResultLimit,a.localCacheEnabled&&s.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"load_prev",event:f?"cache_hit":"cache_miss",max_db_size:(e=(n=a.localCacheConfig)===null||n===void 0?void 0:n.maxSize)!==null&&e!==void 0?e:0,use_local_cache:a.localCacheEnabled,collection_id:this._key,message_init_policy:""}})),f&&(!((r=this._backgroundSync)===null||r===void 0)&&r.isWrappingMessages(d))?[3,3]:(v=!1,[4,yr((function(){return A(g,void 0,void 0,(function(){var b,C,w,I,M,R,U,H=this;return N(this,(function(P){switch(P.label){case 0:return b=j.of(this._iid).cacheContext,[4,this._getRemoteMessages(c,{prevLimit:this._prevResultLimit,reverse:!0,checkingContinuousMessages:b.localCacheEnabled,sdkSource:Ko.EXTERNAL_COLLECTION})];case 1:return C=P.sent(),(d=this._filterUnderOffsetMessage(C.messages)).length>0&&((w=this._syncRange).extends.apply(w,et([],Ye(d.map((function(G){return G.createdAt}))),!1)),!((I=this._backgroundSync)===null||I===void 0)&&I.range.overlap(this._syncRange)&&C.isContinuousMessages&&(v=!0,(M=this._backgroundSync)===null||M===void 0||M.range.extends(this._syncRange.top))),d=d.filter((function(G){return vo(H._messages,G)<0})),this._hasPrevious=d.length>=this._prevResultLimit,b.localCacheEnabled&&v&&s.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"load_prev",event:"cache_fetch",max_db_size:(U=(R=b.localCacheConfig)===null||R===void 0?void 0:R.maxSize)!==null&&U!==void 0?U:0,use_local_cache:b.localCacheEnabled,collection_id:this._key,message_init_policy:""}})),[2]}}))}))}))]);case 2:return y.sent(),this._addMessagesToView(d,ve.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=d.length>=this._prevResultLimit,d.length>0&&this._addMessagesToView(d,ve.REQUEST_MESSAGE),y.label=4;case 4:return this._isLoadingPrevious=!1,[2,d]}}))}))},t.prototype.loadNext=function(){var n,e,r;return A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v,g=this;return N(this,(function(y){switch(y.label){case 0:if(this._isDisposed)throw new Z({code:je.COLLECTION_DISPOSED,message:"Collection has been disposed."});return i=j.of(this._iid),a=i.cacheContext,s=i.statManager,l=i.logger,this._hasNext?this._isLoadingNext?(l.warn("Messages are already fetching."),[2,[]]):(this._isLoadingNext=!0,c=this.viewBottom,d=[],[4,yr((function(){return A(g,void 0,void 0,(function(){var b;return N(this,(function(C){switch(C.label){case 0:return[4,this._getLocalMessages(c,{nextLimit:this._nextResultLimit,inclusive:!1})];case 1:return b=C.sent(),d=this._filterUnderOffsetMessage(b.messages),[2]}}))}))}))]):[2,[]];case 1:return y.sent(),f=d.length>=this._nextResultLimit,a.localCacheEnabled&&s.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"load_next",event:f?"cache_hit":"cache_miss",max_db_size:(e=(n=a.localCacheConfig)===null||n===void 0?void 0:n.maxSize)!==null&&e!==void 0?e:0,use_local_cache:a.localCacheEnabled,collection_id:this._key,message_init_policy:""}})),f&&(!((r=this._backgroundSync)===null||r===void 0)&&r.isWrappingMessages(d))?[3,3]:(v=!1,[4,yr((function(){return A(g,void 0,void 0,(function(){var b,C,w,I,M,R,U,H,P=this;return N(this,(function(G){switch(G.label){case 0:return b=j.of(this._iid).cacheContext,[4,this._getRemoteMessages(c,{nextLimit:this._nextResultLimit,reverse:!0,checkingHasNext:!0,checkingContinuousMessages:b.localCacheEnabled,sdkSource:Ko.EXTERNAL_COLLECTION})];case 1:return C=G.sent(),(d=this._filterUnderOffsetMessage(C.messages)).length>0&&((w=this._syncRange).extends.apply(w,et([],Ye(d.map((function(Y){return Y.createdAt}))),!1)),!((I=this._backgroundSync)===null||I===void 0)&&I.range.overlap(this._syncRange)&&C.isContinuousMessages&&(v=!0,(M=this._backgroundSync)===null||M===void 0||M.range.extends(this._syncRange.bottom))),d=d.filter((function(Y){return vo(P._messages,Y)<0})),this._hasNext=(R=C.hasNext)!==null&&R!==void 0?R:d.length>=this._nextResultLimit,b.localCacheEnabled&&v&&s.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"load_next",event:"cache_fetch",max_db_size:(H=(U=b.localCacheConfig)===null||U===void 0?void 0:U.maxSize)!==null&&H!==void 0?H:0,use_local_cache:b.localCacheEnabled,collection_id:this._key,message_init_policy:""}})),[2]}}))}))}))]);case 2:return y.sent(),this._addMessagesToView(d,ve.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=d.length>=this._nextResultLimit,d.length>0&&this._addMessagesToView(d,ve.REQUEST_MESSAGE),y.label=4;case 4:return this._isLoadingNext=!1,[2,d]}}))}))},t.prototype.removeFailedMessage=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:if(this._isDisposed)throw new Z({code:je.COLLECTION_DISPOSED,message:"Collection has been disposed."});return[4,this._channelManager.removeFailedMessageFromCache(n)];case 1:return r.sent(),(e=this._unsentMessages.findIndex((function(i){return i.reqId===n})))>-1&&this._unsentMessages.splice(e,1),[2]}}))}))},t.prototype.dispose=function(){var n,e,r,i=this;if(!this._isDisposed){this._isDisposed=!0;var a=j.of(this._iid),s=a.cacheContext,l=a.dispatcher;this._messages=[],this._clearCheckMyMutedTimer(),this._channel._runIfHandleableWithGroupChannel((function(c){c.myMemberState!==Lr.NONE&&(i._channel._updateMessageCollectionLastAccessedAt(),l.dispatch(new Rt({channels:[i._channel],context:{source:ve.CHANNEL_LASTACCESSEDAT_UPDATED}})))})),s.localCacheEnabled&&(this._prevFill.stop(),this._nextFill.stop()),(n=this._backgroundSync)===null||n===void 0||n.close(),(e=this._changelogSync)===null||e===void 0||e.close(),(r=this._pollChangelogSync)===null||r===void 0||r.close(),this._channelManager.unsubscribeChannelEvent(this._key),this._channelManager.unsubscribeMessageEvent(this._key),this._connectionEventContext&&this._connectionEventContext.close()}},t})(),Iq=(function(t){function n(e,r){return t.call(this,e,q(q({},r),{channelManager:pi.of(e)}))||this}return k(n,t),n.prototype.keyOf=function(e){return e.messageId},n.prototype.initialize=function(e){return t.prototype.initialize.call(this,e)},n.prototype.setMessageCollectionHandler=function(e){this._setBaseMessageCollectionHandler(e)},n.prototype._addMessagesToView=function(e,r){var i,a,s=this,l=this._filterUnderOffsetMessage(e),c=[],d=[];try{for(var f=De(l),v=f.next();!v.done;v=f.next()){var g=v.value;if(r===ve.SYNC_MESSAGE_FILL)if(g.messageId>0){if((w=vo(this._messages,g))<0){vo(this._unsentMessages,g)<0&&c.push(g);var y=mC(this._messages,g);this._messages.splice(y,0,g)}}else g instanceof Ur&&(w=vo(this._unsentMessages,g))<0&&vo(this._messages,g)<0&&(this._unsentMessages.push(g),c.push(g));else if(g.messageId>0){if((w=vo(this._messages,g))<0){var b=vo(this._unsentMessages,g);b<0?c.push(g):(this._unsentMessages.splice(b,1),d.push(g)),y=mC(this._messages,g),this._messages.splice(y,0,g)}else d.push(g),this._messages[w]=g;if(g.updatedAt>0){var C=this._updateChildMessagesInView(g);d.push.apply(d,et([],Ye(C),!1))}}else if(g instanceof Ur){var w;(w=vo(this._unsentMessages,g))<0?vo(this._messages,g)<0&&(this._unsentMessages.push(g),c.push(g)):(d.push(g),this._unsentMessages[w]=g)}}}catch(I){i={error:I}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}wc(r)&&Qe((function(){return A(s,void 0,void 0,(function(){var I,M,R,U,H;return N(this,(function(P){return I={source:r},c.length>0&&((R=(M=this._handler)===null||M===void 0?void 0:M.onMessagesAdded)===null||R===void 0||R.call(M,I,this.channel,c)),d.length>0&&((H=(U=this._handler)===null||U===void 0?void 0:U.onMessagesUpdated)===null||H===void 0||H.call(U,I,this.channel,d)),[2]}))}))}))},n.prototype._updateMessagesToView=function(e,r){var i,a,s=this,l=[],c=[],d=[];try{for(var f=De(e),v=f.next();!v.done;v=f.next()){var g,y=v.value;if(y.messageId>0)if((g=vo(this._messages,y))>=0)c.push(y),this._messages[g]=y;else{var b=vo(this._unsentMessages,y);if(b>=0){var C=Ye(this._unsentMessages.splice(b,1),1)[0];if(this.hasNext&&C)d.push(C);else{c.push(y);var w=mC(this._messages,y);this._messages.splice(w,0,y)}}else{var I=this._messages.map((function(M){return M.createdAt}));(y.createdAt<Math.min.apply(Math,et([],Ye(I),!1))&&!this._hasPrevious||y.createdAt>Math.max.apply(Math,et([],Ye(I),!1))&&!this._hasNext)&&l.push(y)}}else y instanceof Ur&&(g=vo(this._unsentMessages,y))>=0&&(c.push(y),this._unsentMessages[g]=y)}}catch(M){i={error:M}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return wc(r)&&Qe((function(){return A(s,void 0,void 0,(function(){var M,R,U,H,P;return N(this,(function(G){return M={source:r},c.length>0?(U=(R=this._handler)===null||R===void 0?void 0:R.onMessagesUpdated)===null||U===void 0||U.call(R,M,this.channel,c):d.length>0?(P=(H=this._handler)===null||H===void 0?void 0:H.onMessagesDeleted)===null||P===void 0||P.call(H,M,this.channel,[],d):l.length>0&&this._addMessagesToView(l,r),[2]}))}))})),c},n})(wq),Mq={coverUrl:void 0,coverImage:void 0,isDistinct:void 0,isPublic:void 0,isDiscoverable:void 0,accessCode:void 0,name:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,messageSurvivalSeconds:void 0},Oq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.token,s=e.limit,l=e.order,c=e.mutedMemberFilter,d=e.memberStateFilter,f=e.nicknameStartsWithFilter,v=e.operatorFilter;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/members"),r.params={token:a,limit:s,order:l,muted_member_filter:c,member_state_filter:d,nickname_startswith:f,operator_filter:v,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return k(n,t),n})(be),Rq=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.members=[];var a=r.next,s=r.members;return i.token=a,s&&s.length>0&&(i.members=s.map((function(l){return new Co(e,l)}))),i}return k(n,t),n})(we);(function(t){t.ALL="all",t.MUTED="muted",t.UNMUTED="unmuted"})(p0||(p0={})),(function(t){t.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",t.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"})(m0||(m0={})),(function(t){t.ALL="all",t.JOINED="joined_only",t.INVITED="invited_only",t.INVITED_BY_FRIEND="invited_by_friend",t.INVITED_BY_NON_FRIEND="invited_by_non_friend"})(v0||(v0={}));var Dq=(function(t){function n(e,r,i){var a,s,l,c,d=this;return(d=t.call(this,e,r,Lt.GROUP,i)||this).mutedMemberFilter=p0.ALL,d.memberStateFilter=v0.ALL,d.nicknameStartsWithFilter=null,d.operatorFilter=A1.ALL,d.order=m0.MEMBER_NICKNAME_ALPHABETICAL,d.mutedMemberFilter=(a=i.mutedMemberFilter)!==null&&a!==void 0?a:p0.ALL,d.memberStateFilter=(s=i.memberStateFilter)!==null&&s!==void 0?s:v0.ALL,d.nicknameStartsWithFilter=(l=i.nicknameStartsWithFilter)!==null&&l!==void 0?l:null,d.order=(c=i.order)!==null&&c!==void 0?c:m0.MEMBER_NICKNAME_ALPHABETICAL,d}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&wt(p0,this.mutedMemberFilter)&&wt(v0,this.memberStateFilter)&&(W("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&wt(A1,this.operatorFilter)&&wt(m0,this.order)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new Oq(We(q(q({},this),{token:this._token}))),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(Rq),s=a.members,l=a.token,this._token=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),xq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.userId,s=e.accessCode;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/accept"),r.params={user_id:a,access_code:s},r}return k(n,t),n})(be),Lq=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Io(e,r),i.channel.myMemberState=Lr.JOINED,i}return k(n,t),n})(we),Uq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.isDistinct,s=e.isPublic,l=e.isDiscoverable,c=e.coverUrl,d=e.coverImage,f=e.accessCode,v=e.name,g=e.data,y=e.customType,b=e.operatorUserIds,C=e.messageSurvivalSeconds;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Aa,"/").concat(encodeURIComponent(i)),r.params=Pe({is_distinct:a,is_public:s,is_discoverable:l,name:v,data:g,custom_type:y,cover_url:c,cover_file:d,access_code:f,operator_ids:b,message_survival_seconds:C}),r}return k(n,t),n})(be),kq=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Io(e,r),i}return k(n,t),n})(we),Pq=(function(t){function n(e){var r=this,i=e.channelUrl;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Aa,"/").concat(encodeURIComponent(i)),r}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var Fq=(function(t){function n(e){var r=this,i=e.channelUrl;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/hide"),r}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var Hq=(function(t){function n(e){var r=e.userId,i=e.channelUrl,a=e.countPreference,s=t.call(this)||this;return s.method=Ee.PUT,s.path="".concat(an,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(i)),s.params={count_preference:a},s}return k(n,t),n})(be),Bq=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.countPreference=r.count_preference,i}return k(n,t),n})(we),Gq=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.locale;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Aa,"/").concat(encodeURIComponent(i),"/reset_user_history"),r.params=Pe({locale:a}),r}return k(n,t),n})(be),zq=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.ts_message_offset;return i.messageOffsetTimestamp=a,i}return k(n,t),n})(we),Vq=q(q({},v3),{scheduledAt:void 0,file:void 0,fileUrl:void 0,fileName:void 0,mimeType:void 0,fileSize:void 0,thumbnailSizes:void 0,requireAuth:!1}),qq=q(q({},Gx),{scheduledAt:void 0}),jq=(function(t){function n(e){var r,i,a=this;a=t.call(this)||this;var s=[];e.mentionType===aa.USERS&&(e.mentionedUserIds?s=e.mentionedUserIds:e.mentionedUsers&&(s=e.mentionedUsers.map((function(f){return f.userId}))));var l=e.channelType,c=e.channelUrl,d=e.scheduledMessageId;return a.method=Ee.PUT,a.path="".concat(Jt(l),"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(d)),a.params=Pe(We({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:_v.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:(r=e._thumbnails)===null||r===void 0?void 0:r.map((function(f){return Qc.payloadify(f)})),custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:s,sorted_metaarray:(i=e.metaArrays)===null||i===void 0?void 0:i.map((function(f){return Sa.payloadify(f)})),apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,push_option:e.pushNotificationDeliveryOption})),a}return k(n,t),n})(be),$q=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.message=new Zr(e,r),i}return k(n,t),n})(we),Kq=(function(t){function n(e){var r,i=this;i=t.call(this)||this;var a=[];e.mentionType===aa.USERS&&(e.mentionedUserIds?a=e.mentionedUserIds:e.mentionedUsers&&(a=e.mentionedUsers.map((function(d){return d.userId}))));var s=e.channelType,l=e.channelUrl,c=e.scheduledMessageId;return i.method=Ee.PUT,i.path="".concat(Jt(s),"/").concat(encodeURIComponent(l),"/scheduled_messages/").concat(encodeURIComponent(c)),i.params=Pe(We({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:_v.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:a,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map((function(d){return Sa.payloadify(d)})),apple_critical_alert_options:e.appleCriticalAlertOptions?sl.payloadify(e.appleCriticalAlertOptions):null,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption})),i}return k(n,t),n})(be);(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.message=new ta(e,r),i}k(n,t)})(we);var kM,PM,Yq=(function(t){function n(e){var r=t.call(this)||this,i=e.channelType,a=e.channelUrl,s=e.scheduledMessageId;return r.method=Ee.DELETE,r.path="".concat(Jt(i),"/").concat(encodeURIComponent(a),"/scheduled_messages/").concat(encodeURIComponent(s)),r}return k(n,t),n})(be),Wq=(function(t){function n(e){var r=t.call(this)||this,i=e.channelType,a=e.channelUrl,s=e.scheduledMessageId;return r.method=Ee.POST,r.path="".concat(Jt(i),"/").concat(encodeURIComponent(a),"/scheduled_messages/").concat(encodeURIComponent(s),"/send_now"),r}return k(n,t),n})(be),Qq=(function(t){function n(e){var r=e.userId,i=e.channelUrl,a=e.pushTriggerOption,s=t.call(this)||this;return s.method=Ee.PUT,s.path="".concat(an,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(i)),s.params={push_trigger_option:a},s}return k(n,t),n})(be),Xq=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.pushTriggerOption=r.push_trigger_option,i.enabled=r.enable,i}return k(n,t),n})(we),Zq=(function(t){function n(e){var r=e.userId,i=e.channelUrl,a=t.call(this)||this;return a.method=Ee.GET,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(i)),a}return k(n,t),n})(be),Jq=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.pushTriggerOption=r.push_trigger_option,i.enabled=r.enable,i}return k(n,t),n})(we),ej=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.channelType;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Jt(a),"/").concat(encodeURIComponent(i),"/message_purge_offset"),r}return k(n,t),n})(be),tj=(function(t){function n(e,r){var i=t.call(this,e,r)||this,a=r.message_purge_offset;return i.messageDeletionTimestamp=a,i}return k(n,t),n})(we),FM=(function(){function t(n){this.url=n.channel_url,this.lastMessageTs=n.last_message_ts}return t.payloadify=function(n){return{channel_url:n.url,last_message_ts:n.lastMessageTs}},t})(),HM=(function(){function t(n){var e,r,i,a;this.type=n.type,this.ticketId=(e=n.ticket_id)!==null&&e!==void 0?e:void 0,this.timestamp=(r=n.timestamp)!==null&&r!==void 0?r:void 0,this.estimatedAgentJoinAt=(i=n.estimated_agent_join_at)!==null&&i!==void 0?i:void 0,this.requestedAt=(a=n.requested_at)!==null&&a!==void 0?a:void 0}return t.payloadify=function(n){return Pe({type:n.type,ticket_id:n.ticketId,timestamp:n.timestamp,estimated_agent_join_at:n.estimatedAgentJoinAt,requested_at:n.requestedAt})},t})(),BM=(function(){function t(n){this.isResolved=n.is_resolved,this.determinedBy=n.determined_by}return t.payloadify=function(n){return{is_resolved:n.isResolved,determined_by:n.determinedBy}},t})();(function(t){t.DEFAULT="default",t.PROACTIVE="proactive"})(kM||(kM={})),(function(t){t.OPEN="open",t.CLOSED="closed"})(PM||(PM={}));var yo,Eo,L0=(function(){function t(n){var e,r,i,a,s,l;this.id=n.id,this.aiAgentId=n.ai_agent_id,this.type=n.conversation_type,this.status=n.status,this.channelInfo=new FM(n.channel),this.summary=(e=n.summary_text)!==null&&e!==void 0?e:void 0,this.csat=(r=n.csat)!==null&&r!==void 0?r:void 0,this.csatReason=(i=n.csat_reason)!==null&&i!==void 0?i:void 0,this.csatExpireAt=(a=n.csat_expire_at)!==null&&a!==void 0?a:void 0,this.resolution=n.resolution?new BM(n.resolution):void 0,this.topics=(s=n.topics)!==null&&s!==void 0?s:[],this.handoff=n.handoff?new HM(n.handoff):void 0,this.handedOverAt=(l=n.handed_over_at)!==null&&l!==void 0?l:void 0}return t.payloadify=function(n){return Pe(We({id:n.id,ai_agent_id:n.aiAgentId,conversation_type:n.type,status:n.status,channel:FM.payloadify(n.channelInfo),summary_text:n.summary,csat:n.csat,csat_reason:n.csatReason,csat_expire_at:n.csatExpireAt,resolution:n.resolution&&BM.payloadify(n.resolution),topics:n.topics,handoff:n.handoff&&HM.payloadify(n.handoff),handed_over_at:n.handedOverAt}))},t})(),nj=(function(t){function n(e){var r=this,i=e.channelUrl;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(t3,"/").concat(encodeURIComponent(i),"/submit_csat"),r.params=Pe({csat:e.csat,csat_reason:e.csatReason,csat_type:e.csatType,is_resolved:e.isResolved,resolution_score:e.resolutionScore,csat_started_at:e.csatStartedAt}),r}return k(n,t),n})(be),rj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.conversation=new L0(r.conversation),i}return k(n,t),n})(we),ij=(function(t){function n(e){var r=this,i=e.channelUrl;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(t3,"/").concat(encodeURIComponent(i),"/handoff"),r.params={},r}return k(n,t),n})(be),aj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.conversation=new L0(r.conversation),i}return k(n,t),n})(we),sj=(function(t){function n(e){var r=this,i=e.channelUrl;return(r=t.call(this)||this).method=Ee.POST,r.path="".concat(t3,"/").concat(encodeURIComponent(i),"/close_conversation"),r.params={},r}return k(n,t),n})(be),oj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.conversation=new L0(r.conversation),i}return k(n,t),n})(we),lj=(function(t){function n(e){var r=e.aiAgentId,i=e.channelUrl,a=e.context,s=t.call(this)||this;return s.method=Ee.PUT,s.path="".concat(e3,"/ai_agents/").concat(encodeURIComponent(r),"/channels/").concat(encodeURIComponent(i),"/ai_agent_context"),s.params=Pe(We({context:a})),s}return k(n,t),n})(be),uj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.contextObject=r,i}return k(n,t),n})(we),cj=(function(t){function n(e){var r=e.aiAgentId,i=e.channelUrl,a=t.call(this)||this;return a.method=Ee.GET,a.path="".concat(e3,"/ai_agents/").concat(encodeURIComponent(r),"/channels/").concat(encodeURIComponent(i),"/ai_agent_context"),a}return k(n,t),n})(be),dj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.contextObject=r,i}return k(n,t),n})(we),hj=(function(t){function n(e){var r=e.aiAgentId,i=e.channelUrl,a=e.context,s=t.call(this)||this;return s.method=Ee.PATCH,s.path="".concat(e3,"/ai_agents/").concat(encodeURIComponent(r),"/channels/").concat(encodeURIComponent(i),"/ai_agent_context"),s.params=Pe(We({context:a})),s}return k(n,t),n})(be),fj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.contextObject=r,i}return k(n,t),n})(we),GM=(function(){function t(n){this.type=n.type,this.ticketStatus=n.ticket_status}return t.payloadify=function(n){return Pe({type:n.type,ticket_status:n.ticketStatus})},t})();(function(t){t.ALL="all",t.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",t.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",t.OFF="off"})(yo||(yo={})),(function(t){t.UNHIDDEN="unhidden",t.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",t.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"})(Eo||(Eo={}));var _0,Io=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F=this;return(F=t.call(this,e,r)||this)._unreadMemberStateMap=new Map,F._undeliveredMemberStateMap=new Map,F._typingStatus=new Map,F._lastMemberCountUpdated=0,F._typingStarted=0,F._typingEnded=0,F._aiAgentAdditionalData={},F.isDistinct=!1,F.isSuper=!1,F.isBroadcast=!1,F.isExclusive=!1,F.isPublic=!1,F.isDiscoverable=!0,F.isChatNotification=!1,F.isAccessCodeRequired=!1,F.isPushEnabled=!1,F.unreadMessageCount=0,F.unreadMentionCount=0,F.totalUnreadReplyCount=0,F.members=[],F.memberCount=0,F.joinedMemberCount=0,F.hiddenState=Eo.UNHIDDEN,F.lastMessage=null,F.messageOffsetTimestamp=0,F.messageSurvivalSeconds=-1,F.myMemberState=Lr.NONE,F.myRole=Jo.NONE,F.myMutedState=Wo.UNMUTED,F.myLastRead=0,F.myCountPreference=yo.ALL,F.myPushTriggerOption=np.DEFAULT,F.inviter=null,F.invitedAt=0,F.joinedAt=0,F.lastPinnedMessage=null,F.conversation=null,F.helpdeskInfo=null,F._latestMessageInfo=null,F._pinnedMessagesUpdatedAt=0,F._myMutedRemainingTime=-1,F._messageDeletionTimestamp=0,F.channelType=Lt.GROUP,F.isDistinct=(a=r.is_distinct)!==null&&a!==void 0&&a,F.isSuper=(s=r.is_super)!==null&&s!==void 0&&s,F.isBroadcast=(l=r.is_broadcast)!==null&&l!==void 0&&l,F.isExclusive=(c=r.is_exclusive)!==null&&c!==void 0&&c,F.isPublic=(d=r.is_public)!==null&&d!==void 0&&d,F.isDiscoverable=(f=r.is_discoverable)!==null&&f!==void 0?f:F.isPublic,F.isChatNotification=(v=r.is_chat_notification)!==null&&v!==void 0&&v,F.isAccessCodeRequired=(g=r.is_access_code_required)!==null&&g!==void 0&&g,F.isPushEnabled=(y=r.is_push_enabled)!==null&&y!==void 0&&y,Array.isArray(r.members)&&(i=F.members).push.apply(i,et([],Ye(r.members.map((function(te){return new Co(F._iid,te)}))),!1)),F.memberCount=(b=r.member_count)!==null&&b!==void 0?b:0,F.joinedMemberCount=(C=r.joined_member_count)!==null&&C!==void 0?C:0,F.hiddenState=wt(Eo,r.hidden_state)?r.hidden_state:Eo.UNHIDDEN,F.messageOffsetTimestamp=(w=r.ts_message_offset)!==null&&w!==void 0?w:0,F.messageSurvivalSeconds=(I=r.message_survival_seconds)!==null&&I!==void 0?I:-1,F.lastMessage=r.last_message?sa(F._iid,q({channel_type:F.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach((function(te){W("number",r.read_receipt[te])&&F._updateUnreadMemberState(te,r.read_receipt[te])})),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach((function(te){W("number",r.delivery_receipt[te])&&F._updateUndeliveredMemberState(te,r.delivery_receipt[te])})),F.myMemberState=wt(Lr,r.member_state)?r.member_state:Lr.NONE,F.myRole=wt(Jo,r.my_role)?r.my_role:Jo.NONE,wt(Wo,r.is_muted)?F.myMutedState=r.is_muted:W("boolean",r.is_muted)?F.myMutedState=r.is_muted?Wo.MUTED:Wo.UNMUTED:F.myMutedState=Wo.UNMUTED,F.myCountPreference=wt(yo,r.count_preference)?r.count_preference:yo.ALL,F.myPushTriggerOption=wt(np,r.push_trigger_option)?r.push_trigger_option:np.ALL,F.myLastRead=(M=r.user_last_read)!==null&&M!==void 0?M:0,F.inviter=r.inviter?new Mt(F._iid,r.inviter):null,F.invitedAt=(R=r.invited_at)!==null&&R!==void 0?R:0,F.joinedAt=(U=r.joined_ts)!==null&&U!==void 0?U:0,F._updateUnreadCount((H=r.unread_message_count)!==null&&H!==void 0?H:0,(P=r.unread_mention_count)!==null&&P!==void 0?P:0),F.totalUnreadReplyCount=(G=r.total_unread_thread_message_count)!==null&&G!==void 0?G:0,F.lastPinnedMessage=r.latest_pinned_message?sa(F._iid,q({channel_type:F.channelType},r.latest_pinned_message)):null,F.conversation=r.conversation?new L0(r.conversation):null,F.helpdeskInfo=r.helpdesk_info?new GM(r.helpdesk_info):null,r.latest_message&&(F._latestMessageInfo={messageId:r.latest_message.message_id,createdAt:r.latest_message.created_at}),F._aiAgentAdditionalData={hasBot:r.has_bot,hasAIBot:r.has_ai_bot,isAIAgent:r.is_ai_agent_channel,isDesk:r.is_desk_channel},F._messageDeletionTimestamp=(Y=r.message_purge_offset)!==null&&Y!==void 0?Y:0,F}return k(n,t),Object.defineProperty(n.prototype,"isHidden",{get:function(){return this.hiddenState!==Eo.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isTyping",{get:function(){return this._typingStatus.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUnreadMemberState",{get:function(){var e,r,i={};try{for(var a=De(this._unreadMemberStateMap),s=a.next();!s.done;s=a.next()){var l=Ye(s.value,2),c=l[0],d=l[1];i[c]=d}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUndeliveredMemberState",{get:function(){var e,r,i={};try{for(var a=De(this._undeliveredMemberStateMap),s=a.next();!s.done;s=a.next()){var l=Ye(s.value,2),c=l[0],d=l[1];i[c]=d}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasBot",{get:function(){return!!this._aiAgentAdditionalData.hasBot},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasAiBot",{get:function(){return!!this._aiAgentAdditionalData.hasAIBot},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDesk",{get:function(){return!!this._aiAgentAdditionalData.isDesk},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAIAgent",{get:function(){return!!this._aiAgentAdditionalData.isAIAgent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"messageDeletionTimestamp",{get:function(){return this._messageDeletionTimestamp},enumerable:!1,configurable:!0}),n.payloadify=function(e,r){r===void 0&&(r=!1);var i=q(q({},t.payloadify.call(this,e,r)),{is_access_code_required:e.isAccessCodeRequired,is_distinct:e.isDistinct,is_super:e.isSuper,is_broadcast:e.isBroadcast,is_exclusive:e.isExclusive,is_public:e.isPublic,is_discoverable:e.isDiscoverable,is_muted:e.myMutedState,is_push_enabled:e.isPushEnabled,unread_message_count:e.unreadMessageCount,unread_mention_count:e.unreadMentionCount,total_unread_thread_message_count:e.totalUnreadReplyCount,push_trigger_option:e.myPushTriggerOption,count_preference:e.myCountPreference,hidden_state:e.hiddenState,member_count:e.memberCount,joined_member_count:e.joinedMemberCount,member_state:e.myMemberState,my_role:e.myRole,user_last_read:e.myLastRead,ts_message_offset:e.messageOffsetTimestamp,message_survival_seconds:e.messageSurvivalSeconds,read_receipt:e.cachedUnreadMemberState,delivery_receipt:e.cachedUndeliveredMemberState,members:e.members.map((function(a){return Co.payloadify(a)})),last_message:e.lastMessage?NS(e.lastMessage):null,inviter:e.inviter?Mt.payloadify(e.inviter):null,invited_at:e.invitedAt,joined_ts:e.joinedAt,latest_pinned_message:e.lastPinnedMessage?NS(e.lastPinnedMessage):null,latest_message:e._latestMessageInfo?{message_id:e._latestMessageInfo.messageId,created_at:e._latestMessageInfo.createdAt}:null,has_bot:e._aiAgentAdditionalData.hasBot,has_ai_bot:e._aiAgentAdditionalData.hasAIBot,is_desk_channel:e._aiAgentAdditionalData.isDesk,is_ai_agent_channel:e._aiAgentAdditionalData.isAIAgent,message_purge_offset:e.messageDeletionTimestamp,conversation:e.conversation?L0.payloadify(e.conversation):null,helpdesk_info:e.helpdeskInfo?GM.payloadify(e.helpdeskInfo):null});return r?i:Pe(We(i))},n.prototype._shouldUpdateLastMessageWith=function(e){if(e.silent)return!1;var r=j.of(this._iid).appInfo;switch(r?.lastMessageThreadingPolicy){case sp.NONE:case sp.INCLUDE_REPLY:break;case sp.EXCLUDE_REPLY:if(e.parentMessageId>0)return!1;break;case sp.INCLUDE_REPLY_TO_CHANNEL:if(e instanceof Ur&&e.parentMessageId>0&&!e.replyToChannel)return!1}return!this.lastMessage||this.lastMessage.createdAt<e.createdAt||this.lastMessage.createdAt===e.createdAt&&this.lastMessage.messageId===e.messageId&&this.lastMessage.updatedAt<=e.updatedAt},n.prototype._tryUpdateLastMessageAndCallEvents=function(e,r){var i=j.of(this._iid).dispatcher,a=pi.of(this._iid);this._updateLastMessage(r),a.handlers.map((function(s){s.onChannelChanged&&s.onChannelChanged(e)})),i.dispatch(new Rt({channels:[e],context:{source:ve.EVENT_MESSAGE_SENT}}))},n.prototype._shouldUpdateUnreadCountWith=function(e){var r=j.of(this._iid).appInfo;switch(r?.unreadCountThreadingPolicy){case ap.NONE:case ap.INCLUDE_REPLY:break;case ap.EXCLUDE_REPLY:if(e.parentMessageId>0)return!1;break;case ap.INCLUDE_REPLY_TO_CHANNEL:if(e instanceof Ur&&e.parentMessageId>0&&!e.replyToChannel)return!1}return!0},n.prototype._updateLastMessage=function(e){return!!this._shouldUpdateLastMessageWith(e)&&(this.lastMessage=e,!0)},n.prototype._updateUnreadCount=function(e,r){if(typeof e=="number"&&e>=0)if(this.myCountPreference===yo.ALL||this.myCountPreference===yo.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var i=j.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=i&&e>=i?i:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===yo.ALL||this.myCountPreference===yo.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},n.prototype._updateUnreadMemberState=function(e,r,i){i===void 0&&(i=!1);var a=this._unreadMemberStateMap.get(e);return!!(!a||i||!i&&a<r)&&a!==r&&(this._unreadMemberStateMap.set(e,r),j.of(this._iid).sdkState.userId===e&&(this.myLastRead=r),!0)},n.prototype._updateUndeliveredMemberState=function(e,r){var i=this._undeliveredMemberStateMap.get(e);return(!i||i<r)&&(this._undeliveredMemberStateMap.set(e,r),!0)},n.prototype._updateTypingStatus=function(e,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus.set(e.userId,{user:e,ts:r}):this._typingStatus.delete(e.userId)},n.prototype._clearTypingStatus=function(){this._typingStatus.clear(),this._typingStarted=0,this._typingEnded=0},n.prototype._update=function(e){e._typingStatus=this._typingStatus,e._typingStarted=this._typingStarted,e._typingEnded=this._typingEnded,t.prototype._update.call(this,e)},n.prototype._setLatestMemberCount=function(e,r,i){var a=!1;return i>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=i,a=e!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=e,this.joinedMemberCount=r),a},n.prototype.isReadMessage=function(e){var r=j.of(this._iid).sdkState,i=this._unreadMemberStateMap.get(r.userId);return!!i&&i>=e.createdAt},n.prototype.serialize=function(){var e=this;return Dv(this,(function(r){r.cachedUnreadMemberState=e.cachedUnreadMemberState,r.cachedUndeliveredMemberState=e.cachedUndeliveredMemberState,Object.assign(r,e._serializeCachedMetaData())}))},n.prototype.createMessageCollection=function(e){return e===void 0&&(e={}),new Iq(this._iid,q(q({},e),{channel:this}))},n.prototype.createMemberListQuery=function(e){return e===void 0&&(e={}),new Dq(this._iid,this.url,e)},n.prototype.createThreadedParentMessageListQuery=function(e){return e===void 0&&(e={}),new SV(this._iid,this.url,this.channelType,e)},n.prototype.addMember=function(e,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var i=this.members.findIndex((function(s){return s.userId===e.userId}));if(i>-1){var a=this.members[i];a.state===Lr.JOINED&&(e.state=a.state),this.members.splice(i,1),this.memberCount--}this.members.push(e),this.memberCount++,this._updateUnreadMemberState(e.userId,r),this._updateUndeliveredMemberState(e.userId,r)}},n.prototype.removeMember=function(e){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=e instanceof Co?e.userId:e,i=this.members.findIndex((function(a){return a.userId===r}));if(i>-1)return this.members.splice(i,1),this.memberCount--,!0}return!1},n.prototype.getUnreadMemberCount=function(e){var r,i;if(e instanceof Ur&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var a=j.of(this._iid).sdkState,s=e.createdAt,l=0;try{for(var c=De(this.members),d=c.next();!d.done;d=c.next()){var f=d.value;a.userId!==f.userId&&f.state===Lr.JOINED&&e.sender.userId!==f.userId&&(this.cachedUnreadMemberState[f.userId]||0)<s&&l++}}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return l}return 0},n.prototype.getUndeliveredMemberCount=function(e){var r,i;if(e instanceof Ur&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var a=j.of(this._iid).sdkState,s=e.createdAt,l=0;try{for(var c=De(this.members),d=c.next();!d.done;d=c.next()){var f=d.value;a.userId!==f.userId&&f.state===Lr.JOINED&&e.sender.userId!==f.userId&&(this.cachedUndeliveredMemberState[f.userId]||0)<s&&l++}}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return l}return 0},n.prototype.getReadMembers=function(e,r){var i=this;r===void 0&&(r=!1);var a=j.of(this._iid).sdkState;if(!a.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var s=e instanceof Ur?e.sender:null,l=[];return this.members.forEach((function(c){if(r||c.userId!==a.userId&&c.userId!==s?.userId){var d=i._unreadMemberStateMap.get(c.userId);d&&d>=e.createdAt&&l.push(c)}})),l},n.prototype.getUnreadMembers=function(e,r){var i=this;r===void 0&&(r=!1);var a=j.of(this._iid).sdkState;if(!a.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var s=e instanceof Ur?e.sender:null,l=[];return this.members.forEach((function(c){if(r||c.userId!==a.userId&&c.userId!==s?.userId){var d=i._unreadMemberStateMap.get(c.userId);d&&d<e.createdAt&&l.push(c)}})),l},n.prototype.getReadStatus=function(e){var r=this;e===void 0&&(e=!1);var i=j.of(this._iid).sdkState;if(!i.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var a={};return this.members.forEach((function(s){if(e||s.userId!==i.userId){var l=r._unreadMemberStateMap.get(s.userId);a[s.userId]=new xx(r._iid,{channel_url:r.url,channel_type:r.channelType,user:Co.payloadify(s),ts:l??0})}})),a},n.prototype.getDeliveryStatus=function(e){var r=this;e===void 0&&(e=!0);var i=j.of(this._iid).sdkState;if(!i.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var a={};return this.members.forEach((function(s){if(e||s.userId!==i.userId){var l=r._undeliveredMemberStateMap.get(s.userId);a[s.userId]=new OV(r._iid,{channel_url:r.url,channel_type:r.channelType,user:Co.payloadify(s),ts:l??0})}})),a},n.prototype.getTypingUsers=function(){var e=[];return this._typingStatus.forEach((function(r){var i=r.user;e.push(i)})),e},n.prototype.invalidateTypingStatus=function(){var e=this;if(!this.isTyping)return!1;var r=j.of(this._iid).typingIndicatorInvalidateTime,i=Date.now(),a=!1;return this._typingStatus.forEach((function(s,l){var c=s.ts;i-c>=r&&(e._typingStatus.delete(l),a=!0)})),a},n.prototype.refresh=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){return[2,this._refresh()]}))}))},n.prototype._refresh=function(e){return e===void 0&&(e=!1),A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return r=j.of(this._iid),i=r.requestQueue,a=r.dispatcher,s=new kS({channelUrl:this.url}),[4,i.send(s)];case 1:return l=d.sent(),c=l.as(PS).channel,this._update(c),e||a.dispatch(new Rt({channels:[c],context:{source:ve.REFRESH_CHANNEL}})),[2,this]}}))}))},n.prototype.freeze=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,t.prototype.freeze.call(this)];case 1:return e.sent(),j.of(this._iid).dispatcher.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_FROZEN},isWebSocketEventComing:!0})),[2]}}))}))},n.prototype.unfreeze=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,t.prototype.unfreeze.call(this)];case 1:return e.sent(),j.of(this._iid).dispatcher.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_UNFROZEN},isWebSocketEventComing:!0})),[2]}}))}))},n.prototype.updateChannel=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return r=q(q({},Mq),e),Ne((function(v){return W("string",v.coverUrl,!0)&&(Oi(v.coverImage)||W("string",v.coverImage,!0))&&W("boolean",v.isDistinct,!0)&&W("boolean",v.isPublic,!0)&&W("boolean",v.isDiscoverable,!0)&&W("string",v.accessCode,!0)&&W("string",v.name,!0)&&W("string",v.data,!0)&&W("string",v.customType,!0)&&It("string",v.operatorUserIds,!0)&&W("number",v.messageSurvivalSeconds,!0)})(r)).throw(Z.invalidParameters),i=j.of(this._iid),a=i.dispatcher,s=i.requestQueue,l=new Uq(q({channelUrl:this.url},r)),[4,s.send(l)];case 1:return c=f.sent(),d=c.as(kq).channel,this._update(d),a.dispatch(new Rt({channels:[d],context:{source:ve.EVENT_CHANNEL_UPDATED},isWebSocketEventComing:!0})),[2,this]}}))}))},n.prototype.invite=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return Ne(e.every((function(i){return i instanceof Mt}))).throw(Z.invalidParameters),[2,this.inviteWithUserIds(e.map((function(i){return i.userId})))]}))}))},n.prototype.inviteWithUserIds=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return Ne(It("string",e)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.dispatcher,a=r.requestQueue,s=r.sessionManager,l=new aq({channelUrl:this.url,userIds:e}),[4,a.send(l)];case 1:return c=f.sent(),d=c.as(sq).channel,this._update(d),i.dispatch(new Rt({channels:[d],context:{source:ve.EVENT_CHANNEL_INVITED,inviter:s.currentUser,invitees:[]},isWebSocketEventComing:!0})),[2,this]}}))}))},n.prototype.join=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return Ne(W("string",e,!0)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.dispatcher,a=r.sdkState,s=r.requestQueue,l=new eq({channelUrl:this.url,userId:a.userId,accessCode:e}),[4,s.send(l)];case 1:return c=f.sent(),(d=c.as(tq).channel).myMemberState=this.myMemberState=Lr.JOINED,this._update(d),i.dispatch(new Rt({channels:[d],context:{source:ve.EVENT_CHANNEL_JOINED,users:[]},isWebSocketEventComing:!0})),[2,this]}}))}))},n.prototype.leave=function(e){return e===void 0&&(e=!1),A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return r=j.of(this._iid),i=r.sdkState,a=r.requestQueue,s=new rq({channelUrl:this.url,userId:i.userId,shouldRemoveOperatorStatus:e}),[4,a.send(s)];case 1:return l.sent(),this.myMemberState=Lr.NONE,[2]}}))}))},n.prototype.acceptInvitation=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return Ne(W("string",e,!0)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.dispatcher,a=r.sdkState,s=r.requestQueue,l=new xq({channelUrl:this.url,userId:a.userId,accessCode:e}),[4,s.send(l)];case 1:return c=f.sent(),(d=c.as(Lq).channel).myMemberState=this.myMemberState=Lr.JOINED,this._update(d),i.dispatch(new Rt({channels:[d],context:{source:ve.EVENT_CHANNEL_ACCEPTED_INVITE},isWebSocketEventComing:!0})),[2,this]}}))}))},n.prototype.declineInvitation=function(){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new lq({channelUrl:this.url,userId:r.userId}),[4,i.send(a)];case 1:return s.sent(),this.myMemberState=Lr.NONE,[2,this]}}))}))},n.prototype.sendUserMessage=function(e){var r=this,i=new zs,a=j.of(this._iid).dispatcher,s=jg.of(this._iid);return t.prototype.sendUserMessage.call(this,e).onPending((function(l){s.completeCurrentAndProcessNextAutoResend(l),i._trigger(l)})).onFailed((function(l,c){c&&s.completeCurrentAndProcessNextAutoResend(c),i._triggerFailed(l,c)})).onSucceeded((function(l){s.completeCurrentAndProcessNextAutoResend(l),r._updateLastMessage(l),pi.of(r._iid).handlers.map((function(c){c.onChannelChanged&&c.onChannelChanged(r)})),a.dispatch(new Rt({channels:[r],context:{source:ve.EVENT_MESSAGE_SENT}})),i._trigger(l)})),i},n.prototype.updateUserMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l,c=this;return N(this,(function(d){switch(d.label){case 0:return i=j.of(this._iid).dispatcher,[4,t.prototype.updateUserMessage.call(this,e,r)];case 1:return a=d.sent(),s=this._updateLastMessage(a),l=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===a.messageId&&(this.lastPinnedMessage=a,s=!0,l=!0),s&&(pi.of(this._iid).handlers.map((function(f){f.onChannelChanged&&f.onChannelChanged(c)})),i.dispatch(new Rt({channels:[this],context:{source:l?ve.EVENT_PINNED_MESSAGE_UPDATED:ve.EVENT_MESSAGE_UPDATED}}))),l&&pi.of(this._iid).handlers.map((function(f){f.onPinnedMessageUpdated&&f.onPinnedMessageUpdated(c)})),i.dispatch(new cr({messages:[a],source:ve.EVENT_MESSAGE_UPDATED})),[2,a]}}))}))},n.prototype._autoResendUserMessage=function(e){var r=this,i=new zs,a=j.of(this._iid).dispatcher,s=jg.of(this._iid);return t.prototype._autoResendUserMessage.call(this,e).onPending((function(l){s.completeCurrentAndProcessNextAutoResend(l),i._trigger(l)})).onFailed((function(l,c){s.completeCurrentAndProcessNextAutoResend(c),i._triggerFailed(l,c)})).onSucceeded((function(l){var c=pi.of(r._iid);s.completeCurrentAndProcessNextAutoResend(l),r._updateLastMessage(l),c.handlers.map((function(d){d.onChannelChanged&&d.onChannelChanged(r)})),a.dispatch(new Rt({channels:[r],context:{source:ve.EVENT_MESSAGE_SENT}})),i._trigger(l)})),i},n.prototype.sendFileMessage=function(e){var r=this,i=new zs,a=j.of(this._iid).dispatcher,s=jg.of(this._iid);return t.prototype.sendFileMessage.call(this,e).onPending((function(l){s.completeCurrentAndProcessNextAutoResend(l),i._trigger(l)})).onFailed((function(l,c){c&&s.completeCurrentAndProcessNextAutoResend(c),i._triggerFailed(l,c)})).onSucceeded((function(l){var c=pi.of(r._iid);s.completeCurrentAndProcessNextAutoResend(l),r._updateLastMessage(l),c.handlers.map((function(d){d.onChannelChanged&&d.onChannelChanged(r)})),a.dispatch(new Rt({channels:[r],context:{source:ve.EVENT_MESSAGE_SENT}})),i._trigger(l)})),i},n.prototype.sendMultipleFilesMessage=function(e){var r=this,i=new qb,a=j.of(this._iid).dispatcher;return t.prototype.sendMultipleFilesMessage.call(this,e).onPending((function(s){i._trigger(s)})).onFailed((function(s,l){i._triggerFailed(s,l)})).onSucceeded((function(s){var l=pi.of(r._iid);r._updateLastMessage(s),l.handlers.map((function(c){c.onChannelChanged&&c.onChannelChanged(r)})),a.dispatch(new Rt({channels:[r],context:{source:ve.EVENT_MESSAGE_SENT}})),i._trigger(s)})).onFileUploaded((function(s,l,c,d){i._triggerOnFileUploaded(s,l,c,d)})),i},n.prototype.updateFileMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l,c=this;return N(this,(function(d){switch(d.label){case 0:return i=j.of(this._iid).dispatcher,[4,t.prototype.updateFileMessage.call(this,e,r)];case 1:return a=d.sent(),s=this._updateLastMessage(a),l=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===a.messageId&&(this.lastPinnedMessage=a,s=!0,l=!0),s&&(pi.of(this._iid).handlers.map((function(f){f.onChannelChanged&&f.onChannelChanged(c)})),i.dispatch(new Rt({channels:[this],context:{source:l?ve.EVENT_PINNED_MESSAGE_UPDATED:ve.EVENT_MESSAGE_UPDATED}}))),l&&pi.of(this._iid).handlers.map((function(f){f.onPinnedMessageUpdated&&f.onPinnedMessageUpdated(c)})),i.dispatch(new cr({messages:[a],source:ve.EVENT_MESSAGE_UPDATED})),[2,a]}}))}))},n.prototype._autoResendFileMessage=function(e){var r=this,i=new zs,a=j.of(this._iid).dispatcher,s=jg.of(this._iid);return t.prototype._autoResendFileMessage.call(this,e).onPending((function(l){s.completeCurrentAndProcessNextAutoResend(l),i._trigger(l)})).onFailed((function(l,c){s.completeCurrentAndProcessNextAutoResend(c),i._triggerFailed(l,c)})).onSucceeded((function(l){var c=pi.of(r._iid);s.completeCurrentAndProcessNextAutoResend(l),r._updateLastMessage(l),c.handlers.map((function(d){d.onChannelChanged&&d.onChannelChanged(r)})),a.dispatch(new Rt({channels:[r],context:{source:ve.EVENT_MESSAGE_SENT}})),i._trigger(l)})),i},n.prototype.deleteMessage=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,t.prototype.deleteMessage.call(this,e)];case 1:return r.sent(),e.messageId===0&&e instanceof Ur&&j.of(this._iid).dispatcher.dispatch(new Tx({reqId:e.reqId,source:ve.EVENT_MESSAGE_DELETED})),[2]}}))}))},n.prototype.hide=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f;return N(this,(function(v){switch(v.label){case 0:return r=q(q({},FS),e),Ne((function(g){return W("boolean",g.hidePreviousMessages,!0)&&W("boolean",g.allowAutoUnhide,!0)})(r)).throw(Z.invalidParameters),i=j.of(this._iid),a=i.dispatcher,s=i.sdkState,l=i.requestQueue,c=new cq(q({channelUrl:this.url,userId:s.userId},r)),[4,l.send(c)];case 1:return d=v.sent(),f=d.as(dq).messageOffsetTimestamp,this.hiddenState=r.allowAutoUnhide?Eo.HIDDEN_ALLOW_AUTO_UNHIDE:Eo.HIDDEN_PREVENT_AUTO_UNHIDE,r.hidePreviousMessages&&this._updateUnreadCount(0,0),f&&(this.messageOffsetTimestamp=f),a.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_HIDDEN},isWebSocketEventComing:!0})),[2,this]}}))}))},n.prototype.unhide=function(){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return e=j.of(this._iid),r=e.dispatcher,i=e.requestQueue,a=new Fq({channelUrl:this.url}),[4,i.send(a)];case 1:return s.sent(),this.hiddenState=Eo.UNHIDDEN,r.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_UNHIDDEN},isWebSocketEventComing:!0})),[2,this]}}))}))},n.prototype.delete=function(){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid).requestQueue,r=new Pq({channelUrl:this.url}),[4,e.send(r)];case 1:return i.sent(),[2]}}))}))},n.prototype.markAsRead=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:return e=j.of(this._iid),r=e.dispatcher,i=e.requestQueue,a=new Z9({channelUrl:this.url}),[4,i.send(a)];case 1:return s=f.sent(),l=s.as(Lx).readStatus,this._updateUnreadMemberState(l.reader.userId,l.readAt),c=!1,(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),c=!0),pi.of(this._iid).handlers.map((function(v){c&&v.onChannelChanged&&v.onChannelChanged(d),v.onUserMarkedRead&&v.onUserMarkedRead(d,[l.reader.userId])})),r.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_READ,userIds:[l.reader.userId]}})),[2]}}))}))},n.prototype.markAsUnread=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g,y,b,C=this;return N(this,(function(w){switch(w.label){case 0:return r=j.of(this._iid),i=r.sdkState,a=r.dispatcher,s=r.requestQueue,l=new J9({channelUrl:this.url,channelType:this.channelType,messageId:e.messageId,userId:i.userId,isExcluded:!0,uniqueId:"read-".concat(wo())}),[4,s.send(l)];case 1:return c=w.sent(),d=c.as(eG),f=d.readAt,v=d.unreadMessageCount,g=d.userId,y=d.isExcluded,b=d.totalUnreadCount,this._updateUnreadMemberState(g,f,y),this._updateUnreadCount(v,this.unreadMentionCount),a.dispatch(new l3(b)),pi.of(this._iid).handlers.map((function(I){I.onChannelChanged&&I.onChannelChanged(C),I.onUserMarkedUnread&&I.onUserMarkedUnread(C,[g])})),a.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_UNREAD,userIds:[g]}})),[2]}}))}))},n.prototype.markAsDelivered=function(){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new gq({channelUrl:this.url,userId:r.userId}),[4,i.send(a)];case 1:return s.sent(),[2]}}))}))},n.prototype.startTyping=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return e=j.of(this._iid),r=e.requestQueue,i=e.typingIndicatorThrottle,(a=new Date().getTime())-this._typingStarted>=i?(this._typingStarted=a,this._typingEnded=0,s=new fq({channelUrl:this.url,time:this._typingStarted}),[4,r.send(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}}))}))},n.prototype.endTyping=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return e=j.of(this._iid),r=e.requestQueue,i=e.typingIndicatorThrottle,(a=new Date().getTime())-this._typingEnded>=i?(this._typingStarted=0,this._typingEnded=a,s=new mq({channelUrl:this.url,time:this._typingStarted}),[4,r.send(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}}))}))},n.prototype.createScheduledUserMessage=function(e){e=q(q({},lV),e),Ne(uV(e)).throw(Z.invalidParameters);var r=new zs;return this._createScheduledUserMessage(e,r),r},n.prototype.updateScheduledUserMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return i=q(q({},qq),r),Ne((function(d){return zx(d)&&W("number",d.scheduledAt,!0)})(i)).throw(Z.invalidParameters),a=j.of(this._iid).requestQueue,s=new Kq(q({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},i)),[4,a.send(s)];case 1:return l=c.sent(),[2,l.as(Qx).message]}}))}))},n.prototype.createScheduledFileMessage=function(e){var r=this;e=q(q({},cV),e),Ne(dV(e)).throw(Z.invalidParameters);var i=Date.now(),a=this._generateRequestId(),s=new zs;return Ea(Fz).then((function(){var l=r._createPendingScheduledFileMessage(e,a,i);Qe((function(){return A(r,void 0,void 0,(function(){return N(this,(function(c){return[2,s._trigger(l)]}))}))}))})),Oi(e.file)?this._uploadFileAndUpdateParams(e).then((function(){return r._createScheduledFileMessage(e,s,a,i)})):this._createScheduledFileMessage(e,s,a,i),s},n.prototype.updateScheduledFileMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return i=q(q({},Vq),r),Ne((function(c){return _3(c)&&W("number",c.scheduledAt,!0)&&(Oi(c.file)||W("string",c.fileUrl))&&W("string",c.fileName,!0)&&W("string",c.mimeType,!0)&&W("number",c.fileSize,!0)&&(c.thumbnailSizes===null||c.thumbnailSizes===void 0||c.thumbnailSizes.every((function(d){return W("object",d)&&d.maxWidth>0&&d.maxHeight>0})))})(i)).throw(Z.invalidParameters),Oi(i.file)?[4,this._uploadFileAndUpdateParams(i)]:[3,2];case 1:l.sent(),l.label=2;case 2:return a=new jq(q({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},i)),[4,j.of(this._iid).requestQueue.send(a)];case 3:return s=l.sent(),[2,s.as($q).message]}}))}))},n.prototype.cancelScheduledMessage=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=new Yq({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,j.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}}))}))},n.prototype.sendScheduledMessageNow=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return r=new Wq({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,j.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}}))}))},n.prototype.getMyPushTriggerOption=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new Zq({userId:r.userId,channelUrl:this.url}),[4,i.send(a)];case 1:return s=c.sent(),l=s.as(Jq).pushTriggerOption,this.myPushTriggerOption=l,[2,l]}}))}))},n.prototype.setMyPushTriggerOption=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return Ne(wt(np,e)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.dispatcher,a=r.sdkState,s=r.requestQueue,l=new Qq({userId:a.userId,channelUrl:this.url,pushTriggerOption:e}),[4,s.send(l)];case 1:return c=f.sent(),d=c.as(Xq).pushTriggerOption,this.myPushTriggerOption=d,i.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_UPDATED},isWebSocketEventComing:!0})),[2,d]}}))}))},n.prototype.setMyCountPreference=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return Ne(wt(yo,e)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.dispatcher,a=r.sdkState,s=r.requestQueue,l=new Hq({channelUrl:this.url,userId:a.userId,countPreference:e}),[4,s.send(l)];case 1:return c=f.sent(),d=c.as(Bq).countPreference,this.myCountPreference=d,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),i.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_UPDATED},isWebSocketEventComing:!0})),[2,d]}}))}))},n.prototype.resetMyHistory=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=j.of(this._iid),r=e.dispatcher,i=e.requestQueue,a=new Gq({channelUrl:this.url}),[4,i.send(a)];case 1:return s=c.sent(),l=s.as(zq).messageOffsetTimestamp,this.messageOffsetTimestamp=l,this.lastMessage&&this.lastMessage.createdAt<l&&(this.lastMessage=null),this._updateUnreadCount(0,0),this.totalUnreadReplyCount=0,r.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_RESET_HISTORY},isWebSocketEventComing:!0})),[2,this]}}))}))},n.prototype._uploadFileAndUpdateParams=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g;return N(this,(function(y){switch(y.label){case 0:return Oi(e.file)?(r=j.of(this._iid).requestQueue,i=new g1({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(i)]):[3,2];case 1:a=y.sent(),s=a.as(y1),l=s.url,c=s.fileSize,d=c===void 0?e.fileSize:c,f=s.thumbnails,v=s.requireAuth,g=v!==void 0&&v,e.fileUrl=l,e.fileSize=d,e.requireAuth=g,e._thumbnails=f,y.label=2;case 2:return[2]}}))}))},n.prototype.resendMessage=function(e,r){var i,a=this;if(Ne(e instanceof Ur&&!e.scheduledInfo&&e.isResendable).throw(Z.invalidParameters),e.isUserMessage()){var s=(i=e.messageParams)!==null&&i!==void 0?i:IS(e),l=new zs;return this._sendUserMessage(s,Ji.RESEND,e.reqId).onPending((function(v){l._trigger(v)})).onFailed((function(v,g){l._triggerFailed(v,g)})).onSucceeded((function(v){a._tryUpdateLastMessageAndCallEvents(a,v),l._trigger(v)})),l}if(e.isFileMessage()){var c=this._validateFailedFileMessageHasFile(e,r);Ne(c).throw(Z.invalidParameters),s=MS(e,r);var d=new zs;return this._sendFileMessage(s,Ji.RESEND,e.reqId).onPending((function(v){d._trigger(v)})).onFailed((function(v,g){d._triggerFailed(v,g)})).onSucceeded((function(v){a._tryUpdateLastMessageAndCallEvents(a,v),d._trigger(v)})),d}if(e.isMultipleFilesMessage()){s=e.messageParams;var f=new qb;return this._sendMultipleFilesMessage(s,Ji.RESEND,e.reqId).onPending((function(v){f._trigger(v)})).onFailed((function(v,g){f._triggerFailed(v,g)})).onSucceeded((function(v){a._tryUpdateLastMessageAndCallEvents(a,v),f._trigger(v)})).onFileUploaded((function(v,g,y,b){f._triggerOnFileUploaded(v,g,y,b)})),f}},n.prototype.copyMessage=function(e,r){var i=this;if(Ne(e instanceof C1&&r instanceof Ur&&r.sendingStatus===dn.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Z.invalidParameters),r.isUserMessage()){Ne(!r.poll).throw(Z.notSupportedError);var a=Fx(r),s=new zs;return e._sendUserMessage(a).onPending((function(d){s._trigger(d)})).onFailed((function(d,f){s._triggerFailed(d,f)})).onSucceeded((function(d){e.isGroupChannel()&&i._tryUpdateLastMessageAndCallEvents(e,d),s._trigger(d)})),s}if(r.isFileMessage()){a=Bx(r);var l=new zs;return e._sendFileMessage(a).onPending((function(d){l._trigger(d)})).onFailed((function(d,f){l._triggerFailed(d,f)})).onSucceeded((function(d){e.isGroupChannel()&&i._tryUpdateLastMessageAndCallEvents(e,d),l._trigger(d)})),l}if(r.isMultipleFilesMessage()){if(e.isGroupChannel()){a=Mz(r);var c=new qb;return e._sendMultipleFilesMessage(a,Ji.COPY).onPending((function(d){c._trigger(d)})).onFailed((function(d,f){c._triggerFailed(d,f)})).onSucceeded((function(d){i._tryUpdateLastMessageAndCallEvents(e,d),c._trigger(d)})).onFileUploaded((function(d,f,v,g){c._triggerOnFileUploaded(d,f,v,g)})),c}throw Z.channelTypeNotSupportedError}},n.prototype.getMessageDeletionTimestamp=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=j.of(this._iid),r=e.requestQueue,i=e.dispatcher,a=new ej({channelUrl:this.url,channelType:this.channelType}),[4,r.send(a)];case 1:return s=c.sent(),l=s.as(tj).messageDeletionTimestamp,this._messageDeletionTimestamp=l,i.dispatch(new NL({channel:this})),[2,l]}}))}))},n.prototype.submitCSAT=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return Ne(W("number",e.csat)&&W("string",e.csatType)&&W("string",e.csatReason,!0)&&W("boolean",e.isResolved,!0)&&W("number",e.resolutionScore,!0)&&W("number",e.csatStartedAt,!0)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.requestQueue,a=r.dispatcher,s=new nj(q({channelUrl:this.url},e)),[4,i.send(s)];case 1:return l=d.sent(),c=l.as(rj).conversation,this.conversation=c,a.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_CSAT_SUBMITTED}})),[2,c]}}))}))},n.prototype.markConversationAsHandoff=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=j.of(this._iid),r=e.requestQueue,i=e.dispatcher,a=new ij({channelUrl:this.url}),[4,r.send(a)];case 1:return s=c.sent(),l=s.as(aj).conversation,this.conversation=l,i.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_CONVERSATION_HANDEDOFF}})),[2,l]}}))}))},n.prototype.closeConversation=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=j.of(this._iid),r=e.requestQueue,i=e.dispatcher,a=new sj({channelUrl:this.url}),[4,r.send(a)];case 1:return s=c.sent(),l=s.as(oj).conversation,this.conversation=l,i.dispatch(new Rt({channels:[this],context:{source:ve.EVENT_CHANNEL_UPDATED}})),[2,l]}}))}))},n.prototype.getContextObject=function(e){return A(this,void 0,void 0,(function(){var r,i,a;return N(this,(function(s){switch(s.label){case 0:return r=j.of(this._iid).requestQueue,i=new cj({aiAgentId:e,channelUrl:this.url}),[4,r.send(i)];case 1:return a=s.sent(),[2,a.as(dj).contextObject]}}))}))},n.prototype.updateContext=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return i=j.of(this._iid).requestQueue,a=new lj({aiAgentId:e,channelUrl:this.url,context:r}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(uj).contextObject]}}))}))},n.prototype.patchContext=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s;return N(this,(function(l){switch(l.label){case 0:return i=j.of(this._iid).requestQueue,a=new hj({aiAgentId:e,channelUrl:this.url,context:r}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(fj).contextObject]}}))}))},n})(C1),Xd={},pj=(function(){function t(n){var e=n._iid,r=n.limit,i=r===void 0?100:r,a=this;this.ref=0,this._iid=e,this._limit=i;var s,l=j.of(this._iid),c=l.sdkState,d=l.dispatcher,f=l.logger,v=l.cacheContext,g=l.statManager;this._metadataKey=(s=c.userId,"sendbird:".concat(s,"@groupchannel/sync.meta"));var y=(function(b){return"sendbird:".concat(b,"@groupchannel/sync")})(c.userId);this._sync=new Vc(y,(function(){return A(a,void 0,void 0,(function(){var b,C,w,I,M,R,U,H,P,G,Y,F,te,J,ne,Oe;return N(this,(function(X){switch(X.label){case 0:return b={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(X.sent(),f.debug("channel background sync from",(P=this._metadata)===null||P===void 0?void 0:P.token),(G=this._metadata)===null||G===void 0?void 0:G.completed)return[3,14];C={includeEmpty:!0,includeMetaData:!0,hiddenChannelFilter:Xo.ALL,order:wr.CHRONOLOGICAL},X.label=2;case 2:if(X.trys.push([2,9,12,13]),C.order!==wr.LATEST_LAST_MESSAGE)return[3,6];X.label=3;case 3:return X.trys.push([3,5,,6]),[4,v.preference.get(u3(c.appId))];case 4:return w=X.sent(),C.includeChatNotification=!!w,[3,6];case 5:return X.sent(),C.includeChatNotification=!1,[3,6];case 6:return[4,pi.of(this._iid).getMyGroupChannels((F=(Y=this._metadata)===null||Y===void 0?void 0:Y.token)!==null&&F!==void 0?F:"",C,this._limit,ve.SYNC_CHANNEL_BACKGROUND)];case 7:return I=X.sent(),M=I.channels,R=I.token,b.hasNext=M.length>=this._limit&&!!R,b.nextToken=R,this._metadata&&(this._metadata.token=R,(H=this._metadata.range).extends.apply(H,et([],Ye(M.map((function(se){return se.createdAt}))),!1)),this._metadata.completed=!b.hasNext),f.debug("channel background sync progress",b),[4,this.saveMetadata()];case 8:return X.sent(),[3,13];case 9:return U=X.sent(),f.debug("channel background sync error",U),U instanceof Z&&U.isInvalidTokenError?[4,this.clearMetaData()]:[3,11];case 10:X.sent(),X.label=11;case 11:throw U;case 12:return g.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:"",measured_on:"channel_back_sync",event:"cache_fetch",max_db_size:(J=(te=v.localCacheConfig)===null||te===void 0?void 0:te.maxSize)!==null&&J!==void 0?J:0,use_local_cache:v.localCacheEnabled,starting_point:0,message_init_policy:(Oe=(ne=C.order)===null||ne===void 0?void 0:ne.toString())!==null&&Oe!==void 0?Oe:"",collection_id:c.userId}})),[7];case 13:return[3,15];case 14:b.hasNext=!1,b.nextToken="",X.label=15;case 15:return[2,b]}}))}))})),this._connectionEventContext=d.on((function(b){b instanceof $s&&(b.stateType===nn.CONNECTED?a.resume():a.pause())}))}return t.of=function(n){return Xd[n]||(Xd[n]=new t({_iid:n})),Xd[n].ref++,Xd[n]},t.clear=function(n){Xd[n]&&(Xd[n].close(),delete Xd[n])},Object.defineProperty(t.prototype,"range",{get:function(){var n,e;return(e=(n=this._metadata)===null||n===void 0?void 0:n.range)!==null&&e!==void 0?e:new jl({})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.completed)},enumerable:!1,configurable:!0}),t.prototype.loadMetadata=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,j.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=e.sent(),this._metadata={token:n?n.token:"",range:new jl(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!n&&n.completed},e.label=2;case 2:return[2,this._metadata]}}))}))},t.prototype.saveMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return this._metadata?[4,j.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return n.sent(),[2,!0];case 2:return[2,!1]}}))}))},t.prototype.clearMetaData=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,j.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),this._metadata=void 0,[2]}}))}))},t.prototype.resume=function(){var n,e,r=j.of(this._iid),i=r.logger;r.sessionManager.session.hasSession&&(i.debug("channel background sync resume()"),this._sync.start((e=(n=this._metadata)===null||n===void 0?void 0:n.token)!==null&&e!==void 0?e:""))},t.prototype.pause=function(){j.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},t.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Xd[this._iid])},t})(),Zd={},mj=(function(){function t(n){var e=n._iid,r=this;this.ref=0,this._iid=e;var i,a=j.of(this._iid),s=a.logger,l=a.sdkState,c=a.dispatcher,d=a.cacheContext,f=a.statManager;this._metadataKey=(i=l.userId,"sendbird:".concat(i,"@groupchannel/changelogs.meta")),this._subscribers=new Mp;var v=(function(g){return"sendbird:".concat(g,"@groupchannel/changelogs")})(l.userId);this._sync=new Vc(v,(function(){return A(r,void 0,void 0,(function(){var g,y,b,C,w,I,M,R,U,H,P,G,Y;return N(this,(function(F){switch(F.label){case 0:return g={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:F.sent(),s.debug("channel changelog sync from",(P=this._metadata)===null||P===void 0?void 0:P.token),y=pi.of(this._iid),F.label=2;case 2:F.trys.push([2,9,12,16]),b={includeEmpty:!0,includeMetaData:!0},F.label=3;case 3:return F.trys.push([3,5,,6]),[4,d.preference.get(u3(l.appId))];case 4:return C=F.sent(),b.includeChatNotification=!!C,[3,6];case 5:return F.sent(),b.includeChatNotification=!1,[3,6];case 6:return[4,y.getMyGroupChannelChangeLogs((Y=(G=this._metadata)===null||G===void 0?void 0:G.token)!==null&&Y!==void 0?Y:"",b,ve.SYNC_CHANNEL_CHANGELOGS)];case 7:return w=F.sent(),I=w.updatedChannels,M=w.deletedChannelUrls,R=w.hasMore,U=w.token,this._subscribers.dispatch("progress",{updatedChannels:I,deletedChannelUrls:M,hasMore:R,token:U}),g.hasNext=R,g.nextToken=U,this._metadata&&(this._metadata.token=U),s.debug("channel changelog sync progress",g),[4,this.saveMetadata()];case 8:return F.sent(),d.localCacheEnabled&&f.put(new $n({type:Mn.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:"",measured_on:"channel_change_log_sync",event:I.length>0||M.length>0?"cache_miss":"cache_hit",max_db_size:I.length,use_local_cache:d.localCacheEnabled,starting_point:0,message_init_policy:M.length.toString(),collection_id:l.userId}})),[3,16];case 9:return H=F.sent(),s.debug("channel changelog sync error",H),H instanceof Z&&H.isInvalidTokenError?[4,this.clearMetadata()]:[3,11];case 10:F.sent(),F.label=11;case 11:throw H;case 12:return g.hasNext?[3,15]:[4,Ea(500)];case 13:return F.sent(),[4,y.removeChannelsByRotation()];case 14:F.sent(),F.label=15;case 15:return[7];case 16:return[2,g]}}))}))})),this._sync.on("stop",(function(){r._subscribers.dispatch("pause")})),this._connectionEventContext=c.on((function(g){g instanceof $s&&(g.stateType===nn.CONNECTED?r.resume():r.pause())}))}return t.of=function(n){return Zd[n]||(Zd[n]=new t({_iid:n})),Zd[n].ref++,Zd[n]},t.clear=function(n){Zd[n]&&(Zd[n].close(),delete Zd[n])},Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._sync.isRunning},enumerable:!1,configurable:!0}),t.prototype.loadMetadata=function(){return A(this,void 0,void 0,(function(){var n,e,r,i;return N(this,(function(a){switch(a.label){case 0:return this._metadata?[3,2]:(n=j.of(this._iid),e=n.cacheContext,r=n.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:i=a.sent(),this._metadata={token:i?i.token:r},a.label=2;case 2:return[2,this._metadata]}}))}))},t.prototype.saveMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return this._metadata?[4,j.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return n.sent(),[2,!0];case 2:return[2,!1]}}))}))},t.prototype.clearMetadata=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,j.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),this._metadata=void 0,[2]}}))}))},t.prototype.on=function(n,e){return this._subscribers.on(n,e)},t.prototype.resume=function(){j.of(this._iid).sessionManager.session.hasSession&&this._sync.start(0)},t.prototype.pause=function(){this._sync.stop()},t.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Zd[this._iid])},t})(),Wb=function(t,n){return t.findIndex((function(e){return e.isIdentical(n)}))},zM=function(t,n,e){if(t.length>0){for(var r=Wb(t,n),i=0,a=t.length-1,s=Math.floor((i+a)/2);i<a;){var l=VM(t[s],n,e);if(l>0)a=s,s=Math.floor((i+a)/2);else{if(!(l<0))return{place:s,oldPosition:r};i=s+1,s=Math.floor((i+a)/2)}}return{place:VM(t[s],n,e)>=0?s:s+1,oldPosition:r}}return{place:t.length,oldPosition:-1}},VM=function(t,n,e){switch(e){case wr.LATEST_LAST_MESSAGE:return t.lastMessage&&n.lastMessage?(r=n.lastMessage.createdAt-t.lastMessage.createdAt)===0?n.createdAt-t.createdAt:r:t.lastMessage?-1:n.lastMessage?1:n.createdAt-t.createdAt;case wr.CHRONOLOGICAL:return n.createdAt-t.createdAt;case wr.CHANNEL_NAME_ALPHABETICAL:var r;return(r=t.name.localeCompare(n.name))===0?t.createdAt-n.createdAt:r;default:return 0}},vj=(function(){function t(n,e){var r=e.filter,i=r===void 0?new TL:r,a=e.order,s=a===void 0?wr.LATEST_LAST_MESSAGE:a,l=e.limit,c=l===void 0?Xx:l,d=e.includeChangesOnInitialLoad,f=d!==void 0&&d,v=this;this.channels=[],this._isInitialized=!1,this._iid=n,this._key="gcc-".concat(wo()),this._isDisposed=!1,this._isGetRemoteChannelsSucceeded=!0,this._includeChangesOnInitialLoad=f,this.filter=i,this.order=s,this._hasMore=!0,this._token="",this._limit=c;var g=j.of(this._iid),y=g.sdkState,b=g.cacheContext,C=g.dispatcher;b.localCacheEnabled&&(this._backgroundSync=pj.of(n),this._backgroundSync.resume()),this._changelogSync=mj.of(n),this._changelogSync.resume(),pi.of(this._iid).subscribeChannelEvent(this._key,{onUpdate:function(w,I){var M=I.source;if(Yb(M)){var R=w.filter((function(H){return v.filter.match(H,y.userId)})),U=w.filter((function(H){return!v.filter.match(H,y.userId)})).map((function(H){return H.url}));R.length>0&&v._addChannelsToView(R,I),U.length>0&&v._removeChannelsFromView(U,I)}},onRemove:function(w,I){v._removeChannelsFromView(w,I)}}),C.on((function(w){w instanceof $s&&(w.stateType===nn.CONNECTED?v._isGetRemoteChannelsSucceeded||A(v,void 0,void 0,(function(){return N(this,(function(I){switch(I.label){case 0:return[4,this._revokeLoadMore()];case 1:return I.sent(),[2]}}))})):w.stateType===nn.LOGOUT&&v.dispose())}))}return Object.defineProperty(t.prototype,"hasMore",{get:function(){return!this._isDisposed&&this._hasMore},enumerable:!1,configurable:!0}),t.prototype.setGroupChannelCollectionHandler=function(n){this._handler=n},t.prototype._addChannelsToView=function(n,e,r){var i,a,s,l,c=this;r===void 0&&(r=!1);var d=[],f=[],v=[];try{for(var g=De(n),y=g.next();!y.done;y=g.next()){var b=y.value,C=Wb(this.channels,b);C>=0&&this.channels.splice(C,1);var w=zM(this.channels,b,this.order).place;if(C<0)w===this.channels.length?!r&&this._hasMore||(d.push(b),this.channels.push(b)):(d.push(b),this.channels.splice(w,0,b));else switch(e.source){case ve.EVENT_CHANNEL_UPDATED:case ve.EVENT_MESSAGE_RECEIVED:case ve.SYNC_CHANNEL_CHANGELOGS:case ve.EVENT_MESSAGE_SENT:this.order===wr.CHANNEL_NAME_ALPHABETICAL&&this._hasMore&&w===this.channels.length?v.push(b):(this.channels.splice(w,0,b),f.push(b));break;default:this.channels.splice(w,0,b),f.push(b)}}}catch(U){i={error:U}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}if(v.length>0)try{for(var I=De(v),M=I.next();!M.done;M=I.next()){b=M.value;var R=Wb(this.channels,b);R!==-1&&this.channels.splice(R,1)}}catch(U){s={error:U}}finally{try{M&&!M.done&&(l=I.return)&&l.call(I)}finally{if(s)throw s.error}}Yb(e.source)&&Qe((function(){return A(c,void 0,void 0,(function(){var U,H,P;return N(this,(function(G){return d.length>0&&(!((U=this._handler)===null||U===void 0)&&U.onChannelsAdded)&&this._handler.onChannelsAdded(e,d),f.length>0&&(!((H=this._handler)===null||H===void 0)&&H.onChannelsUpdated)&&this._handler.onChannelsUpdated(e,f),v.length>0&&(!((P=this._handler)===null||P===void 0)&&P.onChannelsDeleted)&&this._handler.onChannelsDeleted(e,v.map((function(Y){return Y.url}))),[2]}))}))}))},t.prototype._removeChannelsFromView=function(n,e){var r,i,a=this,s=[],l=function(v){var g=c.channels.findIndex((function(y){return y.url===v}));g>=0&&(s.push(c.channels[g].url),c.channels.splice(g,1))},c=this;try{for(var d=De(n),f=d.next();!f.done;f=d.next())l(f.value)}catch(v){r={error:v}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return Yb(e.source)&&s.length>0&&Qe((function(){return A(a,void 0,void 0,(function(){var v;return N(this,(function(g){return!((v=this._handler)===null||v===void 0)&&v.onChannelsDeleted&&this._handler.onChannelsDeleted(e,s),[2]}))}))})),s},t.prototype._getLocalChannels=function(){return A(this,void 0,void 0,(function(){var n,e;return N(this,(function(r){switch(r.label){case 0:return n=pi.of(this._iid),e=this.channels.length>0?(function(i,a){var s,l,c,d;switch(a){case wr.LATEST_LAST_MESSAGE:return(l=(s=i.lastMessage)===null||s===void 0?void 0:s.createdAt)!==null&&l!==void 0?l:i.createdAt;case wr.CHRONOLOGICAL:return i.createdAt;case wr.CHANNEL_NAME_ALPHABETICAL:return i.name;default:return(d=(c=i.lastMessage)===null||c===void 0?void 0:c.createdAt)!==null&&d!==void 0?d:i.createdAt}})(this.channels[this.channels.length-1],this.order):null,[4,n.getChannelsFromCache(e,this.filter,this.order,this._limit,e?this.channels[this.channels.length-1].url:void 0)];case 1:return[2,r.sent()]}}))}))},t.prototype._getRemoteChannels=function(){return A(this,void 0,void 0,(function(){var n,e,r;return N(this,(function(i){switch(i.label){case 0:return[4,pi.of(this._iid).getMyGroupChannels(this._token,We(q(q({},this.filter),{userIdsFilter:this.filter.userIdsFilter,searchFilter:this.filter.searchFilter,order:this.order})),this._limit)];case 1:return n=i.sent(),e=n.channels,r=n.token,this._token=r,this._hasMore=!!r,[2,e]}}))}))},t.prototype._revokeLoadMore=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:if(this._isDisposed)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._getRemoteChannels()];case 2:return n=e.sent(),this._isGetRemoteChannelsSucceeded=!0,this._addChannelsToView(n,{source:ve.REQUEST_CHANNEL},!0),[3,4];case 3:return e.sent(),this._isGetRemoteChannelsSucceeded=!1,[3,4];case 4:return[2]}}))}))},t.prototype.loadMore=function(){var n;return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G=this;return N(this,(function(Y){switch(Y.label){case 0:if(this._isDisposed)throw new Z({code:je.COLLECTION_DISPOSED,message:"Collection has been disposed."});return e=null,this._includeChangesOnInitialLoad&&this.channels.length===0&&this._changelogSync.isRunning?[4,new Promise((function(F){G._changelogSyncSubscriberContext=G._changelogSync.on("progress",(function(te){return F(te)})).on("pause",(function(){return F(null)}))}))]:[3,2];case 1:e=Y.sent(),(n=this._changelogSyncSubscriberContext)===null||n===void 0||n.close(),Y.label=2;case 2:return r=j.of(this._iid),i=r.cacheContext,a=r.connectionManager,s=r.statManager,this._isInitialized?[3,5]:(this._isInitialized=!0,i.localCacheEnabled?[4,this._backgroundSync.loadMetadata()]:[3,4]);case 3:Y.sent(),Y.label=4;case 4:s.put(new O0({type:Mn.FEATURE_LOCALCACHE,data:{use_local_cache:i.localCacheEnabled,collection_interface:{group_channel:!0}}})),Y.label=5;case 5:return l=[],this._hasMore?!i.localCacheEnabled||a.isConnected&&!this._backgroundSync.completed?[3,7]:[4,yr((function(){return A(G,void 0,void 0,(function(){return N(this,(function(F){switch(F.label){case 0:return[4,this._getLocalChannels()];case 1:return l=F.sent(),[2]}}))}))}))]:[3,11];case 6:return Y.sent(),this._hasMore=l.length>=this._limit,[3,10];case 7:return Y.trys.push([7,9,,10]),[4,this._getRemoteChannels()];case 8:return l=Y.sent(),this._isGetRemoteChannelsSucceeded=!0,[3,10];case 9:return Y.sent(),this._isGetRemoteChannelsSucceeded=!1,[3,10];case 10:this._addChannelsToView(l,{source:ve.REQUEST_CHANNEL},!0),Y.label=11;case 11:if(e){c=j.of(this._iid).sdkState,d=e.updatedChannels.filter((function(F){return G.filter.match(F,c.userId)}));try{for(f=De(d),v=f.next();!v.done;v=f.next())g=v.value,(M=Wb(l,g))>=0?l[M]=g:(y=zM(l,g,this.order).place,l.splice(y,0,g)),this._addChannelsToView([g],{source:ve.REQUEST_CHANNEL},!0)}catch(F){R={error:F}}finally{try{v&&!v.done&&(U=f.return)&&U.call(f)}finally{if(R)throw R.error}}b=l.map((function(F){return F.url}));try{for(C=De(e.deletedChannelUrls),w=C.next();!w.done;w=C.next())I=w.value,(M=b.indexOf(I))>=0&&(l.splice(M,1),b.splice(M,1))}catch(F){H={error:F}}finally{try{w&&!w.done&&(P=C.return)&&P.call(C)}finally{if(H)throw H.error}}this._removeChannelsFromView(e.deletedChannelUrls,{source:ve.REQUEST_CHANNEL})}return[2,l]}}))}))},t.prototype.dispose=function(){var n,e,r;this._isDisposed||(this._isDisposed=!0,this.channels.length>0&&this.channels.splice(0,this.channels.length),(n=this._backgroundSync)===null||n===void 0||n.close(),(e=this._changelogSync)===null||e===void 0||e.close(),(r=this._changelogSyncSubscriberContext)===null||r===void 0||r.close(),pi.of(this._iid).unsubscribeChannelEvent(this._key))},t})(),_j=(function(t){function n(e){var r=this,i=e.token,a=e.limit,s=e.order,l=e.includeEmpty,c=e.membershipFilter,d=e.channelNameContainsFilter,f=e.channelUrlsFilter,v=e.customTypesFilter,g=e.customTypeStartsWithFilter,y=e.superChannelFilter,b=e.metadataOrderKeyFilter,C=e.metadataKey,w=e.metadataValues,I=e.metadataValueStartsWith,M=e.includeFrozen,R=e.includeMetaData;return(r=t.call(this)||this).method=Ee.GET,r.path=Aa,r.params=Pe(We({token:i,limit:a,order:s,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:l,public_mode:Vu.PUBLIC,public_membership_mode:c,name_contains:d,channel_urls:f,custom_types:v,custom_type_startswith:g,super_mode:y,metadata_order_key:b,metadata_key:C,metadata_values:w,metadata_value_startswith:I,show_frozen:M,show_metadata:R})),r}return k(n,t),n})(be),gj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.channels=[];var a=r.next,s=r.channels,l=r.ts;return i.token=a,s&&s.length>0&&(i.channels=s.map((function(c){return c.ts=l,new Io(e,c)}))),i.ts=typeof l=="number"?l:0,i}return k(n,t),n})(we);(function(t){t.ALL="all",t.JOINED="joined"})(_0||(_0={}));var yj=(function(t){function n(e,r){var i,a,s,l,c,d,f,v,g,y,b,C,w,I,M=this;return(M=t.call(this,e,r)||this).includeEmpty=!1,M.includeFrozen=!0,M.includeMetaData=!0,M.channelUrlsFilter=null,M.customTypesFilter=null,M.customTypeStartsWithFilter=null,M.channelNameContainsFilter=null,M.membershipFilter=_0.ALL,M.superChannelFilter=Es.ALL,M.metadataKey=null,M.metadataValues=null,M.metadataOrderKeyFilter=null,M.metadataValueStartsWith=null,M.order=f0.CHRONOLOGICAL,M.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,M.includeFrozen=(a=r.includeFrozen)===null||a===void 0||a,M.includeMetaData=(s=r.includeMetaData)===null||s===void 0||s,M.channelUrlsFilter=(l=r.channelUrlsFilter)!==null&&l!==void 0?l:null,M.customTypesFilter=(c=r.customTypesFilter)!==null&&c!==void 0?c:null,M.customTypeStartsWithFilter=(d=r.customTypeStartsWithFilter)!==null&&d!==void 0?d:null,M.channelNameContainsFilter=(f=r.channelNameContainsFilter)!==null&&f!==void 0?f:null,M.membershipFilter=(v=r.membershipFilter)!==null&&v!==void 0?v:_0.ALL,M.superChannelFilter=(g=r.superChannelFilter)!==null&&g!==void 0?g:Es.ALL,M.metadataKey=(y=r.metadataKey)!==null&&y!==void 0?y:null,M.metadataValues=(b=r.metadataValues)!==null&&b!==void 0?b:null,M.metadataOrderKeyFilter=(C=r.metadataOrderKeyFilter)!==null&&C!==void 0?C:null,M.metadataValueStartsWith=(w=r.metadataValueStartsWith)!==null&&w!==void 0?w:null,M.order=(I=r.order)!==null&&I!==void 0?I:f0.CHRONOLOGICAL,M}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("boolean",this.includeEmpty)&&W("boolean",this.includeFrozen)&&W("boolean",this.includeMetaData)&&W("string",this.channelNameContainsFilter,!0)&&It("string",this.channelUrlsFilter,!0)&&It("string",this.customTypesFilter,!0)&&W("string",this.customTypeStartsWithFilter,!0)&&wt(_0,this.membershipFilter)&&wt(Es,this.superChannelFilter)&&wt(f0,this.order)&&W("string",this.metadataOrderKeyFilter,!0)&&W("string",this.metadataKey,!0)&&It("string",this.metadataValues,!0)&&W("string",this.metadataValueStartsWith,!0)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=j.of(this._iid).requestQueue,i=new _j(We(q(q({},this),{token:this._token}))),[4,r.send(i)]):[3,2]):[3,5];case 1:return a=d.sent(),s=a.as(gj),l=s.channels,c=s.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,l];case 2:return[2,e];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Wc),Ej=(function(t){function n(e){e===void 0&&(e={});var r=t.call(this)||this;return Object.keys(e).forEach((function(i){r.hasOwnProperty(i)&&(r[i]=e[i])})),r}return k(n,t),n})((function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.onUserJoined=st,e.onUserLeft=st,e.onUserReceivedInvitation=st,e.onUserDeclinedInvitation=st,e.onChannelHidden=st,e.onUnreadMemberStatusUpdated=st,e.onUserMarkedRead=st,e.onUserMarkedUnread=st,e.onUndeliveredMemberStatusUpdated=st,e.onTypingStatusUpdated=st,e.onPollUpdated=st,e.onPollVoted=st,e.onPollDeleted=st,e.onPinnedMessageUpdated=st,e}return k(n,t),n})(bL)),bj=(function(t){function n(e){var r=this,i=e.token,a=e.limit,s=e.order,l=e.reverse,c=e.channelUrl,d=e.messageTypeFilter,f=e.scheduledStatus;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(L4),r.params=Pe(We({token:i,limit:a,reverse:l,channel_url:c,order:s,message_type:d,status:f})),r}return k(n,t),n})(be),Tj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.scheduledMessages=[];var a=r.next,s=r.scheduled_messages;return i.token=a,i.scheduledMessages=s.map((function(l){return sa(e,l)})),i}return k(n,t),n})(we),Cj=(function(t){function n(e,r){var i,a,s,l,c,d=this;return(d=t.call(this,e,r)||this).channelUrl=null,d.order=null,d.reverse=!1,d.scheduledStatus=null,d.messageTypeFilter=na.ALL,d.channelUrl=(i=r.channelUrl)!==null&&i!==void 0?i:null,d.order=(a=r.order)!==null&&a!==void 0?a:null,d.reverse=(s=r.reverse)!==null&&s!==void 0&&s,d.scheduledStatus=(l=r.scheduledStatus)!==null&&l!==void 0?l:null,d.messageTypeFilter=(c=r.messageTypeFilter)!==null&&c!==void 0?c:na.ALL,d}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("string",this.channelUrl,!0)&&(wt(xS,this.order)||this.order===null)&&W("boolean",this.reverse)&&(It(dh,this.scheduledStatus)||this.scheduledStatus===null)&&wt(na,this.messageTypeFilter)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new bj(We(q(q({},this),{token:this._token}))),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(Tj),s=a.scheduledMessages,l=a.token,this._token=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Wc),Sj=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.name="groupChannel",e}return k(n,t),n.prototype.init=function(e,r){var i=r.sdkState,a=r.dispatcher,s=r.sessionManager,l=r.requestQueue,c=r.logger,d=r.onlineDetector,f=r.cacheContext;t.prototype.init.call(this,e,{sdkState:i,dispatcher:a,sessionManager:s,requestQueue:l,logger:c,onlineDetector:d,cacheContext:f}),this._manager=new pi(e,{sdkState:i,cacheContext:f,dispatcher:a,sessionManager:s,requestQueue:l,logger:c})},n.prototype.createGroupChannelCollection=function(e){return e===void 0&&(e={}),new vj(this._iid,e)},n.prototype.createMyGroupChannelListQuery=function(e){return e===void 0&&(e={}),new AL(this._iid,e)},n.prototype.createPublicGroupChannelListQuery=function(e){return e===void 0&&(e={}),new yj(this._iid,e)},n.prototype.createScheduledMessageListQuery=function(e){return e===void 0&&(e={}),new Cj(this._iid,e)},n.prototype.addGroupChannelHandler=function(e,r){Ne(W("string",e)&&r instanceof Ej).throw(Z.invalidParameters),this._manager.addHandler(e,r)},n.prototype.removeGroupChannelHandler=function(e){Ne(W("string",e)).throw(Z.invalidParameters),this._manager.removeHandler(e)},n.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildGroupChannelFromSerializedData=function(e){return this._manager.buildGroupChannelFromSerializedData(e)},n.prototype.buildGroupChannelListQueryFromSerializedData=function(e){return this._manager.buildGroupChannelListQueryFromSerializedData(e)},n.prototype.buildMemberFromSerializedData=function(e){return this._manager.buildMemberFromSerializedData(e)},n.prototype.getChannel=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return Ne(W("string",e)).throw(Z.invalidParameters),[2,this._manager.getChannel(e)]}))}))},n.prototype.getChannelWithoutCache=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return Ne(W("string",e)).throw(Z.invalidParameters),[2,this._manager.getChannelWithoutCache(e)]}))}))},n.prototype.getMyGroupChannelChangeLogsByToken=function(e,r){return r===void 0&&(r={}),A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},w1),r),Ne(W("string",e)&&US(i)).throw(Z.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,i)];case 1:return[2,a.sent()]}}))}))},n.prototype.getMyGroupChannelChangeLogsByTimestamp=function(e,r){return r===void 0&&(r={}),A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:return i=q(q({},w1),r),Ne(W("number",e)&&US(i)).throw(Z.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,i)];case 1:return[2,a.sent()]}}))}))},n.prototype.getGroupChannelCount=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){return r=q(q({},CL),e),Ne(SL(r)).throw(Z.invalidParameters),[2,this._manager.getGroupChannelCount(r)]}))}))},n.prototype.getUnreadItemCount=function(e){return e===void 0&&(e={}),A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(e)];case 1:return[2,r.sent()]}}))}))},n.prototype.getTotalUnreadChannelCount=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,e.sent()]}}))}))},n.prototype.getTotalUnreadMessageCount=function(e){return e===void 0&&(e={}),A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(e)];case 1:return[2,r.sent()]}}))}))},n.prototype.getTotalScheduledMessageCount=function(e){return e===void 0&&(e={}),A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(e)];case 1:return[2,r.sent()]}}))}))},n.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){return this._manager.getSubscribedCustomTypeUnreadMessageCount(e)},n.prototype.createChannel=function(e){return e===void 0&&(e={}),A(this,void 0,void 0,(function(){var r;return N(this,(function(i){return r=q(q({},Kb),e),Ne(LS(r)).throw(Z.invalidParameters),[2,this._manager.createChannel(r)]}))}))},n.prototype.createDistinctChannelIfNotExist=function(e){return e===void 0&&(e={}),A(this,void 0,void 0,(function(){var r;return N(this,(function(i){return r=q(q({},Kb),e),Ne(LS(r)).throw(Z.invalidParameters),r&&(r.isDistinct=!0),[2,this.createChannel(r)]}))}))},n.prototype.createChannelWithUserIds=function(e,r,i,a,s,l){return r===void 0&&(r=!1),s===void 0&&(s=""),l===void 0&&(l=""),A(this,void 0,void 0,(function(){var c;return N(this,(function(d){return c=q(q({},Kb),{invitedUserIds:e,isDistinct:r,name:i,data:s,customType:l}),typeof a=="string"?c.coverUrl=a:c.coverImage=a,[2,this.createChannel(c)]}))}))},n.prototype.markAsReadAll=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){return this._manager.markAsReadAll(),[2]}))}))},n.prototype.markAsReadWithChannelUrls=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return Ne(It("string",e)).throw(Z.invalidParameters),this._manager.markAsReadWithChannelUrls(e),[2]}))}))},n.prototype.markAsDelivered=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return Ne(W("string",e)).throw(Z.invalidParameters),[4,this.getChannel(e)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}}))}))},n})(r2);wr.LATEST_LAST_MESSAGE;function N3(t){const n=D.useRef(t);return n.current=t,D.useCallback((...e)=>n.current(...e),[n])}var Nj=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.name="poll",e}return k(n,t),n.prototype.init=function(e,r){var i=r.sdkState,a=r.dispatcher,s=r.sessionManager,l=r.requestQueue,c=r.logger,d=r.onlineDetector,f=r.cacheContext;t.prototype.init.call(this,e,{sdkState:i,dispatcher:a,sessionManager:s,requestQueue:l,logger:c,onlineDetector:d,cacheContext:f}),this._manager=new _1(e,{sdkState:i,dispatcher:a,sessionManager:s,requestQueue:l,logger:c,onlineDetector:d,cacheContext:f})},n.prototype.create=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){return r=q(q({},j9),e),Ne(Ax(r)).throw(Z.invalidParameters),[2,this._manager.create(r)]}))}))},n.prototype.get=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){return r=q(q({},K9),e),Ne(Ix(r)).throw(Z.invalidParameters),[2,this._manager.get(r)]}))}))},n.prototype.getOption=function(e){return A(this,void 0,void 0,(function(){var r;return N(this,(function(i){return r=q(q({},$9),e),Ne(wx(r)).throw(Z.invalidParameters),[2,this._manager.getOption(r)]}))}))},n.prototype.buildPollFromSerializedData=function(e){return this._manager.buildPollFromSerializedData(e)},n})(r2),Aj=function(t){return["-lastMessageUpdatedAt","-createdAt","syncIndex"]},qM=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n})(xn),IL=function(t){this.key=t.key,this.url=t.url},ML=function(t){this.id=t.id,this.name=t.name,this.url=t.url,this.emojis=t.emojis?t.emojis.map((function(n){return new IL(n)})):[]},wj=function(t){this.emojiHash=t.emoji_hash||"",this.emojiCategories=t.emoji_categories?t.emoji_categories.map((function(n){return new ML(n)})):[]},Ij={profileImage:void 0,profileUrl:void 0,nickname:void 0},jM=function(t){return{v2:function(){return A(void 0,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,t.commitSchema([{collectionName:Zx,keyName:bz,index:[$b(wr.LATEST_LAST_MESSAGE),$b(wr.CHRONOLOGICAL),$b(wr.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:T3,keyName:Tz,index:[Fu(qi.CHANNEL_LATEST),Fu(qi.NEWEST_CHILD_MESSAGE)]},{collectionName:rL,keyName:hV,index:[Fu(qi.CHANNEL_LATEST),Fu(qi.NEWEST_CHILD_MESSAGE)]},{collectionName:Sz,keyName:Nz}])];case 1:return[2,n.sent()]}}))}))},v3:function(){return A(void 0,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,t.commitSchema([{collectionName:Az,keyName:wz,index:[Aj()]}])];case 1:return[2,n.sent()]}}))}))},v4:function(){return A(void 0,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,t.commitSchema([{collectionName:eL,keyName:Cz,index:[oV()]}])];case 1:return[2,n.sent()]}}))}))},v5:function(){return A(void 0,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,t.commitSchema([{collectionName:tL,keyName:Iz,index:[["-userId","-updatedAt"]]}])];case 1:return[2,n.sent()]}}))}))}}},$M=function(t){var n=new nL;return function(e,r){return A(void 0,void 0,void 0,(function(){var i,a,s,l;return N(this,(function(c){switch(c.label){case 0:switch(e){case 1:case 2:case 3:case 4:return[3,1];case 5:return[3,2];case 6:return[3,4];case 7:return[3,11]}return[3,15];case 1:return r(),[3,16];case 2:return[4,t.reset()];case 3:return c.sent(),r(),[3,16];case 4:return c.trys.push([4,9,,10]),i=jM(t),a=i.v2,s=i.v3,l=i.v4,[4,a()];case 5:return c.sent(),[4,s()];case 6:return c.sent(),[4,l()];case 7:return c.sent(),[4,t.collection(T3).removeIf({where:{channelType:Lt.OPEN}})];case 8:return c.sent(),[3,10];case 9:return c.sent(),n.warn("Failed to migrate to v2, v3, v4"),[3,10];case 10:return r(),[3,16];case 11:return c.trys.push([11,13,,14]),[4,(0,jM(t).v5)()];case 12:return c.sent(),[3,14];case 13:return c.sent(),n.warn("Failed to migrate to v5"),[3,14];case 14:return r(),[3,16];case 15:r(),c.label=16;case 16:return[2]}}))}))}},Mj=function(){return typeof document<"u"?document.visibilityState:"visible"},Oj=(function(t){function n(e){var r=e.getVisibilityState,i=r===void 0?Mj:r,a=e.initialState,s=a===void 0?"visible":a,l=e.isEnabled,c=l===void 0||l,d=e.pauseCheckDelay,f=d===void 0?3e4:d,v=t.call(this)||this;return v._pauseCheckDelay=3e4,v._currentState="visible",v._getVisibilityState=i,v._pauseCheckDelay=f,v._currentState=s,v._isEnabled=c,v._boundToggleState=v._toggleState.bind(v),v}return k(n,t),Object.defineProperty(n.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),n.prototype._toggleState=function(){var e=this,r=this._getVisibilityState();r!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=void 0),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout((function(){e._pauseDelayTimer=void 0,e.dispatch("pause")}),this._pauseCheckDelay)),this._currentState=r},n.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},n.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},n})(Mp),Rj=(function(){function t(n){var e=n.logger,r=n.connectionDelegate,i=r===void 0?null:r,a=this;this._onlineWorker=function(){var s;return(s=a.connectionDelegate)===null||s===void 0?void 0:s.reconnect()},this._offlineWorker=function(){var s;return(s=a.connectionDelegate)===null||s===void 0?void 0:s.disconnect()},this.unsubscribes=[],this._onlineListener=function(s){if(a.isAvailableOnWeb)return window.addEventListener("online",s),function(){return window.removeEventListener("online",s,!1)}},this._offlineListener=function(s){if(a.isAvailableOnWeb)return window.addEventListener("offline",s),function(){return window.removeEventListener("offline",s,!1)}},this.logger=e,i&&(this.connectionDelegate=i)}return Object.defineProperty(t.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&!!window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),t.prototype.setOnlineListener=function(n){n&&typeof n=="function"&&(this._onlineListener=n)},t.prototype.setOfflineListener=function(n){n&&typeof n=="function"&&(this._offlineListener=n)},t.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},t.prototype.stop=function(){var n=this;this.unsubscribes.forEach((function(e){try{e?.()}catch(r){n.logger.warn(r.message)}})),this.unsubscribes=[]},t.prototype.isOnline=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise((function(e){fetch("https://www.google.com",{method:Ee.GET,mode:"no-cors"}).then((function(){return e(!0)})).catch((function(){return e(!1)}))}))]}))}))},t})(),Dj=(function(t){function n(e){var r,i=this;return(i=t.call(this)||this).method=Ee.GET,i.path=ZH,i.params=Pe(We({ts:typeof e.token=="number"?e.token:void 0,token:typeof e.token=="string"?e.token:void 0,limit:(r=e.limit)!==null&&r!==void 0?r:100})),i}return k(n,t),n})(be),xj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.configs=r.configs,i.hasMore=r.has_more,i.nextToken=r.next,i.ts=r.ts,i}return k(n,t),n})(we),KM=(function(t){function n(e){var r=e.userId,i=e.nickname,a=e.profileUrl,s=e.profileImage,l=e.preferredLanguages,c=t.call(this)||this;return c.method=Ee.PUT,c.path="".concat(an,"/").concat(encodeURIComponent(r)),c.params=Pe(We({nickname:i,profile_url:a,profile_file:s,preferred_languages:l})),c}return k(n,t),n})(be),YM=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.user=new Mt(e,q({},r)),i}return k(n,t),n})(we),Lj=(function(t){function n(e){var r=e.userId,i=e.token,a=e.deviceOS,s=e.deviceManufacturer,l=e.systemPushEnabled,c=t.call(this)||this;return c.method=Ee.POST,c.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/apns"),c.params=Pe({apns_device_token:i,always_push:!0,device_os:a,device_manufacturer:s,system_push_enabled:l}),c}return k(n,t),n})(be);(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.token=r.token,i.type=r.type?Mi[r.type.toLowerCase()]:Mi.UNKNOWN,i.user=new Mt(e,r.user),i}k(n,t)})(we);var Uj=(function(t){function n(e){var r=e.userId,i=e.token,a=e.deviceOS,s=e.deviceManufacturer,l=e.systemPushEnabled,c=t.call(this)||this;return c.method=Ee.POST,c.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/gcm"),c.params=Pe({gcm_reg_token:i,always_push:!0,device_os:a,device_manufacturer:s,system_push_enabled:l}),c}return k(n,t),n})(be);(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.token=r.token,i.type=r.type?Mi[r.type.toLowerCase()]:Mi.UNKNOWN,i.user=new Mt(e,r.user),i}k(n,t)})(we);var kj=(function(t){function n(e){var r=e.userId,i=e.token,a=t.call(this)||this;return a.method=Ee.DELETE,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(i)),a}return k(n,t),n})(be),Pj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.token=r.token,i.user=new Mt(e,r.user),i.lastDeletedAt=r.device_token_last_deleted_at,i}return k(n,t),n})(we),Fj=(function(t){function n(e){var r=e.userId,i=e.token,a=t.call(this)||this;return a.method=Ee.DELETE,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(i)),a}return k(n,t),n})(be),Hj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.token=r.token,i.user=new Mt(e,r.user),i.lastDeletedAt=r.device_token_last_deleted_at,i}return k(n,t),n})(we),Bj=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.DELETE,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/apns"),i}return k(n,t),n})(be),Gj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.type=r.type?Mi[r.type.toLowerCase()]:Mi.UNKNOWN,i.user=new Mt(e,r.user),i.lastDeletedAt=r.device_token_last_deleted_at,i}return k(n,t),n})(we),zj=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.DELETE,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/gcm"),i}return k(n,t),n})(be),Vj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.type=r.type?Mi[r.type.toLowerCase()]:Mi.UNKNOWN,i.user=new Mt(e,r.user),i.lastDeletedAt=r.device_token_last_deleted_at,i}return k(n,t),n})(we),qj=(function(t){function n(e){var r=e.userId,i=e.type,a=e.token,s=e.ts,l=t.call(this)||this;return l.method=Ee.GET,l.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(i),"/device_tokens"),l.params={created_ts:s,token:a},l}return k(n,t),n})(be),jj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.pushTokens={type:r.type?Mi[r.type.toLowerCase()]:Mi.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},i}return k(n,t),n})(we),$j=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),i}return k(n,t),n})(be),Kj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.autoAccept=r.auto_accept,i}return k(n,t),n})(we),Yj=(function(t){function n(e){var r=e.userId,i=e.willAutoAccept,a=t.call(this)||this;return a.method=Ee.PUT,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),a.params={auto_accept:i},a}return k(n,t),n})(be),Wj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.autoAccept=r.auto_accept,i}return k(n,t),n})(we),Qj=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/push_preference"),i}return k(n,t),n})(be),Xj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return k(n,t),n})(we),Zj=(function(t){function n(e){var r=e.userId,i=e.doNotDisturbOn,a=e.startHour,s=e.startMin,l=e.endHour,c=e.endMin,d=e.timezone,f=t.call(this)||this;return f.method=Ee.PUT,f.path="".concat(an,"/").concat(encodeURIComponent(r),"/push_preference"),f.params={do_not_disturb:i,start_hour:a,start_min:s,end_hour:l,end_min:c,timezone:d},f}return k(n,t),n})(be),Jj=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return k(n,t),n})(we),e$=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/push_preference"),i}return k(n,t),n})(be),t$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return k(n,t),n})(we),n$=(function(t){function n(e){var r=e.userId,i=e.snoozeOn,a=e.startTs,s=e.endTs,l=t.call(this)||this;return l.method=Ee.PUT,l.path="".concat(an,"/").concat(encodeURIComponent(r),"/push_preference"),l.params={snooze_enabled:i,snooze_start_ts:a,snooze_end_ts:s},l}return k(n,t),n})(be),r$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return k(n,t),n})(we),i$=(function(t){function n(e){var r=e.userId,i=e.blockedUserId,a=t.call(this)||this;return a.method=Ee.POST,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/block"),a.params={target_id:i},a}return k(n,t),n})(be);(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.user=new Mt(e,r),i}k(n,t)})(we);var a$=(function(t){function n(e){var r=e.userId,i=e.unblockedUserId,a=t.call(this)||this;return a.method=Ee.DELETE,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(i)),a}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var s$=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/push_preference"),i}return k(n,t),n})(be),o$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return k(n,t),n})(we),l$=(function(t){function n(e){var r=e.userId,i=e.pushTriggerOption,a=t.call(this)||this;return a.method=Ee.PUT,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/push_preference"),a.params={push_trigger_option:i},a}return k(n,t),n})(be),u$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return k(n,t),n})(we),c$=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/template"),i}return k(n,t),n})(be),d$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.name=r.name,i}return k(n,t),n})(we),h$=(function(t){function n(e){var r=e.userId,i=e.templateName,a=t.call(this)||this;return a.method=Ee.PUT,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/push/template"),a.params={name:i},a}return k(n,t),n})(be),f$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.name=r.name,i}return k(n,t),n})(we),p$=(function(t){function n(e){var r=e.userId,i=e.token,a=t.call(this)||this;return a.method=Ee.GET,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/friends/changelogs"),a.params={token:i},a}return k(n,t),n})(be),m$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.changelogs={addedUsers:r.added.map((function(a){return new Mt(e,a)})),updatedUsers:r.updated.map((function(a){return new Mt(e,a)})),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},i}return k(n,t),n})(we),v$=(function(t){function n(e){var r=e.userId,i=e.discoveries,a=t.call(this)||this;return a.method=Ee.PUT,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/friend_discoveries"),a.params={friend_discoveries:i.map((function(s){return{friend_discovery_key:s.friendDiscoveryKey,friend_name:s.friendName}}))},a}return k(n,t),n})(be),_$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.friendDiscoveryRequestId=r.friend_discovery_request_id,i}return k(n,t),n})(we),g$=(function(t){function n(e){var r=e.userId,i=e.discoveryKeys,a=t.call(this)||this;return a.method=Ee.DELETE,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/friend_discoveries"),a.params={friend_discovery_keys:i},a}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var y$=(function(t){function n(e){var r=e.userId,i=e.userIds,a=t.call(this)||this;return a.method=Ee.POST,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/friends"),a.params={user_ids:i},a}return k(n,t),n})(be),E$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.users=r.users.map((function(a){return new Mt(e,a)})),i}return k(n,t),n})(we),b$=(function(t){function n(e){var r=e.userId,i=e.userIds,a=t.call(this)||this;return a.method=Ee.DELETE,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/friends"),a.params={user_ids:i},a}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var T$=(function(t){function n(e){var r=e.userId,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(an,"/").concat(encodeURIComponent(r),"/allow_friend_discovery"),i.params={},i}return k(n,t),n})(be),C$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.allowFriendDiscovery=r.allow_friend_discovery,i}return k(n,t),n})(we),S$=(function(t){function n(e){var r=e.userId,i=e.allowFriendDiscovery,a=t.call(this)||this;return a.method=Ee.PUT,a.path="".concat(an,"/").concat(encodeURIComponent(r),"/allow_friend_discovery"),a.params={allow_friend_discovery:i},a}return k(n,t),n})(be);(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}k(n,t)})(we);var I1,N$=(function(t){function n(){var e=t.call(this)||this;return e.method=Ee.GET,e.path=x4,e}return k(n,t),n})(be),A$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.emojiContainer=new wj(r),i}return k(n,t),n})(we),w$=(function(t){function n(e){var r=e.categoryId,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(x4,"/").concat(r),i}return k(n,t),n})(be),I$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.emojiCategory=new ML(r),i}return k(n,t),n})(we),M$=(function(t){function n(e){var r=e.key,i=t.call(this)||this;return i.method=Ee.GET,i.path="".concat(jH,"/").concat(r),i}return k(n,t),n})(be),O$=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.emoji=new IL(r),i}return k(n,t),n})(we),R$=(function(t){function n(){var e=t.call(this)||this;return e.method=Ee.GET,e.path="".concat($H),e}return k(n,t),n})(be),D$=(function(t){function n(e,r){var i,a=this,s=r??{};return(a=t.call(this,e,r)||this).uikitConfiguration={string:JSON.stringify(s),json:s},a.updatedAt=(i=r?.updated_at)!==null&&i!==void 0?i:0,a}return k(n,t),n})(we);(function(t){t.DELIVERED="DELIVERED",t.CLICKED="CLICKED"})(I1||(I1={}));var Og,WM=(function(t){function n(e){var r=e.deviceToken,i=e.pushTrackingId,a=e.messageId,s=e.allowedPushNotification,l=e.channelKey,c=e.templateKey,d=e.eventType,f=e.notificationEventDeadline,v=t.call(this)||this;return v.method=Ee.POST,v.path=WH,v.params=Pe({device_token:r,push_tracking_id:i,message_id:a,allowed_push_notification:s,channel_key:l,template_key:c,event_type:d,notification_event_deadline:f}),v}return k(n,t),n})(be),x$=(function(){function t(n,e,r){var i=this;this._storeInitialized=!1,this._iid=n,this.options=e;var a=j.of(n),s=a.sdkState,l=a.cacheContext,c=a.dispatcher,d=a.sessionManager,f=a.requestQueue,v=a.logger,g=a.userEventHandlers,y=a.appStateToggleEnabled;this._onlineDetector=new Rj({logger:v,connectionDelegate:{reconnect:function(){return A(i,void 0,void 0,(function(){var C,w,I,M,R,U;return N(this,(function(H){switch(H.label){case 0:if(C=j.of(n),w=C.sdkState,I=C.connectionManager,(M=C.sessionManager).session.hasSession)return[3,5];H.label=1;case 1:return H.trys.push([1,3,,4]),[4,I.connect(M.session.authToken)];case 2:return H.sent(),[3,4];case 3:if(R=H.sent(),Ca(R))throw R;return v.debug("connect failed by reconnect event = ",R),[3,4];case 4:return[3,9];case 5:if(w.appState!=="foreground")return[3,9];H.label=6;case 6:return H.trys.push([6,8,,9]),[4,I.resetAndReconnect()];case 7:return H.sent(),[3,9];case 8:if(U=H.sent(),Ca(U))throw U;return v.debug("resetAndReconnect failed by reconnect event = ",U),[3,9];case 9:return c.dispatch(new qM),[2]}}))}))},disconnect:function(){yr((function(){return A(i,void 0,void 0,(function(){var C,w,I;return N(this,(function(M){switch(M.label){case 0:return C=j.of(n),w=C.connectionManager,I=C.dispatcher,[4,w.disconnect()];case 1:return M.sent(),I.dispatch(new Lc(new $n({type:Mn.WEBSOCKET_DISCONNECT,data:{success:!0,error_code:je.NETWORK_ERROR,error_description:"cause=network_closed"}}))),[2]}}))}))}))}}});var b=new jg(n,{localCacheEnabled:l.localCacheEnabled,enableAutoResend:l.localCacheConfig.enableAutoResend,dispatcher:c,sdkState:s,logger:v});r.forEach((function(C){C.init(n,{sdkState:s,cacheContext:l,dispatcher:c,sessionManager:d,requestQueue:f,logger:v,onlineDetector:i._onlineDetector}),i[C.name]=C})),this._appStateChangeDetector=new Oj({isEnabled:y}),this._appStateChangeDetector.on("resume",(function(){v.debug("the page resumes from freeze"),i.setForegroundState()})).on("pause",(function(){v.debug("the page freezes"),i.setBackgroundState()})),c.on((function(C){var w;if(C instanceof $s)C.stateType===nn.CONNECTED&&b.processNonAutoResendRegisteredPendingMessages();else if(C instanceof Jn){if(C.code==="USEV"){var I=C.as(cL).event;if(I.category===D0.FRIEND_DISCOVERED){var M=N1.getDataAsFriendDiscoveredEvent(n,I).friendDiscoveries;Qe((function(){return A(i,void 0,void 0,(function(){return N(this,(function(P){return[2,g.forEach((function(G){G.onFriendsDiscovered&&G.onFriendsDiscovered(M)}))]}))}))}))}}}else if(C instanceof l3){var R=j.of(i._iid).subscribedUnreadMessageCount,U=!1,H=C.ts;typeof H=="number"&&H>R.ts&&(R.all!==C.all&&(U=!0),R.all=C.all>=0?C.all:0,C.customTypes&&Object.keys(C.customTypes).forEach((function(P){R.customTypes[P]!==C.customTypes[P]&&(U=!0),R.customTypes[P]=C.customTypes[P]})),U=U&&R.ts>0,R.ts=H),U&&Qe((function(){return A(i,void 0,void 0,(function(){return N(this,(function(P){return[2,g.forEach((function(G){G.onTotalUnreadMessageCountChanged&&G.onTotalUnreadMessageCountChanged({groupChannelCount:R.all,feedChannelCount:R.feed,customTypeUnreadCount:R.customTypes}),G.onTotalUnreadMessageCountUpdated&&G.onTotalUnreadMessageCountUpdated(R.all,R.customTypes)}))]}))}))}))}else C instanceof cx?(l.preference.set(i._getUserProfileCacheKey(s.userId),TS.payloadify(C.userProfile)),!((w=C.userProfile.appInfo.notificationInfo)===null||w===void 0)&&w.isEnabled&&l.preference.set(u3(i.appId),{value:!0})):C instanceof hx?C.configSyncNeeded&&yr((function(){return A(i,void 0,void 0,(function(){return N(this,(function(P){switch(P.label){case 0:return[4,this._getAppConfigsInfo()];case 1:return P.sent(),[2]}}))}))})):C instanceof uL?l.preference.set(m1(i.appId),{configTs:C.configTs}):C instanceof yv&&C.error&&C.error.isSessionInvalidatedError&&(v.debug("session revoked."),i._internalDisconnect(C.error))}))}return t.init=function(n){var e=n.appId,r=n.appVersion,i=n.modules,a=i===void 0?[]:i,s=n.options,l=s===void 0?new O4:s,c=n.debugMode,d=c!==void 0&&c,f=n.customApiHost,v=n.customWebSocketHost,g=n.newInstance,y=g!==void 0&&g,b=n.logLevel,C=n.localCacheEnabled,w=C!==void 0&&C,I=n.localCacheConfig,M=I===void 0?new D4:I,R=n.localCacheEncryption,U=n.useAsyncStorageStore,H=U===void 0?null:U,P=n.useMMKVStorageStore,G=P===void 0?null:P,Y=n.appStateToggleEnabled,F=Y===void 0||Y;if(!Og||y){var te="su-".concat(wo()),J=R??{encrypt:function($){return $},decrypt:function($){return $}},ne=new nL;ne.level=b??Rc.WARN;var Oe=new Xf({encryption:J});d||(_S()?G?Oe=new aV({MMKV:G,encryption:J}):H&&(Oe=new iV({AsyncStorage:H,encryption:J}),ne.warn("AsyncStorage store is deprecated due to the small size limit. Please use MMKVStorage store instead.")):Oe=new rV({encryption:J})),new j(te,{appId:e,appVersion:r,options:l,apiHost:f??"https://api-".concat(e,".sendbird.com"),websocketHost:v??"wss://ws-".concat(e,".sendbird.com"),store:Oe,encryption:J,logger:ne,localCacheEnabled:w,localCacheConfig:M,debugMode:d,appStateToggleEnabled:F});var X=[new wV,new Nj],se=new t(te,l,et(et([],Ye(a),!1),Ye(X),!1));return Og||(Og=se),se}return Og},Object.defineProperty(t,"instance",{get:function(){return Og},enumerable:!1,configurable:!0}),Object.defineProperty(t,"version",{get:function(){return I4},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appId",{get:function(){return j.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appInfo",{get:function(){var n=j.of(this._iid).appInfo;return n??null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appVersion",{get:function(){var n;return(n=j.of(this._iid).sdkState.appVersion)!==null&&n!==void 0?n:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugMode",{get:function(){return!!j.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logLevel",{get:function(){return j.of(this._iid).logger.level},set:function(n){j.of(this._iid).logger.level=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCacheEnabled",{get:function(){return j.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheConfig",{get:function(){var n=j.of(this._iid).cacheContext;return n.localCacheEnabled?n.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ekey",{get:function(){return j.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentUser",{get:function(){var n;return(n=j.of(this._iid).sessionManager.currentUser)!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){var n=j.of(this._iid).connectionManager;return n.isConnected?Vl.OPEN:n.isConnecting?Vl.CONNECTING:Vl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastConnectedAt",{get:function(){var n=j.of(this._iid),e=n.connectedAt;return n.connectionManager.isConnected?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fcmPushToken",{get:function(){var n;return(n=this._fcmPushToken)!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apnsPushToken",{get:function(){var n;return(n=this._apnsPushToken)!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),t.prototype._getNestDBVersion=function(){return 8},t.prototype._getPreferenceVersion=function(){return 9},t.prototype._getPreferenceCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".pref")},t.prototype._getUserProfileCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".profile")},t.prototype._internalDisconnect=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return e=j.of(this._iid),r=e.connectionManager,i=e.sdkState,a=e.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),a.cancelAll(),[4,r.logout(n)];case 1:return s.sent(),[4,this.clearCachedData()];case 2:return s.sent(),i.appState="foreground",[2]}}))}))},t.prototype._getAppConfigsInfo=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:return n=j.of(this._iid),e=n.requestQueue,r=n.dispatcher,i=n.cacheContext,a=n.sdkState,s={},[4,i.preference.get(m1(a.appId))];case 1:return(c=f.sent())&&(l=c.configTs),new Vc("appConfigsInfo",(function(v){return A(d,void 0,void 0,(function(){var g,y,b,C,w,I,M,R;return N(this,(function(U){switch(U.label){case 0:return g={hasNext:!0,nextToken:v},y=new Dj({token:v}),[4,e.send(y)];case 1:return b=U.sent(),C=b.as(xj),w=C.configs,I=C.hasMore,M=C.nextToken,R=C.ts,Object.keys(w).forEach((function(H){s[H]=w[H]})),g.hasNext=I,g.nextToken=M,I||r.dispatch(new dL({appConfigsInfo:s,configTs:R})),[2,g]}}))}))})).start(l),[2]}}))}))},t.prototype.getMemoryStoreForDebugging=function(){var n=j.of(this._iid),e=n.debugMode,r=n.cacheContext;if(e)return r.store instanceof Xf?r.store:null;throw Z.debugModeRequired},t.prototype.addExtension=function(n,e){var r=j.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(n)>-1&&r.extensions&&(r.extensions[n]=e)},t.prototype.addSendbirdExtensions=function(n,e,r){var i,a,s=j.of(this._iid),l=s.logger,c=s.sdkState,d=new RegExp(rB);if(n.length===0)return l.debug("sb.addSendbirdExtensions() has failed because the given sendbirdExtensions is empty."),!1;if(n.find((function(C){return!d.test(C.version)})))return l.debug("sb.addSendbirdExtensions() has failed because the given version did not satisfy the SemVer specification."),!1;if(r)try{for(var f=De(Object.entries(r)),v=f.next();!v.done;v=f.next()){var g=Ye(v.value,2),y=g[0],b=g[1];if(/&|=/.test(y)||/&|=/.test(b))return l.debug("sb.addSendbirdExtensions() has failed because the given customData includes at least one invalid character: = or &."),!1}}catch(C){i={error:C}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return c.sendbirdRuntimeEnvironment={sendbirdExtensions:n,deviceOS:e,customData:r},!0},t.prototype.setOnlineListener=function(n){this._onlineDetector.setOnlineListener(n)},t.prototype.setOfflineListener=function(n){this._onlineDetector.setOfflineListener(n)},t.prototype._safeInitializeStore=function(n){return A(this,void 0,void 0,(function(){var e;return N(this,(function(r){switch(r.label){case 0:e=j.of(this._iid).cacheContext,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,e.store.init(n)];case 2:return r.sent(),this._storeInitialized=!0,[3,5];case 3:return r.sent(),e.replaceStore(new Xf),[4,this._safeInitializeStore(n)];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))},t.prototype.initializeCache=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d,f;return N(this,(function(v){switch(v.label){case 0:if(e=j.of(this._iid),r=e.sdkState,i=e.cacheContext,a=e.dispatcher,s=e.logger,r.userId&&r.userId===n)return[3,13];l="sendbird@".concat(r.appId,"/").concat(n,".db"),v.label=1;case 1:return v.trys.push([1,9,11,13]),i.localCacheEnabled?i.nestdb&&i.nestdb.state!==ql.CLOSED&&i.nestdb.name===l?[3,3]:(c="sendbird@".concat(r.appId,"/").concat(n,".db"),(d=i.nestdb=new sV({name:c,version:this._getNestDBVersion(),store:i.store,config:new W0({dbname:c,cacheLimit:64,itemSizeLimit:61440})})).on("upgrade",$M(d)),d.on("storeReplaced",(function(g){i.replaceStore(g),i.localCacheEnabled=!1,d.on("upgrade",$M(d))})),[4,d.open()]):[3,6];case 2:return v.sent(),this._storeInitialized=!0,a.dispatch(new oL(this._iid,{userId:n})),[3,5];case 3:return[4,this._safeInitializeStore(l)];case 4:v.sent(),v.label=5;case 5:return r.userId=n,[3,8];case 6:return[4,this._safeInitializeStore(l)];case 7:v.sent(),r.userId=n,v.label=8;case 8:return[3,13];case 9:return f=v.sent(),s.warn("Nest DB Open Failed. ",f),i.store instanceof Xf||(i.replaceStore(new Xf),i.localCacheEnabled=!1),[4,this._safeInitializeStore(l)];case 10:throw v.sent(),r.userId=n,Z.databaseError;case 11:return[4,this._setupPreference(n)];case 12:return v.sent(),[7];case 13:return[2]}}))}))},t.prototype.getCacheDataSize=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return(n=j.of(this._iid).cacheContext).localCacheEnabled&&n.nestdb?[4,n.nestdb.estimateUsage()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,0]}}))}))},t.prototype.clearCachedData=function(){return A(this,void 0,void 0,(function(){var n;return N(this,(function(e){switch(e.label){case 0:return(n=j.of(this._iid).cacheContext).localCacheEnabled&&n.nestdb?[4,n.nestdb.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._storeInitialized?[4,n.preference.clear()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},t.prototype.clearCachedMessages=function(n){return A(this,void 0,void 0,(function(){var e,r,i=this;return N(this,(function(a){switch(a.label){case 0:return Ne(It("string",n)).throw(Z.invalidParameters),e=up.of(this._iid),r=Cp.of(this._iid),e&&r?[4,Promise.all(n.map((function(s){return A(i,void 0,void 0,(function(){return N(this,(function(l){switch(l.label){case 0:return[4,e.removeMessagesOfChannel(s)];case 1:return l.sent(),[4,r.removeMessagesOfChannel(s)];case 2:return l.sent(),[2]}}))}))})))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},t.prototype._setupPreference=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return e=j.of(this._iid),r=e.sdkState,i=e.cacheContext,a=e.statManager,[4,i.preference.init(this._getPreferenceCacheKey(n),this._getPreferenceVersion())];case 1:return l.sent(),[4,i.preference.get(this._getUserProfileCacheKey(n))];case 2:return(s=l.sent())&&new TS(this._iid,s).apply(),[4,a.init("sendbird@".concat(r.appId,"/").concat(n,".statlog"))];case 3:return l.sent(),[2]}}))}))},t.prototype._ready=function(n,e,r){return r===void 0&&(r={}),A(this,void 0,void 0,(function(){var i,a,s,l,c,d;return N(this,(function(f){switch(f.label){case 0:return Ne(W("string",n)&&W("string",e,!0)).throw(Z.invalidParameters),i=j.of(this._iid),a=i.sdkState,s=i.cacheContext,l=i.connectionManager,c=r.errorForOtherUser,a.userId&&a.userId!==n?c?[3,2]:[4,l.logout()]:[3,3];case 1:return f.sent(),[3,3];case 2:throw c;case 3:return f.trys.push([3,5,,6]),[4,this.initializeCache(n)];case 4:return f.sent(),j.of(this._iid).dispatcher.dispatch(new lL),[3,6];case 5:return f.sent(),d=j.of(this._iid).logger,s.localCacheEnabled=!1,d.warn("Cache initialization failed - cache is not available."),[3,6];case 6:return[2]}}))}))},t.prototype.authenticateFeed=function(n,e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this.authenticate(n,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.authenticate=function(n,e,r){var i;return r===void 0&&(r=o1.SESSION_TOKEN),A(this,void 0,void 0,(function(){var a,s,l;return N(this,(function(c){switch(c.label){case 0:return a=j.of(this._iid),s=a.sessionManager,l=a.connectionManager,[4,this._ready(n,e,{errorForOtherUser:l.isConnected?Z.alreadyConnectedAsAnotherUser:void 0})];case 1:return c.sent(),!((i=s.session.services)===null||i===void 0)&&i.includes(u1.CHAT)?[3,3]:(s.handler||e&&r!==o1.ACCESS_TOKEN||this.setSessionHandler(new TM),[4,s.authenticate(n,e)]);case 2:c.sent(),c.label=3;case 3:return[2,this.currentUser]}}))}))},t.prototype.connect=function(n,e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._ready(n,e)];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,,4,5]),[4,j.of(this._iid).connectionManager.connect(e)];case 3:return r.sent(),[3,5];case 4:return this._onlineDetector.start(),this._appStateChangeDetector.start(),[7];case 5:return[2,this.currentUser]}}))}))},t.prototype.reconnect=function(){var n=j.of(this._iid),e=n.connectionManager,r=n.sdkState,i=n.sessionManager,a=n.dispatcher,s=i.session.hasSession;return s&&(a.dispatch(new Lc(new $n({type:Mn.WEBSOCKET_DISCONNECT,data:{success:!0,error_code:0,error_description:"cause=explicit_reconnect"}}))),this._appStateChangeDetector.start(),this._onlineDetector.start(),e.resetAndReconnect().then((function(){r.appState="foreground"})).catch((function(){}))),s},t.prototype.disconnect=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,this._internalDisconnect()];case 1:return n.sent(),[2]}}))}))},t.prototype.disconnectWebSocket=function(){return A(this,void 0,void 0,(function(){var n,e,r;return N(this,(function(i){switch(i.label){case 0:return n=j.of(this._iid),e=n.connectionManager,r=n.requestQueue,n.dispatcher.dispatch(new Lc(new $n({type:Mn.WEBSOCKET_DISCONNECT,data:{success:!0,error_code:0,error_description:"cause=explicit_disconnect_websocket"}}))),this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.disconnectWebSocket(!0)];case 1:return i.sent(),[2]}}))}))},t.prototype.setBackgroundState=function(){var n=j.of(this._iid),e=n.connectionManager,r=n.sdkState,i=n.logger,a=n.dispatcher;r.appState==="foreground"&&(r.appState="background",i.debug("going background state"),a.dispatch(new Lc(new $n({type:Mn.WEBSOCKET_DISCONNECT,data:{success:!0,error_code:je.WEBSOCKET_CONNECTION_CLOSED,error_description:"cause=background"}}))),e.background().catch((function(s){i.debug("setBackgroundState error = ",s)})))},t.prototype.setForegroundState=function(){var n=j.of(this._iid),e=n.connectionManager,r=n.sdkState,i=n.dispatcher,a=n.logger;r.appState==="background"&&(r.appState="foreground",a.debug("going foreground state"),e.resetAndReconnect().catch((function(s){a.debug("setForgroundState error = ",s)})),i.dispatch(new qM))},t.prototype.setSessionHandler=function(n){Ne(n instanceof TM).throw(Z.invalidParameters),j.of(this._iid).sessionManager.handler=n},t.prototype.addUserEventHandler=function(n,e){Ne(W("string",n)&&e instanceof Bz).throw(Z.invalidParameters),j.of(this._iid).userEventHandlers.set(n,e)},t.prototype.removeUserEventHandler=function(n){j.of(this._iid).userEventHandlers.delete(n)},t.prototype.removeAllUserEventHandler=function(){j.of(this._iid).userEventHandlers.clear()},t.prototype.addConnectionHandler=function(n,e){Ne(W("string",n)&&e instanceof Hz).throw(Z.invalidParameters),j.of(this._iid).connectionHandlers.set(n,e)},t.prototype.removeConnectionHandler=function(n){j.of(this._iid).connectionHandlers.delete(n)},t.prototype.removeAllConnectionHandler=function(){j.of(this._iid).connectionHandlers.clear()},t.prototype.createApplicationUserListQuery=function(n){return n===void 0&&(n={}),new Vz(this._iid,n)},t.prototype.createBlockedUserListQuery=function(n){return n===void 0&&(n={}),new $z(this._iid,n)},t.prototype.createFriendListQuery=function(n){return n===void 0&&(n={}),new Wz(this._iid,n)},t.prototype.createMessageSearchQuery=function(n){return new bV(this._iid,n)},t.prototype.createPollListQuery=function(n){return new Mx(this._iid,q({},n))},t.prototype.createPollVoterListQuery=function(n){return new Ox(this._iid,q({},n))},t.prototype.buildUserFromSerializedData=function(n){var e=Pc(n);return new Mt(this._iid,Mt.payloadify(e))},t.prototype.updateCurrentUserInfo=function(n){return n===void 0&&(n={}),A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return e=q(q({},Ij),n),Ne((function(f){return Oi(f.profileImage,!0)&&W("string",f.profileUrl,!0)&&W("string",f.nickname,!0)})(e)).throw(Z.invalidParameters),this.currentUser?(r=j.of(this._iid),i=r.sdkState,a=r.requestQueue,s=new KM(q({userId:i.userId},e)),[4,a.send(s)]):[3,2];case 1:return l=d.sent(),c=l.as(YM).user,this.currentUser&&(e.nickname&&(this.currentUser.nickname=c.nickname),(e.profileUrl||e.profileImage)&&(this.currentUser.plainProfileUrl=c.profileUrl)),[2,c];case 2:throw Z.connectionRequired}}))}))},t.prototype.updateCurrentUserInfoWithPreferredLanguages=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return Ne(It("string",n)).throw(Z.invalidParameters),this.currentUser?(e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new KM({userId:r.userId,preferredLanguages:n}),[4,i.send(a)]):[3,2];case 1:return s=c.sent(),l=s.as(YM).user,this.currentUser&&(this.currentUser.preferredLanguages=l.preferredLanguages),[2,l];case 2:throw Z.connectionRequired}}))}))},t.prototype.registerFCMPushTokenForCurrentUser=function(n,e){var r,i;return A(this,void 0,void 0,(function(){var a,s,l,c,d,f,v=this;return N(this,(function(g){switch(g.label){case 0:if(Ne(W("string",n)&&W("string",e?.deviceManufacturer,!0)).throw(Z.invalidParameters),e?.deviceOS&&Ne(wt(ch,e.deviceOS.platform,!0)&&W("string",e.deviceOS.version,!0)).throw(Z.invalidParameters),!this.currentUser)return[3,6];a={deviceOS:"".concat(((r=e?.deviceOS)===null||r===void 0?void 0:r.platform)||ch.ANDROID,"-").concat(((i=e?.deviceOS)===null||i===void 0?void 0:i.version)||"unknown"),deviceManufacturer:e?.deviceManufacturer,systemPushEnabled:e?.systemPushEnabled},g.label=1;case 1:return g.trys.push([1,4,,5]),s=j.of(this._iid),l=s.sessionManager,c=s.sdkState,d=s.requestQueue,l.hasDeviceToken(Mi.FCM,n)?[2,Va.SUCCESS]:(f=new Uj({userId:c.userId,token:n,deviceOS:a.deviceOS,deviceManufacturer:a.deviceManufacturer,systemPushEnabled:a.systemPushEnabled}),[4,d.send(f)]);case 2:return g.sent(),[4,yr((function(){return A(v,void 0,void 0,(function(){return N(this,(function(y){switch(y.label){case 0:return l.setDeviceToken(Mi.FCM,n,a),[4,l.saveDeviceToken()];case 1:return y.sent(),[2]}}))}))}))];case 3:return g.sent(),this._fcmPushToken="",[2,Va.SUCCESS];case 4:return g.sent(),[2,Va.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=n,[2,Va.PENDING];case 7:return[2]}}))}))},t.prototype.unregisterFCMPushTokenForCurrentUser=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:if(Ne(W("string",n)).throw(Z.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=j.of(this._iid),r=e.sessionManager,i=e.sdkState,a=e.requestQueue,s=new Fj({userId:i.userId,token:n}),[4,a.send(s)];case 2:return l=f.sent(),c=l.as(Hj).lastDeletedAt,[4,yr((function(){return A(d,void 0,void 0,(function(){return N(this,(function(v){switch(v.label){case 0:return r.unsetDeviceToken(Mi.FCM,n),r.setDeviceTokenDeletedAt(c),[4,r.saveDeviceToken()];case 1:return v.sent(),[2]}}))}))}))];case 3:return f.sent(),this._fcmPushToken="",[2,Va.SUCCESS];case 4:return f.sent(),[2,Va.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=n,[2,Va.PENDING];case 7:return[2]}}))}))},t.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c=this;return N(this,(function(d){switch(d.label){case 0:return this.currentUser?(n=j.of(this._iid),e=n.sessionManager,r=n.sdkState,i=n.requestQueue,a=new zj({userId:r.userId}),[4,i.send(a)]):[3,3];case 1:return s=d.sent(),l=s.as(Vj).lastDeletedAt,[4,yr((function(){return A(c,void 0,void 0,(function(){return N(this,(function(f){switch(f.label){case 0:return e.unsetDeviceTokens(Mi.FCM),e.setDeviceTokenDeletedAt(l),[4,e.saveDeviceToken()];case 1:return f.sent(),[2]}}))}))}))];case 2:d.sent(),d.label=3;case 3:return[2]}}))}))},t.prototype.registerAPNSPushTokenForCurrentUser=function(n,e){var r,i;return A(this,void 0,void 0,(function(){var a,s,l,c,d,f,v=this;return N(this,(function(g){switch(g.label){case 0:if(Ne(W("string",n)&&W("string",e?.deviceManufacturer,!0)).throw(Z.invalidParameters),e?.deviceOS&&Ne(wt(ch,e.deviceOS.platform,!0)&&W("string",e.deviceOS.version,!0)).throw(Z.invalidParameters),!this.currentUser)return[3,6];a={deviceOS:"".concat(((r=e?.deviceOS)===null||r===void 0?void 0:r.platform)||ch.IOS,"-").concat(((i=e?.deviceOS)===null||i===void 0?void 0:i.version)||"unknown"),deviceManufacturer:e?.deviceManufacturer,systemPushEnabled:e?.systemPushEnabled},g.label=1;case 1:return g.trys.push([1,4,,5]),s=j.of(this._iid),l=s.sessionManager,c=s.sdkState,d=s.requestQueue,l.hasDeviceToken(Mi.APNS,n)?[2,Va.SUCCESS]:(f=new Lj({userId:c.userId,token:n,deviceOS:a.deviceOS,deviceManufacturer:a.deviceManufacturer,systemPushEnabled:a.systemPushEnabled}),[4,d.send(f)]);case 2:return g.sent(),[4,yr((function(){return A(v,void 0,void 0,(function(){return N(this,(function(y){switch(y.label){case 0:return l.setDeviceToken(Mi.APNS,n,a),[4,l.saveDeviceToken()];case 1:return y.sent(),[2]}}))}))}))];case 3:return g.sent(),this._apnsPushToken="",[2,Va.SUCCESS];case 4:return g.sent(),[2,Va.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=n,[2,Va.PENDING];case 7:return[2]}}))}))},t.prototype.unregisterAPNSPushTokenForCurrentUser=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:if(Ne(W("string",n)).throw(Z.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=j.of(this._iid),r=e.sessionManager,i=e.sdkState,a=e.requestQueue,s=new kj({userId:i.userId,token:n}),[4,a.send(s)];case 2:return l=f.sent(),c=l.as(Pj).lastDeletedAt,[4,yr((function(){return A(d,void 0,void 0,(function(){return N(this,(function(v){switch(v.label){case 0:return r.unsetDeviceToken(Mi.APNS,n),r.setDeviceTokenDeletedAt(c),[4,r.saveDeviceToken()];case 1:return v.sent(),[2]}}))}))}))];case 3:return f.sent(),this._apnsPushToken="",[2,Va.SUCCESS];case 4:return f.sent(),[2,Va.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=n,[2,Va.PENDING];case 7:return[2]}}))}))},t.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a,s,l,c=this;return N(this,(function(d){switch(d.label){case 0:return this.currentUser?(n=j.of(this._iid),e=n.sessionManager,r=n.sdkState,i=n.requestQueue,a=new Bj({userId:r.userId}),[4,i.send(a)]):[3,3];case 1:return s=d.sent(),l=s.as(Gj).lastDeletedAt,[4,yr((function(){return A(c,void 0,void 0,(function(){return N(this,(function(f){switch(f.label){case 0:return e.unsetDeviceTokens(Mi.APNS),e.setDeviceTokenDeletedAt(l),[4,e.saveDeviceToken()];case 1:return f.sent(),[2]}}))}))}))];case 2:d.sent(),d.label=3;case 3:return[2]}}))}))},t.prototype.markPushNotificationAsDelivered=function(n,e){var r;return e===void 0&&(e=!0),A(this,void 0,void 0,(function(){var i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P;return N(this,(function(G){switch(G.label){case 0:if(i=j.of(this._iid),a=i.logger,s=i.sessionManager,l=i.requestQueue,c=i.pushNotificationAckManager,a.debug("markPushNotificationAsDelivered:",n),d=I1.DELIVERED,f=c.parseData(n),v=f.pushTrackingId,g=f.sessionTopics,y=f.sessionKey,b=f.messageId,C=f.channelKey,w=f.templateKey,I=f.notificationEventDeadline,!y||!g.includes(v1.PUSH_ACKNOWLEDGEMENT))throw a.info("Can't use markPushNotificationAsDelivered() feature."),Z.malformedDataError;if(c.isAcked(v,d))return a.info("already delivered push notification:",v),[2];M=!!C,R=e&&M,U=(r=s.deviceTokens[0])===null||r===void 0?void 0:r.token,H=new WM({deviceToken:U??"",pushTrackingId:v,eventType:d,messageId:b,channelKey:C,templateKey:w,notificationEventDeadline:I,allowedPushNotification:R}),y&&(H.headers["Session-Key"]=y),G.label=1;case 1:return G.trys.push([1,3,,4]),[4,l.send(H)];case 2:return G.sent(),c.markAsAcked(v,d),[3,4];case 3:throw P=G.sent(),a.debug("failed to mark push notification as delivered. push tracking id: ".concat(v,". error: ").concat(P)),P;case 4:return[2]}}))}))},t.prototype.markPushNotificationAsClicked=function(n){var e;return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R;return N(this,(function(U){switch(U.label){case 0:if(r=j.of(this._iid),i=r.logger,a=r.sessionManager,s=r.requestQueue,l=r.pushNotificationAckManager,i.debug("markPushNotificationAsClicked:",n),c=I1.CLICKED,d=l.parseData(n),f=d.pushTrackingId,v=d.sessionTopics,g=d.sessionKey,y=d.messageId,b=d.channelKey,C=d.templateKey,w=d.notificationEventDeadline,!g||!v.includes(v1.PUSH_ACKNOWLEDGEMENT))throw i.info("Can't use markPushNotificationAsClicked() feature."),Z.malformedDataError;if(l.isAcked(f,c))return i.info("already clicked push notification:",f),[2];I=(e=a.deviceTokens[0])===null||e===void 0?void 0:e.token,M=new WM({deviceToken:I??"",pushTrackingId:f,eventType:c,messageId:y,channelKey:b,templateKey:C,notificationEventDeadline:w}),g&&(M.headers["Session-Key"]=g),U.label=1;case 1:return U.trys.push([1,3,,4]),[4,s.send(M)];case 2:return U.sent(),l.markAsAcked(f,c),[3,4];case 3:throw R=U.sent(),i.debug("failed to mark push notification as clicked. push tracking id: ".concat(f,". error: ").concat(R)),R;case 4:return[2]}}))}))},t.prototype.getChannelInvitationPreference=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return n=j.of(this._iid),e=n.sdkState,r=n.requestQueue,i=new $j({userId:e.userId}),[4,r.send(i)];case 1:return a=s.sent(),[2,{autoAccept:a.as(Kj).autoAccept}]}}))}))},t.prototype.setChannelInvitationPreference=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(W("boolean",n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new Yj({userId:r.userId,willAutoAccept:n}),[4,i.send(a)];case 1:return s=l.sent(),[2,{autoAccept:s.as(Wj).autoAccept}]}}))}))},t.prototype.getDoNotDisturb=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return n=j.of(this._iid),e=n.sdkState,r=n.requestQueue,i=new Qj({userId:e.userId}),[4,r.send(i)];case 1:return a=s.sent(),[2,a.as(Xj).preference]}}))}))},t.prototype.setDoNotDisturb=function(n,e,r,i,a,s){return e===void 0&&(e=0),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=0),s===void 0&&(s=""),A(this,void 0,void 0,(function(){var l,c,d,f,v;return N(this,(function(g){switch(g.label){case 0:return Ne(W("boolean",n)&&W("number",e)&&W("number",r)&&W("number",i)&&W("number",a)&&W("string",s)).throw(Z.invalidParameters),l=j.of(this._iid),c=l.sdkState,d=l.requestQueue,f=new Zj({userId:c.userId,doNotDisturbOn:n,startHour:e,startMin:r,endHour:i,endMin:a,timezone:s}),[4,d.send(f)];case 1:return v=g.sent(),[2,v.as(Jj).preference]}}))}))},t.prototype.getSnoozePeriod=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return n=j.of(this._iid),e=n.sdkState,r=n.requestQueue,i=new e$({userId:e.userId}),[4,r.send(i)];case 1:return a=s.sent(),[2,a.as(t$).snoozePeriod]}}))}))},t.prototype.setSnoozePeriod=function(n,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),A(this,void 0,void 0,(function(){var i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:return Ne(W("boolean",n)&&W("number",e)&&W("number",r)).throw(Z.invalidParameters),i=j.of(this._iid),a=i.sdkState,s=i.requestQueue,l=new n$({userId:a.userId,snoozeOn:n,startTs:e,endTs:r}),[4,s.send(l)];case 1:return c=d.sent(),[2,c.as(r$).snoozePeriod]}}))}))},t.prototype.getMyPushTokensByToken=function(n,e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g,y,b;return N(this,(function(C){switch(C.label){case 0:return Ne(W("string",n)&&wt(Mi,e)).throw(Z.invalidParameters),r=j.of(this._iid),i=r.sdkState,a=r.requestQueue,s=r.sessionManager,l=new qj({userId:i.userId,type:e,token:n}),[4,a.send(l)];case 1:c=C.sent(),d=c.as(jj).pushTokens;try{for(f=De(d.deviceTokens),v=f.next();!v.done;v=f.next())g=v.value,s.setDeviceToken(d.type,g)}catch(w){y={error:w}}finally{try{v&&!v.done&&(b=f.return)&&b.call(f)}finally{if(y)throw y.error}}return[4,s.saveDeviceToken()];case 2:return C.sent(),[2,d]}}))}))},t.prototype.getPushTriggerOption=function(){return A(this,void 0,void 0,(function(){var n,e,r,i;return N(this,(function(a){switch(a.label){case 0:return n=j.of(this._iid),e=n.sdkState,r=n.requestQueue,i=new s$({userId:e.userId}),[4,r.send(i)];case 1:return[2,a.sent().as(o$).pushTriggerOption]}}))}))},t.prototype.setPushTriggerOption=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return Ne(wt(np,n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new l$({userId:r.userId,pushTriggerOption:n}),[4,i.send(a)];case 1:return[2,s.sent().as(u$).pushTriggerOption]}}))}))},t.prototype.getPushTemplate=function(){return A(this,void 0,void 0,(function(){var n,e,r,i;return N(this,(function(a){switch(a.label){case 0:return n=j.of(this._iid),e=n.sdkState,r=n.requestQueue,i=new c$({userId:e.userId}),[4,r.send(i)];case 1:return[2,a.sent().as(d$).name]}}))}))},t.prototype.setPushTemplate=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return Ne(wt(hS,n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new h$({userId:r.userId,templateName:n}),[4,i.send(a)];case 1:return[2,s.sent().as(f$).name]}}))}))},t.prototype.blockUser=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return Ne(n instanceof Mt||W("string",n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new i$({userId:r.userId,blockedUserId:n instanceof Mt?n.userId:n}),[4,i.send(a)];case 1:return s.sent(),[2]}}))}))},t.prototype.blockUserWithUserId=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){return[2,this.blockUser(n)]}))}))},t.prototype.unblockUser=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return Ne(n instanceof Mt||W("string",n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new a$({userId:r.userId,unblockedUserId:n instanceof Mt?n.userId:n}),[4,i.send(a)];case 1:return s.sent(),[2]}}))}))},t.prototype.unblockUserWithUserId=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){return[2,this.unblockUser(n)]}))}))},t.prototype.getFriendChangeLogsByToken=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(W("string",n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new p$({userId:r.userId,token:n}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(m$).changelogs]}}))}))},t.prototype.getAllowFriendDiscovery=function(){return A(this,void 0,void 0,(function(){var n,e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return n=j.of(this._iid),e=n.sdkState,r=n.requestQueue,i=new T$({userId:e.userId}),[4,r.send(i)];case 1:return a=s.sent(),[2,a.as(C$).allowFriendDiscovery]}}))}))},t.prototype.setAllowFriendDiscovery=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return Ne(W("boolean",n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new S$({userId:r.userId,allowFriendDiscovery:n}),[4,i.send(a)];case 1:return s.sent(),[2,n]}}))}))},t.prototype.uploadFriendDiscoveries=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new v$({userId:r.userId,discoveries:n}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(_$).friendDiscoveryRequestId]}}))}))},t.prototype.deleteFriendDiscovery=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){return[2,this.deleteFriendDiscoveries([n])]}))}))},t.prototype.deleteFriendDiscoveries=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return Ne(It("string",n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new g$({userId:r.userId,discoveryKeys:n}),[4,i.send(a)];case 1:return s.sent(),[2]}}))}))},t.prototype.addFriends=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return Ne(It("string",n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new y$({userId:r.userId,userIds:n}),[4,i.send(a)];case 1:return s=l.sent(),[2,s.as(E$).users]}}))}))},t.prototype.deleteFriend=function(n){return A(this,void 0,void 0,(function(){return N(this,(function(e){return[2,this.deleteFriends([n])]}))}))},t.prototype.deleteFriends=function(n){return A(this,void 0,void 0,(function(){var e,r,i,a;return N(this,(function(s){switch(s.label){case 0:return Ne(It("string",n)).throw(Z.invalidParameters),e=j.of(this._iid),r=e.sdkState,i=e.requestQueue,a=new b$({userId:r.userId,userIds:n}),[4,i.send(a)];case 1:return s.sent(),[2]}}))}))},t.prototype.getAllEmoji=function(){return A(this,void 0,void 0,(function(){var n,e,r;return N(this,(function(i){switch(i.label){case 0:return n=j.of(this._iid).requestQueue,e=new N$,[4,n.send(e)];case 1:return r=i.sent(),[2,r.as(A$).emojiContainer]}}))}))},t.prototype.getEmojiCategory=function(n){return A(this,void 0,void 0,(function(){var e,r,i;return N(this,(function(a){switch(a.label){case 0:return e=j.of(this._iid).requestQueue,r=new w$({categoryId:n}),[4,e.send(r)];case 1:return i=a.sent(),[2,i.as(I$).emojiCategory]}}))}))},t.prototype.getEmoji=function(n){return A(this,void 0,void 0,(function(){var e,r,i;return N(this,(function(a){switch(a.label){case 0:return e=j.of(this._iid).requestQueue,r=new M$({key:n}),[4,e.send(r)];case 1:return i=a.sent(),[2,i.as(O$).emoji]}}))}))},t.prototype.getUIKitConfiguration=function(){return A(this,void 0,void 0,(function(){var n,e,r,i;return N(this,(function(a){switch(a.label){case 0:return n=j.of(this._iid),Ne(n.hasExtension("sb_uikit")).throw(Z.notSupportedError),e=n.requestQueue,r=new R$,[4,e.send(r)];case 1:return i=a.sent(),[2,i.as(D$).uikitConfiguration]}}))}))},t.prototype.getReportCategoryInfoList=function(){return A(this,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,j.of(this._iid).reportCategoryManager.categories()];case 1:return[2,n.sent()]}}))}))},t})();const OL=()=>({common:{enableUsingDefaultUserProfile:!1},groupChannel:{channel:{enableMention:!1,enableOgtag:!0,enableReactions:!0,enableReactionsSupergroup:!1,enableTypingIndicator:!0,enableVoiceMessage:!1,input:{camera:{enablePhoto:!0,enableVideo:!0},enableDocument:!0,gallery:{enablePhoto:!0,enableVideo:!0}},replyType:"quote_reply",threadReplySelectType:"thread",typingIndicatorTypes:new Set(["text"]),enableFeedback:!1,enableSuggestedReplies:!1,showSuggestedRepliesFor:"last_message_only",suggestedRepliesDirection:"vertical",enableMarkdownForUserMessage:!1,enableFormTypeMessage:!1,enableMarkAsUnread:!1},channelList:{enableMessageReceiptStatus:!1,enableTypingIndicator:!1},setting:{enableMessageSearch:!1}},openChannel:{channel:{enableOgtag:!0,input:{camera:{enablePhoto:!0,enableVideo:!0},enableDocument:!0,gallery:{enablePhoto:!0,enableVideo:!0}}}}});function L$(t){return delete t.groupChannel.channel.typingIndicatorTypes,delete t.groupChannel.channel.enableFeedback,delete t.groupChannel.channel.enableSuggestedReplies,delete t.groupChannel.channel.showSuggestedRepliesFor,delete t.groupChannel.channel.suggestedRepliesDirection,delete t.groupChannel.channel.enableMarkdownForUserMessage,delete t.groupChannel.channel.enableFormTypeMessage,t}const U$=()=>{const t=OL();return L$(t)},QM=OL();U$();D.createContext({initDashboardConfigs:()=>Promise.resolve(),configs:QM,configsWithAppAttr:()=>QM});var k$=1024*1024,M1=10,A3=100,vC=250,P$=1e3,F$="sendbird-global-audio-player-id",H$="Voice_message.mp3",RL="audio/mp3;sbu_type=voice",B$="KEY_VOICE_MESSAGE_DURATION",G$="KEY_INTERNAL_MESSAGE_TYPE",z$="voice/mp3",Sb="32px",V$=10,q$=25*1024*1024,j$=function(t){return/iPhone|iPad|iPod/i.test(t)},$$=function(t){return/WebKit/i.test(t)},K$=function(t){return/Chrome/i.test(t)},DL=function(t){return!K$(t)&&/Safari/i.test(t)},XM=function(t){return j$(t)&&($$(t)||DL(t))},Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xL={exports:{}},_C={};var ZM;function Y$(){if(ZM)return _C;ZM=1;var t=O;function n(v,g){return v===g&&(v!==0||1/v===1/g)||v!==v&&g!==g}var e=typeof Object.is=="function"?Object.is:n,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(v,g){var y=g(),b=r({inst:{value:y,getSnapshot:g}}),C=b[0].inst,w=b[1];return a(function(){C.value=y,C.getSnapshot=g,c(C)&&w({inst:C})},[v,y,g]),i(function(){return c(C)&&w({inst:C}),v(function(){c(C)&&w({inst:C})})},[v]),s(y),y}function c(v){var g=v.getSnapshot;v=v.value;try{var y=g();return!e(v,y)}catch{return!0}}function d(v,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return _C.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,_C}xL.exports=Y$();var LL=xL.exports,W$=typeof Dc=="object"&&Dc&&Dc.Object===Object&&Dc,UL=W$,Q$=UL,X$=typeof self=="object"&&self&&self.Object===Object&&self,Z$=Q$||X$||Function("return this")(),Zc=Z$,J$=Zc,eK=J$.Symbol,w3=eK,JM=w3,kL=Object.prototype,tK=kL.hasOwnProperty,nK=kL.toString,Rg=JM?JM.toStringTag:void 0;function rK(t){var n=tK.call(t,Rg),e=t[Rg];try{t[Rg]=void 0;var r=!0}catch{}var i=nK.call(t);return r&&(n?t[Rg]=e:delete t[Rg]),i}var iK=rK,aK=Object.prototype,sK=aK.toString;function oK(t){return sK.call(t)}var lK=oK,eO=w3,uK=iK,cK=lK,dK="[object Null]",hK="[object Undefined]",tO=eO?eO.toStringTag:void 0;function fK(t){return t==null?t===void 0?hK:dK:tO&&tO in Object(t)?uK(t):cK(t)}var I3=fK;function pK(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var PL=pK,mK=I3,vK=PL,_K="[object AsyncFunction]",gK="[object Function]",yK="[object GeneratorFunction]",EK="[object Proxy]";function bK(t){if(!vK(t))return!1;var n=mK(t);return n==gK||n==yK||n==_K||n==EK}var TK=bK,CK=Zc,SK=CK["__core-js_shared__"],NK=SK,gC=NK,nO=(function(){var t=/[^.]+$/.exec(gC&&gC.keys&&gC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function AK(t){return!!nO&&nO in t}var wK=AK,IK=Function.prototype,MK=IK.toString;function OK(t){if(t!=null){try{return MK.call(t)}catch{}try{return t+""}catch{}}return""}var FL=OK,RK=TK,DK=wK,xK=PL,LK=FL,UK=/[\\^$.*+?()[\]{}|]/g,kK=/^\[object .+?Constructor\]$/,PK=Function.prototype,FK=Object.prototype,HK=PK.toString,BK=FK.hasOwnProperty,GK=RegExp("^"+HK.call(BK).replace(UK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zK(t){if(!xK(t)||DK(t))return!1;var n=RK(t)?GK:kK;return n.test(LK(t))}var VK=zK;function qK(t,n){return t?.[n]}var jK=qK,$K=VK,KK=jK;function YK(t,n){var e=KK(t,n);return $K(e)?e:void 0}var xv=YK,WK=xv,QK=Zc,XK=WK(QK,"Map"),ZK=XK,JK=xv;JK(Object,"create");var eY=Zc;eY.Uint8Array;var rO=w3,iO=rO?rO.prototype:void 0;iO&&iO.valueOf;function tY(t){return t!=null&&typeof t=="object"}var HL=tY,nY=I3,rY=HL,iY="[object Arguments]";function aY(t){return rY(t)&&nY(t)==iY}var sY=aY,aO=sY,oY=HL,BL=Object.prototype,lY=BL.hasOwnProperty,uY=BL.propertyIsEnumerable;aO((function(){return arguments})());var O1={exports:{}};function cY(){return!1}var dY=cY;O1.exports;(function(t,n){var e=Zc,r=dY,i=n&&!n.nodeType&&n,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?e.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d})(O1,O1.exports);O1.exports;var R1={exports:{}};R1.exports;(function(t,n){var e=UL,r=n&&!n.nodeType&&n,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&e.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(R1,R1.exports);var hY=R1.exports,sO=hY;sO&&sO.isTypedArray;var fY=xv,pY=Zc,mY=fY(pY,"DataView"),vY=mY,_Y=xv,gY=Zc,yY=_Y(gY,"Promise"),EY=yY,bY=xv,TY=Zc,CY=bY(TY,"Set"),SY=CY,NY=xv,AY=Zc,wY=NY(AY,"WeakMap"),IY=wY,BS=vY,GS=ZK,zS=EY,VS=SY,qS=IY,GL=I3,Lv=FL,oO="[object Map]",MY="[object Object]",lO="[object Promise]",uO="[object Set]",cO="[object WeakMap]",dO="[object DataView]",OY=Lv(BS),RY=Lv(GS),DY=Lv(zS),xY=Lv(VS),LY=Lv(qS),tv=GL;(BS&&tv(new BS(new ArrayBuffer(1)))!=dO||GS&&tv(new GS)!=oO||zS&&tv(zS.resolve())!=lO||VS&&tv(new VS)!=uO||qS&&tv(new qS)!=cO)&&(tv=function(t){var n=GL(t),e=n==MY?t.constructor:void 0,r=e?Lv(e):"";if(r)switch(r){case OY:return dO;case RY:return oO;case DY:return lO;case xY:return uO;case LY:return cO}return n});var UY={onUserProfileMessage:void 0,disableUserProfile:!1,isReactionEnabled:!0,isMentionEnabled:!1,isVoiceMessageEnabled:!0,replyType:"NONE",showSearchIcon:!0,isTypingIndicatorEnabledOnChannelList:!1,isMessageReceiptStatusEnabledOnChannelList:!1,setCurrenttheme:function(){}};Re(Re({},UY),{appId:"",userId:"",accessToken:void 0,theme:"light",isOnline:!1,allowProfileEdit:!0,forceLeftToRightMessageLayout:!1,disableMarkAsDelivered:!1,isMultipleFilesMessageEnabled:!1,htmlTextDirection:"ltr",uikitUploadSizeLimit:q$,uikitMultipleFilesMessageLimit:V$,imageCompression:void 0,voiceRecord:void 0,userMention:void 0,renderUserProfile:void 0,onStartDirectMessage:void 0,setCurrentTheme:void 0,userListQuery:void 0,pubSub:void 0,logger:void 0,markAsReadScheduler:void 0,markAsDeliveredScheduler:void 0,common:{enableUsingDefaultUserProfile:!1},groupChannel:{enableOgtag:!0,enableTypingIndicator:!0,enableReactions:!0,enableMention:!1,replyType:"none",threadReplySelectType:"thread",enableVoiceMessage:!0,typingIndicatorTypes:void 0,enableDocument:!1,enableFeedback:!1,enableSuggestedReplies:!1,showSuggestedRepliesFor:"all_messages",suggestedRepliesDirection:"vertical",enableMarkdownForUserMessage:!1,enableFormTypeMessage:!1,enableMarkAsUnread:!1,enableReactionsSupergroup:void 0},groupChannelList:{enableTypingIndicator:!1,enableMessageReceiptStatus:!1},groupChannelSettings:{enableMessageSearch:!1},openChannel:{enableOgtag:!0,enableDocument:!1}});var kY=O.createContext(null),PY=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._channels=new Map,e._enteredChannelUrls=[],e}return k(n,t),Object.defineProperty(n.prototype,"enteredChannels",{get:function(){var e=this;return this._enteredChannelUrls.map((function(r){return e._channels.get(r)})).filter((function(r){return!!r}))},enumerable:!1,configurable:!0}),n.prototype.isEnteredChannel=function(e){return this._enteredChannelUrls.includes(e)},n.prototype.enter=function(e){this._enteredChannelUrls.indexOf(e)<0&&this._enteredChannelUrls.push(e)},n.prototype.exit=function(e){var r=this._enteredChannelUrls.indexOf(e);r>=0&&this._enteredChannelUrls.splice(r,1)},n.prototype.exitAll=function(){this._enteredChannelUrls=[]},n.prototype.get=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this._channels.get(e)]}))}))},n.prototype.upsert=function(e){return A(this,void 0,void 0,(function(){var r,i=this;return N(this,(function(a){return r=[],e.forEach((function(s){if(i._channels.has(s.url)){var l=i._channels.get(s.url);Object.assign(l,s),r.push(l)}else i._channels.set(s.url,s),r.push(s)})),[2,r]}))}))},n.prototype.remove=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return this._channels.delete(e),this.exit(e),[2]}))}))},n.prototype.clear=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){return this._channels.clear(),this._enteredChannelUrls=[],[2]}))}))},n})(ti),zL={channelUrl:void 0,name:void 0,coverUrlOrImage:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,isEphemeral:void 0},FY=(function(t){function n(e){var r=e.channelUrl,i=e.isInternalCall,a=t.call(this)||this;return a.method=Ee.GET,a.path="".concat(i?VH:Op,"/").concat(encodeURIComponent(r)),a.params={show_pinned_messages:!0},a}return k(n,t),n})(be),hO=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Sv(e,r),i}return k(n,t),n})(we),HY=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.coverUrlOrImage,s=e.name,l=e.data,c=e.customType,d=e.operatorUserIds,f=e.isEphemeral;return(r=t.call(this)||this).method=Ee.POST,r.path=Op,r.params=Pe(We({channel_url:i,cover_url:W("string",a)?a:null,cover_file:Oi(a)?a:null,name:s,data:l,custom_type:c,operators:d,is_ephemeral:f})),r}return k(n,t),n})(be);(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Sv(e,r),i}k(n,t)})(we);var BY=(function(t){function n(e){var r=e.channelUrl;return t.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return k(n,t),n})(ia),VL=(function(t){function n(e,r,i){var a,s,l=this;return l=t.call(this,e,"SYEV",i)||this,i.data&&(l.participantCount=(a=i.data.participant_count)!==null&&a!==void 0?a:0,l.user=new Mt(e,i.data),l.ts=(s=i.data.edge_ts)!==null&&s!==void 0?s:0),l}return k(n,t),n})(Xc),GY=(function(t){function n(e){var r=e.channelUrl;return t.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return k(n,t),n})(ia),qL=(function(t){function n(e,r,i){var a,s,l=this;return l=t.call(this,e,"EXIT",i)||this,i.data&&(l.participantCount=(a=i.data.participant_count)!==null&&a!==void 0?a:0,l.user=new Mt(e,i.data),l.ts=(s=i.data.edge_ts)!==null&&s!==void 0?s:0),l}return k(n,t),n})(Xc),yC={},Bl=(function(t){function n(e,r){var i=t.call(this,e,q(q({},r),{channelType:Lt.OPEN}))||this;return i.subscribeChannelEvent=st,i.unsubscribeChannelEvent=st,i.refreshChannel=function(){return A(i,void 0,void 0,(function(){return N(this,(function(a){return[2,st()]}))}))},i._openChannelCache=new PY(e),i._openChannelHandlers=new Map,i._dispatcher.on((function(a){var s,l;if(a instanceof Jn)i._handleEvent(a).catch((function(v){if(Ca(v)&&i._sdkState.appState==="foreground")throw v}));else if(a instanceof $s&&a.stateType===nn.CONNECTED){var c=i._openChannelCache.enteredChannels;try{for(var d=De(c),f=d.next();!f.done;f=d.next())f.value.enter()}catch(v){s={error:v}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}}})),yC[e]||(yC[e]=i),i}return k(n,t),n.of=function(e){return yC[e]},n.prototype.buildOpenChannelFromSerializedData=function(e){var r=Pc(e);return new Sv(this._iid,Sv.payloadify(r))},n.prototype.getChannelFromCache=function(e){var r;return A(this,void 0,void 0,(function(){return N(this,(function(i){switch(i.label){case 0:return[4,this._openChannelCache.get(e)];case 1:return[2,(r=i.sent())!==null&&r!==void 0?r:null]}}))}))},n.prototype.upsertChannelsToCache=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,this._openChannelCache.upsert(e)];case 1:return[2,r.sent()]}}))}))},n.prototype.removeChannelsFromCache=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c;return N(this,(function(d){switch(d.label){case 0:d.trys.push([0,5,6,7]),r=De(e),i=r.next(),d.label=1;case 1:return i.done?[3,4]:(a=i.value,[4,this._openChannelCache.remove(a)]);case 2:d.sent(),d.label=3;case 3:return i=r.next(),[3,1];case 4:return[3,7];case 5:return s=d.sent(),l={error:s},[3,7];case 6:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 7:return[2]}}))}))},n.prototype.setEnteredToCache=function(e){this._openChannelCache.enter(e.url)},n.prototype.setExitedToCache=function(e){this._openChannelCache.exit(e.url)},Object.defineProperty(n.prototype,"handlers",{get:function(){return et([],Ye(this._openChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),n.prototype._handleEvent=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F,te,J,ne,Oe,X,se,$,le,he,xe,Ge,Q,fe,Ae,$e,Te,Fe,Je,Ot,Ct,Kn,An,Ln,En,en,Pn,Gn,fn,Er,Un,Fn,pt,kn,er,vn,Yn,Pt,Wn,hr,ht,ni,Ei,Ir,kr,Qn,bn,tn,Mr,oa,Dt,Ut=this;return N(this,(function(Et){switch(Et.label){case 0:switch(Et.trys.push([0,62,,63]),e.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,30];case"SYEV":return[3,33]}return[3,61];case 1:return s=null,e.code==="MESG"?s=e.as(E3):e.code==="FILE"?s=e.as(m3):e.code!=="ADMM"&&e.code!="BRDM"||(s=e.as(mL)),s?(r=s.message,i=s.isMentioned,r.channelType!==Lt.OPEN?[3,3]:[4,this.getChannel(r.channelUrl,!0)]):[3,3];case 2:a=Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())St=Ie.value,this._openChannelCache.isEnteredChannel(a.url)&&(St.onMessageReceived&&St.onMessageReceived(a,r),i&&St.onMentionReceived&&St.onMentionReceived(a,r))}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))})),Et.label=3;case 3:return[3,61];case 4:return s=null,e.code==="MEDI"?s=e.as(b1):e.code==="FEDI"?s=e.as(T1):e.code==="AEDI"&&(s=e.as(vL)),s?(l=s.message,c=s.mentionCountChange,l.channelType!==Lt.OPEN?[3,6]:[4,this.getChannel(l.channelUrl,!0)]):[3,6];case 5:d=Et.sent(),f=!1,d.lastPinnedMessage&&d.lastPinnedMessage.messageId===l.messageId&&d.lastPinnedMessage.updatedAt<l.updatedAt&&(d.lastPinnedMessage=l,f=!0,j.of(this._iid).requestDeduplicator.updatePendingResponse(d,Date.now())),Qe((function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt,zn,kt;return N(this,(function(Ki){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())St=Ie.value,this._openChannelCache.isEnteredChannel(d.url)&&(f&&((zn=St.onPinnedMessageUpdated)===null||zn===void 0||zn.call(St,d),(kt=St.onChannelChanged)===null||kt===void 0||kt.call(St,d)),St.onMessageUpdated&&St.onMessageUpdated(d,l),c>0&&St.onMentionReceived&&St.onMentionReceived(d,l))}catch(la){bt={error:la}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))})),Et.label=6;case 6:return[3,61];case 7:return v=e.as(B4),he=v.channelUrl,xe=v.channelType,g=v.messageId,xe!==Lt.OPEN?[3,9]:[4,this.getChannel(he,!0)];case 8:y=Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())St=Ie.value,this._openChannelCache.isEnteredChannel(y.url)&&St.onMessageDeleted&&St.onMessageDeleted(y,g)}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))})),Et.label=9;case 9:return[3,61];case 10:return b=e.as(_L),he=b.channelUrl,xe=b.channelType,C=b.event,xe!==Lt.OPEN?[3,12]:[4,this.getChannel(he,!0)];case 11:w=Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())St=Ie.value,this._openChannelCache.isEnteredChannel(w.url)&&St.onReactionUpdated&&St.onReactionUpdated(w,C)}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))})),Et.label=12;case 12:return[3,61];case 13:return(I=e.as(gL).event).channelType!==Lt.OPEN?[3,15]:[4,this.getChannel(I.channelUrl,!0)];case 14:M=Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())St=Ie.value,this._openChannelCache.isEnteredChannel(M.url)&&St.onThreadInfoUpdated&&St.onThreadInfoUpdated(M,I)}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))})),Et.label=15;case 15:return[3,61];case 16:R=e.as(yL).openChannelMemberCounts,U=[],Et.label=17;case 17:Et.trys.push([17,22,23,24]),H=De(R),P=H.next(),Et.label=18;case 18:return P.done?[3,21]:(G=P.value,he=G.channelUrl,Ot=G.participantCount,Y=G.updatedAt,[4,this.getChannelFromCache(he)]);case 19:(F=Et.sent())&&F._updateParticipantCount(Ot,Y)&&U.push(F),Et.label=20;case 20:return P=H.next(),[3,18];case 21:return[3,24];case 22:return te=Et.sent(),oa={error:te},[3,24];case 23:try{P&&!P.done&&(Dt=H.return)&&Dt.call(H)}finally{if(oa)throw oa.error}return[7];case 24:return U.length>0?[4,this.upsertChannelsToCache(U)]:[3,26];case 25:J=Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())(St=Ie.value).onChannelMemberCountChanged&&St.onChannelMemberCountChanged(J)}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))})),Et.label=26;case 26:return[3,61];case 27:return ne=e.as(EL),Oe=ne.event,X=ne.status,he=ne.channelUrl,xe=ne.channelType,he&&xe===Lt.OPEN?[4,this.getChannel(he,!0)]:[3,29];case 28:se=Et.sent(),this._dispatcher.dispatch(new f3({event:Oe,source:ve.EVENT_POLL_UPDATED})),Qe(X===Sx?function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())(St=Ie.value).onPollDeleted&&St.onPollDeleted(se,Oe.pollId)}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))}:function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())(St=Ie.value).onPollUpdated&&St.onPollUpdated(se,Oe)}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))}),Et.label=29;case 29:return[3,61];case 30:return $=e.as(b3),le=$.event,he=$.channelUrl,xe=$.channelType,he&&xe===Lt.OPEN?[4,this.getChannel(he,!0)]:[3,32];case 31:Ge=Et.sent(),this._dispatcher.dispatch(new i2({event:le,source:ve.EVENT_POLL_VOTED})),Qe((function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())(St=Ie.value).onPollVoted&&St.onPollVoted(Ge,le)}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))})),Et.label=32;case 32:return[3,61];case 33:if(!(Q=e.as(Xc).event).isOpenChannelEvent)return[3,60];switch(Q.category){case gn.CHANNEL_ENTER:return[3,34];case gn.CHANNEL_EXIT:return[3,36];case gn.CHANNEL_OPERATOR_UPDATE:return[3,38];case gn.USER_CHANNEL_MUTE:case gn.USER_CHANNEL_UNMUTE:return[3,41];case gn.USER_CHANNEL_BAN:case gn.USER_CHANNEL_UNBAN:return[3,43];case gn.CHANNEL_FREEZE:case gn.CHANNEL_UNFREEZE:return[3,45];case gn.CHANNEL_DELETED:return[3,48];case gn.CHANNEL_PROP_CHANGED:return[3,50];case gn.CHANNEL_META_DATA_CHANGED:return[3,52];case gn.CHANNEL_META_COUNTERS_CHANGED:return[3,54];case gn.PINNED_MESSAGE_CHANGED:return[3,56]}return[3,60];case 34:return[4,this.getChannel(Q.channelUrl,!0)];case 35:return fe=Et.sent(),Ae=e.as(VL),Ot=Ae.participantCount,$e=Ae.user,Te=fe._updateParticipantCount(Ot,Q.ts),j.of(this._iid).requestDeduplicator.updatePendingResponse(fe,Date.now()),Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){Ie.onUserEntered&&Ie.onUserEntered(fe,$e),Te&&Ie.onChannelParticipantCountChanged&&Ie.onChannelParticipantCountChanged(fe)})),[2]}))}))})),[3,60];case 36:return[4,this.getChannel(Q.channelUrl,!0)];case 37:return Fe=Et.sent(),Je=e.as(qL),Ot=Je.participantCount,Ct=Je.user,Kn=Fe._updateParticipantCount(Ot,Q.ts),j.of(this._iid).requestDeduplicator.updatePendingResponse(Fe,Date.now()),Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){Ie.onUserExited&&Ie.onUserExited(Fe,Ct),Kn&&Ie.onChannelParticipantCountChanged&&Ie.onChannelParticipantCountChanged(Fe)})),[2]}))}))})),[3,60];case 38:return[4,this.getChannel(Q.channelUrl,!0)];case 39:return An=Et.sent(),Ln=e.as(hL).operators,An.operators=Ln,j.of(this._iid).requestDeduplicator.updatePendingResponse(An,Date.now()),[4,this.upsertChannelsToCache([An])];case 40:return Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){Ie.onOperatorUpdated&&Ie.onOperatorUpdated(An,Ln)})),[2]}))}))})),[3,60];case 41:return[4,this.getChannel(Q.channelUrl,!0)];case 42:return En=Et.sent(),en=Q.category===gn.USER_CHANNEL_MUTE,Pn=e.as(en?jx:$x).user,Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){en?Ie.onUserMuted&&Ie.onUserMuted(En,Pn):Ie.onUserUnmuted&&Ie.onUserUnmuted(En,Pn)})),[2]}))}))})),[3,60];case 43:return[4,this.getChannel(Q.channelUrl,!0)];case 44:return Gn=Et.sent(),fn=Q.category===gn.USER_CHANNEL_BAN,Er=e.as(fn?Kx:Yx).user,Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){fn?Ie.onUserBanned&&Ie.onUserBanned(Gn,Er):Ie.onUserUnbanned&&Ie.onUserUnbanned(Gn,Er)})),[2]}))}))})),[3,60];case 45:return[4,this.getChannel(Q.channelUrl,!0)];case 46:return Un=Et.sent(),Fn=e.as(Wx).freeze,Un.isFrozen=Fn,j.of(this._iid).requestDeduplicator.updatePendingResponse(Un,Date.now()),[4,this.upsertChannelsToCache([Un])];case 47:return Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){Fn?Ie.onChannelFrozen&&Ie.onChannelFrozen(Un):Ie.onChannelUnfrozen&&Ie.onChannelUnfrozen(Un)})),[2]}))}))})),[3,60];case 48:return[4,this.removeChannelsFromCache([Q.channelUrl])];case 49:return Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){Ie.onChannelDeleted&&Ie.onChannelDeleted(Q.channelUrl,Lt.OPEN)})),[2]}))}))})),[3,60];case 50:return[4,this.getChannelWithoutCache(Q.channelUrl,!0,!1)];case 51:return pt=Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){Ie.onChannelChanged&&Ie.onChannelChanged(pt)})),[2]}))}))})),[3,60];case 52:return[4,this.getChannel(Q.channelUrl,!0)];case 53:return kn=Et.sent(),er=e.as(Vx),vn=er.created,Yn=er.updated,Pt=er.deleted,vn&&kn._upsertCachedMetaData(vn,Q.ts),Yn&&kn._upsertCachedMetaData(Yn,Q.ts),Pt&&kn._removeFromCachedMetaData(Pt,Q.ts),(vn||Yn||Pt)&&j.of(this._iid).requestDeduplicator.updatePendingResponse(kn,Date.now()),Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){vn&&Ie.onMetaDataCreated&&Ie.onMetaDataCreated(kn,vn),Yn&&Ie.onMetaDataUpdated&&Ie.onMetaDataUpdated(kn,Yn),Pt&&Ie.onMetaDataDeleted&&Ie.onMetaDataDeleted(kn,Pt)})),[2]}))}))})),[3,60];case 54:return[4,this.getChannel(Q.channelUrl,!0)];case 55:return Wn=Et.sent(),hr=e.as(qx),ht=hr.created,ni=hr.updated,Ei=hr.deleted,Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){ht&&Ie.onMetaCounterCreated&&Ie.onMetaCounterCreated(Wn,ht),ni&&Ie.onMetaCounterUpdated&&Ie.onMetaCounterUpdated(Wn,ni),Ei&&Ie.onMetaCounterDeleted&&Ie.onMetaCounterDeleted(Wn,Ei)})),[2]}))}))})),[3,60];case 56:return[4,this.getChannel(Q.channelUrl,!0)];case 57:return Ir=Et.sent(),kr=e.as(fL),Qn=kr.pinnedMessageIds,bn=kr.latestPinnedMessage,(tn=kr.ts)>Ir._pinnedMessagesUpdatedAt?(Ir.pinnedMessageIds=Qn,Ir.lastPinnedMessage=bn,Ir._pinnedMessagesUpdatedAt=tn,j.of(this._iid).requestDeduplicator.updatePendingResponse(Ir,Date.now()),[4,this.upsertChannelsToCache([Ir])]):[3,59];case 58:Et.sent(),Qe((function(){return A(Ut,void 0,void 0,(function(){var Ze,Ie,St,bt,Tt;return N(this,(function(zn){try{for(Ze=De(this._openChannelHandlers.values()),Ie=Ze.next();!Ie.done;Ie=Ze.next())(St=Ie.value).onChannelChanged&&St.onChannelChanged(Ir)}catch(kt){bt={error:kt}}finally{try{Ie&&!Ie.done&&(Tt=Ze.return)&&Tt.call(Ze)}finally{if(bt)throw bt.error}}return[2]}))}))})),Qe((function(){return A(Ut,void 0,void 0,(function(){return N(this,(function(Ze){return this._openChannelHandlers.forEach((function(Ie){Ie.onPinnedMessageUpdated&&Ie.onPinnedMessageUpdated(Ir)})),[2]}))}))})),Et.label=59;case 59:return[3,60];case 60:return[3,61];case 61:return[3,63];case 62:if(Mr=Et.sent(),Ca(Mr))throw Mr;return[3,63];case 63:return[2]}}))}))},n.prototype.addHandler=function(e,r){this._openChannelHandlers.set(e,r)},n.prototype.removeHandler=function(e){this._openChannelHandlers.delete(e)},n.prototype.clearHandler=function(){this._openChannelHandlers.clear()},n.prototype.getChannel=function(e,r){return r===void 0&&(r=!1),A(this,void 0,void 0,(function(){var i;return N(this,(function(a){switch(a.label){case 0:Ne(W("string",e)).throw(Z.invalidParameters),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.getChannelFromCache(e)];case 2:return(i=a.sent())?[2,i]:[3,4];case 3:return a.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(e,r)];case 5:return[2,a.sent()]}}))}))},n.prototype.getChannelWithoutCache=function(e,r,i){return r===void 0&&(r=!1),i===void 0&&(i=!0),A(this,void 0,void 0,(function(){var a,s,l,c,d=this;return N(this,(function(f){switch(f.label){case 0:return Ne(W("string",e)).throw(Z.invalidParameters),a=j.of(this._iid).requestDeduplicator,s=new FY({channelUrl:e,isInternalCall:r}),[4,a.requestGetChannel(s.path,(function(){return d._requestQueue.send(s)}),s.params,i)];case 1:return l=f.sent(),c=l.as(hO).channel,[4,this.upsertChannelsToCache([c])];case 2:return[2,f.sent()[0]]}}))}))},n.prototype.createChannel=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s;return N(this,(function(l){switch(l.label){case 0:return r=q(q({},zL),e),Ne((function(c){return It("string",c.operatorUserIds,!0)&&(W("string",c.coverUrlOrImage,!0)||Oi(c.coverUrlOrImage,!0))&&W("string",c.name,!0)&&W("string",c.data,!0)&&W("string",c.customType,!0)&&(W("string",c.channelUrl)&&/^\w+$/.test(c.channelUrl)||c.channelUrl===null||c.channelUrl===void 0)&&W("boolean",c.isEphemeral,!0)})(r)).throw(Z.invalidParameters),i=new HY(r),[4,this._requestQueue.send(i)];case 1:return a=l.sent(),s=a.as(hO).channel,[4,this.upsertChannelsToCache([s])];case 2:return l.sent(),[2,s]}}))}))},n})(pL),fO={name:void 0,coverUrlOrImage:void 0,data:void 0,customType:void 0,operatorUserIds:void 0},zY=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.token,s=e.limit;return(r=t.call(this)||this).method=Ee.GET,r.path="".concat(Op,"/").concat(encodeURIComponent(i),"/participants"),r.params={token:a,limit:s},r}return k(n,t),n})(be),VY=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.participants=[];var a=r.next,s=r.participants;return i.token=a,i.participants=s.map((function(l){return new yG(e,l)})),i}return k(n,t),n})(we),qY=(function(t){function n(e,r,i){return t.call(this,e,r,Lt.OPEN,i)||this}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new zY(q(q({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(VY),s=a.participants,l=a.token,this._token=l,this._hasNext=!!l,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw Z.queryInProgress;case 4:return[3,6];case 5:throw Z.invalidParameters;case 6:return[2]}}))}))},n})(Ku),jY=(function(t){function n(e){var r=this,i=e.channelUrl,a=e.coverUrlOrImage,s=e.name,l=e.data,c=e.customType,d=e.operatorUserIds;return(r=t.call(this)||this).method=Ee.PUT,r.path="".concat(Op,"/").concat(encodeURIComponent(i)),r.params=Pe(We({cover_url:W("string",a)?a:null,cover_file:Oi(a)?a:null,name:s,data:l,custom_type:c,operators:d})),r}return k(n,t),n})(be),$Y=(function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.channel=new Sv(e,r),i}return k(n,t),n})(we),KY=(function(t){function n(e){var r=this,i=e.channelUrl;return(r=t.call(this)||this).method=Ee.DELETE,r.path="".concat(Op,"/").concat(encodeURIComponent(i)),r}return k(n,t),n})(be);(function(t){function n(e,r){return t.call(this,e,r)||this}k(n,t)})(we);var Sv=(function(t){function n(e,r){var i,a=this;return(a=t.call(this,e,r)||this)._lastParticipantCountUpdated=0,a.participantCount=0,a.operators=[],a.lastPinnedMessage=null,a._pinnedMessagesUpdatedAt=0,a.channelType=Lt.OPEN,a.participantCount=(i=r.participant_count)!==null&&i!==void 0?i:0,a.operators=Array.isArray(r.operators)?r.operators.map((function(s){return new Mt(e,s)})):[],a.lastPinnedMessage=r.latest_pinned_message?sa(a._iid,q({channel_type:a.channelType},r.latest_pinned_message)):null,a}return k(n,t),n.payloadify=function(e,r){r===void 0&&(r=!1);var i=q(q({},C1.payloadify(e,r)),{participant_count:e.participantCount,operators:e.operators.map((function(a){return Mt.payloadify(a)})),latest_pinned_message:e.lastPinnedMessage?NS(e.lastPinnedMessage):null});return r?i:Pe(We(i))},n.prototype.serialize=function(){return Dv(this)},n.prototype.isOperator=function(e){return e instanceof Mt?this.isOperator(e.userId):this.operators.some((function(r){return r.userId===e}))},n.prototype._updateParticipantCount=function(e,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=e,this._lastParticipantCountUpdated=r,!0)},n.prototype.createParticipantListQuery=function(e){return new qY(this._iid,this.url,e)},n.prototype.refresh=function(){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,Bl.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,e.sent()]}}))}))},n.prototype.enter=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=j.of(this._iid).requestQueue,r=new BY({channelUrl:this.url}),[4,e.send(r)];case 1:return i=c.sent(),a=i.as(VL),s=a.participantCount,l=a.ts,this._updateParticipantCount(s,l),Bl.of(this._iid).setEnteredToCache(this),[2]}}))}))},n.prototype.exit=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return e=j.of(this._iid).requestQueue,r=new GY({channelUrl:this.url}),[4,e.send(r)];case 1:return i=c.sent(),a=i.as(qL),s=a.participantCount,l=a.ts,this._updateParticipantCount(s,l),Bl.of(this._iid).setExitedToCache(this),_i.of(this._iid).fileMessageQueue.cancel(this),[2]}}))}))},n.prototype.updateChannel=function(e){return A(this,void 0,void 0,(function(){var r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return r=q(q({},fO),e),Ne((function(d){return It("string",d.operatorUserIds,!0)&&(W("string",d.coverUrlOrImage,!0)||Oi(d.coverUrlOrImage,!0))&&W("string",d.name,!0)&&W("string",d.data,!0)&&W("string",d.customType,!0)})(r)).throw(Z.invalidParameters),i=j.of(this._iid).requestQueue,a=new jY(q({channelUrl:this.url},r)),[4,i.send(a)];case 1:return s=c.sent(),l=s.as($Y).channel,this._update(l),[4,Bl.of(this._iid).upsertChannelsToCache([l])];case 2:return c.sent(),[2,this]}}))}))},n.prototype.updateChannelWithOperatorUserIds=function(e,r,i,a,s){return A(this,void 0,void 0,(function(){var l;return N(this,(function(c){return l=q(q({},fO),{name:e,coverUrlOrImage:r,data:i,operatorUserIds:a,customType:s}),[2,this.updateChannel(l)]}))}))},n.prototype.delete=function(){return A(this,void 0,void 0,(function(){var e,r;return N(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid).requestQueue,r=new KY({channelUrl:this.url}),[4,e.send(r)];case 1:return i.sent(),[4,Bl.of(this._iid).removeChannelsFromCache([this.url])];case 2:return i.sent(),[2]}}))}))},n.prototype.updateUserMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l=this;return N(this,(function(c){switch(c.label){case 0:return[4,t.prototype.updateUserMessage.call(this,e,r)];case 1:return i=c.sent(),a=!1,s=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===i.messageId&&(this.lastPinnedMessage=i,a=!0,s=!0),a&&Bl.of(this._iid).handlers.map((function(d){d.onChannelChanged&&d.onChannelChanged(l)})),s&&Bl.of(this._iid).handlers.map((function(d){d.onPinnedMessageUpdated&&d.onPinnedMessageUpdated(l)})),[2,i]}}))}))},n.prototype.updateFileMessage=function(e,r){return A(this,void 0,void 0,(function(){var i,a,s,l=this;return N(this,(function(c){switch(c.label){case 0:return[4,t.prototype.updateFileMessage.call(this,e,r)];case 1:return i=c.sent(),a=!1,s=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===i.messageId&&(this.lastPinnedMessage=i,a=!0,s=!0),a&&Bl.of(this._iid).handlers.map((function(d){d.onChannelChanged&&d.onChannelChanged(l)})),s&&Bl.of(this._iid).handlers.map((function(d){d.onPinnedMessageUpdated&&d.onPinnedMessageUpdated(l)})),[2,i]}}))}))},n})(C1);(function(t){function n(e){e===void 0&&(e={});var r=t.call(this)||this;return Object.keys(e).forEach((function(i){r.hasOwnProperty(i)&&(r[i]=e[i])})),r}return k(n,t),n})((function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.onUserEntered=st,e.onUserExited=st,e.onChannelParticipantCountChanged=st,e.onPollUpdated=st,e.onPollVoted=st,e.onPollDeleted=st,e.onPinnedMessageUpdated=st,e}return k(n,t),n})(bL));var YY=(function(t){function n(e){var r=this,i=e.token,a=e.limit,s=e.nameKeyword,l=e.urlKeyword,c=e.customTypes,d=e.includeFrozen,f=e.includeMetaData;return(r=t.call(this)||this).method=Ee.GET,r.path=Op,r.params=Pe({token:i,limit:a,name_contains:s,url_contains:l,custom_types:c,show_frozen:d,show_metadata:f,show_pinned_messages:!0}),r}return k(n,t),n})(be),WY=(function(t){function n(e,r){var i=t.call(this,e,r)||this;i.channels=[];var a=r.next,s=r.channels,l=r.ts;return i.token=a,s&&s.length>0&&(i.channels=s.map((function(c){return new Sv(e,c)}))),i.ts=typeof l=="number"?l:null,i}return k(n,t),n})(we),QY=(function(t){function n(e,r){var i,a,s,l,c,d=this;return(d=t.call(this,e,r)||this).includeFrozen=!0,d.includeMetaData=!0,d.nameKeyword=null,d.urlKeyword=null,d.customTypes=null,d.includeFrozen=(i=r.includeFrozen)===null||i===void 0||i,d.includeMetaData=(a=r.includeMetaData)===null||a===void 0||a,d.nameKeyword=(s=r.nameKeyword)!==null&&s!==void 0?s:null,d.urlKeyword=(l=r.urlKeyword)!==null&&l!==void 0?l:null,d.customTypes=(c=r.customTypes)!==null&&c!==void 0?c:null,d}return k(n,t),n.prototype._validate=function(){return t.prototype._validate.call(this)&&W("boolean",this.includeFrozen)&&W("boolean",this.includeMetaData)&&W("string",this.nameKeyword,!0)&&W("string",this.urlKeyword,!0)&&It("string",this.customTypes,!0)},n.prototype.next=function(){return A(this,void 0,void 0,(function(){var e,r,i,a,s,l;return N(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,e=j.of(this._iid).requestQueue,r=new YY(We(q(q({},this),{token:this._token}))),[4,e.send(r)]):[3,3]:[3,6];case 1:return i=c.sent(),a=i.as(WY),s=a.channels,l=a.token,this._token=l,this._hasNext=!!l,[4,Bl.of(this._iid).upsertChannelsToCache(s)];case 2:return c.sent(),this._isLoading=!1,[2,s];case 3:return[2,[]];case 4:throw Z.queryInProgress;case 5:return[3,7];case 6:throw Z.invalidParameters;case 7:return[2]}}))}))},n})(Wc),XY=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.name="openChannel",e}return k(n,t),n.prototype.init=function(e,r){var i=r.sdkState,a=r.dispatcher,s=r.sessionManager,l=r.requestQueue,c=r.logger,d=r.onlineDetector,f=r.cacheContext;t.prototype.init.call(this,e,{sdkState:i,dispatcher:a,sessionManager:s,requestQueue:l,logger:c,onlineDetector:d,cacheContext:f}),this._manager=new Bl(e,{sdkState:i,dispatcher:a,requestQueue:l,logger:c,cacheContext:f,sessionManager:s})},n.prototype.createOpenChannelListQuery=function(e){return e===void 0&&(e={}),new QY(this._iid,e)},n.prototype.addOpenChannelHandler=function(e,r){this._manager.addHandler(e,r)},n.prototype.removeOpenChannelHandler=function(e){this._manager.removeHandler(e)},n.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildOpenChannelFromSerializedData=function(e){return this._manager.buildOpenChannelFromSerializedData(e)},n.prototype.getChannel=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this._manager.getChannel(e)]}))}))},n.prototype.getChannelWithoutCache=function(e){return A(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this._manager.getChannelWithoutCache(e)]}))}))},n.prototype.createChannel=function(e){return e===void 0&&(e={}),A(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this._manager.createChannel(e)]}))}))},n.prototype.createChannelWithOperatorUserIds=function(e,r,i,a,s){return A(this,void 0,void 0,(function(){var l;return N(this,(function(c){return(l=q({},zL)).name=e,l.coverUrlOrImage=r,l.data=i,l.operatorUserIds=a,l.customType=s,[2,this._manager.createChannel(l)]}))}))},n})(r2),Nb=function(t,n){return Re(Re({},t),{stores:Re(Re({},t.stores),{appInfoStore:Re(Re({},t.stores.appInfoStore),n)})})},Ab=function(t,n){return Re(Re({},t),{stores:Re(Re({},t.stores),{sdkStore:Re(Re({},t.stores.sdkStore),n)})})},EC=function(t,n){return Re(Re({},t),{stores:Re(Re({},t.stores),{userStore:Re(Re({},t.stores.userStore),n)})})};function ZY(t){var n=t.appId,e=t.customApiHost,r=t.customWebSocketHost,i=t.sdkInitParams,a=i===void 0?{}:i,s=Object.assign(a,{appId:n,modules:[new Sj,new XY],localCacheEnabled:typeof a.localCacheEnabled<"u"?a.localCacheEnabled:!0});return e&&(s.customApiHost=e),r&&(s.customWebSocketHost=r),x$.init(s)}var bC="3.17.4";function JY(t,n){var e,r,i=n.logger,a=n.sessionHandler,s=n.isMobile,l=n.customExtensionParams;(e=i.info)===null||e===void 0||e.call(i,"SendbirdProvider | useConnect/setupConnection/setVersion",{version:bC}),t.addExtension("sb_uikit",bC),t.addSendbirdExtensions([{product:vS.UIKIT_CHAT,version:bC,platform:hp?.JS}],{platform:s?ch.MOBILE_WEB:ch.WEB},l),a&&((r=i.info)===null||r===void 0||r.call(i,"SendbirdProvider | useConnect/setupConnection/configureSession",a),t.setSessionHandler(a))}var eW="No sendbird state value available. Make sure you are rendering `<SendbirdProvider>` at the top of your app.",$a=function(){var t,n=D.useContext(kY);if(!n)throw new Error(eW);var e=LL.useSyncExternalStore(n.subscribe,n.getState),r={initMessageTemplateInfo:D.useCallback(function(d){var f=d.payload;n.setState(function(v){return Nb(v,{messageTemplatesInfo:f,waitingTemplateKeysMap:{}})})},[n]),upsertMessageTemplates:D.useCallback(function(d){var f=d.payload,v=e.stores.appInfoStore,g=v.messageTemplatesInfo;if(!g)return e;var y=Re({},v.waitingTemplateKeysMap);f.forEach(function(b){var C=b.key,w=b.template;g.templatesMap[C]=w,delete y[C]}),n.setState(function(b){return Nb(b,{waitingTemplateKeysMap:y,messageTemplatesInfo:g})})},[n,e.stores.appInfoStore]),upsertWaitingTemplateKeys:D.useCallback(function(d){var f=d.payload,v=e.stores.appInfoStore,g=f.keys,y=f.requestedAt,b=Re({},v.waitingTemplateKeysMap);g.forEach(function(C){var w,I;b[C]={erroredMessageIds:(I=(w=b[C])===null||w===void 0?void 0:w.erroredMessageIds)!==null&&I!==void 0?I:[],requestedAt:y}}),n.setState(function(C){return Nb(C,{waitingTemplateKeysMap:b})})},[n,e.stores.appInfoStore]),markErrorWaitingTemplateKeys:D.useCallback(function(d){var f=d.payload,v=e.stores.appInfoStore,g=f.keys,y=f.messageId,b=Re({},v.waitingTemplateKeysMap);g.forEach(function(C){var w=b[C];w&&w.erroredMessageIds.indexOf(y)===-1&&w.erroredMessageIds.push(y)}),n.setState(function(C){return Nb(C,{waitingTemplateKeysMap:b})})},[n,e.stores.appInfoStore])},i={setSdkLoading:D.useCallback(function(d){n.setState(function(f){return Ab(f,{initialized:!1,loading:d})})},[n]),sdkError:D.useCallback(function(){n.setState(function(d){return Ab(d,{initialized:!1,loading:!1,error:!0})})},[n]),initSdk:D.useCallback(function(d){n.setState(function(f){return Ab(f,{sdk:d,initialized:!0,loading:!1,error:!1})})},[n]),resetSdk:D.useCallback(function(){n.setState(function(d){return Ab(d,{sdk:{},initialized:!1,loading:!1,error:!1})})},[n])},a={initUser:D.useCallback(function(d){n.setState(function(f){return EC(f,{initialized:!0,loading:!1,user:d})})},[n]),resetUser:D.useCallback(function(){n.setState(function(d){return EC(d,{initialized:!1,loading:!1,user:{}})})},[n]),updateUserInfo:D.useCallback(function(d){n.setState(function(f){return EC(f,{user:d})})},[n])},s=D.useCallback(function(d){return nl(void 0,[d],void 0,function(f){var v,g,y=f.logger;return rl(this,function(b){switch(b.label){case 0:return i.setSdkLoading(!0),v=e.stores.sdkStore.sdk,v?.disconnectWebSocket?[4,v.disconnectWebSocket()]:[3,2];case 1:b.sent(),b.label=2;case 2:return i.resetSdk(),a.resetUser(),(g=y.info)===null||g===void 0||g.call(y,"SendbirdProvider | useSendbird/disconnect completed"),[2]}})})},[n,(t=e.stores.sdkStore)===null||t===void 0?void 0:t.sdk,i,a]),l=D.useCallback(function(d){return nl(void 0,void 0,void 0,function(){var f,v,g,y,b,C,w,I,M,R,U,H,P,G,Y,F,te,J,ne,Oe,X,se,$,le;return rl(this,function(he){switch(he.label){case 0:return f=d.logger,v=d.userId,g=d.appId,y=d.accessToken,b=d.nickname,C=d.profileUrl,w=d.isMobile,I=d.sdkInitParams,M=d.customApiHost,R=d.customWebSocketHost,U=d.customExtensionParams,H=d.eventHandlers,P=d.initializeMessageTemplatesInfo,G=d.configureSession,Y=d.initDashboardConfigs,[4,s({logger:f})];case 1:he.sent(),F=ZY({appId:g,customApiHost:M,customWebSocketHost:R,sdkInitParams:I}),JY(F,{logger:f,isMobile:w,customExtensionParams:U,sessionHandler:G?G(F):void 0}),i.setSdkLoading(!0),he.label=2;case 2:return he.trys.push([2,8,,9]),[4,F.connect(v,y)];case 3:return te=he.sent(),a.initUser(te),b||C?[4,F.updateCurrentUserInfo({nickname:b||te.nickname||"",profileUrl:C||te.profileUrl})]:[3,5];case 4:he.sent(),he.label=5;case 5:return[4,P?.(F)];case 6:return he.sent(),[4,Y?.(F)];case 7:return he.sent(),i.initSdk(F),(X=(Oe=H?.connection)===null||Oe===void 0?void 0:Oe.onConnected)===null||X===void 0||X.call(Oe,te),[3,9];case 8:return J=he.sent(),ne=J,i.resetSdk(),a.resetUser(),(se=f.error)===null||se===void 0||se.call(f,"SendbirdProvider | useSendbird/connect failed",ne),(le=($=H?.connection)===null||$===void 0?void 0:$.onFailed)===null||le===void 0||le.call($,ne),[3,9];case 9:return[2]}})})},[n,i,a,s]),c=D.useMemo(function(){return Re(Re(Re(Re({},r),i),a),{disconnect:s,connect:l})},[r,i,a,s,l]);return{state:e,actions:c}},jL={IDLE:"IDLE",PLAYING:"PLAYING"},tW=function(){return{audioFile:null,playbackTime:0,duration:1e3,playingStatus:jL.IDLE}},nW=function(t,n){return t===void 0&&(t=""),n===void 0&&(n=""),"".concat(t,"-").concat(n)},TC=function(){},rW={currentGroupKey:"",currentPlayer:null,audioStorage:{}},iW=D.createContext({play:TC,pause:TC,stop:TC,voicePlayerStore:rW}),aW=function(){return D.useContext(iW)},sW={en:{MESSAGE_STATUS__YESTERDAY:"Yesterday",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE_S:"new messages",CHANNEL__MESSAGE_LIST__NOTIFICATION__UNREAD_MESSAGE:"unread message",CHANNEL__MESSAGE_LIST__NOTIFICATION__UNREAD_MESSAGE_S:"unread messages",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_PREVIEW_MOBILE_LEAVE:"Leave channel",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__SELECT_TITLE:"Select members",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__OPERATORS__ADD_BUTTON:"Add",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL:"All muted members",CHANNEL_SETTING__NO_UNMUTED:"No muted members yet",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",CHANNEL_SETTING__MODERATION__EMPTY_BAN:"No banned members yet",CHANNEL_SETTING__MODERATION__ALL_BAN:"All banned members",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS:"Select participants",OPEN_CHANNEL_LIST__TITLE:"Channels",CREATE_OPEN_CHANNEL_LIST__TITLE:"New channel profile",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION:"Channel image",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD:"Upload",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION:"Channel name",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER:"Enter channel name",CREATE_OPEN_CHANNEL_LIST__SUBMIT:"Create",OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",TRYING_TO_CONNECT:"Trying to connect",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel is frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",UNKNOWN__TEMPLATE_ERROR:"(Template error)",FORM_VERSION_ERROR:"Form type messages are not available in this version.",UNKNOWN__CANNOT_READ_TEMPLATE:"Cannot read this template.",MESSAGE_EDITED:"(edited)",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTED:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",MODAL__LEAVE_CHANNEL__TITLE:"Leave this channel?",MODAL__LEAVE_CHANNEL__FOOTER:"Leave",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED:"You're muted by the operator.",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN:"Channel is frozen.",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__SUGGESTED_REPLIES:"Please choose one from above",MESSAGE_INPUT__PLACE_HOLDER__MESSAGE_FORM:"Please fill out the message form.",MESSAGE_INPUT__PLACE_HOLDER__FROZEN:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you're muted",MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT:"You're muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",BUTTON__SUBMIT:"Submit",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BUTTON__OK:"OK",BADGE__OVER:"+",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",LABEL__OPERATOR:"Operator",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__THREAD:"Reply in thread",MESSAGE_MENU__OPEN_IN_CHANNEL:"Open in channel",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",MESSAGE_MENU__SAVE:"Save",MESSAGE_MENU__MARK_AS_UNREAD:"Mark as unread",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",CONTEXT_MENU_DROPDOWN__SAVE:"Save",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",QUOTED_MESSAGE__UNAVAILABLE:"Message unavailable",THREAD__HEADER_TITLE:"Thread",CHANNEL__THREAD_REPLY:"reply",CHANNEL__THREAD_REPLIES:"replies",CHANNEL__THREAD_OVER_MAX:"99+",THREAD__THREAD_REPLY:"reply",THREAD__THREAD_REPLIES:"replies",THREAD__INPUT__REPLY_TO_THREAD:"Reply to thread",THREAD__INPUT__REPLY_IN_THREAD:"Reply in thread",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times at a time.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message",VOICE_RECORDING_PERMISSION_DENIED:`You cannot record the voice since
        voice recording is not permitted in your device system setting`,VOICE_MESSAGE:"Voice Message",CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_GIF:"GIF",CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_PHOTO:"Photo",CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_VIDEO:"Video",CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_AUDIO:"Audio",CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_VOICE_MESSAGE:"Voice message",CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_GENERAL:"File",CHANNEL_PREVIEW_LAST_MESSAGE_TEMPLATE_MESSAGE:"Message",DATE_FORMAT__MESSAGE_LIST__NOTIFICATION__UNREAD_SINCE:"p 'on' MMM dd",DATE_FORMAT__MESSAGE_LIST__DATE_SEPARATOR:"MMMM dd, yyyy",DATE_FORMAT__THREAD_LIST__DATE_SEPARATOR:"MMM dd, yyyy",DATE_FORMAT__MESSAGE_CREATED_AT:"p",DATE_FORMAT__UNREAD_SINCE:"p MMM dd",DATE_FORMAT__LAST_MESSAGE_CREATED_AT__TODAY:"p",DATE_FORMAT__LAST_MESSAGE_CREATED_AT__THIS_YEAR:"MMM d",DATE_FORMAT__LAST_MESSAGE_CREATED_AT__PREVIOUS_YEAR:"yyyy/M/d",FILE_UPLOAD_NOTIFICATION__COUNT_LIMIT:"Up to %d files can be attached.",FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT:"The maximum size per file is %d MB.",FEEDBACK_LIKE:"Like",FEEDBACK_DISLIKE:"Dislike",EDIT_COMMENT:"Edit comment",REMOVE_FEEDBACK:"Remove Feedback",FEEDBACK_MODAL_TITLE:"Provide additional feedback (optional)",FEEDBACK_CONTENT_PLACEHOLDER:"Leave a comment",BUTTON__REMOVE_FEEDBACK:"Remove feedback",FEEDBACK_FAILED_SUBMIT:"Couldnt submit. Try again.",FEEDBACK_FAILED_SAVE:"Couldnt save. Try again.",FEEDBACK_FAILED_DELETE:"Couldnt delete. Try again.",FORM_ITEM_REQUIRED:"This field is required",FORM_ITEM_INVALID:"Please check the value",FORM_ITEM_OPTIONAL_EMPTY:"No Response"}},M3=function(t){return t===void 0&&(t="en"),sW[t]},oW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lW=function(n,e,r){var i,a=oW[n];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function CC(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.width?String(n.width):t.defaultWidth,r=t.formats[e]||t.formats[t.defaultWidth];return r}}var uW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hW={date:CC({formats:uW,defaultWidth:"full"}),time:CC({formats:cW,defaultWidth:"full"}),dateTime:CC({formats:dW,defaultWidth:"full"})},fW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pW=function(n,e,r,i){return fW[n]};function Dg(t){return function(n,e){var r=e!=null&&e.context?String(e.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,s=e!=null&&e.width?String(e.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{var l=t.defaultWidth,c=e!=null&&e.width?String(e.width):t.defaultWidth;i=t.values[c]||t.values[l]}var d=t.argumentCallback?t.argumentCallback(n):n;return i[d]}}var mW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_W={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bW=function(n,e){var r=Number(n),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TW={ordinalNumber:bW,era:Dg({values:mW,defaultWidth:"wide"}),quarter:Dg({values:vW,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Dg({values:_W,defaultWidth:"wide"}),day:Dg({values:gW,defaultWidth:"wide"}),dayPeriod:Dg({values:yW,defaultWidth:"wide",formattingValues:EW,defaultFormattingWidth:"wide"})};function xg(t){return function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=n.match(i);if(!a)return null;var s=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?SW(l,function(v){return v.test(s)}):CW(l,function(v){return v.test(s)}),d;d=t.valueCallback?t.valueCallback(c):c,d=e.valueCallback?e.valueCallback(d):d;var f=n.slice(s.length);return{value:d,rest:f}}}function CW(t,n){for(var e in t)if(t.hasOwnProperty(e)&&n(t[e]))return e}function SW(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return e}function NW(t){return function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.match(t.matchPattern);if(!r)return null;var i=r[0],a=n.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];s=e.valueCallback?e.valueCallback(s):s;var l=n.slice(i.length);return{value:s,rest:l}}}var AW=/^(\d+)(th|st|nd|rd)?/i,wW=/\d+/i,IW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MW={any:[/^b/i,/^(a|c)/i]},OW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RW={any:[/1/i,/2/i,/3/i,/4/i]},DW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FW={ordinalNumber:NW({matchPattern:AW,parsePattern:wW,valueCallback:function(n){return parseInt(n,10)}}),era:xg({matchPatterns:IW,defaultMatchWidth:"wide",parsePatterns:MW,defaultParseWidth:"any"}),quarter:xg({matchPatterns:OW,defaultMatchWidth:"wide",parsePatterns:RW,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:xg({matchPatterns:DW,defaultMatchWidth:"wide",parsePatterns:xW,defaultParseWidth:"any"}),day:xg({matchPatterns:LW,defaultMatchWidth:"wide",parsePatterns:UW,defaultParseWidth:"any"}),dayPeriod:xg({matchPatterns:kW,defaultMatchWidth:"any",parsePatterns:PW,defaultParseWidth:"any"})},$L={code:"en-US",formatDistance:lW,formatLong:hW,formatRelative:pW,localize:TW,match:FW,options:{weekStartsOn:0,firstWeekContainsDate:1}},HW={stringSet:M3("en"),dateLocale:$L},Jc=O.createContext(HW),Ka=function(){var t=O.useContext(Jc);if(!t)throw new Error("`useLocalization` hook must be used within `SendbirdProvider` that includes `LocalizationProvider`.");return t},yi=function(){};function O3(t){var n=t;n&&(!n.startsWith("http://")&&!n.startsWith("https://")&&(n="https://"+n),window.open(n,"_blank","noopener,noreferrer"))}function $i(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var BW=!1,GW=O.createContext({breakpoint:BW,isMobile:!1}),Kl=function(){return O.useContext(GW)},Hc=O.forwardRef(function(t,n){var e=t.className,r=e===void 0?"":e,i=t.children,a=t.disabled,s=a===void 0?!1:a,l=t.width,c=l===void 0?"56px":l,d=t.height,f=d===void 0?"56px":d,v=t.type,g=v===void 0?"button":v,y=t.style,b=y===void 0?{}:y,C=t.onBlur,w=C===void 0?function(){}:C,I=t.onClick,M=I===void 0?function(){}:I,R=t.testID,U=D.useState(!1),H=U[0],P=U[1];return O.createElement("button",{"data-testid":R,className:tt(tt([],Array.isArray(r)?r:[r],!0),["sendbird-iconbutton",H?"sendbird-iconbutton--pressed":""],!1).join(" "),disabled:s,ref:n,type:g,style:Re(Re({},b),{height:f,width:c}),onClick:function(G){s||(P(!0),M?.(G))},onBlur:function(G){P(!1),w?.(G)}},O.createElement("span",{className:"sendbird-iconbutton__inner"},i))}),po={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",BUTTON_3:"BUTTON_3",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},mo={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",ONCONTENT_3:"ONCONTENT_3",ONCONTENT_INVERSE_1:"ONCONTENT_INVERSE_1",ONCONTENT_INVERSE_3:"ONCONTENT_INVERSE_3",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function zW(t){switch(t){case po.H_1:return"sendbird-label--h-1";case po.H_2:return"sendbird-label--h-2";case po.SUBTITLE_1:return"sendbird-label--subtitle-1";case po.SUBTITLE_2:return"sendbird-label--subtitle-2";case po.BODY_1:return"sendbird-label--body-1";case po.BODY_2:return"sendbird-label--body-2";case po.BUTTON_1:return"sendbird-label--button-1";case po.BUTTON_2:return"sendbird-label--button-2";case po.BUTTON_3:return"sendbird-label--button-3";case po.CAPTION_1:return"sendbird-label--caption-1";case po.CAPTION_2:return"sendbird-label--caption-2";case po.CAPTION_3:return"sendbird-label--caption-3";default:return""}}function KL(t){switch(t){case mo.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case mo.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case mo.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case mo.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case mo.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case mo.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case mo.ONCONTENT_3:return"sendbird-label--color-oncontent-3";case mo.ONCONTENT_INVERSE_1:return"sendbird-label--color-oncontent-inverse-1";case mo.ONCONTENT_INVERSE_3:return"sendbird-label--color-oncontent-inverse-3";case mo.PRIMARY:return"sendbird-label--color-primary";case mo.ERROR:return"sendbird-label--color-error";case mo.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return""}}var zt=D.forwardRef(function(t,n){var e=t.className,r=e===void 0?[]:e,i=t.type,a=t.color,s=t.children,l=s===void 0?null:s,c=t.testID;return O.createElement("span",{className:tt(tt([],Array.isArray(r)?r:[r],!0),["sendbird-label",zW(i),KL(a)],!1).join(" "),ref:n,"data-testid":c},l)}),Gt=po,_t=mo;M3("en");var ji;(function(t){t.PRIMARY="PRIMARY",t.SECONDARY="SECONDARY",t.DANGER="DANGER",t.DISABLED="DISABLED",t.WARNING="WARNING"})(ji||(ji={}));var bh;(function(t){t.BIG="BIG",t.SMALL="SMALL"})(bh||(bh={}));function VW(t){switch(t){case ji.PRIMARY:return"sendbird-button--primary";case ji.SECONDARY:return"sendbird-button--secondary";case ji.DANGER:return"sendbird-button--danger";case ji.DISABLED:return"sendbird-button--disabled";case ji.WARNING:return"sendbird-button--warning";default:return""}}function qW(t){switch(t){case bh.BIG:return"sendbird-button--big";case bh.SMALL:return"sendbird-button--small";default:return""}}function Nv(t){var n=t.className,e=t.type,r=e===void 0?ji.PRIMARY:e,i=t.size,a=i===void 0?bh.BIG:i,s=t.children,l=s===void 0?"Button":s,c=t.disabled,d=c===void 0?!1:c,f=t.onClick,v=f===void 0?function(){}:f,g=t.labelType,y=g===void 0?Gt.BUTTON_1:g,b=t.labelColor,C=b===void 0?_t.ONCONTENT_1:b,w=tt(tt([],Array.isArray(n)?n:[n],!0),["sendbird-button",d?"sendbird-button__disabled":"",VW(r),qW(a)],!1).join(" ");return O.createElement("button",{className:w,type:"button",onClick:v,disabled:d},O.createElement(zt,{className:"sendbird-button__text",type:y,color:C},l))}var ke={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",AUDIO_ON_LINED:"AUDIO_ON_LINED",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MARK_AS_UNREAD:"MARK_AS_UNREAD",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SLIDE_LEFT:"SLIDE_LEFT",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THREAD:"THREAD",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER",FEEDBACK_LIKE:"FEEDBACK_LIKE",FEEDBACK_DISLIKE:"FEEDBACK_DISLIKE",FLOATING_BUTTON_CLOSE:"FLOATING_BUTTON_CLOSE"},ki={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",PRIMARY_2:"PRIMARY_2",SECONDARY:"SECONDARY",SECONDARY_2:"SECONDARY_2",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",CONTENT_INVERSE_3:"CONTENT_INVERSE_3",WHITE:"WHITE",GRAY:"GRAY",THUMBNAIL_ICON:"THUMBNAIL_ICON",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",ON_BACKGROUND_4:"ON_BACKGROUND_4",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function jW(t){switch(t){case ki.PRIMARY:return"sendbird-icon-color--primary";case ki.PRIMARY_2:return"sendbird-icon-color--primary-2";case ki.SECONDARY:return"sendbird-icon-color--secondary";case ki.SECONDARY_2:return"sendbird-icon-color--secondary-2";case ki.CONTENT:return"sendbird-icon-color--content";case ki.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case ki.CONTENT_INVERSE_3:return"sendbird-icon-color--content-inverse-3";case ki.WHITE:return"sendbird-icon-color--white";case ki.GRAY:return"sendbird-icon-color--gray";case ki.THUMBNAIL_ICON:return"sendbird-icon-color--thumbnail-icon";case ki.SENT:return"sendbird-icon-color--sent";case ki.READ:return"sendbird-icon-color--read";case ki.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case ki.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case ki.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case ki.ON_BACKGROUND_4:return"sendbird-icon-color--on-background-4";case ki.BACKGROUND_3:return"sendbird-icon-color--background-3";case ki.ERROR:return"sendbird-icon-color--error";default:return""}}function $W(t){switch(t){case ke.ADD:return"sendbird-icon-add";case ke.ARROW_LEFT:return"sendbird-icon-arrow-left";case ke.ATTACH:return"sendbird-icon-attach";case ke.AUDIO_ON_LINED:return"sendbird-icon-audio-on-lined";case ke.BAN:return"sendbird-icon-ban";case ke.BROADCAST:return"sendbird-icon-broadcast";case ke.CAMERA:return"sendbird-icon-camera";case ke.CHANNELS:return"sendbird-icon-channels";case ke.CHAT:return"sendbird-icon-chat";case ke.CHAT_FILLED:return"sendbird-icon-chat-filled";case ke.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case ke.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case ke.CLOSE:return"sendbird-icon-close";case ke.COLLAPSE:return"sendbird-icon-collapse";case ke.COPY:return"sendbird-icon-copy";case ke.CREATE:return"sendbird-icon-create";case ke.DELETE:return"sendbird-icon-delete";case ke.DISCONNECTED:return"sendbird-icon-disconnected";case ke.DOCUMENT:return"sendbird-icon-document";case ke.DONE:return"sendbird-icon-done";case ke.DONE_ALL:return"sendbird-icon-done-all";case ke.DOWNLOAD:return"sendbird-icon-down-load";case ke.EDIT:return"sendbird-icon-edit";case ke.EMOJI_MORE:return"sendbird-icon-emoji-more";case ke.ERROR:return"sendbird-icon-error";case ke.EXPAND:return"sendbird-icon-expand";case ke.FILE_AUDIO:return"sendbird-icon-file-audio";case ke.FILE_DOCUMENT:return"sendbird-icon-file-document";case ke.FREEZE:return"sendbird-icon-freeze";case ke.GIF:return"sendbird-icon-gif";case ke.INFO:return"sendbird-icon-info";case ke.LEAVE:return"sendbird-icon-leave";case ke.MARK_AS_UNREAD:return"sendbird-icon-mark-as-unread";case ke.MEMBERS:return"sendbird-icon-members";case ke.MESSAGE:return"sendbird-icon-message";case ke.MODERATIONS:return"sendbird-icon-moderations";case ke.MORE:return"sendbird-icon-more";case ke.MUTE:return"sendbird-icon-mute";case ke.NOTIFICATIONS:return"sendbird-icon-notifications";case ke.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case ke.OPERATOR:return"sendbird-icon-operator";case ke.PHOTO:return"sendbird-icon-photo";case ke.PLAY:return"sendbird-icon-play";case ke.PLUS:return"sendbird-iconn-plus";case ke.QUESTION:return"sendbird-icon-question";case ke.REFRESH:return"sendbird-icon-refresh";case ke.REMOVE:return"sendbird-icon-remove";case ke.REPLY:return"sendbird-icon-reply";case ke.SEARCH:return"sendbird-icon-search";case ke.SEND:return"sendbird-icon-send";case ke.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case ke.SPINNER:return"sendbird-icon-spinner";case ke.SUPERGROUP:return"sendbird-icon-supergroup";case ke.THREAD:return"sendbird-icon-thread";case ke.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case ke.TOGGLE_OFF:return"sendbird-icon-toggle-off";case ke.TOGGLE_ON:return"sendbird-icon-toggle-on";case ke.USER:return"sendbird-icon-user";case ke.FEEDBACK_LIKE:return"sendbird-icon-feedback-like";case ke.FEEDBACK_DISLIKE:return"sendbird-icon-feedback-dislike";default:return"sendbird-icon-unknown"}}var pO;function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},jS.apply(null,arguments)}const KW=t=>D.createElement("svg",jS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),pO||(pO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M50.667 5.333a8 8 0 0 1 8 8v37.334a8 8 0 0 1-8 8H13.333a8 8 0 0 1-8-8V13.333a8 8 0 0 1 8-8zm0 5.334H13.333a2.667 2.667 0 0 0-2.666 2.666v37.334a2.667 2.667 0 0 0 2.666 2.666h37.334a2.667 2.667 0 0 0 2.666-2.666V13.333a2.667 2.667 0 0 0-2.666-2.666m-18.667 8a2.667 2.667 0 0 1 2.649 2.355l.018.311v8h8a2.667 2.667 0 0 1 .311 5.316l-.311.018h-8v8a2.667 2.667 0 0 1-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 0 1-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0 1 32 18.667",className:"icon-add_svg__fill"})));var mO;function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},$S.apply(null,arguments)}const YW=t=>D.createElement("svg",$S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),mO||(mO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M33.886 8.781a2.67 2.67 0 0 1 .221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 0 1 .311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 0 1 .222 3.52l-.221.251a2.67 2.67 0 0 1-3.52.222l-.252-.222L8.781 33.886a2.67 2.67 0 0 1-.222-3.52l.222-.252L30.114 8.781a2.67 2.67 0 0 1 3.772 0",className:"icon-arrow-left_svg__fill"})));var vO;function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},KS.apply(null,arguments)}const WW=t=>D.createElement("svg",KS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),vO||(vO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"m55.334 28.926-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 0 0-3.676-3.864L15.709 37.89a7.58 7.58 0 0 0-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 1 0-3.678-3.862z",className:"icon-attach_svg__fill"})));var _O,gO;function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},YS.apply(null,arguments)}const QW=t=>D.createElement("svg",YS({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 64 64"},t),_O||(_O=D.createElement("g",{clipPath:"url(#icon-audio-on-lined_svg__a)"},D.createElement("path",{d:"M32 0C26.11 0 21.333 4.776 21.333 10.667V32c0 5.891 4.776 10.667 10.667 10.667S42.667 37.89 42.667 32V10.667C42.667 4.776 37.89 0 32 0m-5.333 10.667a5.333 5.333 0 0 1 10.666 0V32a5.333 5.333 0 0 1-10.666 0z",className:"icon-audio-on-lined_svg__fill",clipRule:"evenodd"}),D.createElement("path",{d:"M16 26.667a2.667 2.667 0 1 0-5.333 0V32c0 10.879 8.143 19.856 18.666 21.168v5.499h-8a2.667 2.667 0 0 0 0 5.333h21.334a2.667 2.667 0 1 0 0-5.333h-8v-5.499C45.19 51.856 53.333 42.88 53.333 32v-5.333a2.667 2.667 0 1 0-5.333 0V32c0 8.837-7.163 16-16 16s-16-7.163-16-16z",className:"icon-audio-on-lined_svg__fill"}))),gO||(gO=D.createElement("defs",null,D.createElement("clipPath",{id:"icon-audio-on-lined_svg__a"},D.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))));var yO;function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},WS.apply(null,arguments)}const XW=t=>D.createElement("svg",WS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),yO||(yO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667M32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8m12.333 21.333a1 1 0 0 1 1 1v3.334a1 1 0 0 1-1 1H19.667a1 1 0 0 1-1-1v-3.334a1 1 0 0 1 1-1z",className:"icon-ban_svg__fill"})));var EO;function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},QS.apply(null,arguments)}const ZW=t=>D.createElement("svg",QS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),EO||(EO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M58.545 5.498q.121.389.122.796v46.079a2.666 2.666 0 0 1-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 0 1-7.997-7.75l-.003-.25V24a8 8 0 0 1 8-8H16L55.205 3.749a2.665 2.665 0 0 1 3.34 1.75zM21.333 44.587V48a5.333 5.333 0 0 0 10.652.398L32 47.92zm32-34.667-32 9.997v18.83l32 9.997zM16 21.333h-5.333a2.67 2.67 0 0 0-2.65 2.356L8 24v10.667a2.667 2.667 0 0 0 2.667 2.666H16z",className:"icon-broadcast_svg__fill"})));var bO;function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},XS.apply(null,arguments)}const JW=t=>D.createElement("svg",XS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),bO||(bO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 0 1 7.986 7.53l.014.47v29.334a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V21.333a8 8 0 0 1 8-8h9.237l4.544-6.812a2.67 2.67 0 0 1 1.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 0 1-1.887 1.167l-.331.02H8a2.67 2.67 0 0 0-2.667 2.667v29.334A2.667 2.667 0 0 0 8 53.333h48a2.667 2.667 0 0 0 2.667-2.666V21.333A2.667 2.667 0 0 0 56 18.667H45.333a2.67 2.67 0 0 1-2.218-1.188zM32 21.333c7.364 0 13.333 5.97 13.333 13.334S39.363 48 32 48s-13.333-5.97-13.333-13.333S24.637 21.333 32 21.333m0 5.334a8 8 0 1 0 0 16 8 8 0 0 0 0-16",className:"icon-camera_svg__fill"})));var TO;function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ZS.apply(null,arguments)}const eQ=t=>D.createElement("svg",ZS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),TO||(TO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"m42.65 5.333.311.017a2.666 2.666 0 0 1 2.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 0 1 .311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 0 1 .312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 0 1-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 0 1-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 0 1-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 0 1-.311-5.315l.31-.018h11.835l1.515-13.627a2.67 2.67 0 0 1 2.634-2.373l.311.017a2.666 2.666 0 0 1 2.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.67 2.67 0 0 1 2.634-2.373zm-5.927 32 1.186-10.667H27.272l-1.184 10.667z",className:"icon-channels_svg__fill"})));var CO;function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},JS.apply(null,arguments)}const tQ=t=>D.createElement("svg",JS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),CO||(CO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58q-8.947 2.868-12.504 1.981-4.198-1.047-1.657-3.663 1.757-2.094 2.928-5.234.934-2.502-.737-7A29.15 29.15 0 0 1 2.666 32C2.667 15.8 15.8 2.667 32 2.667M32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62 62 0 0 0 4.886-1.363l1.721-.568 2.04-.696 1.95.917A23.9 23.9 0 0 0 32 56c13.255 0 24-10.745 24-24S45.255 8 32 8",className:"icon-chat_svg__fill"})));var SO;function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},eN.apply(null,arguments)}const nQ=t=>D.createElement("svg",eN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),SO||(SO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58q-8.947 2.868-12.504 1.981-4.198-1.047-1.657-3.663 1.757-2.094 2.928-5.234.934-2.502-.737-7A29.15 29.15 0 0 1 2.666 32C2.667 15.8 15.8 2.667 32 2.667",className:"icon-chat-filled_svg__fill"})));var NO;function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},tN.apply(null,arguments)}const rQ=t=>D.createElement("svg",tN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),NO||(NO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M16.121 21.879a3 3 0 0 0-4.242 0 3 3 0 0 0 0 4.242l18 18a3 3 0 0 0 4.242 0l18-18a3 3 0 0 0 0-4.242 3 3 0 0 0-4.242 0L32 37.757z",className:"icon-chevron-down_svg__fill"})));var AO;function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},nN.apply(null,arguments)}const iQ=t=>D.createElement("svg",nN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),AO||(AO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M22.114 46.114a2.668 2.668 0 0 0 3.772 3.772l16-16a2.67 2.67 0 0 0 0-3.772l-16-16a2.668 2.668 0 0 0-3.772 3.772L36.23 32z",className:"icon-chevron-right_svg__fill"})));var wO;function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},rN.apply(null,arguments)}const aQ=t=>D.createElement("svg",rN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),wO||(wO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M52.552 11.448a2.666 2.666 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 0 1 0 3.771 2.666 2.666 0 0 1-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 0 1-3.771 0 2.666 2.666 0 0 1-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 0 1 0-3.771 2.666 2.666 0 0 1 3.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 0 1 3.771 0",className:"icon-close_svg__fill"})));var IO;function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},iN.apply(null,arguments)}const sQ=t=>D.createElement("svg",iN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),IO||(IO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M16 8a2.667 2.667 0 0 0-2.649 2.356l-.018.31v42.667a2.667 2.667 0 0 0 5.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.67 2.67 0 0 0-.221 3.52l.221.251a2.666 2.666 0 0 0 3.52.222l.252-.222 10.666-10.666a2.666 2.666 0 0 0 .222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 0 0-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0 0 16 8",className:"icon-collapse_svg__fill"})));var MO;function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},aN.apply(null,arguments)}const oQ=t=>D.createElement("svg",aN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),MO||(MO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M53.333 21.333a8 8 0 0 1 8 8v24a8 8 0 0 1-8 8h-24a8 8 0 0 1-8-8v-24a8 8 0 0 1 8-8zm0 5.334h-24a2.667 2.667 0 0 0-2.666 2.666v24A2.667 2.667 0 0 0 29.333 56h24A2.667 2.667 0 0 0 56 53.333v-24a2.667 2.667 0 0 0-2.667-2.666m-18.666-24a8 8 0 0 1 7.986 7.53l.014.47v2.666a2.667 2.667 0 0 1-5.316.311l-.018-.31v-2.667a2.67 2.67 0 0 0-2.355-2.65L34.667 8h-24a2.67 2.67 0 0 0-2.65 2.356l-.017.31v24a2.67 2.67 0 0 0 2.356 2.65l.31.017h2.667a2.667 2.667 0 0 1 .311 5.316l-.31.018h-2.667a8 8 0 0 1-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013z",className:"icon-copy_svg__fill"})));var OO;function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},sN.apply(null,arguments)}const lQ=t=>D.createElement("svg",sN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),OO||(OO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58q-8.947 2.868-12.504 1.981-4.198-1.047-1.657-3.663 1.757-2.094 2.928-5.234.934-2.502-.737-7A29.15 29.15 0 0 1 2.666 32C2.667 15.8 15.8 2.667 32 2.667M32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62 62 0 0 0 4.886-1.363l1.721-.568 2.04-.696 1.95.917A23.9 23.9 0 0 0 32 56c13.255 0 24-10.745 24-24S45.255 8 32 8m2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0",className:"icon-create_svg__fill"})));var RO;function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},oN.apply(null,arguments)}const uQ=t=>D.createElement("svg",oN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),RO||(RO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 0 1 .311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8 8 0 0 1-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 0 1-.311-5.316L8 13.333h10.666v-2.666a8 8 0 0 1 7.53-7.987l.47-.013zm10.666 16H16v34.666a2.67 2.67 0 0 0 2.356 2.65l.31.017h26.667a2.67 2.67 0 0 0 2.65-2.356l.017-.31zm-21.332 8a2.667 2.667 0 0 1 2.648 2.355l.018.311v16a2.667 2.667 0 0 1-5.316.311l-.017-.31v-16a2.667 2.667 0 0 1 2.667-2.667m10.666 0a2.67 2.67 0 0 1 2.65 2.355l.017.311v16a2.667 2.667 0 0 1-5.315.311l-.018-.31v-16a2.667 2.667 0 0 1 2.666-2.667m0-18.667H26.667a2.67 2.67 0 0 0-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 0 0-2.356-2.65L37.334 8z",className:"icon-delete_svg__fill"})));var DO;function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},lN.apply(null,arguments)}const cQ=t=>D.createElement("svg",lN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),DO||(DO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"m54.534 6.069-.248.217-9.736 9.735-.04.04-9.573 9.573q-.226.178-.405.404L6.286 54.286a2.423 2.423 0 0 0 3.18 3.645l.248-.217 13.374-13.373a2.42 2.42 0 0 0 1.88-.401 12.12 12.12 0 0 1 14.04 0 2.424 2.424 0 1 0 2.808-3.952 16.95 16.95 0 0 0-11.303-3.072l6.743-6.744a24.1 24.1 0 0 1 10.159 5.021 2.424 2.424 0 0 0 3.11-3.719 29 29 0 0 0-9.34-5.23l5.633-5.634a36.2 36.2 0 0 1 9.225 5.934 2.425 2.425 0 0 0 3.211-3.633 41 41 0 0 0-8.796-5.941l7.256-7.256a2.423 2.423 0 0 0-3.18-3.645m-35.04 21.474a29 29 0 0 0-6.032 3.942 2.424 2.424 0 0 0 3.137 3.697 24 24 0 0 1 5.022-3.282 2.425 2.425 0 0 0-2.127-4.357M4.748 22.909a2.424 2.424 0 0 0 3.207 3.636 36.36 36.36 0 0 1 26.978-8.977 2.424 2.424 0 0 0 .389-4.832A41.2 41.2 0 0 0 4.748 22.909",className:"icon-disconnected_svg__fill"})));var xO;function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},uN.apply(null,arguments)}const dQ=t=>D.createElement("svg",uN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),xO||(xO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M37.333 2.667a3 3 0 0 1 .274.014l.085.01.058.008q.07.01.141.026l.029.007q.075.016.146.037l.034.01q.357.107.663.303l.034.022q.053.034.104.072l.057.043q.045.033.085.068.091.075.176.16l-.126-.117q.075.065.143.135L55.21 19.438q.07.07.134.143l.035.04q.04.047.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048q.014.064.024.13l.006.048.007.051.004.041q.014.135.014.27v32a8 8 0 0 1-8 8H16a8 8 0 0 1-8-8V10.667a8 8 0 0 1 8-8zM34.666 8H16a2.667 2.667 0 0 0-2.667 2.667v42.666A2.667 2.667 0 0 0 16 56h32a2.667 2.667 0 0 0 2.667-2.667L50.666 24H37.333a2.667 2.667 0 0 1-2.648-2.356l-.018-.31zm12.227 10.667-6.894-6.894.001 6.894z",className:"icon-document_svg__fill"})));var LO;function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},cN.apply(null,arguments)}const hQ=t=>D.createElement("svg",cN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),LO||(LO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M12.552 31.448a2.665 2.665 0 1 0-3.771 3.771l13.333 13.333a2.666 2.666 0 0 0 3.772 0L55.219 19.22a2.667 2.667 0 0 0-3.771-3.771L24 42.895z",className:"icon-done_svg__fill"})));var UO;function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},dN.apply(null,arguments)}const fQ=t=>D.createElement("svg",dN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),UO||(UO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M5.886 31.448 19.219 44.78a2.667 2.667 0 0 1-3.771 3.771L2.114 35.22a2.667 2.667 0 0 1 3.772-3.771zm52.228-16a2.666 2.666 0 1 1 3.772 3.771L32.552 48.552a2.665 2.665 0 0 1-3.771 0L15.448 35.22a2.665 2.665 0 0 1 0-3.771 2.665 2.665 0 0 1 3.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 0 1 0 3.771L32.556 35.215a2.665 2.665 0 0 1-3.771 0 2.664 2.664 0 0 1 0-3.77L44.78 15.447a2.665 2.665 0 0 1 3.771 0z",className:"icon-done-all_svg__fill"})));var kO;function hN(){return hN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},hN.apply(null,arguments)}const pQ=t=>D.createElement("svg",hN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),kO||(kO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M56 42.667a2.667 2.667 0 0 1 2.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 0 1-7.986-7.53l-.014-.47v-8a2.667 2.667 0 0 1 5.316-.311l.018.311v8a2.67 2.67 0 0 0 2.355 2.65l.311.017h37.334a2.667 2.667 0 0 0 2.648-2.356l.018-.31v-8A2.667 2.667 0 0 1 56 42.667m-36.552-8.781a2.666 2.666 0 0 1 3.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 0 1 5.316-.311l.018.311v30.894l6.114-6.113a2.67 2.67 0 0 1 3.52-.221l.251.221a2.666 2.666 0 0 1 .222 3.52l-.222.252-10.658 10.657a2 2 0 0 1-.135.128l.127-.119a3 3 0 0 1-.195.176l-.056.045-.086.064-.056.04-.086.056-.06.036-.081.046-.079.04a3 3 0 0 1-.14.065l-.09.036q-.034.014-.067.025l-.09.03-.063.019q-.064.018-.13.034l-.013.003-.144.028-.064.01q-.045.008-.092.012l-.084.008-.103.006-.069.002h-.095q-.042 0-.082-.003l.139.003q-.126 0-.249-.011l-.061-.007-.092-.012-.09-.015-.118-.025-.04-.01a3 3 0 0 1-.34-.11l-.015-.006q-.074-.03-.145-.063l-.042-.02L30.71 45l-.067-.039q-.045-.026-.087-.054l-.062-.041q-.045-.03-.088-.063l-.04-.03-.008-.007a3 3 0 0 1-.251-.223z",className:"icon-download_svg__fill"})));var PO;function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},fN.apply(null,arguments)}const mQ=t=>D.createElement("svg",fN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},t),PO||(PO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M56 56a2.667 2.667 0 0 1 .311 5.315l-.311.018H8a2.667 2.667 0 0 1-.311-5.316L8 56zM35.448 3.448a2.665 2.665 0 0 1 3.771 0l10.667 10.666a2.67 2.67 0 0 1 0 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 0 1-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16z",className:"icon-edit_svg__fill"})));var FO;function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},pN.apply(null,arguments)}const vQ=t=>D.createElement("svg",pN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),FO||(FO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 0 1-1.144 4.111 24.7 24.7 0 0 0-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 0 1 1.494-2.62 2.13 2.13 0 0 1 2.62 1.494 29 29 0 0 1 1.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897S16.138 3.22 32.097 3.22m10.705 34.792a2.133 2.133 0 0 1 2.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488s-10.856-3.865-12.73-9.488a2.134 2.134 0 0 1 1.875-2.803l.15-.005zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 0 1-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133m21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 0 1-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133M54.853 0a.8.8 0 0 1 .8.8v7.786h7.76a.8.8 0 0 1 .8.8v2.667a.8.8 0 0 1-.8.8h-7.76v7.758a.8.8 0 0 1-.8.8h-2.666a.8.8 0 0 1-.8-.8v-7.758h-7.785a.8.8 0 0 1-.8-.8V9.387a.8.8 0 0 1 .8-.8l7.784-.001V.8a.8.8 0 0 1 .8-.8z",className:"icon-emoji-more_svg__fill"})));var HO;function mN(){return mN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},mN.apply(null,arguments)}const _Q=t=>D.createElement("svg",mN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),HO||(HO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 5.06a8 8 0 0 1 6.561 3.424l.287.439 22.608 37.744a8 8 0 0 1 .022 7.962 8 8 0 0 1-6.356 4.014l-.535.024H9.384a8 8 0 0 1-6.862-4.038 8.01 8.01 0 0 1-.226-7.493l.27-.506L25.16 8.91A8 8 0 0 1 32 5.06m0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.67 2.67 0 0 0 1.909 3.973l.341.027h45.144a2.67 2.67 0 0 0 2.45-3.659l-.148-.304L34.28 11.676A2.67 2.67 0 0 0 32 10.393m0 32.274A2.667 2.667 0 1 1 32 48a2.667 2.667 0 0 1 0-5.333m0-21.334a2.667 2.667 0 0 1 2.649 2.356l.018.311v10.667a2.667 2.667 0 0 1-5.316.311l-.018-.311V24A2.667 2.667 0 0 1 32 21.333",className:"icon-error_svg__fill"})));var BO;function vN(){return vN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},vN.apply(null,arguments)}const gQ=t=>D.createElement("svg",vN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),BO||(BO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M48 8a2.667 2.667 0 0 1 2.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 0 1-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.67 2.67 0 0 1 .221 3.52l-.221.251a2.666 2.666 0 0 1-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 0 1-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 0 1 3.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0 1 48 8",className:"icon-expand_svg__fill"})));var GO;function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},_N.apply(null,arguments)}const yQ=t=>D.createElement("svg",_N({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),GO||(GO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 0 1-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 0 1 3.156-.047m-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 0 1-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 0 1 3.156-.047",className:"icon-file-audio_svg__fill"})));var zO;function gN(){return gN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},gN.apply(null,arguments)}const EQ=t=>D.createElement("svg",gN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),zO||(zO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M39.414 6.4a2.4 2.4 0 0 1 1.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16m0-8.533-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16m-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 0 0-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.15 2.15 0 0 0 1.985-2.155c0-1.193-.957-2.16-2.137-2.16",className:"icon-file-document_svg__fill"})));var VO;function yN(){return yN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},yN.apply(null,arguments)}const bQ=t=>D.createElement("svg",yN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),VO||(VO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"m41.636 3.226.251.222a2.67 2.67 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.67 2.67 0 0 1 1.952 2.938l-.067.328a2.67 2.67 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.67 2.67 0 0 1 2.937 1.952l.067.328a2.67 2.67 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 0 1-3.52.222l-.251-.222a2.666 2.666 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 0 1-1.953-2.937l.067-.328a2.665 2.665 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 0 1-2.937-1.952l-.067-.328a2.67 2.67 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 0 1 0-3.771 2.666 2.666 0 0 1 3.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 0 1 3.52-.222z",className:"icon-freeze_svg__fill"})));var qO;function EN(){return EN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},EN.apply(null,arguments)}const TQ=t=>D.createElement("svg",EN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),qO||(qO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M16.664 45.333q3.233 0 5.89-.953 2.658-.954 4.113-2.683V31.34h-10.29v3.94h4.902v4.474q-1.292 1.284-4.327 1.283-3.017 0-4.58-2.085-1.561-2.085-1.562-6.168v-1.657q.018-4.047 1.455-6.097t4.184-2.05q2.155 0 3.385 1.034t1.59 3.262h5.243q-.486-4.206-3.107-6.408t-7.273-2.201q-3.34 0-5.827 1.506t-3.807 4.35q-1.32 2.843-1.32 6.728v1.765q.036 3.78 1.428 6.578 1.392 2.797 3.95 4.269 2.56 1.47 5.953 1.47m20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666z",className:"icon-gif_svg__fill"})));var jO;function bN(){return bN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},bN.apply(null,arguments)}const CQ=t=>D.createElement("svg",bN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),jO||(jO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667M32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8m1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334",className:"icon-info_svg__fill"})));var $O;function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},TN.apply(null,arguments)}const SQ=t=>D.createElement("svg",TN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),$O||($O=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 5.333a2.667 2.667 0 0 1 .311 5.316l-.311.018H10.667a2.67 2.67 0 0 0-2.65 2.355L8 13.333v37.334a2.667 2.667 0 0 0 2.356 2.648l.31.018H32a2.667 2.667 0 0 1 .311 5.316l-.311.018H10.667a8 8 0 0 1-7.987-7.53l-.013-.47V13.333a8 8 0 0 1 7.53-7.986l.47-.014zm17.634 13.893.252.222 10.666 10.666a2.666 2.666 0 0 1 .222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 0 1-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 0 1-.311-5.315l.311-.018h33.56l-7.446-7.448a2.67 2.67 0 0 1-.221-3.52l.221-.251a2.666 2.666 0 0 1 3.52-.222",className:"icon-leave_svg__fill"})));var KO;function CN(){return CN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},CN.apply(null,arguments)}const NQ=t=>D.createElement("svg",CN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),KO||(KO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013zM54 37.765a13.33 13.33 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 1 1 54 37.765M24 5.333c7.364 0 13.333 5.97 13.333 13.334S31.363 32 24 32s-13.333-5.97-13.333-13.333S16.637 5.333 24 5.333m19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 1 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167M24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16",className:"icon-members_svg__fill"})));var YO;function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},SN.apply(null,arguments)}const AQ=t=>D.createElement("svg",SN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),YO||(YO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58q-8.947 2.868-12.504 1.981-4.198-1.047-1.657-3.663 1.757-2.094 2.928-5.234.934-2.502-.737-7A29.15 29.15 0 0 1 2.666 32C2.667 15.8 15.8 2.667 32 2.667M32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62 62 0 0 0 4.886-1.363l1.721-.568 2.04-.696 1.95.917A23.9 23.9 0 0 0 32 56c13.255 0 24-10.745 24-24S45.255 8 32 8M18.667 29.333a2.667 2.667 0 1 1-.001 5.333 2.667 2.667 0 0 1 .001-5.333m13.333 0a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334m13.333 0a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334",className:"icon-message_svg__fill"})));var WO;function NN(){return NN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},NN.apply(null,arguments)}const wQ=t=>D.createElement("svg",NN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),WO||(WO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M18.667 34.667a2.667 2.667 0 0 1 .311 5.316l-.311.017h-5.334v16a2.667 2.667 0 0 1-5.316.311L8 56V40H2.667a2.667 2.667 0 0 1-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 0 1 2.649 2.356l.018.311v24a2.667 2.667 0 0 1-5.316.311L29.333 56V32A2.667 2.667 0 0 1 32 29.333M61.333 40a2.667 2.667 0 0 1 .311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 0 1-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 0 1-.311-5.316l.311-.017zm-8-34.667a2.67 2.67 0 0 1 2.65 2.356L56 8v24a2.667 2.667 0 0 1-5.315.311L50.667 32V8a2.667 2.667 0 0 1 2.666-2.667m-42.666 0a2.667 2.667 0 0 1 2.648 2.356l.018.311v18.667a2.667 2.667 0 0 1-5.316.311L8 26.667V8a2.667 2.667 0 0 1 2.667-2.667m21.333 0a2.667 2.667 0 0 1 2.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 0 1 .311 5.317L40 24H24a2.667 2.667 0 0 1-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0 1 32 5.333",className:"icon-moderations_svg__fill"})));var QO;function AN(){return AN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},AN.apply(null,arguments)}const IQ=t=>D.createElement("svg",AN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),QO||(QO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 45.333a5.333 5.333 0 1 1 0 10.666 5.333 5.333 0 0 1 0-10.666M32 28a5.333 5.333 0 1 1 0 10.668A5.333 5.333 0 0 1 32 28m0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333",className:"icon-more_svg__fill"})));var XO;function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},wN.apply(null,arguments)}const MQ=t=>D.createElement("svg",wN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),XO||(XO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"m55.62 19.616.067.123A26.55 26.55 0 0 1 58.667 32c0 4.326-1.03 8.41-2.864 12.025q-1.518 4.089-.67 6.363 1.066 2.855 2.662 4.758 2.31 2.379-1.506 3.33-3.135.782-10.879-1.646l-.488-.155-1.594-.527A26.6 26.6 0 0 1 32 58.667a26.55 26.55 0 0 1-12.326-3.014l-.059-.03 4-4A21.2 21.2 0 0 0 32 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219q1.093.337 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.2 21.2 0 0 0 1.895-8.8 21.2 21.2 0 0 0-1.71-8.385zm2.266-13.502a2.67 2.67 0 0 1 .221 3.52l-.221.252-48 48a2.668 2.668 0 0 1-3.993-3.52l.221-.252 5.238-5.237a26.56 26.56 0 0 1-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0 1 16.877 6.02l5.237-5.239a2.67 2.67 0 0 1 3.772 0M32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.25 21.25 0 0 0 32 10.666z",className:"icon-mute_svg__fill"})));var ZO;function IN(){return IN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},IN.apply(null,arguments)}const OQ=t=>D.createElement("svg",IN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),ZO||(ZO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 0 1-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 0 0 4.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 0 0 4.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333M32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.6 10.6 0 0 1-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16",className:"icon-notifications_svg__fill"})));var JO;function MN(){return MN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},MN.apply(null,arguments)}const RQ=t=>D.createElement("svg",MN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),JO||(JO=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 0 1-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 0 1 2.85-.117l.127.117a2.105 2.105 0 0 1 0 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 0 1 0-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 0 0 4.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333m20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 0 0 4.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31z",className:"icon-notifications-off-filled_svg__fill"})));var eR;function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ON.apply(null,arguments)}const DQ=t=>D.createElement("svg",ON({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),eR||(eR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0 1 50.666 56H13.333a2.666 2.666 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251zM32 32a5.333 5.333 0 1 1 0 10.668A5.333 5.333 0 0 1 32 32",className:"icon-operator_svg__fill"})));var tR;function RN(){return RN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},RN.apply(null,arguments)}const xQ=t=>D.createElement("svg",RN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),tR||(tR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M50.667 5.333a8 8 0 0 1 8 8v37.334a8 8 0 0 1-8 8H13.333a8 8 0 0 1-8-8V13.333a8 8 0 0 1 8-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 0 0 2.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 0 0-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.67 2.67 0 0 1 3.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 0 0-2.498-2.661zm-28 5.333a6.666 6.666 0 1 1 0 13.333 6.666 6.666 0 0 1 0-13.333m0 5.333a1.334 1.334 0 1 0 0 2.667 1.334 1.334 0 0 0 0-2.667",className:"icon-photo_svg__fill"})));var nR;function DN(){return DN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},DN.apply(null,arguments)}const LQ=t=>D.createElement("svg",DN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),nR||(nR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016z",className:"icon-play_svg__fill"})));var rR;function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},xN.apply(null,arguments)}const UQ=t=>D.createElement("svg",xN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),rR||(rR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0z",className:"icon-plus_svg__fill"})));var iR;function LN(){return LN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},LN.apply(null,arguments)}const kQ=t=>D.createElement("svg",LN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),iR||(iR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333M32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24m2.213-18.63a2.667 2.667 0 1 1-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 0 0-10.364-1.777 2.667 2.667 0 0 1-5.032-1.77 10.668 10.668 0 0 1 20.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21 21 0 0 1-2.813 1.578zm-5.333 7.523a2.667 2.667 0 1 1 5.333 0v.44a2.667 2.667 0 1 1-5.333 0v-.44",className:"icon-question_svg__fill"})));var aR;function UN(){return UN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},UN.apply(null,arguments)}const PQ=t=>D.createElement("svg",UN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),aR||(aR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.67 2.67 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.67 2.67 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 0 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",className:"icon-refresh_svg__fill"})));var sR;function kN(){return kN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},kN.apply(null,arguments)}const FQ=t=>D.createElement("svg",kN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),sR||(sR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667m9.886 19.447a2.67 2.67 0 0 0-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 0 0-3.638.124l-.124.134a2.667 2.667 0 0 0 .124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 0 0 .124 3.638l.134.124a2.667 2.667 0 0 0 3.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 0 0 3.638-.124l.124-.134a2.667 2.667 0 0 0-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 0 0-.124-3.638z",className:"icon-remove_svg__fill"})));var oR;function PN(){return PN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},PN.apply(null,arguments)}const HQ=t=>D.createElement("svg",PN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},t),oR||(oR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 0 0 .062-.164c-.069-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.3 9.3 0 0 0-2.406-.655 10 10 0 0 0-.862-.078V2.225a.23.23 0 0 0-.128-.203.23.23 0 0 0-.24.028L.084 5.692A.22.22 0 0 0 0 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.22.22 0 0 0 .13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.4 6.4 0 0 1 2.087.96c1.018.724 1.398 1.5 1.401 1.507a.23.23 0 0 0 .204.128",className:"icon-reply-filled_svg__fill"})));var lR;function FN(){return FN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},FN.apply(null,arguments)}const BQ=t=>D.createElement("svg",FN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),lR||(lR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667S14.885 5.333 26.667 5.333 48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 0 1-3.772 3.772l-13.67-13.67A21.24 21.24 0 0 1 26.667 48m0-5.333c8.836 0 16-7.164 16-16s-7.164-16-16-16-16 7.163-16 16 7.163 16 16 16",className:"icon-search_svg__fill"})));var uR;function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},HN.apply(null,arguments)}const GQ=t=>D.createElement("svg",HN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),uR||(uR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M59.795 29.43 7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 0 0 1.544 1.275l32.273 5.394L11.4 37.47a2 2 0 0 0-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",className:"icon-send_svg__fill"})));var cR;function BN(){return BN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},BN.apply(null,arguments)}const zQ=t=>D.createElement("svg",BN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),cR||(cR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 2.667A5.33 5.33 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.33 5.33 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.33 5.33 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.33 5.33 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.33 5.33 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.33 5.33 0 0 1 32 2.667M32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16",className:"icon-settings-filled_svg__fill"})));var dR;function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},GN.apply(null,arguments)}const VQ=t=>D.createElement("svg",GN({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32"},t),dR||(dR=D.createElement("path",{d:"M21.943 24.39a1.333 1.333 0 0 1-1.886 1.886l-9.333-9.333a1.333 1.333 0 0 1 0-1.886l9.333-9.333a1.333 1.333 0 1 1 1.886 1.885L13.553 16z",className:"icon-slide-left_svg__fill",clipRule:"evenodd"})));var hR;function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},zN.apply(null,arguments)}const qQ=t=>D.createElement("svg",zN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),hR||(hR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 1 0 5.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 1 0 0 5.677",className:"icon-spinner_svg__fill"})));var fR;function VN(){return VN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},VN.apply(null,arguments)}const jQ=t=>D.createElement("svg",VN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),fR||(fR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 0 1-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 0 1-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011zm18.578-17.291q.401 0 .784.118c4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 0 1-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 0 1-2.648-2.356l-.018-.31a2.67 2.67 0 0 1 2.355-2.65l.311-.017zm-44 0 .31.018a2.666 2.666 0 0 1 2.356 2.648l-.018.311a2.666 2.666 0 0 1-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 0 1 0 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809q.384-.117.788-.118zM32 19.958c5.512 0 10 4.409 10 9.871s-4.488 9.872-10 9.872-10-4.41-10-9.872 4.488-9.871 10-9.871m0 5.333c-2.588 0-4.667 2.043-4.667 4.538s2.08 4.538 4.667 4.538c2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538M17.333 2.667c5.513 0 10 4.409 10 9.871s-4.487 9.871-10 9.871c-5.512 0-10-4.409-10-9.871s4.488-9.871 10-9.871m29.334 0c5.512 0 10 4.409 10 9.871s-4.488 9.871-10 9.871c-5.513 0-10-4.409-10-9.871s4.487-9.871 10-9.871M17.333 8c-2.587 0-4.666 2.042-4.666 4.538s2.079 4.538 4.666 4.538S22 15.034 22 12.538 19.921 8 17.333 8m29.334 0C44.079 8 42 10.042 42 12.538s2.079 4.538 4.667 4.538 4.666-2.042 4.666-4.538S49.254 8 46.667 8",className:"icon-supergroup_svg__fill"})));var pR,mR;function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},qN.apply(null,arguments)}const $Q=t=>D.createElement("svg",qN({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 64 64"},t),pR||(pR=D.createElement("path",{d:"M38.824 25.895a2.95 2.95 0 0 1 4.16-.074L57.1 39.378a2.92 2.92 0 0 1 .002 4.213L42.985 57.177a2.95 2.95 0 0 1-4.158-.07 2.92 2.92 0 0 1 .07-4.14l11.928-11.48-11.926-11.451a2.92 2.92 0 0 1-.075-4.14",className:"icon-thread_svg__fill",clipRule:"evenodd"})),mR||(mR=D.createElement("path",{d:"M8.866 6c1.583 0 2.866 1.216 2.866 2.716V25.5c0 7.672 6.846 14.068 15.475 14.068h22.927c1.583 0 2.866 1.216 2.866 2.716S51.717 45 50.134 45H27.207C15.604 45 6 36.35 6 25.5V8.716C6 7.216 7.283 6 8.866 6",className:"icon-thread_svg__fill",clipRule:"evenodd"})));var vR;function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},jN.apply(null,arguments)}const KQ=t=>D.createElement("svg",jN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),vR||(vR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M34.667 5.333a2.667 2.667 0 0 1 0 5.334H13.333a2.667 2.667 0 0 0-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 0 1 3.771 0l8.781 8.78v-4.228a2.667 2.667 0 0 1 2.498-2.661l.169-.005a2.667 2.667 0 0 1 2.667 2.666v21.334a8 8 0 0 1-8 8H13.33a8 8 0 0 1-7.998-8V13.333a8 8 0 0 1 8-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 0 0 2.661-2.498l.005-.168v-9.563zM22.667 16a6.666 6.666 0 1 1 0 13.333 6.666 6.666 0 0 1 0-13.333m0 5.333a1.334 1.334 0 1 0 0 2.667 1.334 1.334 0 0 0 0-2.667M56.78 3.448a2.665 2.665 0 0 1 3.771 0 2.665 2.665 0 0 1 0 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 0 1-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 0 1-3.638.125l-.133-.125a2.665 2.665 0 0 1 0-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 0 1-.125-3.638l.125-.133a2.665 2.665 0 0 1 3.771 0l4.78 4.78z",className:"icon-thumbnail-none_svg__fill"})));var _R;function $N(){return $N=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},$N.apply(null,arguments)}const YQ=t=>D.createElement("svg",$N({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},t),_R||(_R=D.createElement("g",{fill:"none",fillRule:"evenodd"},D.createElement("rect",{width:80,height:40,x:4,y:4,fill:"#000",className:"icon-toggleoff_svg__fill",rx:20}),D.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),D.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992z"}),D.createElement("path",{fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0m0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4z",className:"icon-toggleoff_svg__fill"}))));var gR;function KN(){return KN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},KN.apply(null,arguments)}const WQ=t=>D.createElement("svg",KN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},t),gR||(gR=D.createElement("g",{fill:"none",fillRule:"evenodd"},D.createElement("rect",{width:80,height:40,x:4,y:4,fill:"#000",className:"icon-toggleon_svg__fill",rx:20}),D.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),D.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992z"}),D.createElement("path",{fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0m0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4z",className:"icon-toggleon_svg__fill"}))));var yR;function YN(){return YN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},YN.apply(null,arguments)}const QQ=t=>D.createElement("svg",YN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),yR||(yR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013zM32 5.333c7.364 0 13.333 5.97 13.333 13.334S39.363 32 32 32s-13.333-5.97-13.333-13.333S24.637 5.333 32 5.333m0 5.334a8 8 0 1 0 0 16 8 8 0 0 0 0-16",className:"icon-user_svg__fill"})));var ER;function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},WN.apply(null,arguments)}const XQ=t=>D.createElement("svg",WN({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t),ER||(ER=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M12.346 5.336v-.001c.405-.523 1.182-.524 1.58-.037.162.2.25.443.25.69v3.678c0 .518.42.938.938.938H18.6c.359 0 .7.179.911.488l.001.001.369.548.003.004c.174.256.226.583.134.895l-1.532 5.316c-.131.459-.559.782-1.044.782h-7.075c-.3 0-.593-.127-.8-.345l-1.13-1.222v-6.647zm-4.73 3.078 3.245-4.223.002-.002c1.125-1.456 3.339-1.521 4.517-.075.421.52.671 1.177.671 1.874v2.74h2.55c.99 0 1.908.496 2.462 1.31l.002.004.368.547.002.002a2.93 2.93 0 0 1 .382 2.475v.003l-1.528 5.302a2.96 2.96 0 0 1-2.847 2.142h-7.075a2.99 2.99 0 0 1-2.166-.935l-.007-.007-.066-.072a2.13 2.13 0 0 1-1.821 1.025H4.192a2.13 2.13 0 0 1-2.13-2.13v-8.3a2.13 2.13 0 0 1 2.13-2.13h2.115c.493 0 .948.168 1.31.45m-3.678 1.68c0-.141.114-.255.254-.255h2.115c.14 0 .254.114.254.255v8.3c0 .14-.114.255-.254.255H4.192a.255.255 0 0 1-.255-.255z",clipRule:"evenodd"})));var bR;function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},QN.apply(null,arguments)}const ZQ=t=>D.createElement("svg",QN({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t),bR||(bR=D.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M11.654 18.664v.001c-.405.523-1.182.524-1.58.037-.162-.2-.25-.444-.25-.69v-3.678a.94.94 0 0 0-.938-.938H5.4c-.359 0-.7-.179-.911-.488l-.001-.001-.369-.548-.003-.004a1.05 1.05 0 0 1-.134-.895l1.532-5.316c.131-.459.559-.782 1.044-.782h7.075c.3 0 .593.127.8.345l1.13 1.222v6.647zm4.73-3.078-3.245 4.223-.002.002c-1.125 1.456-3.339 1.521-4.517.075a2.98 2.98 0 0 1-.671-1.874v-2.74h-2.55c-.99 0-1.908-.496-2.462-1.31l-.002-.004-.368-.547-.002-.002a2.93 2.93 0 0 1-.382-2.475v-.003L3.711 5.63a2.96 2.96 0 0 1 2.847-2.142h7.075c.823 0 1.608.345 2.166.935l.007.007.066.072a2.13 2.13 0 0 1 1.821-1.025h2.115a2.13 2.13 0 0 1 2.13 2.13v8.3a2.13 2.13 0 0 1-2.13 2.13h-2.115a2.12 2.12 0 0 1-1.31-.45m3.678-1.68c0 .141-.114.255-.254.255h-2.115a.255.255 0 0 1-.255-.255v-8.3c0-.14.115-.255.255-.255h2.115c.14 0 .255.114.255.255z",clipRule:"evenodd"})));var TR;function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},XN.apply(null,arguments)}const JQ=t=>D.createElement("svg",XN({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},t),TR||(TR=D.createElement("g",{fill:"#000",fillRule:"evenodd"},D.createElement("path",{d:"M40 5.333C38.835 6.879 37.003 8.33 36.266 9.6H12c-.597 0-1.067.469-1.067 1.067v36.458l2.863-4.458H52c.597 0 1.067-.469 1.067-1.067V26.398c1.917-.402 3.779-1.178 5.333-2.398v17.6c0 3.542-2.891 6.4-6.4 6.4H16L5.333 58.667V12c0-3.542 2.891-6.4 6.4-6.4H40Z",className:"icon-mark-as-unread_svg__fill"}),D.createElement("circle",{cx:50.667,cy:13.333,r:9.333,className:"icon-mark-as-unread_svg__fill"}))));var CR;function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ZN.apply(null,arguments)}const eX=t=>D.createElement("svg",ZN({xmlns:"http://www.w3.org/2000/svg",width:14,height:16,fill:"none"},t),CR||(CR=D.createElement("path",{fill:"#742DDD",fillRule:"evenodd",d:"M11.496 4.504c.21.21.226.541.048.77l-.048.055L7.825 9l3.671 3.672a.583.583 0 0 1-.77.873l-.055-.048-3.67-3.671-3.672 3.67a.583.583 0 0 1-.873-.77l.048-.054L6.175 9l-3.67-3.67a.583.583 0 0 1 .77-.874l.054.048L7 8.174l3.671-3.67a.583.583 0 0 1 .825 0",clipRule:"evenodd"})));function tX(t){switch(t){case ke.ADD:return O.createElement(KW,null);case ke.ARROW_LEFT:return O.createElement(YW,null);case ke.ATTACH:return O.createElement(WW,null);case ke.AUDIO_ON_LINED:return O.createElement(QW,null);case ke.BAN:return O.createElement(XW,null);case ke.BROADCAST:return O.createElement(ZW,null);case ke.CAMERA:return O.createElement(JW,null);case ke.CHANNELS:return O.createElement(eQ,null);case ke.CHAT:return O.createElement(tQ,null);case ke.CHAT_FILLED:return O.createElement(nQ,null);case ke.CHEVRON_DOWN:return O.createElement(rQ,null);case ke.CHEVRON_RIGHT:return O.createElement(iQ,null);case ke.CLOSE:return O.createElement(aQ,null);case ke.COLLAPSE:return O.createElement(sQ,null);case ke.COPY:return O.createElement(oQ,null);case ke.CREATE:return O.createElement(lQ,null);case ke.DELETE:return O.createElement(uQ,null);case ke.DISCONNECTED:return O.createElement(cQ,null);case ke.DOCUMENT:return O.createElement(dQ,null);case ke.DONE:return O.createElement(hQ,null);case ke.DONE_ALL:return O.createElement(fQ,null);case ke.DOWNLOAD:return O.createElement(pQ,null);case ke.EDIT:return O.createElement(mQ,null);case ke.EMOJI_MORE:return O.createElement(vQ,null);case ke.ERROR:return O.createElement(_Q,null);case ke.EXPAND:return O.createElement(gQ,null);case ke.FILE_AUDIO:return O.createElement(yQ,null);case ke.FILE_DOCUMENT:return O.createElement(EQ,null);case ke.FREEZE:return O.createElement(bQ,null);case ke.GIF:return O.createElement(TQ,null);case ke.INFO:return O.createElement(CQ,null);case ke.LEAVE:return O.createElement(SQ,null);case ke.MEMBERS:return O.createElement(NQ,null);case ke.MESSAGE:return O.createElement(AQ,null);case ke.MODERATIONS:return O.createElement(wQ,null);case ke.MORE:return O.createElement(IQ,null);case ke.MUTE:return O.createElement(MQ,null);case ke.NOTIFICATIONS:return O.createElement(OQ,null);case ke.NOTIFICATIONS_OFF_FILLED:return O.createElement(RQ,null);case ke.OPERATOR:return O.createElement(DQ,null);case ke.PHOTO:return O.createElement(xQ,null);case ke.PLAY:return O.createElement(LQ,null);case ke.PLUS:return O.createElement(UQ,null);case ke.QUESTION:return O.createElement(kQ,null);case ke.REFRESH:return O.createElement(PQ,null);case ke.REMOVE:return O.createElement(FQ,null);case ke.REPLY:return O.createElement(HQ,null);case ke.SEARCH:return O.createElement(BQ,null);case ke.SEND:return O.createElement(GQ,null);case ke.SETTINGS_FILLED:return O.createElement(zQ,null);case ke.SLIDE_LEFT:return O.createElement(VQ,null);case ke.SPINNER:return O.createElement(qQ,null);case ke.SUPERGROUP:return O.createElement(jQ,null);case ke.THREAD:return O.createElement($Q,null);case ke.THUMBNAIL_NONE:return O.createElement(KQ,null);case ke.TOGGLE_OFF:return O.createElement(YQ,null);case ke.TOGGLE_ON:return O.createElement(WQ,null);case ke.USER:return O.createElement(QQ,null);case ke.FEEDBACK_LIKE:return O.createElement(XQ,null);case ke.FEEDBACK_DISLIKE:return O.createElement(ZQ,null);case ke.MARK_AS_UNREAD:return O.createElement(JQ,null);case ke.FLOATING_BUTTON_CLOSE:return O.createElement(eX,null);default:return"icon"}}function rn(t){var n=t.className,e=n===void 0?"":n,r=t.type,i=t.fillColor,a=i===void 0?ki.DEFAULT:i,s=t.width,l=s===void 0?26:s,c=t.height,d=c===void 0?26:c,f=t.onClick,v=f===void 0?yi:f,g=t.children,y=g===void 0?null:g,b=t.testID,C={width:typeof l=="string"?l:"".concat(l,"px"),minWidth:typeof l=="string"?l:"".concat(l,"px"),height:typeof d=="string"?d:"".concat(d,"px"),minHeight:typeof d=="string"?d:"".concat(d,"px")};return O.createElement("div",{className:tt(tt([],Array.isArray(e)?e:[e],!0),["sendbird-icon",$W(r),jW(a)],!1).join(" "),"data-testid":b,role:"button",onClick:v,onKeyDown:v,tabIndex:0,style:C},y||tX(r))}var Vt=ke,Yt=ki,Sp=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,e=t==="x"?n:n&3|8;return e.toString(16)})},YL="sendbird-modal-root",nX=function(t){var n=t.titleText,e=t.onCloseClick;return O.createElement("div",{className:"sendbird-modal__header"},O.createElement(zt,{type:Gt.H_1,color:_t.ONBACKGROUND_1},n),O.createElement("div",{className:"sendbird-modal__close"},O.createElement(Hc,{width:"32px",height:"32px",onClick:e},O.createElement(rn,{type:Vt.CLOSE,fillColor:Yt.DEFAULT,width:"24px",height:"24px"}))))},rX=function(t){var n=t.children;return O.createElement("div",{className:"sendbird-modal__body"},O.createElement(zt,{type:Gt.SUBTITLE_1,color:_t.ONBACKGROUND_2},n))},U0=function(t){var n=t.submitText,e=t.disabled,r=e===void 0?!1:e,i=t.hideCancelButton,a=i===void 0?!1:i,s=t.type,l=s===void 0?ji.DANGER:s,c=t.onSubmit,d=t.onCancel,f=D.useContext(Jc).stringSet;return O.createElement("div",{className:"sendbird-modal__footer"},!a&&O.createElement(Nv,{type:ji.SECONDARY,onClick:d},O.createElement(zt,{type:Gt.BUTTON_1,color:_t.ONBACKGROUND_1},f.BUTTON__CANCEL)),O.createElement(Nv,{type:l,disabled:r,onClick:c},n))};function R3(t){var n,e=t.children,r=e===void 0?null:e,i=t.className,a=i===void 0?"":i,s=t.contentClassName,l=s===void 0?"":s,c=t.isCloseOnClickOutside,d=c===void 0?!1:c,f=t.isFullScreenOnMobile,v=f===void 0?!1:f,g=t.titleText,y=t.submitText,b=t.disabled,C=b===void 0?!1:b,w=t.hideFooter,I=w===void 0?!1:w,M=t.type,R=M===void 0?ji.DANGER:M,U=t.renderHeader,H=t.onSubmit,P=H===void 0?yi:H,G=t.onClose,Y=t.onCancel,F=t.customFooter,te=(n=G??Y)!==null&&n!==void 0?n:yi,J=$a().state.eventHandlers,ne=D.useState(function(){return"sbu-modal-".concat(Sp())})[0];D.useEffect(function(){var X,se;return(se=(X=J?.modal)===null||X===void 0?void 0:X.onMounted)===null||se===void 0?void 0:se.call(X,{close:te,id:ne})},[]);var Oe=Kl().isMobile;return JA.createPortal(O.createElement("div",{className:$i("sendbird-modal",a,v&&Oe&&"sendbird-modal--full-mobile")},O.createElement("div",{className:$i.apply(void 0,tt(["sendbird-modal__content"],Array.isArray(l)?l:[l],!1))},U?.()||O.createElement(nX,{titleText:g??"",onCloseClick:te}),O.createElement(rX,null,r),!I&&(F??O.createElement(U0,{disabled:C,onCancel:te,onSubmit:P,submitText:y??"",type:R}))),O.createElement("div",{className:$i("sendbird-modal__backdrop",d&&"sendbird-modal__backdrop--clickoutside"),onClick:function(X){X?.stopPropagation(),d&&te()}})),document.getElementById(YL))}var iX=D.createContext({start:yi,stop:yi,isRecordable:!1}),WL=function(){return D.useContext(iX)},D1=Symbol("@ts-pattern/matcher"),SR="@ts-pattern/anonymous-select-key",NR=function(t){return!!(t&&typeof t=="object")},SC=function(t){return t&&!!t[D1]},aX=function t(n,e,r){if(NR(n)){if(SC(n)){var i=n[D1]().match(e),a=i.matched,s=i.selections;return a&&s&&Object.keys(s).forEach(function(c){return r(c,s[c])}),a}if(!NR(e))return!1;if(Array.isArray(n))return!!Array.isArray(e)&&n.length===e.length&&n.every(function(c,d){return t(c,e[d],r)});if(n instanceof Map)return e instanceof Map&&Array.from(n.keys()).every(function(c){return t(n.get(c),e.get(c),r)});if(n instanceof Set){if(!(e instanceof Set))return!1;if(n.size===0)return e.size===0;if(n.size===1){var l=Array.from(n.values())[0];return SC(l)?Array.from(e.values()).every(function(c){return t(l,c,r)}):e.has(l)}return Array.from(n.values()).every(function(c){return e.has(c)})}return Object.keys(n).every(function(c){var d,f=n[c];return(c in e||SC(d=f)&&d[D1]().matcherType==="optional")&&t(f,e[c],r)})}return Object.is(e,n)};function Dp(t){var n;return(n={})[D1]=function(){return{match:function(e){return{matched:!!t(e)}}}},n}Dp(function(t){return!0});Dp(function(t){return typeof t=="string"});Dp(function(t){return typeof t=="number"});Dp(function(t){return typeof t=="boolean"});Dp(function(t){return typeof t=="bigint"});Dp(function(t){return typeof t=="symbol"});Dp(function(t){return t==null});function qc(t){return new sX(t,[])}var sX=(function(){function t(e,r){this.value=void 0,this.cases=void 0,this.value=e,this.cases=r}var n=t.prototype;return n.with=function(){var e=[].slice.call(arguments),r=e[e.length-1],i=[e[0]],a=[];return e.length===3&&typeof e[1]=="function"?(i.push(e[0]),a.push(e[1])):e.length>2&&i.push.apply(i,e.slice(1,e.length-1)),new t(this.value,this.cases.concat([{match:function(s){var l={},c=!!(i.some(function(d){return aX(d,s,function(f,v){l[f]=v})})&&a.every(function(d){return d(s)}));return{matched:c,value:c&&Object.keys(l).length?SR in l?l[SR]:l:s}},handler:r}]))},n.when=function(e,r){return new t(this.value,this.cases.concat([{match:function(i){return{matched:!!e(i),value:i}},handler:r}]))},n.otherwise=function(e){return new t(this.value,this.cases.concat([{match:function(r){return{matched:!0,value:r}},handler:e}])).run()},n.exhaustive=function(){return this.run()},n.run=function(){for(var e=this.value,r=void 0,i=0;i<this.cases.length;i++){var a=this.cases[i],s=a.match(this.value);if(s.matched){e=s.value,r=a.handler;break}}if(!r){var l;try{l=JSON.stringify(this.value)}catch{l=this.value}throw new Error("Pattern matching error: no pattern matches value "+l)}return r(e,this.value)},t})(),oX=D.createContext({openModal:yi}),QL=function(){return D.useContext(oX)};(function(){function t(n){var e=this,r,i=n.sdk,a=n.logger;(r=i?.getAllEmoji)===null||r===void 0||r.call(i).then(function(s){e._emojiContainer=s,a?.info("EmojiManager | Succeeded getting all emojis. ",s)}).catch(function(){a?.warning("EmojiManager | Failed getting all emojis.")})}return Object.defineProperty(t.prototype,"AllEmojisAsArray",{get:function(){return this._emojiContainer.emojiCategories.flatMap(function(n){return n.emojis})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"AllEmojisAsMap",{get:function(){return this._emojiContainer.emojiCategories.flatMap(function(n){return n.emojis}).reduce(function(n,e){return n.set(e.key,e.url),n},new Map)},enumerable:!1,configurable:!0}),t.prototype.getAllEmojis=function(n){var e=this;return qc(n).when(function(r){return["array","arr"].includes(r)},function(){return e.AllEmojisAsArray}).when(function(r){return["map"].includes(r)},function(){return e.AllEmojisAsMap}).otherwise(function(){return e.AllEmojisAsArray})},t.prototype.getEmojiUrl=function(n){var e,r;return(r=(e=this.AllEmojisAsArray.find(function(i){return i.key===n}))===null||e===void 0?void 0:e.url)!==null&&r!==void 0?r:""},Object.defineProperty(t.prototype,"emojiContainer",{get:function(){return this._emojiContainer},enumerable:!1,configurable:!0}),t})();var XL={100:"extra-light",200:"light",300:"main",400:"dark",500:"extra-dark","overlay-01":"overlay-dark","overlay-02":"overlay-light","onlight-01":"onlight-text-high-emphasis","onlight-02":"onlight-text-mid-emphasis","onlight-03":"onlight-text-low-emphasis","onlight-04":"onlight-text-disabled","ondark-01":"ondark-text-high-emphasis","ondark-02":"ondark-text-mid-emphasis","ondark-03":"ondark-text-low-emphasis","ondark-04":"ondark-text-disabled"};Object.values(XL).sort(function(t,n){return n.length-t.length});new Map(Object.entries(XL).map(function(t){var n=t[0],e=t[1];return[e,n]}));var gi;(function(t){t.NONE="NONE",t.PENDING="PENDING",t.SENT="SENT",t.FAILED="FAILED",t.DELIVERED="DELIVERED",t.READ="READ"})(gi||(gi={}));var lX=function(t,n){var e,r,i,a,s;if(!n||!("sendingStatus"in n))return gi.NONE;if(n.sendingStatus==="pending")return gi.PENDING;if(n.sendingStatus==="failed")return gi.FAILED;if(!((e=t?.isGroupChannel)===null||e===void 0)&&e.call(t)){if(((i=(r=t).getUnreadMemberCount)===null||i===void 0?void 0:i.call(r,n))===0)return gi.READ;if(((s=(a=t).getUndeliveredMemberCount)===null||s===void 0?void 0:s.call(a,n))===0)return gi.DELIVERED}return n.sendingStatus==="succeeded"?gi.SENT:gi.NONE};function x1(t){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},x1(t)}function wa(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function Zl(t){wa(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||x1(t)==="object"&&n==="[object Date]"?new Date(t.getTime()):typeof t=="number"||n==="[object Number]"?new Date(t):((typeof t=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var NC,uh={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp","image/bmp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"],DOCUMENT:["text/plain","text/css","text/csv","text/html","text/calendar","text/javascript","text/xml","text/x-log","video/quicktime"],APPLICATION:["application/x-abiword","application/x-freearc","application/vnd.amazon.ebook","application/octet-stream","application/x-bzip","application/x-bzip2","application/x-cdf","application/x-csh","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-fontobject","application/epub+zip","application/gzip","application/java-archive","application/json","application/ld+json","application/vnd.apple.installer+xml","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","application/ogg","application/pdf","application/x-httpd-php","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.rar","application/rtf","application/x-sh","application/x-tar","application/vnd.visio","application/xhtml+xml","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/xml","application/vnd.mozilla.xul+xml","application/zip","application/x-7z-compressed"],ARCHIVE:["application/zip","application/x-rar-compressed","application/x-7z-compressed","application/x-tar","application/gzip","application/x-bzip","application/x-bzip2","application/x-xz","application/x-iso9660-image"]},Lg={IMAGE:[".apng",".avif",".gif",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".webp",".bmp",".ico",".cur",".tif",".tiff",".heic",".heif"],VIDEO:[".mp4",".webm",".ogv",".3gp",".3g2",".avi",".mov",".wmv",".mpg",".mpeg",".m4v",".mkv"],AUDIO:[".aac",".midi",".mp3",".oga",".opus",".wav",".weba",".3gp",".3g2"],DOCUMENT:[".txt",".log",".csv",".rtf",".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],ARCHIVE:[".zip",".rar",".7z",".tar",".gz",".bz2",".xz",".iso"]},uX=function(t){if(Array.isArray(t)&&t.length>0){var n=t.reduce(function(e,r){var i=r.toLowerCase();switch(i){case"image":{e.push.apply(e,tt(tt([],uh.IMAGE,!1),Lg.IMAGE,!1));break}case"video":{e.push.apply(e,tt(tt([],uh.VIDEO,!1),Lg.VIDEO,!1));break}case"audio":{e.push.apply(e,tt(tt([],uh.AUDIO,!1),Lg.AUDIO,!1));break}case"archive":{e.push.apply(e,tt(tt([],uh.ARCHIVE,!1),Lg.ARCHIVE,!1));break}default:{e.push(r);break}}return e},[]);return Array.from(new Set(n)).join(",")}return tt(tt([],Object.values(uh).flat(),!0),Object.values(Lg).flat(),!0).join(",")},ih={ADMIN:"ADMIN",TEXT:"TEXT",FILE:"FILE",MULTIPLE_FILES:"MULTIPLE_FILES",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},cX={VOICE:"VOICE"},dX=function(t){return t==="video/quicktime"},hX=function(t){return DL(navigator.userAgent)&&dX(t)},xp=function(t){return uh.IMAGE.indexOf(t)>=0},u2=function(t){return uh.VIDEO.indexOf(t)>=0||hX(t)},ZL=function(t){return t==="image/gif"},JN=function(t){return xp(t)||u2(t)},fX=function(t){return uh.AUDIO.indexOf(t)>=0},AR=function(t,n){return lX(t,n)===gi.READ},pX=function(t){return t&&(t.isAdminMessage&&typeof t.isAdminMessage=="function"?t.isAdminMessage():t?.messageType==="admin")},c2=function(t){return t&&(t.isUserMessage&&typeof t.isUserMessage=="function"?t.isUserMessage():t?.messageType==="user")},Ks=function(t){return!!t&&(t.isFileMessage&&typeof t.isFileMessage=="function"?t.isFileMessage():t?.messageType==="file")},il=function(t){return t&&(t.isMultipleFilesMessage&&typeof t.isMultipleFilesMessage=="function"?t.isMultipleFilesMessage():t.messageType==="file"&&Object.prototype.hasOwnProperty.call(t,"fileInfoList"))},mX={default:"default"};NC={},NC[mX.default]="ui_container_type__default";var vX=function(t){return!t||!c2(t)?!1:!!t.ogMetaData&&!!(t.ogMetaData.url||t.ogMetaData.title||t.ogMetaData.description||t.ogMetaData.defaultImage)},Q0=function(t){return!t||!Ks(t)?!1:JN(t.type)},JL=function(t){return!t||!Ks(t)?!1:Q0(t)&&xp(t.type)},eA=function(t){return!t||!Ks(t)?!1:Q0(t)&&u2(t.type)},wR=function(t){return!t||!Ks(t)?!1:Q0(t)&&ZL(t.type)},_X=function(t){return!t||!Ks(t)?!1:fX(t.type)},gX=function(t){return t?!!t.mimeType&&(xp(t.mimeType)||ZL(t.mimeType)):!1},yX=function(t){return/^audio\//.test(t)},EX=function(t){return/^voice\//.test(t)},L1=function(t){var n,e,r,i;if(!t||!Ks(t)||!t.type)return!1;var a=t.type.split(";"),s=a[0],l=a[1];if(!yX(s))return!1;if(l){var c=l.split("="),d=c[0],f=c[1];return d==="sbu_type"&&f==="voice"}return EX((i=(r=(e=(n=t?.metaArrays)===null||n===void 0?void 0:n.find(function(v){return v.key==="KEY_INTERNAL_MESSAGE_TYPE"}))===null||e===void 0?void 0:e.value)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:"")},bX=function(t){return c2(t)&&t?.updatedAt>0},TX=function(t){return pX(t)?ih.ADMIN:c2(t)?vX(t)?ih.OG:ih.TEXT:il(t)?ih.MULTIPLE_FILES:Ks(t)?Q0(t)?ih.THUMBNAIL:L1(t)?cX.VOICE:ih.FILE:ih.UNKNOWN},CX=function(t,n){return Array.isArray(n)?tt(tt([],t,!0),n,!0):(t.push(n),t)},SX=function(t){return Array.isArray(t)?t.reduce(CX,[]).join(" "):t},IR;(function(t){t.normal="normal",t.mention="mention",t.url="url"})(IR||(IR={}));var NX=function(t,n){if(Array.isArray(t)&&Array.isArray(n)&&t.length===n.length){for(var e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}return!1},AX="sendbird-app__layout",wX=60,IX=(function(t){w4(n,t);function n(e){var r=t.call(this,e)||this;return r.menuRef=O.createRef(),r.setupEvents=function(){var i=r.props.closeDropdown,a=r.menuRef,s=function(l){var c,d;a?.current&&!(!((d=(c=a?.current)===null||c===void 0?void 0:c.contains)===null||d===void 0)&&d.call(c,l.target))&&i?.()};r.setState({handleClickOutside:s}),document.addEventListener("mousedown",s)},r.cleanUpEvents=function(){var i=r.state.handleClickOutside;document.removeEventListener("mousedown",i)},r.getMenuPosition=function(){var i,a,s,l=r.props,c=l.parentRef,d=l.openLeft,f=document.getElementById(AX),v=((i=f?.getBoundingClientRect)===null||i===void 0?void 0:i.call(f))||{top:0,left:0,width:window.innerWidth,height:window.innerHeight},g=(s=(a=c?.current)===null||a===void 0?void 0:a.getBoundingClientRect)===null||s===void 0?void 0:s.call(a),y=(g?.x||g?.left||0)-v.left,b=(g?.y||g?.top||0)-v.top,C={top:b,left:y};if(!r.menuRef.current)return C;var w=r.menuRef.current.getBoundingClientRect();if(b+w.height+wX>v.height&&(C.top-=w.height),y+w.width>v.width&&!d&&(C.left-=w.width),C.top<0&&(C.top=w.height<v.height?(v.height-w.height)/2:0),C.top+=32,d){var I=Number.isNaN(w.width-30)?108:w.width-30;C.left-=I}return C.left<0&&(C.left=w.width<v.width?(v.width-w.width)/2:0),r.setState({menuStyle:C}),C},r.state={menuStyle:{top:0,left:0},handleClickOutside:function(){}},r}return n.prototype.componentDidMount=function(){this.setupEvents(),this.getMenuPosition()},n.prototype.componentWillUnmount=function(){this.cleanUpEvents()},n.prototype.render=function(){var e=document.getElementById(RX);if(!e)return O.createElement(O.Fragment,null);var r=this.state.menuStyle,i=this.props,a=i.children,s=i.style,l=i.className,c=l===void 0?"":l,d=i.testID,f=i.id;return JA.createPortal(O.createElement("div",{className:$i(OX,c),"data-testid":d,id:f},O.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),O.createElement("ul",{className:"".concat(c," sendbird-dropdown__menu"),ref:this.menuRef,style:Re({display:"inline-block",position:"fixed",left:"".concat(Math.round(r.left),"px"),top:"".concat(Math.round(r.top),"px")},s),"data-testid":"sendbird-dropdown-menu"},a)),e)},n})(O.Component);D.createContext(void 0);var MX=function(t){var n=t.className,e=t.disabled,r=t.tabIndex,i=r===void 0?0:r,a=t.testID,s=t.onClick,l=t.children,c=function(d){!e&&s&&s(d)};return O.createElement("li",{className:$i("sendbird-menu-item",n),role:"menuitem","aria-disabled":e,"data-testid":a,tabIndex:i,onClick:c,onKeyDown:function(d){d.code==="Enter"&&c(d)}},O.createElement(zt,{className:"sendbird-menu-item__text",type:Gt.SUBTITLE_2,color:e?_t.ONBACKGROUND_4:_t.ONBACKGROUND_1},l))},OX="sendbird-observing-message-menu",qu=IX,Na=function(t){var n=t.className,e=n===void 0?"":n,r=t.children,i=t.onClick,a=t.disable,s=a===void 0?!1:a,l=t.dataSbId,c=l===void 0?"":l,d=t.testID;return O.createElement(MX,{className:$i.apply(void 0,tt(tt([],Array.isArray(e)?e:[e],!1),["sendbird-dropdown__menu-item",s?"disable":""],!1)),disabled:s,testID:d??c,onClick:i},r)},RX="sendbird-dropdown-portal";function ju(t){var n=t.menuTrigger,e=t.menuItems,r=t.isOpen,i=t.onClick,a=D.useState(!1),s=a[0],l=a[1];return O.createElement("div",{className:"sendbird-context-menu",onClick:i},n?.(function(){return l(!s)}),(s||r)&&e(function(){return l(!1)}))}var DX=O.createContext({disableUserProfile:!0,isOpenChannel:!1}),X0=function(){return D.useContext(DX)},xX=10,LX=15,g0="@",UX=1,MR;(function(t){t.PARENT="PARENT",t.THREAD="THREAD"})(MR||(MR={}));var tA=function(t){return t?t.isFrozen&&t.myRole!=="operator":!1},U1=function(t){return t?t.myMutedState==="muted":!1},OR=function(t,n){var e,r,i,a;return n&&Array.isArray((r=(e=t?.lastMessage)===null||e===void 0?void 0:e.extendedMessagePayload)===null||r===void 0?void 0:r.suggested_replies)&&!!(!((a=(i=t?.lastMessage)===null||i===void 0?void 0:i.extendedMessagePayload)===null||a===void 0)&&a.disable_chat_input)},kX=function(t){return t<=UX},RR=function(t,n){return n&&t.some(function(e){var r;return!!e.messageForm&&!e.messageForm.isSubmitted&&!!(!((r=e.extendedMessagePayload)===null||r===void 0)&&r.disable_chat_input)&&kX(e.messageForm.version)})},No;(function(t){t.CHANNEL="CHANNEL",t.THREAD="THREAD"})(No||(No={}));var eU=function(t,n){return!n||n.length===0?!0:n.includes(t)};function PX(t){return eU(No.CHANNEL,t)}function FX(t){return eU(No.THREAD,t)}var nA;(function(t){t.USER_UPDATED="USER_UPDATED",t.SEND_MESSAGE_START="SEND_MESSAGE_START",t.SEND_MESSAGE_FAILED="SEND_MESSAGE_FAILED",t.SEND_USER_MESSAGE="SEND_USER_MESSAGE",t.SEND_FILE_MESSAGE="SEND_FILE_MESSAGE",t.ON_FILE_INFO_UPLOADED="ON_FILE_INFO_UPLOADED",t.UPDATE_USER_MESSAGE="UPDATE_USER_MESSAGE",t.DELETE_MESSAGE="DELETE_MESSAGE",t.LEAVE_CHANNEL="LEAVE_CHANNEL",t.CREATE_CHANNEL="CREATE_CHANNEL",t.UPDATE_OPEN_CHANNEL="UPDATE_OPEN_CHANNEL"})(nA||(nA={}));var Ao=nA;D.createContext(null);var DR;(function(t){t.Text="text",t.Bubble="bubble"})(DR||(DR={}));function Z0(t){var n=t.className,e=n===void 0?"":n,r=t.width,i=r===void 0?"26px":r,a=t.height,s=a===void 0?"26px":a,l=t.children,c=t.testID;return O.createElement("div",{className:tt(tt([],Array.isArray(e)?e:[e],!0),["sendbird-loader"],!1).join(" "),"data-testid":c,style:{width:typeof i=="string"?i:"".concat(i,"px"),height:typeof s=="string"?s:"".concat(s,"px")}},l||O.createElement(rn,{type:Vt.SPINNER,width:"26px",height:"26px"}))}var va={LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"};function HX(t){var n=t.className,e=n===void 0?"":n,r=t.type,i=t.iconSize,a=t.searchInString,s=a===void 0?"":a,l=t.retryToConnect,c=D.useContext(Jc).stringSet;return O.createElement("div",{className:tt(tt([],Array.isArray(e)?e:[e],!0),["sendbird-place-holder"],!1).join(" ")},r===va.LOADING&&O.createElement(Z0,{width:i||"48px",height:i||"48px"},O.createElement(rn,{type:Vt.SPINNER,fillColor:Yt.PRIMARY,width:i||"48px",height:i||"48px"})),(r===va.NO_CHANNELS||r===va.NO_MESSAGES||r===va.WRONG)&&O.createElement("div",{className:"sendbird-place-holder__body"},r===va.NO_CHANNELS&&O.createElement(rn,{className:"sendbird-place-holder__body__icon",type:Vt.CHAT,fillColor:Yt.ON_BACKGROUND_3,width:i||"64px",height:i||"64px"}),r===va.WRONG&&O.createElement(rn,{className:"sendbird-place-holder__body__icon",type:Vt.ERROR,fillColor:Yt.ON_BACKGROUND_3,width:i||"64px",height:i||"64px"}),r===va.NO_MESSAGES&&O.createElement(rn,{className:"sendbird-place-holder__body__icon",type:Vt.MESSAGE,fillColor:Yt.ON_BACKGROUND_3,width:i||"64px",height:i||"64px"}),O.createElement(zt,{className:"sendbird-place-holder__body__text",type:Gt.BODY_1,color:_t.ONBACKGROUND_2},r===va.NO_CHANNELS&&c.PLACE_HOLDER__NO_CHANNEL,r===va.WRONG&&c.PLACE_HOLDER__WRONG,r===va.NO_MESSAGES&&c.PLACE_HOLDER__NO_MESSAGES),l&&O.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:l,onKeyPress:l,tabIndex:0},O.createElement(rn,{className:"sendbird-place-holder__body__reconnect__icon",type:Vt.REFRESH,fillColor:Yt.PRIMARY,width:"20px",height:"20px"}),O.createElement(zt,{className:"sendbird-place-holder__body__reconnect__text",type:Gt.BUTTON_1,color:_t.PRIMARY},c.PLACE_HOLDER__RETRY_TO_CONNECT))),(r===va.NO_RESULTS||r===va.SEARCH_IN||r===va.SEARCHING)&&O.createElement("div",{className:"sendbird-place-holder__body--align-top"},r===va.SEARCH_IN&&O.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},O.createElement(zt,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Gt.BUTTON_2,color:_t.ONBACKGROUND_2},c.SEARCH_IN),O.createElement(zt,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Gt.BUTTON_2,color:_t.PRIMARY},"'".concat(s)),O.createElement(zt,{className:"sendbird-place-holder__body--align-top__text__quote",type:Gt.BUTTON_2,color:_t.PRIMARY},"'")),r===va.SEARCHING&&O.createElement(zt,{className:"sendbird-place-hlder__body--align-top__searching",type:Gt.BODY_1,color:_t.ONBACKGROUND_2},c.SEARCHING),r===va.NO_RESULTS&&O.createElement(zt,{className:"sendbird-place-hlder__body--align-top__no-result",type:Gt.BODY_1,color:_t.ONBACKGROUND_2},c.NO_SEARCHED_MESSAGE)))}var tU=(function(t){if(t!==null)return typeof t=="number"?"".concat(t,"px"):t});function xR(t,n,e){var r;return"min(".concat(n??e,", ").concat((r=tU(t))!==null&&r!==void 0?r:e,")")}function BX(t){var n=t.width,e=t.height,r=t.maxSideLength,i=t.defaultMinLength,a=D.useMemo(function(){return xR(n,r,i)},[n]),s=D.useMemo(function(){return xR(e,r,i)},[e]);return[a,s]}var GX=function(){var t=D.useState(!1),n=t[0],e=t[1],r=D.useState(null),i=r[0],a=r[1],s=D.useCallback(function(l){l!==null&&a(l)},[]);return D.useEffect(function(){if(i){var l=new IntersectionObserver(function(c){var d=c[0];e(d.isIntersecting)});return l.observe(i),function(){l.disconnect()}}},[i]),[s,n]},zX=function(){var t=D.useRef(!1),n=GX(),e=n[0],r=n[1];return r&&(t.current=!0),[e,t.current]};function LR(t,n){return t===void 0&&(t=!1),n===void 0&&(n=null),t?"50%":tU(n)}var go=function(t){var n=t.className,e=n===void 0?"":n,r=t.url,i=t.alt,a=i===void 0?"":i,s=t.width,l=s===void 0?null:s,c=t.maxSideLength,d=c===void 0?null:c,f=t.height,v=f===void 0?null:f,g=t.circle,y=g===void 0?!1:g,b=t.fixedSize,C=b===void 0?!1:b,w=t.placeHolder,I=w===void 0?null:w,M=t.defaultComponent,R=M===void 0?null:M,U=t.borderRadius,H=U===void 0?null:U,P=t.onLoad,G=P===void 0?yi:P,Y=t.onError,F=Y===void 0?yi:Y,te=t.shadeOnHover,J=t.isUploaded,ne=J===void 0?!0:J,Oe=zX(),X=Oe[0],se=Oe[1],$=se?r:null,le=D.useState(!1),he=le[0],xe=le[1],Ge=D.useState(!0),Q=Ge[0],fe=Ge[1],Ae=BX({width:l,height:v,maxSideLength:d,defaultMinLength:"400px"}),$e=Ae[0],Te=Ae[1],Fe=function(){return typeof I=="function"?I({style:{width:"100%",minWidth:$e,maxWidth:C?$e:"400px",height:Te,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):I},Je=function(){return typeof R=="function"?R():R},Ot=function(){var Ct=$?{backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat($,")")}:{};return O.createElement("div",{className:"sendbird-image-renderer__image",style:Re({width:"100%",minWidth:$e,maxWidth:C?$e:"400px",height:Te,position:"absolute",borderRadius:LR(y,H)},Ct)})};return $e&&Te&&O.createElement("div",{ref:X,className:tt(tt([],Array.isArray(e)?e:[e],!0),["sendbird-image-renderer"],!1).join(" "),style:{width:"100%",minWidth:$e,maxWidth:C?$e:"400px",height:Te}},Q&&Fe(),!$||he?Je():Ot(),te&&O.createElement("div",{className:"sendbird-multiple-files-image-renderer__image-cover",style:Re({borderRadius:LR(y,H)},ne?{}:{display:"inline-flex"})}),$&&O.createElement(VX,{src:$,alt:a,onLoadStart:function(){fe(!0),xe(!1)},onLoad:function(){fe(!1),xe(!1),G()},onError:function(){fe(!1),xe(!0),F()}}))},VX=function(t){var n=t.src,e=t.alt,r=t.onLoadStart,i=r===void 0?yi:r,a=t.onLoad,s=a===void 0?yi:a,l=t.onError,c=l===void 0?yi:l,d=D.useRef({currSrc:n,prevSrc:n,loadFailure:!1});return d.current.currSrc!==n&&(d.current.prevSrc=d.current.currSrc,d.current.currSrc=n),D.useLayoutEffect(function(){if(n){var f=d.current.prevSrc!==d.current.currSrc,v=d.current.loadFailure;(f||v)&&i()}},[n,navigator.onLine]),O.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:n,alt:e,onLoad:function(){d.current.loadFailure=!1,s()},onError:function(){d.current.loadFailure=!0,c()}})},k1=function(t){if(typeof t=="number")return t;if(typeof t=="string"){var n=Number.parseFloat(t);if(!Number.isNaN(n))return n}return NaN},qX=function(t){var n=t.width,e=t.height,r=t.text,i=k1(n),a=k1(e);return typeof i=="number"&&!Number.isNaN(i)&&(i*=.575),typeof a=="number"&&!Number.isNaN(a)&&(a*=.575),O.createElement("div",{className:$i("sendbird-avatar-img--default",r&&"text"),style:{width:n,height:e}},r?O.createElement("div",{className:"sendbird-avatar-text"},r):O.createElement(rn,{type:Vt.USER,fillColor:Yt.CONTENT,width:i,height:a}))},Cc="sendbird-avatar-img",jX=function(t){var n=t.src,e=n===void 0?"":n,r=t.alt,i=r===void 0?"":r,a=t.height,s=t.width,l=t.customDefaultComponent,c=function(){return l?l({width:s,height:a}):O.createElement(qX,{width:s,height:a})};return typeof e=="string"?O.createElement(go,{className:Cc,url:e,height:a,width:s,alt:i,defaultComponent:c}):e&&e.length?e.length===1?O.createElement(go,{className:Cc,url:e[0],height:a,width:s,alt:i,defaultComponent:c}):e.length===2?O.createElement("div",{className:"sendbird-avatar--inner__two-child"},O.createElement(go,{className:Cc,url:e[0],height:a,width:s,alt:i,defaultComponent:c}),O.createElement(go,{className:Cc,url:e[1],height:a,width:s,alt:i,defaultComponent:c})):e.length===3?O.createElement(O.Fragment,null,O.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},O.createElement(go,{className:Cc,url:e[0],height:a,width:s,alt:i,defaultComponent:c})),O.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},O.createElement(go,{className:Cc,url:e[1],height:a,width:s,alt:i,defaultComponent:c}),O.createElement(go,{className:Cc,url:e[2],height:a,width:s,alt:i,defaultComponent:c}))):O.createElement("div",{className:"sendbird-avatar--inner__four-child"},e.slice(0,4).map(function(d,f){return O.createElement(go,{className:Cc,url:d,height:a,width:s,alt:i,key:"".concat(d,"-").concat(f),defaultComponent:c})})):O.createElement(go,{className:Cc,url:"",height:a,width:s,alt:i,defaultComponent:c})};function $X(t,n){var e=t.className,r=e===void 0?"":e,i=t.src,a=i===void 0?"":i,s=t.alt,l=s===void 0?"":s,c=t.width,d=c===void 0?"56px":c,f=t.height,v=f===void 0?"56px":f,g=t.zIndex,y=g===void 0?0:g,b=t.left,C=b===void 0?"":b,w=t.bottom,I=w===void 0?"":w,M=t.onClick,R=t.customDefaultComponent;return O.createElement("div",{className:tt(tt([],Array.isArray(r)?r:[r],!0),["sendbird-avatar"],!1).join(" "),role:"button",ref:n,style:{height:v,width:d,zIndex:y,left:C,bottom:I},onClick:M,onKeyDown:M,tabIndex:0},O.createElement(jX,{src:a,width:d,height:v,alt:l,customDefaultComponent:R}))}var jc=O.forwardRef($X),zl;(function(t){t.ONBACKGROUND_1="ONBACKGROUND_1",t.ONBACKGROUND_2="ONBACKGROUND_2",t.ONBACKGROUND_3="ONBACKGROUND_3",t.ONBACKGROUND_4="ONBACKGROUND_4",t.ONCONTENT_1="ONCONTENT_1",t.PRIMARY="PRIMARY",t.ERROR="ERROR"})(zl||(zl={}));var rA=function(t){switch(t){case zl.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case zl.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case zl.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case zl.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case zl.ONCONTENT_1:return"sendbird-color--oncontent-1";case zl.PRIMARY:return"sendbird-color--primary";case zl.ERROR:return"sendbird-color--error";default:return""}},D3=function(t){var n=t.className,e=n===void 0?"":n,r=t.color,i=r===void 0?zl.ONBACKGROUND_1:r,a=t.disabled,s=a===void 0?!1:a,l=t.disableUnderline,c=l===void 0?!1:l,d=t.onClick,f=d===void 0?function(){}:d,v=t.children;return O.createElement("div",{className:tt(tt([],Array.isArray(e)?e:[e],!0),[rA(i),c?"sendbird-textbutton--not-underline":"sendbird-textbutton",s?"sendbird-textbutton--disabled":""],!1).join(" "),role:"button",tabIndex:0,onClick:function(g){return f(g)},onKeyPress:function(g){return f(g)}},v)},KX=function(t){var n,e=t.className,r=t.renderLeft,i=t.renderRight,a=t.renderMiddle,s=!1;try{s=(n=Kl?.())===null||n===void 0?void 0:n.isMobile}catch{}return O.createElement("div",{className:$i("sendbird-ui-header",e),"data-testid":"sendbird-ui-header"},r?O.createElement("div",{className:$i("sendbird-ui-header__left",s?"sendbird-ui-header--is-mobile":"sendbird-ui-header--is-desktop")},r?.()):null,O.createElement("div",{className:"sendbird-ui-header__middle"},a?.()),i?O.createElement("div",{className:$i("sendbird-ui-header__right",s?"sendbird-ui-header--is-mobile":"sendbird-ui-header--is-desktop")},i?.()):null)},YX=function(t){var n=t.title,e=t.subtitle,r=t.onClickSubtitle;return O.createElement("div",{className:"sendbird-ui-header__middle"},n&&O.createElement(zt,{className:"sendbird-ui-header__middle__title",type:Gt.H_2,color:_t.ONBACKGROUND_1},n),e&&(r?O.createElement(D3,{className:"sendbird-ui-header__middle__subtitle__container",onClick:r,disableUnderline:!0},O.createElement(zt,{className:"sendbird-ui-header__middle__subtitle",type:Gt.CAPTION_3,color:_t.ONBACKGROUND_2},e)):O.createElement(zt,{className:"sendbird-ui-header__middle__subtitle",type:Gt.BODY_1,color:_t.ONBACKGROUND_2},e)))},WX=function(t){var n=t.className,e=t.onClick,r=t.type,i=t.color,a=t.width,s=a===void 0?"32px":a,l=t.height,c=l===void 0?"32px":l,d=t.renderIcon,f=d===void 0?function(v){return O.createElement(nU,Re({},v))}:d;return O.createElement(Hc,{className:n,width:s,height:c,onClick:e},f({type:r,color:i}))},nU=function(t){var n=t.className,e=t.type,r=t.color,i=t.width,a=i===void 0?"22px":i,s=t.height,l=s===void 0?"22px":s,c=t.onClick,d=c===void 0?yi:c;return O.createElement(rn,{className:n,type:e,fillColor:r,width:a,height:l,onClick:function(f){return d?.(f)}})};Object.assign(KX,{Title:YX,IconButton:WX,Icon:nU});function QX(t){return wa(1,arguments),t instanceof Date||x1(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XX(t){if(wa(1,arguments),!QX(t)&&typeof t!="number")return!1;var n=Zl(t);return!isNaN(Number(n))}function Np(t){if(t===null||t===!0||t===!1)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function ZX(t,n){wa(2,arguments);var e=Zl(t).getTime(),r=Np(n);return new Date(e+r)}function JX(t,n){wa(2,arguments);var e=Np(n);return ZX(t,-e)}var eZ=864e5;function tZ(t){wa(1,arguments);var n=Zl(t),e=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=e-r;return Math.floor(i/eZ)+1}function P1(t){wa(1,arguments);var n=1,e=Zl(t),r=e.getUTCDay(),i=(r<n?7:0)+r-n;return e.setUTCDate(e.getUTCDate()-i),e.setUTCHours(0,0,0,0),e}function rU(t){wa(1,arguments);var n=Zl(t),e=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var i=P1(r),a=new Date(0);a.setUTCFullYear(e,0,4),a.setUTCHours(0,0,0,0);var s=P1(a);return n.getTime()>=i.getTime()?e+1:n.getTime()>=s.getTime()?e:e-1}function nZ(t){wa(1,arguments);var n=rU(t),e=new Date(0);e.setUTCFullYear(n,0,4),e.setUTCHours(0,0,0,0);var r=P1(e);return r}var rZ=6048e5;function iZ(t){wa(1,arguments);var n=Zl(t),e=P1(n).getTime()-nZ(n).getTime();return Math.round(e/rZ)+1}var aZ={};function d2(){return aZ}function F1(t,n){var e,r,i,a,s,l,c,d;wa(1,arguments);var f=d2(),v=Np((e=(r=(i=(a=n?.weekStartsOn)!==null&&a!==void 0?a:n==null||(s=n.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&e!==void 0?e:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Zl(t),y=g.getUTCDay(),b=(y<v?7:0)+y-v;return g.setUTCDate(g.getUTCDate()-b),g.setUTCHours(0,0,0,0),g}function iU(t,n){var e,r,i,a,s,l,c,d;wa(1,arguments);var f=Zl(t),v=f.getUTCFullYear(),g=d2(),y=Np((e=(r=(i=(a=n?.firstWeekContainsDate)!==null&&a!==void 0?a:n==null||(s=n.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:g.firstWeekContainsDate)!==null&&r!==void 0?r:(c=g.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(v+1,0,y),b.setUTCHours(0,0,0,0);var C=F1(b,n),w=new Date(0);w.setUTCFullYear(v,0,y),w.setUTCHours(0,0,0,0);var I=F1(w,n);return f.getTime()>=C.getTime()?v+1:f.getTime()>=I.getTime()?v:v-1}function sZ(t,n){var e,r,i,a,s,l,c,d;wa(1,arguments);var f=d2(),v=Np((e=(r=(i=(a=n?.firstWeekContainsDate)!==null&&a!==void 0?a:n==null||(s=n.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&e!==void 0?e:1),g=iU(t,n),y=new Date(0);y.setUTCFullYear(g,0,v),y.setUTCHours(0,0,0,0);var b=F1(y,n);return b}var oZ=6048e5;function lZ(t,n){wa(1,arguments);var e=Zl(t),r=F1(e,n).getTime()-sZ(e,n).getTime();return Math.round(r/oZ)+1}function Sr(t,n){for(var e=t<0?"-":"",r=Math.abs(t).toString();r.length<n;)r="0"+r;return e+r}var Jd={y:function(n,e){var r=n.getUTCFullYear(),i=r>0?r:1-r;return Sr(e==="yy"?i%100:i,e.length)},M:function(n,e){var r=n.getUTCMonth();return e==="M"?String(r+1):Sr(r+1,2)},d:function(n,e){return Sr(n.getUTCDate(),e.length)},a:function(n,e){var r=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(n,e){return Sr(n.getUTCHours()%12||12,e.length)},H:function(n,e){return Sr(n.getUTCHours(),e.length)},m:function(n,e){return Sr(n.getUTCMinutes(),e.length)},s:function(n,e){return Sr(n.getUTCSeconds(),e.length)},S:function(n,e){var r=e.length,i=n.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return Sr(a,e.length)}},nv={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uZ={G:function(n,e,r){var i=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(n,e,r){if(e==="yo"){var i=n.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return Jd.y(n,e)},Y:function(n,e,r,i){var a=iU(n,i),s=a>0?a:1-a;if(e==="YY"){var l=s%100;return Sr(l,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Sr(s,e.length)},R:function(n,e){var r=rU(n);return Sr(r,e.length)},u:function(n,e){var r=n.getUTCFullYear();return Sr(r,e.length)},Q:function(n,e,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Sr(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Sr(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,r){var i=n.getUTCMonth();switch(e){case"M":case"MM":return Jd.M(n,e);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,r){var i=n.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return Sr(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,r,i){var a=lZ(n,i);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Sr(a,e.length)},I:function(n,e,r){var i=iZ(n);return e==="Io"?r.ordinalNumber(i,{unit:"week"}):Sr(i,e.length)},d:function(n,e,r){return e==="do"?r.ordinalNumber(n.getUTCDate(),{unit:"date"}):Jd.d(n,e)},D:function(n,e,r){var i=tZ(n);return e==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Sr(i,e.length)},E:function(n,e,r){var i=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,r,i){var a=n.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Sr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,r,i){var a=n.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Sr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,r){var i=n.getUTCDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return Sr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,r){var i=n.getUTCHours(),a=i/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,r){var i=n.getUTCHours(),a;switch(i===12?a=nv.noon:i===0?a=nv.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,r){var i=n.getUTCHours(),a;switch(i>=17?a=nv.evening:i>=12?a=nv.afternoon:i>=4?a=nv.morning:a=nv.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,r){if(e==="ho"){var i=n.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Jd.h(n,e)},H:function(n,e,r){return e==="Ho"?r.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Jd.H(n,e)},K:function(n,e,r){var i=n.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Sr(i,e.length)},k:function(n,e,r){var i=n.getUTCHours();return i===0&&(i=24),e==="ko"?r.ordinalNumber(i,{unit:"hour"}):Sr(i,e.length)},m:function(n,e,r){return e==="mo"?r.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Jd.m(n,e)},s:function(n,e,r){return e==="so"?r.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Jd.s(n,e)},S:function(n,e){return Jd.S(n,e)},X:function(n,e,r,i){var a=i._originalDate||n,s=a.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return kR(s);case"XXXX":case"XX":return $f(s);case"XXXXX":case"XXX":default:return $f(s,":")}},x:function(n,e,r,i){var a=i._originalDate||n,s=a.getTimezoneOffset();switch(e){case"x":return kR(s);case"xxxx":case"xx":return $f(s);case"xxxxx":case"xxx":default:return $f(s,":")}},O:function(n,e,r,i){var a=i._originalDate||n,s=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+UR(s,":");case"OOOO":default:return"GMT"+$f(s,":")}},z:function(n,e,r,i){var a=i._originalDate||n,s=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+UR(s,":");case"zzzz":default:return"GMT"+$f(s,":")}},t:function(n,e,r,i){var a=i._originalDate||n,s=Math.floor(a.getTime()/1e3);return Sr(s,e.length)},T:function(n,e,r,i){var a=i._originalDate||n,s=a.getTime();return Sr(s,e.length)}};function UR(t,n){var e=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=r%60;if(a===0)return e+String(i);var s=n;return e+String(i)+s+Sr(a,2)}function kR(t,n){if(t%60===0){var e=t>0?"-":"+";return e+Sr(Math.abs(t)/60,2)}return $f(t,n)}function $f(t,n){var e=n||"",r=t>0?"-":"+",i=Math.abs(t),a=Sr(Math.floor(i/60),2),s=Sr(i%60,2);return r+a+e+s}var PR=function(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},aU=function(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cZ=function(n,e){var r=n.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return PR(n,e);var s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",PR(i,e)).replace("{{time}}",aU(a,e))},dZ={p:aU,P:cZ};function hZ(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}var fZ=["D","DD"],pZ=["YY","YYYY"];function mZ(t){return fZ.indexOf(t)!==-1}function vZ(t){return pZ.indexOf(t)!==-1}function FR(t,n,e){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var _Z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yZ=/^'([^]*?)'?$/,EZ=/''/g,bZ=/[a-zA-Z]/;function Uv(t,n,e){var r,i,a,s,l,c,d,f,v,g,y,b,C,w,I,M,R,U;wa(2,arguments);var H=String(n),P=d2(),G=(r=(i=e?.locale)!==null&&i!==void 0?i:P.locale)!==null&&r!==void 0?r:$L,Y=Np((a=(s=(l=(c=e?.firstWeekContainsDate)!==null&&c!==void 0?c:e==null||(d=e.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:P.firstWeekContainsDate)!==null&&s!==void 0?s:(v=P.locale)===null||v===void 0||(g=v.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(Y>=1&&Y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=Np((y=(b=(C=(w=e?.weekStartsOn)!==null&&w!==void 0?w:e==null||(I=e.locale)===null||I===void 0||(M=I.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&C!==void 0?C:P.weekStartsOn)!==null&&b!==void 0?b:(R=P.locale)===null||R===void 0||(U=R.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&y!==void 0?y:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!G.localize)throw new RangeError("locale must contain localize property");if(!G.formatLong)throw new RangeError("locale must contain formatLong property");var te=Zl(t);if(!XX(te))throw new RangeError("Invalid time value");var J=hZ(te),ne=JX(te,J),Oe={firstWeekContainsDate:Y,weekStartsOn:F,locale:G,_originalDate:te},X=H.match(gZ).map(function(se){var $=se[0];if($==="p"||$==="P"){var le=dZ[$];return le(se,G.formatLong)}return se}).join("").match(_Z).map(function(se){if(se==="''")return"'";var $=se[0];if($==="'")return TZ(se);var le=uZ[$];if(le)return!(e!=null&&e.useAdditionalWeekYearTokens)&&vZ(se)&&FR(se,n,String(t)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&mZ(se)&&FR(se,n,String(t)),le(ne,se,G.localize,Oe);if($.match(bZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return se}).join("");return X}function TZ(t){var n=t.match(yZ);return n?n[1].replace(EZ,"'"):t}function HR(t){if(t){var n=t.querySelectorAll("[data-sb-mention='true']"),e=Array.from(n);return e}return[]}function sU(t,n){var e=t.ref,r=n.logger,i=e.current,a=D.useState([]),s=a[0],l=a[1];return D.useLayoutEffect(function(){if(i){var c=HR(i);l(c)}},[i]),D.useEffect(function(){var c={childList:!0,subtree:!0},d=function(v){var g=v.length>0;g&&l(HR(i))},f=new MutationObserver(d);return i&&f.observe(i,c),function(){try{f.disconnect()}catch{r.error("useDirtyGetMentions: observer disconnect failed",{observer:f})}}},[i]),s}var CZ=function(t){var n=t.children,e=n===void 0?void 0:n,r=t.className,i=r===void 0?"":r,a=t.separatorColor,s=a===void 0?zl.ONBACKGROUND_4:a;return O.createElement("div",{className:tt(tt([],Array.isArray(i)?i:[i],!0),["sendbird-separator"],!1).join(" ")},O.createElement("div",{className:["sendbird-separator__left","".concat(rA(s),"--background-color")].join(" ")}),O.createElement("div",{className:"sendbird-separator__text"},e||O.createElement(zt,{type:Gt.CAPTION_2,color:_t.ONBACKGROUND_2},"Date Separator")),O.createElement("div",{className:["sendbird-separator__right","".concat(rA(s),"--background-color")].join(" ")}))},Yl={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},iA={ElementNode:1,TextNode:3},AC={Span:"SPAN",Br:"BR",Div:"DIV"};const{entries:oU,setPrototypeOf:BR,isFrozen:SZ,getPrototypeOf:NZ,getOwnPropertyDescriptor:AZ}=Object;let{freeze:Ts,seal:ol,create:aA}=Object,{apply:sA,construct:oA}=typeof Reflect<"u"&&Reflect;Ts||(Ts=function(n){return n});ol||(ol=function(n){return n});sA||(sA=function(n,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return n.apply(e,i)});oA||(oA=function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return new n(...r)});const wb=Cs(Array.prototype.forEach),wZ=Cs(Array.prototype.lastIndexOf),GR=Cs(Array.prototype.pop),Ug=Cs(Array.prototype.push),IZ=Cs(Array.prototype.splice),Qb=Cs(String.prototype.toLowerCase),wC=Cs(String.prototype.toString),IC=Cs(String.prototype.match),kg=Cs(String.prototype.replace),MZ=Cs(String.prototype.indexOf),OZ=Cs(String.prototype.trim),Gl=Cs(Object.prototype.hasOwnProperty),ps=Cs(RegExp.prototype.test),Pg=RZ(TypeError);function Cs(t){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return sA(t,n,r)}}function RZ(t){return function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return oA(t,e)}}function Dn(t,n){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qb;BR&&BR(t,null);let r=n.length;for(;r--;){let i=n[r];if(typeof i=="string"){const a=e(i);a!==i&&(SZ(n)||(n[r]=a),i=a)}t[i]=!0}return t}function DZ(t){for(let n=0;n<t.length;n++)Gl(t,n)||(t[n]=null);return t}function Nc(t){const n=aA(null);for(const[e,r]of oU(t))Gl(t,e)&&(Array.isArray(r)?n[e]=DZ(r):r&&typeof r=="object"&&r.constructor===Object?n[e]=Nc(r):n[e]=r);return n}function Fg(t,n){for(;t!==null;){const r=AZ(t,n);if(r){if(r.get)return Cs(r.get);if(typeof r.value=="function")return Cs(r.value)}t=NZ(t)}function e(){return null}return e}const zR=Ts(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),MC=Ts(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),OC=Ts(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xZ=Ts(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),RC=Ts(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),LZ=Ts(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),VR=Ts(["#text"]),qR=Ts(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),DC=Ts(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jR=Ts(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ib=Ts(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),UZ=ol(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kZ=ol(/<%[\w\W]*|[\w\W]*%>/gm),PZ=ol(/\$\{[\w\W]*/gm),FZ=ol(/^data-[\-\w.\u00B7-\uFFFF]+$/),HZ=ol(/^aria-[\-\w]+$/),lU=ol(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),BZ=ol(/^(?:\w+script|data):/i),GZ=ol(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),uU=ol(/^html$/i),zZ=ol(/^[a-z][.\w]*(-[.\w]+)+$/i);var $R=Object.freeze({__proto__:null,ARIA_ATTR:HZ,ATTR_WHITESPACE:GZ,CUSTOM_ELEMENT:zZ,DATA_ATTR:FZ,DOCTYPE_NAME:uU,ERB_EXPR:kZ,IS_ALLOWED_URI:lU,IS_SCRIPT_OR_DATA:BZ,MUSTACHE_EXPR:UZ,TMPLIT_EXPR:PZ});const Hg={element:1,text:3,progressingInstruction:7,comment:8,document:9},VZ=function(){return typeof window>"u"?null:window},qZ=function(n,e){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";e&&e.hasAttribute(i)&&(r=e.getAttribute(i));const a="dompurify"+(r?"#"+r:"");try{return n.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},KR=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function cU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VZ();const n=nt=>cU(nt);if(n.version="3.3.0",n.removed=[],!t||!t.document||t.document.nodeType!==Hg.document||!t.Element)return n.isSupported=!1,n;let{document:e}=t;const r=e,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:d,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:v,DOMParser:g,trustedTypes:y}=t,b=c.prototype,C=Fg(b,"cloneNode"),w=Fg(b,"remove"),I=Fg(b,"nextSibling"),M=Fg(b,"childNodes"),R=Fg(b,"parentNode");if(typeof s=="function"){const nt=e.createElement("template");nt.content&&nt.content.ownerDocument&&(e=nt.content.ownerDocument)}let U,H="";const{implementation:P,createNodeIterator:G,createDocumentFragment:Y,getElementsByTagName:F}=e,{importNode:te}=r;let J=KR();n.isSupported=typeof oU=="function"&&typeof R=="function"&&P&&P.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ne,ERB_EXPR:Oe,TMPLIT_EXPR:X,DATA_ATTR:se,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:le,ATTR_WHITESPACE:he,CUSTOM_ELEMENT:xe}=$R;let{IS_ALLOWED_URI:Ge}=$R,Q=null;const fe=Dn({},[...zR,...MC,...OC,...RC,...VR]);let Ae=null;const $e=Dn({},[...qR,...DC,...jR,...Ib]);let Te=Object.seal(aA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fe=null,Je=null;const Ot=Object.seal(aA(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ct=!0,Kn=!0,An=!1,Ln=!0,En=!1,en=!0,Pn=!1,Gn=!1,fn=!1,Er=!1,Un=!1,Fn=!1,pt=!0,kn=!1;const er="user-content-";let vn=!0,Yn=!1,Pt={},Wn=null;const hr=Dn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ht=null;const ni=Dn({},["audio","video","img","source","image","track"]);let Ei=null;const Ir=Dn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kr="http://www.w3.org/1998/Math/MathML",Qn="http://www.w3.org/2000/svg",bn="http://www.w3.org/1999/xhtml";let tn=bn,Mr=!1,oa=null;const Dt=Dn({},[kr,Qn,bn],wC);let Ut=Dn({},["mi","mo","mn","ms","mtext"]),Et=Dn({},["annotation-xml"]);const Ze=Dn({},["title","style","font","a","script"]);let Ie=null;const St=["application/xhtml+xml","text/html"],bt="text/html";let Tt=null,zn=null;const kt=e.createElement("form"),Ki=function(ae){return ae instanceof RegExp||ae instanceof Function},la=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(zn&&zn===ae)){if((!ae||typeof ae!="object")&&(ae={}),ae=Nc(ae),Ie=St.indexOf(ae.PARSER_MEDIA_TYPE)===-1?bt:ae.PARSER_MEDIA_TYPE,Tt=Ie==="application/xhtml+xml"?wC:Qb,Q=Gl(ae,"ALLOWED_TAGS")?Dn({},ae.ALLOWED_TAGS,Tt):fe,Ae=Gl(ae,"ALLOWED_ATTR")?Dn({},ae.ALLOWED_ATTR,Tt):$e,oa=Gl(ae,"ALLOWED_NAMESPACES")?Dn({},ae.ALLOWED_NAMESPACES,wC):Dt,Ei=Gl(ae,"ADD_URI_SAFE_ATTR")?Dn(Nc(Ir),ae.ADD_URI_SAFE_ATTR,Tt):Ir,ht=Gl(ae,"ADD_DATA_URI_TAGS")?Dn(Nc(ni),ae.ADD_DATA_URI_TAGS,Tt):ni,Wn=Gl(ae,"FORBID_CONTENTS")?Dn({},ae.FORBID_CONTENTS,Tt):hr,Fe=Gl(ae,"FORBID_TAGS")?Dn({},ae.FORBID_TAGS,Tt):Nc({}),Je=Gl(ae,"FORBID_ATTR")?Dn({},ae.FORBID_ATTR,Tt):Nc({}),Pt=Gl(ae,"USE_PROFILES")?ae.USE_PROFILES:!1,Ct=ae.ALLOW_ARIA_ATTR!==!1,Kn=ae.ALLOW_DATA_ATTR!==!1,An=ae.ALLOW_UNKNOWN_PROTOCOLS||!1,Ln=ae.ALLOW_SELF_CLOSE_IN_ATTR!==!1,En=ae.SAFE_FOR_TEMPLATES||!1,en=ae.SAFE_FOR_XML!==!1,Pn=ae.WHOLE_DOCUMENT||!1,Er=ae.RETURN_DOM||!1,Un=ae.RETURN_DOM_FRAGMENT||!1,Fn=ae.RETURN_TRUSTED_TYPE||!1,fn=ae.FORCE_BODY||!1,pt=ae.SANITIZE_DOM!==!1,kn=ae.SANITIZE_NAMED_PROPS||!1,vn=ae.KEEP_CONTENT!==!1,Yn=ae.IN_PLACE||!1,Ge=ae.ALLOWED_URI_REGEXP||lU,tn=ae.NAMESPACE||bn,Ut=ae.MATHML_TEXT_INTEGRATION_POINTS||Ut,Et=ae.HTML_INTEGRATION_POINTS||Et,Te=ae.CUSTOM_ELEMENT_HANDLING||{},ae.CUSTOM_ELEMENT_HANDLING&&Ki(ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ae.CUSTOM_ELEMENT_HANDLING&&Ki(ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ae.CUSTOM_ELEMENT_HANDLING&&typeof ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Te.allowCustomizedBuiltInElements=ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),En&&(Kn=!1),Un&&(Er=!0),Pt&&(Q=Dn({},VR),Ae=[],Pt.html===!0&&(Dn(Q,zR),Dn(Ae,qR)),Pt.svg===!0&&(Dn(Q,MC),Dn(Ae,DC),Dn(Ae,Ib)),Pt.svgFilters===!0&&(Dn(Q,OC),Dn(Ae,DC),Dn(Ae,Ib)),Pt.mathMl===!0&&(Dn(Q,RC),Dn(Ae,jR),Dn(Ae,Ib))),ae.ADD_TAGS&&(typeof ae.ADD_TAGS=="function"?Ot.tagCheck=ae.ADD_TAGS:(Q===fe&&(Q=Nc(Q)),Dn(Q,ae.ADD_TAGS,Tt))),ae.ADD_ATTR&&(typeof ae.ADD_ATTR=="function"?Ot.attributeCheck=ae.ADD_ATTR:(Ae===$e&&(Ae=Nc(Ae)),Dn(Ae,ae.ADD_ATTR,Tt))),ae.ADD_URI_SAFE_ATTR&&Dn(Ei,ae.ADD_URI_SAFE_ATTR,Tt),ae.FORBID_CONTENTS&&(Wn===hr&&(Wn=Nc(Wn)),Dn(Wn,ae.FORBID_CONTENTS,Tt)),vn&&(Q["#text"]=!0),Pn&&Dn(Q,["html","head","body"]),Q.table&&(Dn(Q,["tbody"]),delete Fe.tbody),ae.TRUSTED_TYPES_POLICY){if(typeof ae.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ae.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');U=ae.TRUSTED_TYPES_POLICY,H=U.createHTML("")}else U===void 0&&(U=qZ(y,i)),U!==null&&typeof H=="string"&&(H=U.createHTML(""));Ts&&Ts(ae),zn=ae}},bi=Dn({},[...MC,...OC,...xZ]),Ys=Dn({},[...RC,...LZ]),Ss=function(ae){let He=R(ae);(!He||!He.tagName)&&(He={namespaceURI:tn,tagName:"template"});const Xe=Qb(ae.tagName),Wt=Qb(He.tagName);return oa[ae.namespaceURI]?ae.namespaceURI===Qn?He.namespaceURI===bn?Xe==="svg":He.namespaceURI===kr?Xe==="svg"&&(Wt==="annotation-xml"||Ut[Wt]):!!bi[Xe]:ae.namespaceURI===kr?He.namespaceURI===bn?Xe==="math":He.namespaceURI===Qn?Xe==="math"&&Et[Wt]:!!Ys[Xe]:ae.namespaceURI===bn?He.namespaceURI===Qn&&!Et[Wt]||He.namespaceURI===kr&&!Ut[Wt]?!1:!Ys[Xe]&&(Ze[Xe]||!bi[Xe]):!!(Ie==="application/xhtml+xml"&&oa[ae.namespaceURI]):!1},ui=function(ae){Ug(n.removed,{element:ae});try{R(ae).removeChild(ae)}catch{w(ae)}},Yi=function(ae,He){try{Ug(n.removed,{attribute:He.getAttributeNode(ae),from:He})}catch{Ug(n.removed,{attribute:null,from:He})}if(He.removeAttribute(ae),ae==="is")if(Er||Un)try{ui(He)}catch{}else try{He.setAttribute(ae,"")}catch{}},rt=function(ae){let He=null,Xe=null;if(fn)ae="<remove></remove>"+ae;else{const Ft=IC(ae,/^[\r\n\t ]+/);Xe=Ft&&Ft[0]}Ie==="application/xhtml+xml"&&tn===bn&&(ae='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ae+"</body></html>");const Wt=U?U.createHTML(ae):ae;if(tn===bn)try{He=new g().parseFromString(Wt,Ie)}catch{}if(!He||!He.documentElement){He=P.createDocument(tn,"template",null);try{He.documentElement.innerHTML=Mr?H:Wt}catch{}}const hn=He.body||He.documentElement;return ae&&Xe&&hn.insertBefore(e.createTextNode(Xe),hn.childNodes[0]||null),tn===bn?F.call(He,Pn?"html":"body")[0]:Pn?He.documentElement:hn},yt=function(ae){return G.call(ae.ownerDocument||ae,ae,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},at=function(ae){return ae instanceof v&&(typeof ae.nodeName!="string"||typeof ae.textContent!="string"||typeof ae.removeChild!="function"||!(ae.attributes instanceof f)||typeof ae.removeAttribute!="function"||typeof ae.setAttribute!="function"||typeof ae.namespaceURI!="string"||typeof ae.insertBefore!="function"||typeof ae.hasChildNodes!="function")},Nt=function(ae){return typeof l=="function"&&ae instanceof l};function mt(nt,ae,He){wb(nt,Xe=>{Xe.call(n,ae,He,zn)})}const qt=function(ae){let He=null;if(mt(J.beforeSanitizeElements,ae,null),at(ae))return ui(ae),!0;const Xe=Tt(ae.nodeName);if(mt(J.uponSanitizeElement,ae,{tagName:Xe,allowedTags:Q}),en&&ae.hasChildNodes()&&!Nt(ae.firstElementChild)&&ps(/<[/\w!]/g,ae.innerHTML)&&ps(/<[/\w!]/g,ae.textContent)||ae.nodeType===Hg.progressingInstruction||en&&ae.nodeType===Hg.comment&&ps(/<[/\w]/g,ae.data))return ui(ae),!0;if(!(Ot.tagCheck instanceof Function&&Ot.tagCheck(Xe))&&(!Q[Xe]||Fe[Xe])){if(!Fe[Xe]&&Br(Xe)&&(Te.tagNameCheck instanceof RegExp&&ps(Te.tagNameCheck,Xe)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(Xe)))return!1;if(vn&&!Wn[Xe]){const Wt=R(ae)||ae.parentNode,hn=M(ae)||ae.childNodes;if(hn&&Wt){const Ft=hn.length;for(let fr=Ft-1;fr>=0;--fr){const Or=C(hn[fr],!0);Or.__removalCount=(ae.__removalCount||0)+1,Wt.insertBefore(Or,I(ae))}}}return ui(ae),!0}return ae instanceof c&&!Ss(ae)||(Xe==="noscript"||Xe==="noembed"||Xe==="noframes")&&ps(/<\/no(script|embed|frames)/i,ae.innerHTML)?(ui(ae),!0):(En&&ae.nodeType===Hg.text&&(He=ae.textContent,wb([ne,Oe,X],Wt=>{He=kg(He,Wt," ")}),ae.textContent!==He&&(Ug(n.removed,{element:ae.cloneNode()}),ae.textContent=He)),mt(J.afterSanitizeElements,ae,null),!1)},Tn=function(ae,He,Xe){if(pt&&(He==="id"||He==="name")&&(Xe in e||Xe in kt))return!1;if(!(Kn&&!Je[He]&&ps(se,He))){if(!(Ct&&ps($,He))){if(!(Ot.attributeCheck instanceof Function&&Ot.attributeCheck(He,ae))){if(!Ae[He]||Je[He]){if(!(Br(ae)&&(Te.tagNameCheck instanceof RegExp&&ps(Te.tagNameCheck,ae)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(ae))&&(Te.attributeNameCheck instanceof RegExp&&ps(Te.attributeNameCheck,He)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(He,ae))||He==="is"&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&ps(Te.tagNameCheck,Xe)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(Xe))))return!1}else if(!Ei[He]){if(!ps(Ge,kg(Xe,he,""))){if(!((He==="src"||He==="xlink:href"||He==="href")&&ae!=="script"&&MZ(Xe,"data:")===0&&ht[ae])){if(!(An&&!ps(le,kg(Xe,he,"")))){if(Xe)return!1}}}}}}}return!0},Br=function(ae){return ae!=="annotation-xml"&&IC(ae,xe)},Gr=function(ae){mt(J.beforeSanitizeAttributes,ae,null);const{attributes:He}=ae;if(!He||at(ae))return;const Xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ae,forceKeepAttr:void 0};let Wt=He.length;for(;Wt--;){const hn=He[Wt],{name:Ft,namespaceURI:fr,value:Or}=hn,Rr=Tt(Ft),Ti=Or;let tr=Ft==="value"?Ti:OZ(Ti);if(Xe.attrName=Rr,Xe.attrValue=tr,Xe.keepAttr=!0,Xe.forceKeepAttr=void 0,mt(J.uponSanitizeAttribute,ae,Xe),tr=Xe.attrValue,kn&&(Rr==="id"||Rr==="name")&&(Yi(Ft,ae),tr=er+tr),en&&ps(/((--!?|])>)|<\/(style|title|textarea)/i,tr)){Yi(Ft,ae);continue}if(Rr==="attributename"&&IC(tr,"href")){Yi(Ft,ae);continue}if(Xe.forceKeepAttr)continue;if(!Xe.keepAttr){Yi(Ft,ae);continue}if(!Ln&&ps(/\/>/i,tr)){Yi(Ft,ae);continue}En&&wb([ne,Oe,X],Ya=>{tr=kg(tr,Ya," ")});const Ns=Tt(ae.nodeName);if(!Tn(Ns,Rr,tr)){Yi(Ft,ae);continue}if(U&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!fr)switch(y.getAttributeType(Ns,Rr)){case"TrustedHTML":{tr=U.createHTML(tr);break}case"TrustedScriptURL":{tr=U.createScriptURL(tr);break}}if(tr!==Ti)try{fr?ae.setAttributeNS(fr,Ft,tr):ae.setAttribute(Ft,tr),at(ae)?ui(ae):GR(n.removed)}catch{Yi(Ft,ae)}}mt(J.afterSanitizeAttributes,ae,null)},br=function nt(ae){let He=null;const Xe=yt(ae);for(mt(J.beforeSanitizeShadowDOM,ae,null);He=Xe.nextNode();)mt(J.uponSanitizeShadowNode,He,null),qt(He),Gr(He),He.content instanceof a&&nt(He.content);mt(J.afterSanitizeShadowDOM,ae,null)};return n.sanitize=function(nt){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},He=null,Xe=null,Wt=null,hn=null;if(Mr=!nt,Mr&&(nt="<!-->"),typeof nt!="string"&&!Nt(nt))if(typeof nt.toString=="function"){if(nt=nt.toString(),typeof nt!="string")throw Pg("dirty is not a string, aborting")}else throw Pg("toString is not a function");if(!n.isSupported)return nt;if(Gn||la(ae),n.removed=[],typeof nt=="string"&&(Yn=!1),Yn){if(nt.nodeName){const Or=Tt(nt.nodeName);if(!Q[Or]||Fe[Or])throw Pg("root node is forbidden and cannot be sanitized in-place")}}else if(nt instanceof l)He=rt("<!---->"),Xe=He.ownerDocument.importNode(nt,!0),Xe.nodeType===Hg.element&&Xe.nodeName==="BODY"||Xe.nodeName==="HTML"?He=Xe:He.appendChild(Xe);else{if(!Er&&!En&&!Pn&&nt.indexOf("<")===-1)return U&&Fn?U.createHTML(nt):nt;if(He=rt(nt),!He)return Er?null:Fn?H:""}He&&fn&&ui(He.firstChild);const Ft=yt(Yn?nt:He);for(;Wt=Ft.nextNode();)qt(Wt),Gr(Wt),Wt.content instanceof a&&br(Wt.content);if(Yn)return nt;if(Er){if(Un)for(hn=Y.call(He.ownerDocument);He.firstChild;)hn.appendChild(He.firstChild);else hn=He;return(Ae.shadowroot||Ae.shadowrootmode)&&(hn=te.call(r,hn,!0)),hn}let fr=Pn?He.outerHTML:He.innerHTML;return Pn&&Q["!doctype"]&&He.ownerDocument&&He.ownerDocument.doctype&&He.ownerDocument.doctype.name&&ps(uU,He.ownerDocument.doctype.name)&&(fr="<!DOCTYPE "+He.ownerDocument.doctype.name+`>
`+fr),En&&wb([ne,Oe,X],Or=>{fr=kg(fr,Or," ")}),U&&Fn?U.createHTML(fr):fr},n.setConfig=function(){let nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};la(nt),Gn=!0},n.clearConfig=function(){zn=null,Gn=!1},n.isValidAttribute=function(nt,ae,He){zn||la({});const Xe=Tt(nt),Wt=Tt(ae);return Tn(Xe,Wt,He)},n.addHook=function(nt,ae){typeof ae=="function"&&Ug(J[nt],ae)},n.removeHook=function(nt,ae){if(ae!==void 0){const He=wZ(J[nt],ae);return He===-1?void 0:IZ(J[nt],He,1)[0]}return GR(J[nt])},n.removeHooks=function(nt){J[nt]=[]},n.removeAllHooks=function(){J=KR()},n}var dU=cU(),jZ="sendbird-mention-user-label",$Z="sendbird-text-message-item-body",KZ="sendbird-og-message-item-body__text-bubble";function lA(t){var n=t.userId,e=t.nickname,r='<span data-userid="'.concat(n,'" data-sb-mention="true" class="').concat(jZ,'">').concat(e,"</span>"),i=dU(window),a=i.sanitize(r),s=a.split(" "),l=s[0],c=s.slice(1),d=tt([l,'contenteditable="false"'],c,!0).join(" ");return d}var k0=function(t){return t===void 0&&(t=""),t?t.replace(/[<>]/g,function(n){return n==="<"?"&#60;":"&#62;"}):""},Xb=function(t){return t?Array.from(t):[]};function YZ(t){var n;return t&&((n=t.isGroupChannel)===null||n===void 0?void 0:n.call(t))&&!t.isBroadcast&&!t.isSuper}function xC(t){return t.nodeType===iA.ElementNode}function YR(t){var n="",e="",r=!1;return t.forEach(function(i){if(xC(i)&&i.nodeName===AC.Span){var a=i.innerText,s=i.dataset,l=s===void 0?{}:s,c=l.userid,d=c===void 0?"":c;d&&(r=!0),n+=a,e+="".concat(g0,"{").concat(d,"}")}else if(xC(i)&&i.nodeName===AC.Br)n+=`
`,e+=`
`;else if(xC(i)&&i.nodeName===AC.Div){var f=i.textContent,v=f===void 0?"":f;n+=`
`.concat(v),e+=`
`.concat(v)}else{var g=i.textContent,v=g===void 0?"":g;n+=v,e+=v}}),{messageText:n,mentionTemplate:e,isMentionedMessage:r}}function WZ(t){var n=t.map(function(e){var r=e.text,i=e.userId;return i?lA({userId:i,nickname:r}):k0(r)}).join(" ").concat(" ");document.execCommand("insertHTML",!1,n)}var hU="sendbird-word__mention",fU="sendbird-mention-user-label",pU=".".concat(hU,", .").concat(fU);function WR(t,n){var e=tt([t],Array.from(t.querySelectorAll(n)),!0).find(function(r){return r.matches(n)});return e}function QZ(t){var n=WR(t,".".concat(KZ));if(n)return Xb(n.childNodes);var e=WR(t,".".concat($Z));return Xb(e?e.childNodes:t.childNodes)}function XZ(t){return!!t?.querySelector(pU)}function ZZ(t){var n=t?.reduce(function(e,r){var i,a,s,l=r?.innerText;if(r instanceof Text&&(s=!1,l=(i=r.textContent)!==null&&i!==void 0?i:""),r instanceof HTMLElement&&(s=r.classList.contains(hU)||r.classList.contains(fU)?r:r.querySelector(pU)),s){var c=r?.innerText,d=(a=s.dataset)===null||a===void 0?void 0:a.userid;return tt(tt([],e,!0),[{text:c,userId:d}],!1)}return tt(tt([],e,!0),[{text:l}],!1)},[]);return n}function JZ(t,n){var e={},r=n.members;return t.forEach(function(i){if(i.userId){var a=r.find(function(s){return s.userId===i.userId});a&&(e[i.userId]=a)}}),Object.values(e)}function QR(t){var n=window.getSelection();if(n&&n.rangeCount>0){var e=n.getRangeAt(n.rangeCount-1);e.deleteContents();var r=document.createTextNode(t+"");e.insertNode(r),e.setStart(r,r.length),e.collapse(!0),n.removeAllRanges(),n.addRange(e)}}function eJ(t){var n=document.createElement("div");return n.innerHTML=t,n}function tJ(t){var n=t.ref,e=t.setIsInput,r=t.channel,i=t.setMentionedUsers;return D.useCallback(function(a){a.preventDefault();var s=a.clipboardData.getData("text/html"),l=a.clipboardData.getData("text")||nJ(a);if(!s){QR(k0(l)),e(!0);return}var c=dU(window),d=c.sanitize(s),f=eJ(d);if(!XZ(f)){QR(k0(l)),f.remove(),e(!0);return}var v=QZ(f),g=ZZ(v),y=r.isGroupChannel()?JZ(g,r):[];i(y),WZ(g),f.remove(),e(!0)},[n,e,r,i])}function nJ(t){var n=t.clipboardData.getData("text/uri-list");return n.length===0?"":n.split(`
`).reduce(function(e,r){var i=r.trim();return i!==""&&!i.startsWith("#")&&(e+=i+`
`),e},"")}var J0="@",Ri={string:"string",mention:"mention",url:"url",undetermined:"undetermined",markdown:"markdown"},rJ=/\[(.*?)\]\((.*?)\)|\*\*(.*?)\*\*/g;function iJ(t,n){var e=n||J0;return RegExp("(".concat(t.map(function(r){var i=r.userId.replace(/([.*+?^${}()|[\]\\])/g,"\\$1");return"".concat(e,"\\{").concat(i,"\\}")}).join("|"),")"),"g")}function aJ(t){var n=t.tokens,e=t.mentionedUsers,r=e===void 0?[]:e,i=t.templatePrefix,a=i===void 0?J0:i;if(!r?.length)return n;var s=iJ(r,a),l=n.map(function(c){if(c.type!==Ri.undetermined)return c;var d=c.value,f=d.split(s),v=f.map(function(g){if(g.match(s)){var y=r.find(function(C){return"@{".concat(C?.userId,"}")===g}),b=y?.nickname||"(No name)";return{value:b,type:Ri.mention,userId:y?.userId}}else return{value:g,type:Ri.undetermined}});return v}).flat();return l}function sJ(t){var n=/(?:https?:\/\/|www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.(xn--)?[a-z]{2,20}\b([-a-zA-Z0-9@:%_+[\],.~#?&/=]*[-a-zA-Z0-9@:%_+~#?&/=])*/g,e=t.map(function(r){if(r.type!==Ri.undetermined)return r;var i=r.value,a=i===void 0?"":i,s=Array.from(a.matchAll(n)),l=s.map(function(f){var v,g=f[0],y=(v=f.index)!==null&&v!==void 0?v:0,b=y+g.length;return{text:g,start:y,end:b}}),c=[{value:a,type:Ri.string}],d=0;return l.forEach(function(f){var v=f.text,g=f.start,y=f.end,b=c.pop().value,C=b.slice(0,g-d),w=v,I=b.slice(y-d);C.length>0&&c.push({value:C,type:Ri.string}),c.push({value:w,type:Ri.url}),I.length>0&&c.push({value:I,type:Ri.string}),d=y}),c}).flat();return e}function mU(t){var n=t,e=[];return n.forEach(function(r){if(r.type===Ri.mention||r.type===Ri.markdown){e.push(r);return}var i=r.value,a=Array.from(i.matchAll(rJ)),s=a.map(function(f){var v,g=f[0],y=(v=f.index)!==null&&v!==void 0?v:0,b=y+g.length;return{text:g,start:y,end:b,groups:f.filter(function(C){return typeof C=="string"})}}),l=i,c=0;if(s.forEach(function(f){var v=f.text,g=f.start,y=f.end,b=f.groups,C={type:Ri.undetermined,value:l.slice(0,g-c)};e.push(C);var w;v.startsWith("[")?w="url":v.startsWith("**")&&(w="bold");var I={type:Ri.markdown,markdownType:w,value:v,groups:b};e.push(I),l=i.slice(y),c=y}),l){var d={type:Ri.undetermined,value:l};e.push(d)}}),e}function vU(t){var n=t.reduce(function(e,r){var i=e[e.length-1];return i?.type===Ri.string&&r.type===Ri.string?(i.value="".concat(i.value).concat(r.value),e):tt(tt([],e,!0),[r],!1)},[]);return n}function _U(t){var n=t.messageText,e=t.mentionedUsers,r=e===void 0?[]:e,i=t.templatePrefix,a=i===void 0?J0:i,s=t.includeMarkdown,l=s===void 0?!1:s,c=[{type:Ri.undetermined,value:n}],d=aJ({tokens:c,mentionedUsers:r,templatePrefix:a}),f=sJ(l?mU(d):d),v=vU(f);return v}function XR(t){var n=t.messageText,e=[{type:Ri.undetermined,value:n}],r=vU(mU(e));return r}function oJ(t){var n="",e=t.split(`
`),r=e.map(function(a){var s,l,c=((s=a.match(/^\s*/))===null||s===void 0?void 0:s[0])||"",d=((l=a.match(/\s*$/))===null||l===void 0?void 0:l[0])||"",f=c.replace(/ /g,n),v=d.replace(/ /g,n);return f+a.trim()+v}),i=r.join(`
`);return i}var H1;(function(t){t.BASE="base",t.GROUP="group",t.OPEN="open"})(H1||(H1={}));var lJ=function(t){var n=t.channel,e=t.config,r=qc(n?.channelType).with(H1.GROUP,function(){var i;return(i=e?.groupChannel)===null||i===void 0?void 0:i.enableDocument}).with(H1.OPEN,function(){var i;return(i=e?.openChannel)===null||i===void 0?void 0:i.enableDocument}).otherwise(function(){return!0});return r},uJ="sendbird-message-input-text-field",ms=function(){return null},LC=function(t){t&&t.current&&(t.current.innerHTML="")},ZR={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},h2=O.forwardRef(function(t,n){var e,r,i,a,s,l=t.channel,c=t.className,d=c===void 0?"":c,f=t.messageFieldId,v=f===void 0?"":f,g=t.isEdit,y=g===void 0?!1:g,b=t.isMobile,C=b===void 0?!1:b,w=t.isMentionEnabled,I=w===void 0?!1:w,M=t.isVoiceMessageEnabled,R=M===void 0?!0:M,U=t.isSelectingMultipleFilesEnabled,H=U===void 0?!1:U,P=t.disabled,G=P===void 0?!1:P,Y=t.message,F=Y===void 0?null:Y,te=t.placeholder,J=te===void 0?"":te,ne=t.maxLength,Oe=ne===void 0?5e3:ne,X=t.onFileUpload,se=X===void 0?ms:X,$=t.onSendMessage,le=$===void 0?ms:$,he=t.onUpdateMessage,xe=he===void 0?ms:he,Ge=t.onCancelEdit,Q=Ge===void 0?ms:Ge,fe=t.onStartTyping,Ae=fe===void 0?ms:fe,$e=t.channelUrl,Te=$e===void 0?"":$e,Fe=t.mentionSelectedUser,Je=Fe===void 0?null:Fe,Ot=t.onUserMentioned,Ct=Ot===void 0?ms:Ot,Kn=t.onMentionStringChange,An=Kn===void 0?ms:Kn,Ln=t.onMentionedUserIdsUpdated,En=Ln===void 0?ms:Ln,en=t.onVoiceMessageIconClick,Pn=en===void 0?ms:en,Gn=t.onKeyUp,fn=Gn===void 0?ms:Gn,Er=t.onKeyDown,Un=Er===void 0?ms:Er,Fn=t.renderFileUploadIcon,pt=Fn===void 0?ms:Fn,kn=t.renderVoiceMessageIcon,er=kn===void 0?ms:kn,vn=t.renderSendMessageIcon,Yn=vn===void 0?ms:vn,Pt=t.setMentionedUsers,Wn=Pt===void 0?ms:Pt,hr=t.acceptableMimeTypes,ht=n&&"current"in n?n:D.useRef(null),ni=D.useRef(null),Ei=v||uJ,Ir=Ka().stringSet,kr=$a().state,Qn=kr.config,bn=kr.eventHandlers,tn=lJ({channel:l,config:Qn}),Mr=D.useRef(),oa=D.useState(!1),Dt=oa[0],Ut=oa[1],Et=D.useState([]),Ze=Et[0],Ie=Et[1],St=D.useState(Re({},ZR)),bt=St[0],Tt=St[1],zn=t?.value;D.useEffect(function(){var rt=ht?.current;Ie([]),Ut(rt?.textContent?rt.textContent.trim().length>0:!1)},[zn]),D.useEffect(function(){y||(Ut(!1),LC(ht))},[Te]),D.useEffect(function(){var rt,yt;if(y&&F?.messageId){var at=ht?.current;if(I&&F?.mentionedUsers&&F.mentionedUsers.length>0&&F?.mentionedMessageTemplate&&F.mentionedMessageTemplate.length>0){var Nt=F.mentionedUsers,mt=Nt===void 0?[]:Nt,qt=_U({messageText:F?.mentionedMessageTemplate,mentionedUsers:mt,includeMarkdown:l.isGroupChannel()&&Qn.groupChannel.enableMarkdownForUserMessage});at&&(at.innerHTML=qt.map(function(Tn){if(Tn.type===Ri.mention){var Br=mt.find(function(br){return br.userId===Tn.userId}),Gr="".concat(J0).concat(Br?.nickname||Tn.value||Ir.MENTION_NAME__NO_NAME);return lA({userId:Tn.userId,nickname:Gr})}return k0(Tn.value)}).join(""))}else{try{at&&(at.innerHTML=(rt=k0(F?.message))!==null&&rt!==void 0?rt:"")}catch{}Ie([])}Ut(at?.textContent?((yt=at?.textContent)===null||yt===void 0?void 0:yt.trim().length)>0:!1)}},[y,F]);var kt=D.useCallback(function(){var rt,yt=ht?.current;if(I&&yt){var at=Array.from(yt.getElementsByClassName("sendbird-mention-user-label")).map(function(Nt){var mt;return(mt=Nt?.dataset)===null||mt===void 0?void 0:mt.userid});(!NX(Ze,at)||at.length===0)&&(En(at),Ie(at))}Ut(yt?.textContent?((rt=yt.textContent)===null||rt===void 0?void 0:rt.trim().length)>0:!1)},[bt,I]);D.useEffect(function(){var rt,yt,at,Nt;if(I&&Je){var mt=bt.targetString,qt=bt.startNodeIndex,Tn=bt.startOffsetIndex,Br=bt.endNodeIndex,Gr=bt.endOffsetIndex,br=ht?.current;if(mt&&qt!==null&&Tn!==null&&Gr!==null&&Br!==null&&br){var nt=Xb(br?.childNodes),ae=(yt=(rt=nt[qt])===null||rt===void 0?void 0:rt.textContent)!==null&&yt!==void 0?yt:"",He=document.createTextNode(ae.slice(0,Tn)),Xe=(Nt=(at=nt[Br])===null||at===void 0?void 0:at.textContent)!==null&&Nt!==void 0?Nt:"",Wt=Gr&&document.createTextNode("".concat(Xe.slice(Gr))),hn=lA({userId:Je?.userId,nickname:"".concat(g0).concat(Je?.nickname||Ir.MENTION_NAME__NO_NAME)}),Ft=document.createElement("div");Ft.innerHTML=hn;var fr=tt(tt(tt([],nt.slice(0,qt),!0),[He,Ft.childNodes[0],Wt],!1),nt.slice(Br+1),!0);if(br&&(br.innerHTML="",fr.forEach(function(Ti){Ti&&br.appendChild(Ti)})),Ct(Je),window.getSelection||document.getSelection){var Or=window.getSelection()||document.getSelection();Or?.removeAllRanges();var Rr=new Range;Rr.selectNodeContents(br),Rr.setStart(br.childNodes[qt+2],1),Rr.setEnd(br.childNodes[qt+2],1),Rr.collapse(!1),Or?.addRange(Rr),br.focus()}Tt(Re({},ZR)),kt()}}},[Je,I]);var Ki=D.useCallback(function(){var rt,yt,at=((rt=window?.getSelection)===null||rt===void 0?void 0:rt.call(window))||((yt=document?.getSelection)===null||yt===void 0?void 0:yt.call(document)),Nt=ht?.current;if(at?.anchorNode===Nt&&An(""),I&&Nt&&at&&at.anchorNode===at.focusNode&&at.anchorOffset===at.focusOffset)for(var mt="",qt=null,Tn=null,Br=function(nt){var ae=Nt.childNodes[nt];if(ae.nodeType===iA.TextNode){var He=(function(){var Ft;return ae===at.anchorNode?ae?.textContent?ae?.textContent.slice(0,at.anchorOffset):"":(Ft=ae?.textContent)!==null&&Ft!==void 0?Ft:""})();if(mt.length>0)mt+=He;else{for(var Xe=He.lastIndexOf(g0),Wt=Xe-1;Wt>-1&&He[Wt]===g0;Wt-=1)Xe=Wt;Xe>-1&&(mt=He,qt=nt,Tn=Xe)}}else mt="",qt=null,Tn=null;if(ae===at.anchorNode){var hn=mt&&Tn!==null?mt.slice(Tn):"";return Tt({targetString:hn,startNodeIndex:qt,startOffsetIndex:Tn,endNodeIndex:nt,endOffsetIndex:at.anchorOffset}),An(hn),{value:void 0}}},Gr=0;Gr<Nt.childNodes.length;Gr+=1){var br=Br(Gr);if(typeof br=="object")return br.value}},[I]),la=function(){var rt,yt;try{var at=ht?.current;if(!y&&at?.textContent){var Nt=YR(at.childNodes),mt=Nt.messageText,qt=Nt.mentionTemplate,Tn=Nt.isMentionedMessage,Br={message:mt,mentionTemplate:qt};Tn||(Br.mentionTemplate=""),le(Br),LC(ht),XM(navigator.userAgent)?(ni.current&&ni.current.focus(),requestAnimationFrame(function(){return at.focus()})):at.focus(),Ut(!1)}}catch(Gr){(yt=(rt=bn?.message)===null||rt===void 0?void 0:rt.onSendMessageFailed)===null||yt===void 0||yt.call(rt,F,Gr)}},bi=!(!((r=(e=ht?.current)===null||e===void 0?void 0:e.textContent)===null||r===void 0)&&r.trim()),Ys=function(){var rt,yt;try{var at=ht?.current,Nt=F?.messageId;if(y&&Nt&&at){var mt=YR(at.childNodes),qt=mt.messageText,Tn=mt.mentionTemplate,Br={messageId:Nt,message:qt,mentionTemplate:Tn};xe(Br),LC(ht)}}catch(Gr){(yt=(rt=bn?.message)===null||rt===void 0?void 0:rt.onUpdateMessageFailed)===null||yt===void 0||yt.call(rt,F,Gr)}},Ss=tJ({ref:ht,setMentionedUsers:Wn,channel:l,setIsInput:Ut}),ui=function(rt){var yt,at,Nt=rt.currentTarget.files;try{Nt&&se(Array.from(Nt))}catch(mt){(at=(yt=bn?.message)===null||yt===void 0?void 0:yt.onFileUploadFailed)===null||at===void 0||at.call(yt,mt)}finally{rt.target.value=""}},Yi=function(){var rt,yt=ht,at=window.getSelection();if(!(!at||at.rangeCount===0)){var Nt=at.getRangeAt(at.rangeCount-1),mt=Nt.getBoundingClientRect(),qt=(rt=yt.current)===null||rt===void 0?void 0:rt.getBoundingClientRect();if(!(!qt||!yt.current)){if(mt.bottom>qt.bottom){var Tn=Math.min(mt.bottom-qt.bottom,yt.current.scrollHeight-yt.current.clientHeight);yt.current.scrollTop+=Tn}else if(mt.top<qt.top){var Tn=Math.min(qt.top-mt.top,yt.current.scrollTop);yt.current.scrollTop-=Tn}}}};return O.createElement("form",{className:$i.apply(void 0,tt(tt([],Array.isArray(d)?d:[d],!1),[y&&"sendbird-message-input__edit",G&&"sendbird-message-input-form__disabled"],!1))},O.createElement("div",{className:$i("sendbird-message-input",G&&"sendbird-message-input__disabled"),"data-testid":"sendbird-message-input"},XM(navigator.userAgent)&&O.createElement("input",{id:"ghost-input-reset-ime-cjk",ref:ni,style:{opacity:0,padding:0,margin:0,height:0,border:"none",position:"absolute",top:-9999},defaultValue:"_"}),O.createElement("div",{id:"".concat(Ei).concat(y?F?.messageId:""),className:"sendbird-message-input--textarea ".concat(Ei),contentEditable:!G,role:"textbox","aria-label":"Text Input",ref:ht,disabled:G,maxLength:Oe,onKeyDown:function(rt){var yt,at,Nt,mt,qt=Un(rt);qt?rt.preventDefault():(!rt.shiftKey&&rt.key===Yl.Enter&&!C&&(!((yt=ht?.current)===null||yt===void 0)&&yt.textContent)&&ht.current.textContent.trim().length>0&&((at=rt?.nativeEvent)===null||at===void 0?void 0:at.isComposing)!==!0&&(rt.preventDefault(),la()),rt.key===Yl.Backspace&&((mt=(Nt=ht?.current)===null||Nt===void 0?void 0:Nt.childNodes)===null||mt===void 0?void 0:mt.length)===2&&!ht.current.childNodes[0].textContent&&ht.current.childNodes[1].nodeType===iA.ElementNode&&ht.current.removeChild(ht.current.childNodes[1]))},onKeyUp:function(rt){var yt=fn(rt);yt?rt.preventDefault():Ki()},onClick:function(){Ki()},onInput:function(){var rt;Ae(),Ut(!((rt=ht?.current)===null||rt===void 0)&&rt.textContent?ht.current.textContent.trim().length>0:!1),kt()},onPaste:function(rt){Ss(rt),setTimeout(Yi)}}),((s=(a=(i=ht?.current)===null||i===void 0?void 0:i.textContent)===null||a===void 0?void 0:a.length)!==null&&s!==void 0?s:0)===0&&O.createElement(zt,{className:"sendbird-message-input--placeholder",type:Gt.BODY_1,color:G?_t.ONBACKGROUND_4:_t.ONBACKGROUND_3},J||Ir.MESSAGE_INPUT__PLACE_HOLDER),!y&&Dt&&O.createElement(Hc,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:function(){return la()},testID:"sendbird-message-input-send-button"},Yn?.()||O.createElement(rn,{type:Vt.SEND,fillColor:G?Yt.ON_BACKGROUND_4:Yt.PRIMARY,width:"20px",height:"20px"})),!y&&!Dt&&(pt?.()||tn&&O.createElement(Hc,{className:$i("sendbird-message-input--attach",R&&"is-voice-message-enabled"),height:"32px",width:"32px",onClick:function(){var rt,yt;(yt=(rt=Mr?.current)===null||rt===void 0?void 0:rt.click)===null||yt===void 0||yt.call(rt)}},O.createElement(rn,{type:Vt.ATTACH,fillColor:G?Yt.ON_BACKGROUND_4:Yt.CONTENT_INVERSE,width:"20px",height:"20px"}),O.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:Mr,onChange:function(rt){return ui(rt)},accept:uX(hr),multiple:H&&YZ(l)}))),R&&!y&&!Dt&&O.createElement(Hc,{className:"sendbird-message-input--voice-message",width:"32px",height:"32px",onClick:Pn},er?.()||O.createElement(rn,{type:Vt.AUDIO_ON_LINED,fillColor:G?Yt.ON_BACKGROUND_4:Yt.CONTENT_INVERSE,width:"20px",height:"20px"}))),y&&O.createElement("div",{className:"sendbird-message-input--edit-action","data-testid":"sendbird-message-input--edit-action"},O.createElement(Nv,{className:"sendbird-message-input--edit-action__cancel",type:ji.SECONDARY,size:bh.SMALL,onClick:Q},Ir.BUTTON__CANCEL),O.createElement(Nv,{className:"sendbird-message-input--edit-action__save",type:ji.PRIMARY,size:bh.SMALL,disabled:bi,onClick:function(){return Ys()}},Ir.BUTTON__SAVE)))});function JR(t){wa(1,arguments);var n=Zl(t);return n.setHours(0,0,0,0),n}function cJ(t,n){wa(2,arguments);var e=JR(t),r=JR(n);return e.getTime()===r.getTime()}var eh,th;eh={},eh[gi.SENT]=Vt.DONE,eh[gi.DELIVERED]=Vt.DONE_ALL,eh[gi.READ]=Vt.DONE_ALL,eh[gi.FAILED]=Vt.ERROR,eh[gi.PENDING]=void 0,eh[gi.NONE]=void 0;th={},th[gi.SENT]=Yt.SENT,th[gi.DELIVERED]=Yt.SENT,th[gi.READ]=Yt.READ,th[gi.FAILED]=Yt.ERROR,th[gi.PENDING]=void 0,th[gi.NONE]=void 0;var dJ=300;function eD(t){hJ(t)&&t.touches.length<2&&t.preventDefault&&t.preventDefault()}function hJ(t){return t&&"touches"in t}function ey(t,n){var e=t.onLongPress,r=t.onClick,i=n===void 0?{}:n,a=i.delay,s=a===void 0?dJ:a,l=i.shouldPreventDefault,c=l===void 0?!0:l,d=i.shouldStopPropagation,f=d===void 0?!1:d,v=Kl().isMobile,g=D.useState(!1),y=g[0],b=g[1],C=D.useState(!1),w=C[0],I=C[1],M=D.useRef(),R=D.useRef(),U=D.useCallback(function(P){P.persist();var G=Re({},P);I(!1),f&&P.stopPropagation(),c&&P.target&&(P.target.addEventListener("touchend",eD,{passive:!1}),R.current=P.target),M.current=setTimeout(function(){e(G),b(!0)},s)},[e,s,c,f,v]),H=D.useCallback(function(P,G,Y){G===void 0&&(G=!0),Y===void 0&&(Y=!1),I(!!Y),M?.current&&clearTimeout(M.current),G&&!y&&!w&&r?.(P),b(!1),c&&R.current&&R.current.removeEventListener("touchend",eD)},[c,r,y,w]);return{onMouseDown:function(P){return U(P)},onMouseUp:function(P){return H(P)},onMouseLeave:function(P){return H(P,!1)},onTouchStart:function(P){return U(P)},onTouchMove:function(P){return H(P,!1,!0)},onTouchEnd:function(P){return H(P)}}}O.forwardRef(function(t,n){var e=t.className,r=t.width,i=t.height,a=t.selected,s=t.dataSbId,l=s===void 0?"":s,c=t.testID,d=t.onClick,f=t.children,v=ey({onLongPress:yi,onClick:d},{shouldPreventDefault:!0,shouldStopPropagation:!0});return O.createElement("div",Re({className:tt(tt([],Array.isArray(e)?e:[e],!0),["sendbird-reaction-button".concat(a?"--selected":"")],!1).join(" "),ref:n,role:"button",style:{width:r,height:i}},v,{tabIndex:0,"data-sb-id":c??l,"data-testid":c??l}),O.createElement("div",{className:"sendbird-reaction-button__inner"},f))});O.forwardRef(function(t,n){var e=t.className,r=e===void 0?"":e,i=t.testID,a=t.children,s=t.count,l=s===void 0?"":s,c=t.isAdd,d=c===void 0?!1:c,f=t.selected,v=f===void 0?!1:f,g=t.onClick,y=g===void 0?function(){}:g,b=function(){return v&&!d?"--selected":d?"--is-add":""};return O.createElement("div",{className:tt(tt([],Array.isArray(r)?r:[r],!0),["sendbird-reaction-badge".concat(b())],!1).join(" "),"data-testid":i,role:"button",ref:n,onClick:y,onKeyDown:y,onTouchEnd:y,tabIndex:0},O.createElement("div",{className:"sendbird-reaction-badge__inner"},O.createElement("div",{className:"sendbird-reaction-badge__inner__icon"},a),O.createElement(zt,{className:a&&l?"sendbird-reaction-badge__inner__count":"",type:Gt.CAPTION_3,color:_t.ONBACKGROUND_1},l)))});var fJ=function(t){var n=t.stores,e=n===void 0?{}:n,r=e.sdkStore,i=r===void 0?{}:r,a=i.sdk;return a},pJ=function(t){var n=t.config,e=n===void 0?{}:n,r=e.pubSub;return r},mJ=function(t){return(function(n){return new Promise(function(e,r){var i=fJ(t),a=pJ(t);i||r(new Error("Sdk not found")),i.groupChannel||r(new Error("Not found GroupChannelModule")),i.groupChannel.createChannel&&typeof i.groupChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),i.groupChannel.createChannel(n).then(function(s){e(s),a.publish(Ao.CREATE_CHANNEL,{channel:s})}).catch(r)})})};function ty(t){var n,e,r=t.user,i=t.currentUserId,a=t.disableMessaging,s=a===void 0?!1:a,l=t.onSuccess,c=$a().state,d=mJ(c),f=(n=c?.config)===null||n===void 0?void 0:n.logger,v=D.useContext(Jc).stringSet,g=i||((e=c?.config)===null||e===void 0?void 0:e.userId),y=X0().onStartDirectMessage;return O.createElement("div",{className:"sendbird__user-profile"},O.createElement("section",{className:"sendbird__user-profile-avatar"},O.createElement(jc,{height:"80px",width:"80px",src:r?.profileUrl})),O.createElement("section",{className:"sendbird__user-profile-name"},O.createElement(zt,{type:Gt.H_2,color:_t.ONBACKGROUND_1},r?.nickname||v.NO_NAME)),r?.userId!==g&&!s&&O.createElement("section",{className:"sendbird__user-profile-message"},O.createElement(Nv,{type:ji.SECONDARY,onClick:function(){var b={isDistinct:!1,invitedUserIds:r?.userId?[r?.userId]:[],operatorUserIds:[g]};l?.(),d(b).then(function(C){f.info("UserProfile, channel create",C),y?.(C)})}},v.USER_PROFILE__MESSAGE)),O.createElement("div",{className:"sendbird__user-profile-separator"}),O.createElement("section",{className:"sendbird__user-profile-userId"},O.createElement(zt,{className:"sendbird__user-profile-userId--label",type:Gt.CAPTION_2,color:_t.ONBACKGROUND_2},v.USER_PROFILE__USER_ID),O.createElement(zt,{className:"sendbird__user-profile-userId--value",type:Gt.BODY_1,color:_t.ONBACKGROUND_1},r?.userId)))}var vJ={message:{},isByMe:!1},gU=O.createContext(vJ),_J=function(t){var n=t.children,e=t.message,r=t.isByMe,i=r===void 0?!1:r;return O.createElement(gU.Provider,{value:{message:e,isByMe:i}},n)},gJ=function(){var t=O.useContext(gU);if(t===void 0)throw new Error("useMessageContext must be used within a MessageProvider");return t};function yJ(t){return qc(t).when(Ks,function(){var n;return(n=t?.type)!==null&&n!==void 0?n:""}).when(il,function(){var n,e;return(e=(n=f2(t))===null||n===void 0?void 0:n.mimeType)!==null&&e!==void 0?e:""}).otherwise(function(){return""})}function f2(t){var n=t.fileInfoList;return n.length>0?n[0]:null}function EJ(t){return qc(t).when(Ks,function(){var n;return(n=t?.name)!==null&&n!==void 0?n:""}).when(il,function(){var n,e;return(e=(n=f2(t))===null||n===void 0?void 0:n.fileName)!==null&&e!==void 0?e:""}).otherwise(function(){return""})}function bJ(t){return qc(t).when(Ks,function(){var n;return(n=t?.url)!==null&&n!==void 0?n:""}).when(il,function(){var n,e;return(e=(n=f2(t))===null||n===void 0?void 0:n.url)!==null&&e!==void 0?e:""}).otherwise(function(){return""})}function TJ(t){return qc(t).when(Ks,function(){return t.thumbnails}).when(il,function(){var n,e;return(e=(n=f2(t))===null||n===void 0?void 0:n.thumbnails)!==null&&e!==void 0?e:[]}).otherwise(function(){return[]})}function CJ(t){var n=TJ(t);return n&&n.length>0?n[0].url:""}function SJ(t,n){var e,r=t.className,i=t.threadInfo,a=t.onClick,s=i.mostRepliedUsers,l=s===void 0?[]:s,c=i.replyCount,d=Ka().stringSet;return O.createElement("div",{className:"sendbird-ui-thread-replies ".concat(r),role:"button",onClick:function(f){a?.(f),f?.stopPropagation()},onKeyDown:function(f){a?.(f),f?.stopPropagation()},ref:n},O.createElement("div",{className:"sendbird-ui-thread-replies__user-profiles"},l.slice(0,4).map(function(f){return O.createElement(jc,{key:f.userId,className:"sendbird-ui-thread-replies__user-profiles__avatar",src:f?.profileUrl,alt:"user profile",width:"20px",height:"20px"})}),l?.length>=5&&O.createElement("div",{className:"sendbird-ui-thread-replies__user-profiles__avatar"},O.createElement(jc,{className:"sendbird-ui-thread-replies__user-profiles__avatar__image",src:(e=l?.[4])===null||e===void 0?void 0:e.profileUrl,alt:"user profile",width:"20px",height:"20px"}),O.createElement("div",{className:"sendbird-ui-thread-replies__user-profiles__avatar__cover"}),O.createElement("div",{className:"sendbird-ui-thread-replies__user-profiles__avatar__plus"},O.createElement(rn,{type:Vt.PLUS,fillColor:Yt.WHITE,width:"16px",height:"16px"})))),c>0&&O.createElement(zt,{className:"sendbird-ui-thread-replies__reply-counts",type:Gt.CAPTION_2,color:_t.PRIMARY},c===1?"".concat(c," ").concat(d.CHANNEL__THREAD_REPLY):"".concat(c>99?d.CHANNEL__THREAD_OVER_MAX:c," ").concat(d.CHANNEL__THREAD_REPLIES)),O.createElement(rn,{className:"sendbird-ui-thread-replies__icon",type:Vt.CHEVRON_RIGHT,fillColor:Yt.PRIMARY,width:"16px",height:"16px"}))}O.forwardRef(SJ);function NJ(t){var n,e,r,i=t.mentionTemplate,a=t.mentionedUserId,s=t.mentionedUserNickname,l=t.isByMe,c=D.useRef(),d=$a().state,f=(n=d?.config)===null||n===void 0?void 0:n.userId,v=(r=(e=d?.stores)===null||e===void 0?void 0:e.sdkStore)===null||r===void 0?void 0:r.sdk,g=f===a,y=D.useState(),b=y[0],C=y[1],w=D.useCallback(function(I){if(b||!v?.createApplicationUserListQuery){I();return}var M=v?.createApplicationUserListQuery({userIdsFilter:[a]});M.next().then(function(R){R?.length>0&&C(R[0]),I()})},[v,a]);return O.createElement(ju,{menuTrigger:function(I){return O.createElement("a",{className:$i("sendbird-word__mention",g&&"sendbird-word__mention--me"),onClick:function(){return w(I)},ref:c,"data-userid":a,"data-nickname":s,"data-sb-mention":!0},O.createElement(zt,{type:Gt.CAPTION_1,color:l?_t.ONCONTENT_1:_t.ONBACKGROUND_1},"".concat(i).concat(s)))},menuItems:function(I){return O.createElement(qu,{parentRef:c,parentContainRef:c,closeDropdown:I,style:{paddingTop:"0px",paddingBottom:"0px"}},O.createElement(ty,{user:b,onSuccess:I,currentUserId:f}))}})}var AJ=/https?:\/\//;function yU(t){var n=t.className,e=n===void 0?"":n,r=t.src,i=t.type,a=t.color,s=t.children,l=AJ.test(r)?r:"http://".concat(r);return O.createElement("a",{className:tt(tt([],Array.isArray(e)?e:[e],!0),["sendbird-link-label",KL(a)],!1).join(" "),href:l,target:"_blank",rel:"noopener noreferrer",onTouchEnd:function(c){c.preventDefault(),c.nativeEvent.stopImmediatePropagation(),O3(l)}},O.createElement(zt,{className:"sendbird-link-label__label",testID:"sendbird-link-label__label",type:i,color:a},s))}function wJ(t,n,e){return"sb-msg_".concat(t,"_").concat(n,"_").concat(e)}var IJ=["https:","http:","tel:","mailto:"];function MJ(t){var n=decodeURIComponent(t);try{var e=new URL(n).protocol;return IJ.some(function(r){return r===e.toLowerCase()})?n:"#"}catch{!n.startsWith("http://")&&!n.startsWith("https://")&&(n="https://"+n)}return n}function uA(t){var n=t.tokens,e=gJ(),r=e?.message,i=e?.isByMe,a=r.updatedAt,s=r.createdAt;return O.createElement(O.Fragment,null,n?.map(function(l,c){var d=wJ(s,a,c);return qc(l.type).with(Ri.markdown,function(){var f=l,v=f.groups;return O.createElement("span",{className:"sendbird-word",key:d,"data-testid":"sendbird-ui-word"},qc(f.markdownType).with("bold",function(){return O.createElement("span",{style:{fontWeight:"bold"}},O.createElement(uA,{tokens:XR({messageText:v[1]})}))}).with("url",function(){return O.createElement("a",{className:i?"sendbird-label--color-oncontent-1":"sendbird-label--color-onbackground-1",href:MJ(v[2]),target:"_blank",rel:"noopener noreferrer"},O.createElement(uA,{tokens:XR({messageText:v[1]})}))}).otherwise(function(){return O.createElement(O.Fragment,null)}))}).with(Ri.mention,function(){return O.createElement("span",{className:"sendbird-word",key:d,"data-testid":"sendbird-ui-word"},O.createElement(NJ,{mentionTemplate:J0,mentionedUserId:l.userId,mentionedUserNickname:l.value,isByMe:i}))}).with(Ri.url,function(){return O.createElement("span",{className:"sendbird-word",key:d,"data-testid":"sendbird-ui-word"},O.createElement(yU,{src:l.value,type:Gt.BODY_1,color:i?_t.ONCONTENT_1:_t.ONBACKGROUND_1},l.value))}).otherwise(function(){return O.createElement(O.Fragment,{key:d},oJ(l.value))})}))}function OJ(t,n){D.useLayoutEffect(function(){var r;(r=t.current)===null||r===void 0||r.focus()},[t.current]);var e=N3(function(r){var i=n[r.key];i?.(r),r.stopPropagation()});return e}var ny={MULTI:"MULTI"};function RJ(t){var n=t.props;if(n.viewerType===ny.MULTI){var e=n,r=e.fileInfoList,i=e.currentIndex;return r[i]}var a=n;return{name:a.name,type:a.type,url:a.url}}function DJ(t){if(t.viewerType!==ny.MULTI){var n=t.onDelete,e=t.isByMe,r=t.disableDelete,i=t.className;return e?O.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete ".concat(i)},O.createElement(rn,{className:r?"disabled":"",type:Vt.DELETE,fillColor:r?Yt.GRAY:Yt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(a){r||n?.(a)}})):O.createElement(O.Fragment,null)}return O.createElement(O.Fragment,null)}function xJ(t){if(t.viewerType===ny.MULTI){var n=t.onClickLeft,e=t.onClickRight;return O.createElement("div",{className:"sendbird-file-viewer-slider"},O.createElement("div",{className:"sendbird-file-viewer-arrow--left"},O.createElement(rn,{type:Vt.SLIDE_LEFT,fillColor:Yt.ON_BACKGROUND_1,height:Sb,width:Sb,onClick:function(r){n?.(),r.stopPropagation()}})),O.createElement("div",{className:"sendbird-file-viewer-arrow--right"},O.createElement(rn,{type:Vt.SLIDE_LEFT,fillColor:Yt.ON_BACKGROUND_1,height:Sb,width:Sb,onClick:function(r){r.stopPropagation(),e?.()}})))}return O.createElement(O.Fragment,null)}var tD=function(t){var n=t.profileUrl,e=t.nickname,r=t.onClose,i=t.onDownloadClick,a=t,s=a.onClickLeft,l=a.onClickRight,c=D.useRef(null),d=OJ(c,{Escape:function(C){return r?.(C)},ArrowLeft:function(){return s?.()},ArrowRight:function(){return l?.()}}),f=RJ({props:t}),v=f.name,g=f.type,y=f.url,b=D.useContext(Jc).stringSet;return O.createElement(R3,{onClose:r},O.createElement("div",{className:"sendbird-fileviewer","data-testid":"sendbird-fileviewer",onKeyDown:d,tabIndex:1,ref:c},O.createElement("div",{className:"sendbird-fileviewer__header"},O.createElement("div",{className:"sendbird-fileviewer__header__left"},O.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},O.createElement(jc,{height:"32px",width:"32px",src:n})),O.createElement("div",{className:"sendbird-fileviewer__header__left__text-container"},O.createElement(zt,{className:"sendbird-fileviewer__header__left__filename",type:Gt.H_2,color:_t.ONBACKGROUND_1},v),O.createElement(zt,{className:"sendbird-fileviewer__header__left__sender-name",type:Gt.BODY_1,color:_t.ONBACKGROUND_2},e))),O.createElement("div",{className:"sendbird-fileviewer__header__right"},JN(g)&&O.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},O.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:y,target:"_blank",onClick:i},O.createElement(rn,{type:Vt.DOWNLOAD,fillColor:Yt.ON_BACKGROUND_1,height:"24px",width:"24px"})),O.createElement(DJ,Re({className:"sendbird-fileviewer__header__right__actions__delete"},t))),O.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},O.createElement(rn,{type:Vt.CLOSE,fillColor:Yt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(C){return r?.(C)}})))),O.createElement("div",{className:"sendbird-fileviewer__content"},u2(g)&&O.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},O.createElement("source",{src:y,type:g})),xp(g)&&O.createElement("img",{src:y,alt:v,className:t.viewerType===ny.MULTI?"sendbird-fileviewer__content__img__multi":"sendbird-fileviewer__content__img"}),!JN(g)&&O.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},O.createElement(zt,{type:Gt.H_1,color:_t.ONBACKGROUND_1},b?.UI__FILE_VIEWER__UNSUPPORT||"Unsupported message")),O.createElement(xJ,Re({},t)))))};function LJ(t){var n,e,r,i=t.message,a=t.statefulFileInfoList,s=a===void 0?[]:a,l=t.onClose,c=t.isByMe,d=c===void 0?!1:c,f=t.onDelete,v=t.currentIndex,g=t.onClickLeft,y=t.onClickRight,b=t.onDownloadClick;if(il(i)){var C=i;return O.createElement(tD,{profileUrl:C.sender.profileUrl,nickname:C.sender.nickname,viewerType:ny.MULTI,fileInfoList:s.filter(function(w){return w.url}).map(function(w){return{name:w.fileName||"",type:w.mimeType||"",url:w.url||""}}),currentIndex:v||0,onClickLeft:g||yi,onClickRight:y||yi,onClose:l,onDownloadClick:b})}else if(Ks(i)){var C=i;return JA.createPortal(O.createElement(tD,{profileUrl:(n=C.sender)===null||n===void 0?void 0:n.profileUrl,nickname:(e=C.sender)===null||e===void 0?void 0:e.nickname,name:C.name,type:C.type,url:C?.url,isByMe:d,disableDelete:(((r=C.threadInfo)===null||r===void 0?void 0:r.replyCount)||0)>0,onClose:l,onDelete:f||yi,onDownloadClick:b}),document.getElementById(YL))}return O.createElement(O.Fragment,null)}var UJ={PRIMARY:"progress-bar-color--primary"},kJ=function(t){var n=t.className,e=n===void 0?"":n,r=t.disabled,i=r===void 0?!1:r,a=t.maxSize,s=t.currentSize,l=s===void 0?0:s,c=t.colorType,d=c===void 0?UJ.PRIMARY:c,f=D.useMemo(function(){return"".concat(l/a*100,"%")},[l,a]);return O.createElement("div",{className:$i("sendbird-progress-bar",e,d,i&&"progress-bar--disabled")},O.createElement("div",{className:"sendbird-progress-bar__fill",style:{width:f}}))},PJ=function(t){var n,e=t.key,r=e===void 0?"":e,i=t.channelUrl,a=i===void 0?"":i,s=t.audioFile,l=t.audioFileUrl,c=l===void 0?"":l,d=t.audioFileMimeType,f=d===void 0?RL:d,v=nW(a,r),g=aW(),y=g.play,b=g.pause,C=g.stop,w=g.voicePlayerStore,I=WL().isRecordable,M=((n=w?.audioStorage)===null||n===void 0?void 0:n[v])||tW(),R=function(){I||y?.({groupKey:v,audioFile:s,audioFileUrl:c,audioFileMimeType:f})},U=function(){b?.(v)},H=function(P){P===void 0&&(P=""),C?.(P)};return D.useEffect(function(){return function(){var P;if(s||c){var G=document.getElementById(F$);(P=G?.pause)===null||P===void 0||P.call(G)}}},[]),{play:R,pause:U,stop:H,playbackTime:(M?.playbackTime||0)*1e3,duration:(M?.duration||0)*1e3,playingStatus:M.playingStatus}},FJ=function(t){var n=t.className,e=t.time,r=e===void 0?0:e,i=t.labelType,a=i===void 0?Gt.CAPTION_2:i,s=t.labelColor,l=s===void 0?_t.ONCONTENT_1:s,c=r<0?0:r,d=Math.floor(c/36e5),f=Math.floor(c%36e5/6e4),v=Math.floor(c%36e5%6e4/1e3);return O.createElement("div",{className:"sendbird-ui-play-time ".concat(n)},O.createElement(zt,{type:a,color:l},"".concat(d?d+":":"").concat(f<10?"0":"").concat(f||"0",":").concat(v<10?"0":"").concat(v)))},HJ=Object.defineProperty,BJ=Object.defineProperties,GJ=Object.getOwnPropertyDescriptors,B1=Object.getOwnPropertySymbols,EU=Object.prototype.hasOwnProperty,bU=Object.prototype.propertyIsEnumerable,nD=(t,n,e)=>n in t?HJ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,ct=(t,n)=>{for(var e in n||(n={}))EU.call(n,e)&&nD(t,e,n[e]);if(B1)for(var e of B1(n))bU.call(n,e)&&nD(t,e,n[e]);return t},vp=(t,n)=>BJ(t,GJ(n)),zJ=(t,n)=>{var e={};for(var r in t)EU.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&B1)for(var r of B1(t))n.indexOf(r)<0&&bU.call(t,r)&&(e[r]=t[r]);return e},p2=(t=>(t.Box="box",t.Text="text",t.Image="image",t.TextButton="textButton",t.ImageButton="imageButton",t.Carousel="carouselView",t.Cascade="cascadeView",t))(p2||{}),G1=(t,n)=>typeof n[t]!="string"?{}:{[t]:VJ(n[t])};function VJ(t){return t.startsWith("#")?t.length===9?`#${t.slice(3)}${t[1]}${t[2]}`:t.length===5?`#${t.slice(2)}${t[1]}`:t:t}var UC=t=>t?{viewStyle:ct(ct(ct({},t),G1("backgroundColor",t)),G1("borderColor",t))}:{},qJ=t=>t?{textStyle:ct(ct({},t),G1("color",t))}:{},jJ=t=>t?{imageStyle:ct(ct({},t),G1("tintColor",t))}:{},$J={run(t){return t.type==="text"||t.type==="textButton"?ct(ct(ct({},t),UC(t.viewStyle)),qJ(t.textStyle)):t.type==="imageButton"||t.type==="image"?ct(ct(ct({},t),UC(t.viewStyle)),jJ(t.imageStyle)):ct(ct({},t),UC(t.viewStyle))}},hh=t=>typeof t=="string"?!Number.isNaN(Number(t)):typeof t=="number"&&!Number.isNaN(t),Th=(t,n)=>n[t]===void 0||n[t]===null?{}:hh(n[t])?{[t]:Number(n[t])}:{},rD=(t,n)=>n?{[t]:{left:hh(n.left)?Number(n.left):n.left,right:hh(n.right)?Number(n.right):n.right,top:hh(n.top)?Number(n.top):n.top,bottom:hh(n.bottom)?Number(n.bottom):n.bottom}}:{},iD=(t,n)=>n?{[t]:{type:n.type,value:hh(n.value)?Number(n.value):n.value}}:{},KJ=t=>t?{metaData:{pixelWidth:hh(t.pixelWidth)?Number(t.pixelWidth):t.pixelWidth,pixelHeight:hh(t.pixelHeight)?Number(t.pixelHeight):t.pixelHeight}}:{},YJ=t=>t?{viewStyle:ct(ct(ct(ct(ct({},t),Th("borderWidth",t)),Th("radius",t)),rD("margin",t.margin)),rD("padding",t.padding))}:{},WJ=t=>t?{textStyle:ct(ct(ct({},t),Th("size",t)),Th("weight",t))}:{},QJ=t=>t?{carouselStyle:ct(ct(ct({},t),Th("spacing",t)),Th("maxChildWidth",t))}:{},XJ=t=>t?{cascadeStyle:ct(ct({},t),Th("spacing",t))}:{},ry=t=>ct(ct(ct({},iD("width",t.width)),iD("height",t.height)),YJ(t.viewStyle)),ZJ=t=>ct(ct(ct({},ry(t)),WJ(t.textStyle)),Th("maxTextLines",t)),JJ=t=>ct(ct({},ry(t)),KJ(t.metaData)),eee=t=>vp(ct(ct({},ry(t)),QJ(t.carouselStyle)),{items:t.items.map(n=>vp(ct({},n),{body:vp(ct({},n.body),{items:n.body.items.map(e=>x3.run(e))})}))}),tee=t=>vp(ct(ct({},ry(t)),XJ(t.cascadeStyle)),{items:t.items.map(n=>vp(ct({},n),{body:vp(ct({},n.body),{items:n.body.items.map(e=>x3.run(e))})}))}),x3={run(t){return t.type==="text"||t.type==="textButton"?ct(ct({},t),ZJ(t)):t.type==="imageButton"||t.type==="image"?ct(ct({},t),JJ(t)):t.type==="carouselView"?ct(ct({},t),eee(t)):t.type==="cascadeView"?ct(ct({},t),tee(t)):ct(ct({},t),ry(t))}},nee=()=>{},TU=t=>{var n;let e=t?.defaultMapper||nee,r={defaultMapper:e,mapBoxProps:t?.mapBoxProps||e,mapTextProps:t?.mapTextProps||e,mapImageProps:t?.mapImageProps||e,mapTextButtonProps:t?.mapTextButtonProps||e,mapImageButtonProps:t?.mapImageButtonProps||e,mapCarouselProps:t?.mapCarouselProps||e,mapCascadeProps:t?.mapCascadeProps||e},i=[$J,x3,...(n=t?.transforms)!=null?n:[]];return{setTransforms(a){i.length=0,i.push(...a)},addTransforms(a){i.push(...a)},parse(a,s){let l=i.reduce((c,d)=>d.run(c),a);switch(l.type){case"box":return{transformed:l,properties:r.mapBoxProps(l,s)};case"text":return{transformed:l,properties:r.mapTextProps(l,s)};case"image":return{transformed:l,properties:r.mapImageProps(l,s)};case"textButton":return{transformed:l,properties:r.mapTextButtonProps(l,s)};case"imageButton":return{transformed:l,properties:r.mapImageButtonProps(l,s)};case"carouselView":return{transformed:l,properties:r.mapCarouselProps(l,s)};case"cascadeView":return{transformed:l,properties:r.mapCascadeProps(l,s)};default:return{transformed:l,properties:void 0}}}}},Bf=({children:t})=>O.createElement(O.Fragment,null,t);function CU(t){var n,e,r,i,a,s,l;return{box:((n=t?.views)==null?void 0:n.box)||Bf,text:((e=t?.views)==null?void 0:e.text)||Bf,image:((r=t?.views)==null?void 0:r.image)||Bf,imageButton:((i=t?.views)==null?void 0:i.imageButton)||Bf,textButton:((a=t?.views)==null?void 0:a.textButton)||Bf,carouselView:((s=t?.views)==null?void 0:s.carouselView)||Bf,cascadeView:((l=t?.views)==null?void 0:l.cascadeView)||Bf}}var SU=D.createContext({sizes:{},updateSize:()=>{}}),ree=({children:t})=>{let[n,e]=D.useState({}),r=D.useCallback(i=>{var a=i,{id:s}=a,l=zJ(a,["id"]);s&&e(c=>vp(ct({},c),{[s]:l}))},[]);return O.createElement(SU.Provider,{value:{sizes:n,updateSize:r}},t)},iee=()=>D.useContext(SU),qs=(t=>(t.Row="row",t.Column="column",t))(qs||{}),Zb=(t=>(t.Center="center",t.Left="left",t.Right="right",t.Top="top",t.Bottom="bottom",t))(Zb||{}),el=(t=>(t[t.FillParent=0]="FillParent",t[t.WrapContent=1]="WrapContent",t))(el||{}),aee=(t=>(t.Normal="normal",t.Bold="bold",t))(aee||{}),$g=(t=>(t.AspectFit="aspectFit",t.AspectFill="aspectFill",t.ScalesToFill="scalesToFill",t))($g||{}),NU=[1,2],Mb=t=>{switch(t){case"right":case"bottom":return"flex-end";case"center":return"center";case"left":case"top":default:return"flex-start"}},see=t=>t?NU.includes(Number(t)):!0,oee=t=>{let n=new Map,e=function(r){return(n.has(r)||n.set(r,t.call(this,r)))&&n.get(r)};return e.cache=n,e},lee=oee(t=>{let n=(e,r)=>{"items"in e&&e?.items!=null&&e.items.forEach((i,a)=>{let s=`${r}-${a}`;i.id=s,n(i,s)})};return t.forEach((e,r)=>{let i=`${r}`;e.id=i,n(e,i)}),t}),bs={rootLayout:"column",view:{size:{width:{type:"flex",value:0},height:{type:"flex",value:1}}},box:{layout:"row",align:{vertical:"top",horizontal:"left"}},textButton:{maxTextLines:1},carousel:{style:{spacing:10,maxChildWidth:240}},cascade:{layout:"column",style:{spacing:10}}},AU=t=>{let n=t.Container||O.Fragment,e=t.UnknownMessage||(()=>null),r=t.parser||TU(),i=t.renderer||CU(),a=({templateItems:s,templateVersion:l,parentLayout:c=bs.box.layout,depth:d=0})=>{if(!see(l))throw new Error(`Cannot parse template item due to unsupported template version: ${l}, ${NU}`);return O.createElement(O.Fragment,null,s.map((f,v,g)=>{let y=r.parse(f,{parentLayout:c,depth:d,elemIdx:v,siblings:g}),b=y.transformed,C={key:v,siblings:g,parentLayout:c,parsedProperties:y.properties,rawProperties:f};switch(b.type){case"carouselView":{if(!Array.isArray(b.items))throw new Error("Cannot parse template item as Carousel if carousel has no items.");return O.createElement(i.carouselView,ct(ct({},b),C),b.items.map((w,I)=>O.createElement(a,{key:I,templateItems:w.body.items||[],depth:d+1,templateVersion:w.version})))}case"cascadeView":{if(!Array.isArray(b.items))throw new Error("Cannot parse template item as Cascade if cascade has no items.");return O.createElement(i.cascadeView,ct(ct({},b),C),b.items.map((w,I)=>O.createElement(a,{key:I,templateItems:w.body.items||[],depth:d+1,templateVersion:w.version})))}case"box":return O.createElement(i.box,ct(ct({},b),C),O.createElement(a,{templateItems:b.items||[],parentLayout:b.layout,depth:d+1,templateVersion:l}));case"text":return O.createElement(i.text,ct(ct({},b),C));case"image":return O.createElement(i.image,ct(ct({},b),C));case"textButton":return O.createElement(i.textButton,ct(ct({},b),C));case"imageButton":return O.createElement(i.imageButton,ct(ct({},b),C));default:return O.createElement(e,{item:b})}}))};return{MessageTemplate:({templateVersion:s,templateItems:l,parentLayout:c=bs.rootLayout})=>{let d=lee(l);return O.createElement(ree,null,O.createElement(n,{className:"sb-message-template__parent"},O.createElement(a,{isRoot:!0,parentLayout:c,templateItems:d,templateVersion:s})))},MessageTemplateBase:a}},uee=(t=>(t.Web="web",t.Custom="custom",t.UIKit="uikit",t.Internal="internal",t))(uee||{}),cee=Object.defineProperty,dee=Object.defineProperties,hee=Object.getOwnPropertyDescriptors,z1=Object.getOwnPropertySymbols,wU=Object.prototype.hasOwnProperty,IU=Object.prototype.propertyIsEnumerable,aD=(t,n,e)=>n in t?cee(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,Jr=(t,n)=>{for(var e in n||(n={}))wU.call(n,e)&&aD(t,e,n[e]);if(z1)for(var e of z1(n))IU.call(n,e)&&aD(t,e,n[e]);return t},Ap=(t,n)=>dee(t,hee(n)),wp=(t,n)=>{var e={};for(var r in t)wU.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&z1)for(var r of z1(t))n.indexOf(r)<0&&IU.call(t,r)&&(e[r]=t[r]);return e};function fee(t){var n;return t.type===p2.Text&&((n=t.width)==null?void 0:n.value)==el.WrapContent}var sD=({size:t,option:n})=>n==="wrap"?t.type==="flex"&&t.value==el.WrapContent:n==="fill"?t.type==="flex"&&t.value==el.FillParent:t.type==="fixed",pee=t=>{var n;return typeof t!="string"?!1:((n=t.split(".").pop())==null?void 0:n.toLowerCase())==="gif"},Mc=(...t)=>t.filter(n=>!!n).join(" "),mee=(t="")=>["http://","https://","ftp://"].some(n=>t.startsWith(n)),oD=(t="")=>mee(t)?t:`https://${t}`;function Gf(t){return Jr({display:"flex",overflow:"hidden",boxSizing:"border-box"},t)}function zf(t,n,e){yee(t,n,e),_ee(t,n)}function vee(t,n,e,r){n&&(t["--border-width"]=`${n}px`,t["--border-color"]=e||"transparent"),r&&(t.borderRadius=r,t["--border-radius"]=`${r}px`)}function _ee(t,n){var e,r,i,a,s,l,c,d,f,v,g,y;let{viewStyle:b}=n;t.paddingBlockStart=(e=b?.padding)==null?void 0:e.top,t.paddingBlockEnd=(r=b?.padding)==null?void 0:r.bottom,t.paddingInlineStart=(i=b?.padding)==null?void 0:i.left,t.paddingInlineEnd=(a=b?.padding)==null?void 0:a.right,t.marginBlockStart=(s=b?.margin)==null?void 0:s.top,t.marginBlockEnd=(l=b?.margin)==null?void 0:l.bottom,t.marginInlineStart=(c=b?.margin)==null?void 0:c.left,t.marginInlineEnd=(d=b?.margin)==null?void 0:d.right;let C=((v=(f=b?.margin)==null?void 0:f.left)!=null?v:0)+((y=(g=b?.margin)==null?void 0:g.right)!=null?y:0);C>0&&t.width==="100%"&&(t.width=`calc(100% - ${C}px)`),b!=null&&b.backgroundColor&&(t.backgroundColor=b.backgroundColor),b!=null&&b.backgroundImageUrl&&(t.backgroundImage=`url(${JSON.stringify(b.backgroundImageUrl)})`,t.backgroundSize="100% 100%",t.backgroundPosition="center"),vee(t,b?.borderWidth,b?.borderColor,b?.radius)}function gee(t,n,e){let r={};return t.type==="flex"&&t.value==el.FillParent?(r.width="100%",e===qs.Row&&(r.flex=1)):t.type==="flex"&&t.value==el.WrapContent?(r.width="fit-content",e===qs.Row&&(r.flexShrink=0)):t.type==="fixed"&&t.value>=0&&(r.width=t.value,e===qs.Row&&(r.flexShrink=0)),n.type==="flex"&&n.value==el.FillParent?(r.height="100%",e===qs.Column&&(r.flex=1)):n.type==="flex"&&n.value==el.WrapContent?(r.height="fit-content",e===qs.Column&&(r.flexShrink=0)):n.type==="fixed"&&n.value>=0&&(r.height=n.value,e===qs.Column&&(r.flexShrink=0)),r}function yee(t,n,e){var r,i;let{width:a,height:s}=bs.view.size,{parentLayout:l}=e,c=gee((r=n.width)!=null?r:a,(i=n.height)!=null?i:s,l);Object.assign(t,c)}function kC(t,n=bs.box.layout,e=bs.box.align){n===qs.Row&&(t.flexDirection="row",t.alignItems=Mb(e.vertical),t.justifyContent=Mb(e.horizontal)),n===qs.Column&&(t.flexDirection="column",t.alignItems=Mb(e.horizontal),t.justifyContent=Mb(e.vertical))}function Eee(t,n=bs.box.align.horizontal){switch(n){case Zb.Left:t.textAlign="start";break;case Zb.Right:t.textAlign="end";break;case Zb.Center:t.textAlign="center";break;default:t.textAlign="start";break}}function lD(t,n){let{contentMode:e=$g.AspectFit}=n||{};if(e)switch(e){case $g.AspectFill:t.objectFit="cover";break;case $g.AspectFit:t.objectFit="contain";break;case $g.ScalesToFill:t.objectFit="fill";break}}function uD(t,n){var e,r,i,a;let s=n?.metaData;!(s!=null&&s.pixelHeight)||!(s!=null&&s.pixelWidth)||((e=n?.width)==null?void 0:e.type)==="fixed"||((r=n?.height)==null?void 0:r.type)==="fixed"||(t.aspectRatio=`${(i=n?.metaData)==null?void 0:i.pixelWidth} / ${(a=n?.metaData)==null?void 0:a.pixelHeight}`)}function cD(t){return{WebkitLineClamp:t,WebkitBoxOrient:"vertical",display:"-webkit-box",overflow:"hidden",overflowWrap:"anywhere",flex:1}}function dD(t,n,e){let{textStyle:r,width:i}=n,{size:a,color:s,weight:l}=r||{};if(a&&(t.fontSize=a),s&&(t.color=s),l&&(t.fontWeight=l),i?.type==="flex"&&i?.value==el.WrapContent&&(t.width="fit-content",t.maxWidth="100%"),n.type===p2.Text){let{siblings:c,elemIdx:d}=e;c!=null&&c.length>=2&&c.every(fee)&&(t.flexShrink=c.length-1===d?1:0)}}var MU=TU({mapBoxProps(t,n){let e=Gf();return zf(e,t,n),kC(e,t.layout,t.align),e},mapTextProps(t,n){var e;let r=Gf({whiteSpace:"pre-line",wordBreak:"break-word"});return zf(r,t,n),dD(r,t,n),kC(r,qs.Row,t.align),Eee(r,(e=t.align)==null?void 0:e.horizontal),r},mapImageProps(t,n){let e=Gf();return zf(e,t,n),lD(e,t.imageStyle),uD(e,t),e},mapTextButtonProps(t,n){let e=Gf({whiteSpace:"pre-line",alignItems:"center",justifyContent:"center"});return zf(e,t,n),dD(e,t,n),e},mapImageButtonProps(t,n){let e=Gf();return zf(e,t,n),lD(e,t.imageStyle),uD(e,t),e},mapCarouselProps(t,n){let e=Gf();return zf(e,t,n),e},mapCascadeProps(t,n){var e,r;let i=Gf();return zf(i,t,n),kC(i,bs.cascade.layout),i.gap=(r=(e=t.cascadeStyle)==null?void 0:e.spacing)!=null?r:bs.cascade.style.spacing,i}}),bee=24,hD=5;function Tee({spacing:t,childrenLength:n,paddingInlineStart:e,paddingInlineEnd:r}){let i=D.useRef(null),a=D.useRef(Array.from({length:n},()=>O.createRef())),s=D.useRef(!1),l=D.useRef(!1),c=D.useRef(null),d=D.useRef({sx:null,sy:null,offset:0,translateX:0,currentIndex:0,didMove:!1}),[f,v]=D.useState(()=>a.current.map(()=>0)),[g,y]=D.useState(!1),b=g?-1:1,C=D.useMemo(()=>{let F=e;return f.map((te,J)=>{let ne=J>0?t:0,Oe=F-ne,X=Oe-te;return F=X,{start:Oe,end:X}})},[f,t,e]),w=D.useMemo(()=>{let F=f.reduce((J,ne)=>J+ne,0),te=t*(n-1);return F+te},[f,t,n]);D.useLayoutEffect(()=>{if(i.current){let F=getComputedStyle(i.current).direction;y(F==="rtl")}},[]),D.useLayoutEffect(()=>{v(a.current.map(F=>{var te,J;return(J=(te=F.current)==null?void 0:te.clientWidth)!=null?J:0}))},[n]),D.useLayoutEffect(()=>{C.length>0&&(d.current.translateX=C[0].start,P())},[C]);let I=()=>{i.current&&(s.current=!0,i.current.style.cursor="grabbing",i.current.style.transition="none",c.current=requestAnimationFrame(P))},M=()=>{i.current&&(s.current=!1,i.current.style.cursor="grab",i.current.style.transition="transform 0.5s ease",c.current&&(cancelAnimationFrame(c.current),c.current=null))},R=()=>{let{offset:F,currentIndex:te}=d.current,J=Math.abs(F)>=bee,ne=F<0&&te<n-1,Oe=F>0&&te>0,X=te;J&&ne?X=te+1:J&&Oe&&(X=te-1);function se($){var le,he;let xe=(he=(le=i.current)==null?void 0:le.clientWidth)!=null?he:0,Ge=e,Q=Math.min(0,xe-w)-r;return Math.min(Ge,Math.max($,Q))}d.current.currentIndex=X,d.current.translateX=se(C[X].start),d.current.offset=0},U=()=>{l.current=!0},H=()=>{l.current=!1},P=()=>{if(i.current){let F=(d.current.translateX+d.current.offset)*b;i.current.style.transform=`translateX(${F}px)`}c.current&&(c.current=requestAnimationFrame(P))},G=()=>{i.current&&(i.current.style.touchAction="pan-x")},Y=()=>{i.current&&(i.current.style.touchAction="pan-y")};return{carouselRef:i,childrenRefs:a,handlers:{onMouseDown:F=>{I(),H(),d.current.sx=F.clientX,d.current.sy=F.clientY,d.current.offset=0,d.current.didMove=!1,c.current=requestAnimationFrame(P)},onMouseMove:F=>{!s.current||d.current.sx===null||(d.current.offset=(F.clientX-d.current.sx)*b,Math.abs(d.current.offset)>hD&&(d.current.didMove=!0))},onMouseUp:F=>{s.current&&(H(),R(),M(),d.current.didMove&&(F.preventDefault(),F.stopPropagation()))},onMouseLeave:F=>{s.current&&(H(),R(),M(),d.current.didMove&&(F.preventDefault(),F.stopPropagation()))},onTouchStart:F=>{H(),M();let te=F.touches[0];d.current.sx=te.clientX,d.current.sy=te.clientY,d.current.offset=0,d.current.didMove=!1,c.current=requestAnimationFrame(P)},onTouchMove:F=>{if(d.current.sx===null||d.current.sy===null||l.current)return;let{clientX:te,clientY:J}=F.touches[0],{sx:ne,sy:Oe}=d.current;if(s.current){d.current.offset=(te-ne)*b,Math.abs(d.current.offset)>hD&&(d.current.didMove=!0);return}Math.abs(J-Oe)>Math.abs(te-ne)?U():(d.current.offset=(te-ne)*b,G(),I())},onTouchEnd:F=>{Y(),H(),R(),M(),d.current.didMove&&(F.preventDefault(),F.stopPropagation())},onClickCapture:F=>{d.current.didMove&&(F.preventDefault(),F.stopPropagation())}}}}var Cee=t=>{var n=t,{children:e,style:r,spacing:i=bs.carousel.style.spacing,maxChildWidth:a=bs.carousel.style.maxChildWidth,inlineStyle:s}=n,l=wp(n,["children","style","spacing","maxChildWidth","inlineStyle"]);let c=r??{},{paddingInlineStart:d=0,paddingInlineEnd:f=0}=c,v=wp(c,["paddingInlineStart","paddingInlineEnd"]),{carouselRef:g,childrenRefs:y,handlers:b}=Tee({spacing:i,childrenLength:e.length,paddingInlineStart:Number(d),paddingInlineEnd:Number(f)});return O.createElement("div",Jr(Ap(Jr({},b),{ref:g,style:Jr(Ap(Jr({},v),{gap:i,width:"100%",overflow:"visible"}),s)}),l),e.map((C,w)=>O.createElement(See,{ref:y.current[w],key:w,maxChildWidth:a},C)))},See=O.forwardRef(function({maxChildWidth:t,children:n},e){let r=Nee(n.props,t)?t:"fit-content";return O.createElement("div",{ref:e,style:{maxWidth:r,width:"100%",flexShrink:0,overflow:"hidden",userSelect:"none"}},n)});function Nee(t,n){return!!t.templateItems.find(e=>{var r;let i=(r=e.width)!=null?r:bs.view.size.width,a=i.type==="flex"&&i.value===el.FillParent,s=i.type==="fixed"&&i.value>=n;return a||s})}var Aee=t=>{let{imageSize:n,canvasRef:e,canvasProps:r}=wee(t);return O.createElement("canvas",Ap(Jr({},r),{ref:e,width:n?.width,height:n?.height,onError:t.onError}))},wee=t=>{var n=t,{metaData:e,tintColor:r}=n,i=wp(n,["metaData","tintColor"]);let a=D.useRef(null),[s,l]=D.useState(),c=D.useMemo(()=>e!=null&&e.pixelHeight&&e!=null&&e.pixelWidth?{width:e.pixelWidth,height:e.pixelHeight}:s,[s,e?.pixelHeight,e?.pixelWidth]);return D.useEffect(()=>{if(c==null&&a.current){a.current.style.width="100%",a.current.style.height="100%";let d=a.current.getBoundingClientRect();l(d)}},[c]),D.useEffect(()=>{if(i.src){let d=new Image,f=()=>{if(a.current&&r&&c){let g=a.current.getContext("2d");if(g){let{width:y,height:b}=c;g.clearRect(0,0,y,b),g.beginPath(),g.globalCompositeOperation="source-over",g.fillStyle="#000",g.drawImage(d,0,0,y,b),g.globalCompositeOperation="source-atop",g.fillStyle=r,g.fillRect(0,0,y,b)}}},v=g=>{var y;(y=i.onError)==null||y.call(i,g)};return d.addEventListener("load",f),d.addEventListener("error",v),d.src=i.src,()=>{d.removeEventListener("load",f),d.removeEventListener("error",v)}}},[i.src,c,r]),{canvasRef:a,canvasProps:i,imageSize:c}},Iee=t=>O.createElement("img",Ap(Jr({},t),{onError:t.onError,draggable:!1,referrerPolicy:"no-referrer"})),Mee=t=>O.createElement("div",{style:Ap(Jr({},t.style),{backgroundColor:"transparent"})}),fD=t=>{var n=t,{tintColor:e,metaData:r}=n,i=wp(n,["tintColor","metaData"]);let{hasError:a,onError:s}=Oee(i.src);return i.onError&&console.warn("`onError` is intercepted and not executed in the ReactMessageTemplateImage."),a?O.createElement(Mee,Jr({},i)):e&&!pee(i.src)?O.createElement(Aee,Ap(Jr({},i),{onError:s,tintColor:e,metaData:r})):O.createElement(Iee,Ap(Jr({},i),{onError:s}))},Oee=t=>{let[n,e]=D.useState(!1);return D.useEffect(()=>e(!1),[t]),{hasError:n,onError:D.useCallback(()=>e(!0),[])}},Ree=O.createContext(null),OU=()=>{let t=O.useContext(Ree);if(!t)throw new Error("useMessageContext must be used within a MessageProvider");return t};function Vf(t){let{highlight:n}=OU();return{className:n!=null&&n.getContainerClassName?n.getContainerClassName(t):void 0,style:n!=null&&n.getContainerInlineStyle?n.getContainerInlineStyle(t):void 0,renderText:n!=null&&n.renderText?n.renderText:e=>e}}function RU(t){let n=D.useRef(t);return D.useEffect(()=>{n.current=t},[t]),D.useCallback((...e)=>n.current(...e),[n])}function Dee(t,n){let e=RU(t),r=D.useRef(pD);return D.useCallback(i=>{if(r.current(),r.current=pD,i!=null){let a=t(i);typeof a=="function"&&(r.current=a)}},[e,...n])}function pD(){}function xee(t){let n=RU(t);return Dee(e=>{let r=new ResizeObserver(i=>{i[0]!=null&&n(i[0])});return r.observe(e),()=>{r.unobserve(e)}},[n])}function Lee(){let[t,n]=D.useState(-1),[e,r]=D.useState(-1),[i,a]=D.useState(-1),[s,l]=D.useState(-1),[c,d]=D.useState(-1),[f,v]=D.useState(-1);return{ref:xee(g=>{let{width:y,height:b}=g.contentRect,C=g.target,{width:w,height:I}=C.getBoundingClientRect();n(w),r(I),a(y),l(b),d(w-y),v(I-b)}),width:t,height:e,contentWidth:i,contentHeight:s,paddingWidth:c,paddingHeight:f}}function Ob({width:t=bs.view.size.width,height:n=bs.view.size.height,parentLayout:e=bs.box.layout,option:r}){return e===qs.Row?sD({size:t,option:r}):sD({size:n,option:r})}function Uee(t){let{style:n,props:e}=t,r=Lee(),{ref:i}=r,a=wp(r,["ref"]),{updateSize:s,sizes:l}=iee(),{id:c,siblings:d,parentLayout:f}=e,{width:v,height:g,paddingWidth:y,paddingHeight:b,contentWidth:C,contentHeight:w}=a;return D.useEffect(()=>{s({id:e.id,width:v,height:g,paddingWidth:y,paddingHeight:b,contentWidth:C,contentHeight:w})},[e.id,v,g,y,b,C,w,s]),{recalculatedStyle:D.useMemo(()=>{let I=(M=0,R)=>{var U,H,P,G;return f===qs.Row?M+((H=(U=l[R.id])==null?void 0:U.contentWidth)!=null?H:0):M+((G=(P=l[R.id])==null?void 0:P.contentHeight)!=null?G:0)};if(Ob({width:e.width,height:e.height,parentLayout:f,option:"fill"})){let M=d.filter(({width:H,height:P})=>!Ob({width:H,height:P,parentLayout:f,option:"fill"})).reduce(I,0),R=d.filter(({width:H,height:P})=>Ob({width:H,height:P,parentLayout:f,option:"fill"})).length,U=f===qs.Row?{maxWidth:`calc((100% - ${M}px) / ${R})`}:{maxHeight:`calc((100% - ${M}px) / ${R})`};return Jr(Jr(Jr({},n),U),v==0&&{height:0})}else{let M=d.findIndex(U=>U.id===c),R=d.slice(0,M).filter(({width:U,height:H})=>Ob({width:U,height:H,parentLayout:f,option:"wrap"})).reduce(I,0);return Jr(Jr(Jr({},n),v===0&&{height:0}),f===qs.Row?{maxWidth:`calc(100% - ${R}px)`}:{maxHeight:`calc(100% - ${R}px)`})}},[e.width,e.height,f,l,d,n,v,c]),elemRef:i}}var rv=({children:t,props:n,className:e,style:r,inlineStyle:i})=>{var a;let s=r??{},{paddingBlockStart:l,paddingBlockEnd:c,paddingInlineStart:d,paddingInlineEnd:f}=s,v=wp(s,["paddingBlockStart","paddingBlockEnd","paddingInlineStart","paddingInlineEnd"]),{recalculatedStyle:g,elemRef:y}=Uee({style:v,props:n}),{handleWebAction:b,handleCustomAction:C,handleUIKitAction:w,handleInternalAction:I}=OU(),M=(a=n.viewStyle)!=null&&a.borderWidth?"sb-message-template__border":"",R=n.action?"sb-message-template__action":"",U=ne=>{var Oe,X,se,$,le,he,xe,Ge;((Oe=n.action)==null?void 0:Oe.type)==="web"?b?b(ne,n.action):(se=window?.open(oD((X=n?.action)==null?void 0:X.data),"_blank","noopener noreferrer"))==null||se.focus():(($=n.action)==null?void 0:$.type)==="custom"?C?C(ne,n.action):(he=window?.open(oD((le=n?.action)==null?void 0:le.data),"_blank","noopener noreferrer"))==null||he.focus():((xe=n.action)==null?void 0:xe.type)==="uikit"?w?.(ne,n.action):((Ge=n.action)==null?void 0:Ge.type)==="internal"&&I?.(ne,n.action)};if(n.type===p2.TextButton)return O.createElement("button",{className:Mc(e,M,R),"data-sb-template-id":n.elementId,style:Jr(Jr({},r),i),onClick:U},t);let H=g,{display:P,flexDirection:G,justifyContent:Y,alignItems:F,objectFit:te}=H,J=wp(H,["display","flexDirection","justifyContent","alignItems","objectFit"]);return O.createElement("div",{ref:y,className:Mc(e,M,R),"data-sb-template-id":n.elementId,style:Jr(Jr({},J),i),onClick:U},O.createElement("div",{style:{display:P,flexDirection:G,justifyContent:Y,alignItems:F,objectFit:te,width:"100%",height:"100%",paddingBlockStart:l,paddingBlockEnd:c,paddingInlineStart:d,paddingInlineEnd:f,gap:r?.gap}},t))},DU=CU({views:{box(t){let n=Vf(t.rawProperties);return O.createElement(rv,{className:Mc("sb-message-template__box",n.className),inlineStyle:n.style,elementId:t.elementId,style:t.parsedProperties,props:t},t.children)},text(t){let n=Vf(t.rawProperties);return O.createElement(rv,{className:Mc("sb-message-template__text",n.className),inlineStyle:n.style,elementId:t.elementId,style:t.parsedProperties,props:t},mD(t,n.renderText))},image(t){var n;let e=Vf(t.rawProperties);return O.createElement(rv,{className:Mc("sb-message-template__image-container",e.className),inlineStyle:e.style,elementId:t.elementId,style:t.parsedProperties,props:t},O.createElement(fD,{className:"sb-message-template__image",alt:"image",src:t.imageUrl,style:{width:"100%",height:"100%",aspectRatio:"inherit",objectFit:"inherit"},tintColor:(n=t.imageStyle)==null?void 0:n.tintColor,metaData:t.metaData}))},textButton(t){let n=Vf(t.rawProperties);return O.createElement(rv,{className:Mc("sb-message-template__text-button",n.className),inlineStyle:n.style,elementId:t.elementId,style:t.parsedProperties,props:t},mD(Jr({maxTextLines:bs.textButton.maxTextLines},t),n.renderText))},imageButton(t){var n;let e=Vf(t.rawProperties);return O.createElement(rv,{className:Mc("sb-message-template__image-container","sb-message-template__image-button",e.className),inlineStyle:e.style,elementId:t.elementId,style:t.parsedProperties,props:t},O.createElement(fD,{className:"sb-message-template__image",alt:"image-button",src:t.imageUrl,style:{width:"100%",height:"100%",aspectRatio:"inherit",objectFit:"inherit"},tintColor:(n=t.imageStyle)==null?void 0:n.tintColor,metaData:t.metaData}))},carouselView(t){var n,e;let r=Vf(t.rawProperties);return O.createElement(Cee,{className:Mc("sb-message-template__carousel",r.className),inlineStyle:r.style,maxChildWidth:(n=t.carouselStyle)==null?void 0:n.maxChildWidth,spacing:(e=t.carouselStyle)==null?void 0:e.spacing,style:t.parsedProperties},t.children)},cascadeView(t){let n=Vf(t.rawProperties);return O.createElement(rv,{className:Mc("sb-message-template__cascade",n.className),inlineStyle:n.style,elementId:t.elementId,style:t.parsedProperties,props:t},t.children)}}});function kee(t,n){return t.split(`
`).map((e,r)=>O.createElement(O.Fragment,{key:r},n(e),O.createElement("br",null)))}function mD(t,n){let{text:e,maxTextLines:r}=t,i=Pee(t),a=typeof r=="number"&&r>0,s=kee(e,n);if(a||i){let l=Jr(Jr({},(a||i)&&{maxWidth:"100%"}),i&&{maxHeight:"100%",overflow:"hidden"});return O.createElement("div",{style:l},a?O.createElement("div",{style:cD(r)},s):s)}return a?O.createElement("div",{style:cD(r)},s):s}function Pee(t){var n,e,r,i;let a=(n=t?.height)==null?void 0:n.type,s=(e=t?.width)==null?void 0:e.type,l=a==="fixed"||s==="fixed",c=a==="flex"&&((r=t?.height)==null?void 0:r.value)===el.FillParent||s==="flex"&&((i=t?.width)==null?void 0:i.value)===el.FillParent;return l||c}AU({renderer:DU,parser:MU,Container:({children:t,className:n})=>O.createElement("div",{className:`sb-message-template__parent ${n}`,style:{display:"flex",flexDirection:"column",maxWidth:400,marginBlockEnd:24}},t)});AU({parser:MU,renderer:DU,Container:function(t){var n=t.children,e=t.className;return O.createElement("div",{className:["sb-message-template__parent ".concat(e),"sendbird-message-template__root"].join(" ")},n)}}).MessageTemplate;(function(t){w4(n,t);function n(e){var r=t.call(this,e)||this;return r.state={hasError:!1},r}return n.getDerivedStateFromError=function(){return{hasError:!0}},n.prototype.componentDidCatch=function(e,r){var i;(i=this.props.logger)===null||i===void 0||i.error("Error caught by ErrorBoundary: ",e,r)},n.prototype.render=function(){return this.state.hasError?this.props.fallbackMessage:this.props.children},n})(D.Component);O.forwardRef(function(t,n){var e=t.children,r=t.isSelected,i=t.onClick,a=i===void 0?function(){}:i,s=t.disabled,l=s===void 0?!1:s;return O.createElement("button",{className:["sendbird-iconbutton__feedback",r?"sendbird-iconbutton__feedback__pressed":"",l?"sendbird-iconbutton__feedback__disabled":""].join(" "),ref:n,type:"button",onClick:function(c){a?.(c)},disabled:l},O.createElement("span",{className:["sendbird-iconbutton__feedback__inner",r?"sendbird-iconbutton__feedback__inner__pressed":"",l?"sendbird-iconbutton__feedback__inner__disabled":""].join(" ")},e))});O.forwardRef(function(t,n){var e=t.name,r=t.required,i=t.disabled,a=t.value,s=t.placeHolder,l=t.autoFocus,c=l===void 0?!1:l,d=D.useState(a),f=d[0],v=d[1];return O.createElement("div",{className:"sendbird-input"},O.createElement("input",{className:"sendbird-input__input",ref:n,name:e,required:r,disabled:i,value:f,onChange:function(g){v(g.target.value)},autoFocus:c}),s&&!f&&O.createElement(zt,{className:"sendbird-input__placeholder",type:Gt.BODY_1,color:_t.ONBACKGROUND_3},s))});var vD;(function(t){t.NOT_APPLICABLE="NOT_APPLICABLE",t.NO_FEEDBACK="NO_FEEDBACK",t.SUBMITTED="SUBMITTED"})(vD||(vD={}));function Fee(t){var n=t.member,e=t.isFocused,r=e===void 0?!1:e,i=t.parentScrollRef,a=t.onClick,s=t.onMouseOver,l=t.onMouseMove,c=t.renderUserMentionItem,d=D.useRef(null),f=D.useContext(Jc).stringSet;D.useEffect(function(){r&&i?.current!=null&&d?.current!=null&&(i.current.scrollTop>=d.current.offsetTop||i.current.scrollTop+i.current.clientHeight<=d.current.offsetTop)&&d.current.scrollIntoView({block:"nearest",inline:"nearest"})},[r]);var v=D.useMemo(function(){if(c)return O.createElement("div",{className:"sendbird-mention-suggest-list__user-item",onClick:function(g){return a?.({event:g,member:n,itemRef:d})},onMouseOver:function(g){return s?.({event:g,member:n,itemRef:d})},onMouseMove:function(g){return l?.({event:g,member:n,itemRef:d})},key:n?.userId||Sp(),ref:d},c({user:n}))},[c]);return v||O.createElement("div",{className:$i("sendbird-mention-suggest-list__user-item",r&&"focused"),onClick:function(g){return a?.({event:g,member:n,itemRef:d})},onMouseOver:function(g){return s?.({event:g,member:n,itemRef:d})},onMouseMove:function(g){return l?.({event:g,member:n,itemRef:d})},key:n?.userId||Sp(),ref:d},O.createElement(jc,{className:"sendbird-mention-suggest-list__user-item__avatar",src:n?.profileUrl,alt:"user-profile",width:"24px",height:"24px"}),O.createElement(zt,{className:"sendbird-mention-suggest-list__user-item__nickname",testID:"sendbird-mention-suggest-list__user-item__nickname",type:Gt.SUBTITLE_2,color:n?.nickname?_t.ONBACKGROUND_1:_t.ONBACKGROUND_3},n?.nickname||f?.MENTION_NAME__NO_NAME),O.createElement(zt,{className:"sendbird-mention-suggest-list__user-item__user-id",testID:"sendbird-mention-suggest-list__user-item__user-id",type:Gt.SUBTITLE_2,color:_t.ONBACKGROUND_2},n?.userId))}function Hee(t,n,e,r){return nl(this,void 0,void 0,function(){return rl(this,function(i){return[2,n.members.sort(function(a,s){var l;return(l=a.nickname)===null||l===void 0?void 0:l.localeCompare(s.nickname)}).filter(function(a){var s;return((s=a.nickname)===null||s===void 0?void 0:s.toLowerCase().startsWith(r.toLowerCase()))&&a.userId!==t&&a.isActive}).slice(0,e)]})})}function Bee(t,n,e,r){return nl(this,void 0,void 0,function(){var i;return rl(this,function(a){return i=n.createMemberListQuery({limit:e+1,nicknameStartsWithFilter:r}),[2,i.next().then(function(s){return s.filter(function(l){return t!==l?.userId}).slice(0,e)})]})})}var Gee=300,xU=function(t){var n,e,r,i=t.className,a=t.currentChannel,s=t.targetNickname,l=s===void 0?"":s,c=t.onUserItemClick,d=t.onFocusItemChange,f=t.onFetchUsers,v=t.renderUserMentionItem,g=t.inputEvent,y=t.ableAddMention,b=y===void 0?!0:y,C=t.maxMentionCount,w=C===void 0?xX:C,I=t.maxSuggestionCount,M=I===void 0?LX:I,R=$a().state,U=R.config,H=R.stores,P=U.logger,G=((r=(e=(n=H?.sdkStore)===null||n===void 0?void 0:n.sdk)===null||e===void 0?void 0:e.currentUser)===null||r===void 0?void 0:r.userId)||"",Y=D.useRef(null),F=Ka().stringSet,te=D.useState(null),J=te[0],ne=te[1],Oe=D.useState(""),X=Oe[0],se=Oe[1],$=D.useState(""),le=$[0],he=$[1],xe=D.useState(null),Ge=xe[0],Q=xe[1],fe=D.useState([]),Ae=fe[0],$e=fe[1];return D.useEffect(function(){clearTimeout(J??void 0),ne(setTimeout(function(){se(l)},Gee))},[l]),D.useEffect(function(){if(g?.key===Yl.Enter&&Ge&&Ae.length>0&&c?.(Ge),g?.key===Yl.ArrowUp){var Te=Ae.findIndex(function(Fe){return Fe?.userId===Ge?.userId});0<Te&&(Q(Ae[Te-1]),d?.(Ae[Te-1]))}if(g?.key===Yl.ArrowDown){var Te=Ae.findIndex(function(Je){return Je?.userId===Ge?.userId});Te<Ae.length-1&&(Q(Ae[Te+1]),d?.(Ae[Te+1]))}},[g]),D.useEffect(function(){if(!(le&&X.indexOf(le)===0&&Ae.length===0)){if(a?.isSuper&&!a?.createMemberListQuery){P.warning("SuggestedMentionList: Creating member list query failed");return}var Te=a?.isSuper?Bee:Hee;Te(G,a,M,X.slice(g0.length)).then(function(Fe){Fe.length<1?P.info("SuggestedMentionList: Fetched member list is empty"):(P.info("SuggestedMentionList: Fetching member list succeeded",{memberList:Fe}),Q(Fe[0])),he(X),f?.(Fe),$e(Fe)}).catch(function(Fe){Fe&&P.error("SuggestedMentionList: Fetching member list failed",Fe)})}},[a?.url,a?.members.map(function(Te){return Te.nickname}).join(),a?.members.map(function(Te){return Te.isActive}).join(),X,M,G,Ae.length,le]),!b&&Ae.length===0?null:O.createElement("div",{className:$i("sendbird-mention-suggest-list",i),"data-testid":"sendbird-mention-suggest-list",key:"sendbird-mention-suggest-list",ref:Y},b&&Ae?.map(function(Te){return O.createElement(Fee,{key:Te?.userId||Sp(),member:Te,isFocused:Te?.userId===Ge?.userId,parentScrollRef:Y,onClick:function(Fe){var Je=Fe.member;c?.(Je)},onMouseOver:function(Fe){var Je=Fe.member;Q(Je)},renderUserMentionItem:v})}),!b&&O.createElement("div",{className:"sendbird-mention-suggest-list__notice-item"},O.createElement(rn,{className:"sendbird-mention-suggest-list__notice-item__icon",type:Vt.INFO,fillColor:Yt.ON_BACKGROUND_2,width:"20px",height:"20px"}),O.createElement(zt,{className:"sendbird-mention-suggest-list__notice-item__text",type:Gt.SUBTITLE_2,color:_t.ONBACKGROUND_2},F.MENTION_COUNT__OVER_LIMIT.replace("%d",String(w)))))};function zee(t,n){return qc(n).when(il,function(){var e=n.fileInfoList.length;return"Do you want to delete all ".concat(e," photos?")}).otherwise(function(){return t.MODAL__DELETE_MESSAGE__TITLE})}var Vee=function(t,n,e,r,i,a){if(!i||i.channelType!=="group")return[Rb(t,n,r),Rb(n,e,r)];if(a==="THREAD"&&n?.threadInfo)return[!1,!1];var s=n?.sendingStatus||"",l=s!=="pending"&&s!=="failed";return[Rb(t,n,r,i)&&l,Rb(n,e,r,i)&&l]},_D=function(t,n){return Uv(t.createdAt,n.DATE_FORMAT__MESSAGE_CREATED_AT)},Rb=function(t,n,e,r){var i,a;return t&&n&&t.messageType&&t.messageType!=="admin"&&n.messageType&&n?.messageType!=="admin"&&"sender"in t&&"sender"in n&&t.createdAt&&n.createdAt&&t.sender.userId&&n.sender.userId?t?.sendingStatus===n?.sendingStatus&&((i=t?.sender)===null||i===void 0?void 0:i.userId)===((a=n?.sender)===null||a===void 0?void 0:a.userId)&&_D(t,e)===_D(n,e)&&(r?AR(r,t)===AR(r,n):!0):!1},LU=function(t,n,e){t===void 0&&(t=0);var r=10,i=t;if(!(i>r))try{var a=n?.current||document.querySelector(".sendbird-conversation__messages-padding");a&&(a.scrollTop=a.scrollHeight),e?.(!0)}catch{setTimeout(function(){LU(i+1,n,e)},500*i)}},qee=function(t){var n=t?.myRole;return n==="operator"},jee=function(t){var n=t?.isFrozen;return n&&!qee(t)},$ee=function(t){var n=t?.myMutedState;return n==="muted"},V1=function(t,n,e){return Math.abs(t-n)<=e};D.forwardRef(function(t,n){var e=t.messages,r=t.renderMessage,i=t.scrollPositionRef,a=t.scrollDistanceFromBottomRef,s=t.onLoadPrevious,l=t.onLoadNext,c=t.loadThreshold,d=c===void 0?.05:c,f=t.typingIndicator,v=t.onScrollPosition,g=v===void 0?yi:v,y=t.initDeps,b=O.useRef(!1),C=O.useRef(),w=D.useRef(0);D.useLayoutEffect(function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)},y),D.useLayoutEffect(function(){n.current&&(C.current==="top"&&(n.current.scrollTop=n.current.scrollHeight-i.current),C.current==="bottom"&&(n.current.scrollTop=w.current),C.current=void 0)},[n.current,e.length]);var I=D.useCallback(function(){return nl(void 0,void 0,void 0,function(){var M,R;return rl(this,function(U){switch(U.label){case 0:return n.current?(M=n.current,g(Kee(M)),i.current=M.scrollHeight-M.scrollTop,a.current=i.current-M.clientHeight,w.current=M.scrollTop,b.current?[2]:(R=M.clientHeight*Math.min(Math.max(0,d),1),M.scrollTop<=R?(b.current=!0,C.current="top",[4,s()]):[3,2])):[2];case 1:return U.sent(),b.current=!1,[3,5];case 2:return M.scrollHeight-M.scrollTop-M.clientHeight<=R?(b.current=!0,C.current="bottom",[4,l()]):[3,4];case 3:return U.sent(),b.current=!1,[3,5];case 4:C.current=void 0,U.label=5;case 5:return[2]}})})},[e.length]);return O.createElement("div",{className:"sendbird-conversation__scroll-container"},O.createElement("div",{className:"sendbird-conversation__padding"}),O.createElement("div",{ref:n,className:"sendbird-conversation__messages-padding","data-testid":"sendbird-message-list-container",onScroll:I},e.map(function(M,R){return r({message:M,index:R})}),f))});function Kee(t){return V1(t.scrollTop,0,M1)?"top":V1(t.scrollHeight,t.clientHeight+t.scrollTop,M1)?"bottom":"middle"}var Yee=function(t){return O.createElement(xU,Re({},t))},Db="sendbird-quote_message_input__avatar";function Wee(t){var n,e=t.message;if(!Ks(e)&&!il(e)||L1(e))return O.createElement(O.Fragment,null);var r=CJ(e);return r||(JL(e)||eA(e)?r=bJ(e):il(e)&&gX((n=e.fileInfoList)===null||n===void 0?void 0:n[0])&&(r=e.fileInfoList[0].url)),eA(e)&&r?O.createElement("div",{className:Db},O.createElement("video",{style:{width:"44px",height:"44px"},src:r})):(Q0(e)||il(e))&&r?O.createElement(go,{className:Db,url:r,alt:yJ(e),width:"44px",height:"44px",fixedSize:!0}):_X(e)?O.createElement("div",{className:Db},O.createElement(rn,{type:Vt.FILE_AUDIO,fillColor:Yt.ON_BACKGROUND_2,width:"24px",height:"24px"})):O.createElement("div",{className:Db},O.createElement(rn,{type:Vt.FILE_DOCUMENT,fillColor:Yt.ON_BACKGROUND_2,width:"24px",height:"24px"}))}function Qee(t){var n=t.className,e=t.replyingMessage,r=t.onClose,i=D.useContext(Jc).stringSet,a=e,s=e?.sender,l=(Ks(e)||il(e))&&!L1(e);return O.createElement("div",{className:SX(["sendbird-quote_message_input",n??""])},l&&O.createElement(Wee,{message:a}),O.createElement("div",{className:"sendbird-quote_message_input__body",style:{width:"calc(100% - ".concat(l?"164px":"120px",")"),left:l?"92px":"40px"}},O.createElement(zt,{className:"sendbird-quote_message_input__body__sender-name",type:Gt.CAPTION_1,color:_t.ONBACKGROUND_1},"".concat(i.QUOTE_MESSAGE_INPUT__REPLY_TO," ").concat(s&&s.nickname?s.nickname:i.NO_NAME)),O.createElement(zt,{className:"sendbird-quote_message_input__body__message-content",type:Gt.BODY_2,color:_t.ONBACKGROUND_3},JL(a)&&!wR(a)&&i.QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE,eA(a)&&i.QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO,wR(a)&&i.QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF,c2(e)&&e.message,TX(e)===ih.FILE&&EJ(a),il(e)&&"".concat(a.fileInfoList.length," Photos"),L1(e)&&i.VOICE_MESSAGE)),O.createElement(rn,{className:"sendbird-quote_message_input__close-button",type:Vt.CLOSE,fillColor:Yt.ON_BACKGROUND_2,width:"24px",height:"24px",onClick:function(){return r?.(e)}}))}var Zf={PREPARING:"PREPARING",READY_TO_RECORD:"READY_TO_RECORD",RECORDING:"RECORDING",COMPLETED:"COMPLETED"},Xee=function(t){var n=t.onRecordingStarted,e=n===void 0?yi:n,r=t.onRecordingEnded,i=r===void 0?yi:r,a=$a().state,s=a.config,l=s.voiceRecord,c=l?.maxRecordingTime,d=WL(),f=d.isRecordable,v=D.useState(null),g=v[0],y=v[1],b=D.useState(Zf.PREPARING),C=b[0],w=b[1];D.useEffect(function(){f&&C===Zf.PREPARING&&w(Zf.READY_TO_RECORD)},[f]);var I=D.useCallback(function(){d?.start({onRecordingStarted:function(){w(Zf.RECORDING),e(),Y()},onRecordingEnded:function(te){w(Zf.COMPLETED),i(te),y(te),F()}})},[e,i]),M=D.useCallback(function(){d?.stop(),F()},[d]),R=D.useCallback(function(){M(),y(null)},[d]),U=D.useState(0),H=U[0],P=U[1],G=D.useRef(null);function Y(){F(),P(0),G.current=setInterval(function(){P(function(te){var J=te+100;return J>c&&F(),J})},100)}function F(){G.current&&(clearInterval(G.current),G.current=null)}return D.useEffect(function(){H>c&&M()},[H,c,M]),{start:I,stop:M,cancel:R,recordingStatus:C,recordingTime:H,recordedFile:g,recordingLimit:c}},mi={READY_TO_RECORD:"READY_TO_RECORD",RECORDING:"RECORDING",READY_TO_PLAY:"READY_TO_PLAY",PLAYING:"PLAYING"},Zee=function(t){var n=t.inputState;switch(n){case mi.READY_TO_RECORD:return O.createElement("div",{className:"sendbird-controler-icon record-icon"});case mi.RECORDING:return O.createElement("div",{className:"sendbird-controler-icon stop-icon"});case mi.READY_TO_PLAY:return O.createElement(rn,{className:"sendbird-controler-icon play-icon",width:"20px",height:"20px",type:Vt.PLAY,fillColor:Yt.ON_BACKGROUND_1});case mi.PLAYING:return O.createElement("div",{className:"sendbird-controler-icon pause-icon"},O.createElement("div",{className:"sendbird-controler-icon pause-icon-inner"}),O.createElement("div",{className:"sendbird-controler-icon pause-icon-inner"}));default:return O.createElement(O.Fragment,null)}},Jee=function(t){var n=t.minRecordTime,e=n===void 0?P$:n,r=t.maximumValue,i=t.currentValue,a=i===void 0?0:i,s=t.currentType,l=t.onCancelClick,c=t.onControlClick,d=t.onSubmitClick,f=t.renderCancelButton,v=t.renderControlButton,g=t.renderSubmitButton,y=D.useState(0),b=y[0],C=y[1],w=D.useMemo(function(){return s===mi.READY_TO_RECORD},[s]),I=D.useMemo(function(){return s===mi.RECORDING},[s]),M=D.useMemo(function(){return s===mi.READY_TO_RECORD||s===mi.RECORDING?e>a:!1},[s,e,a]),R=D.useMemo(function(){return s===mi.READY_TO_PLAY||s===mi.PLAYING},[s]),U=Ka().stringSet,H=function(){var Y=Date.now();Y-b>vC&&(l?.(),C(Y))},P=function(){var Y=Date.now();Y-b>vC&&(c?.(s),C(Y))},G=function(){var Y=Date.now();Y-b>vC&&(M||d?.(),C(Y))};return O.createElement("div",{className:"sendbird-voice-message-input"},O.createElement("div",{className:"sendbird-voice-message-input__indicator"},O.createElement("div",{className:"sendbird-voice-message-input__indicator__progress-bar"},O.createElement(kJ,{className:"sendbird-voice-message-input__indicator__progress-bar__bar",disabled:w,maxSize:r,currentSize:a})),I?O.createElement("div",{className:"sendbird-voice-message-input__indicator__on-rec"}):null,O.createElement(FJ,{className:"sendbird-voice-message-input__indicator__playback-time",time:R?r-a:a,labelColor:w?_t.ONBACKGROUND_4:_t.ONCONTENT_1})),O.createElement("div",{className:"sendbird-voice-message-input__controler"},f?.()||O.createElement(D3,{className:"sendbird-voice-message-input__controler__cancel",onClick:H,disableUnderline:!0},O.createElement(zt,{type:Gt.BUTTON_1,color:_t.PRIMARY},U.BUTTON__CANCEL)),v?.(s)||O.createElement("div",{className:"sendbird-voice-message-input__controler__main",onClick:P},O.createElement(Zee,{inputState:s})),g?.()||O.createElement("div",{className:$i("sendbird-voice-message-input__controler__submit",M&&"voice-message--disabled"),onClick:G},O.createElement(rn,{width:"19px",height:"19px",type:Vt.SEND,fillColor:M?Yt.ON_BACKGROUND_4:Yt.CONTENT}))))},ete=function(t){var n=t.imageFile,e=t.compressionRate,r=t.resizingWidth,i=t.resizingHeight,a=t.outputFormat,s=document.createElement("img");return new Promise(function(l,c){s.src=URL.createObjectURL(n),s.onerror=c,s.onload=function(){URL.revokeObjectURL(s.src);var d=document.createElement("canvas"),f=s.width,v=s.height,g=!r||r>f?f:r,y=!i||i>v?v:i,b=f/g,C=v/y;b>C?y=v/(r?b:1):C>b&&(g=f/(i?C:1)),d.width=g,d.height=y;var w=d.getContext("2d");if(!w){c(new Error("Failed to get canvas 2d context"));return}w.drawImage(s,0,0,g,y);var I=a==="preserve"?n.type:"image/".concat(a),M=I.split("/").pop(),R=n.name.lastIndexOf("."),U="".concat(R===-1?n.name:n.name.substring(0,R),".").concat(M);w.canvas.toBlob(function(H){if(H){var P=new File([H],U,{type:I});l(P)}else c(new Error("Failed to compress image"))},I,e)}})},UU=function(t){return nl(void 0,[t],void 0,function(n){var e,r,i,a,s,l,c=n.files,d=n.logger,f=n.imageCompression;return rl(this,function(v){switch(v.label){case 0:return e=f.compressionRate,r=f.outputFormat,i=r===void 0?"preserve":r,a=f.resizingWidth?k1(f.resizingWidth):void 0,s=f.resizingHeight?k1(f.resizingHeight):void 0,l={failedIndexes:[],compressedFiles:[]},Array.isArray(c)&&c.length>0?!e||e<0||1<e?(d?.warning("utils - compressImages: The compressionRate is not acceptable.",e),[2,l]):[4,Promise.all(c.map(function(g,y){return nl(void 0,void 0,void 0,function(){var b,C;return rl(this,function(w){switch(w.label){case 0:if(!(g.type==="image/jpg"||g.type==="image/png"||g.type==="image/jpeg"))return d?.warning("utils - compressImages: The fileType is not compressible.",{file:g,index:y}),l.failedIndexes.push(y),l.compressedFiles.push(g),[2];w.label=1;case 1:return w.trys.push([1,3,,4]),[4,ete({imageFile:g,compressionRate:e,resizingWidth:a,resizingHeight:s,outputFormat:i})];case 2:return b=w.sent(),l.compressedFiles.push(b),[3,4];case 3:return C=w.sent(),l.compressedFiles.push(g),l.failedIndexes.push(y),d?.warning("utils - compressImages: Failed to compress image file",{file:g,err:C}),[3,4];case 4:return[2]}})})}))]:(d?.warning("utils - compressImages: There are no files.",c),[2,l]);case 1:return v.sent(),d?.info("utils - compressImages: Finished compressing images",l),[2,l]}})})},kU=function(t){var n=t.channel,e=t.onCancelClick,r=t.onSubmitClick,i=D.useRef(Sp()).current,a=D.useState(null),s=a[0],l=a[1],c=D.useState(mi.READY_TO_RECORD),d=c[0],f=c[1],v=D.useState(!1),g=v[0],y=v[1],b=D.useState(!1),C=b[0],w=b[1],I=D.useState(!1),M=I[0],R=I[1],U=Ka().stringSet,H=$a().state,P=H.config,G=Xee({onRecordingStarted:function(){f(mi.RECORDING)},onRecordingEnded:function(Ge){l(Ge)}}),Y=G.start,F=G.stop,te=G.cancel,J=G.recordingTime,ne=G.recordingStatus,Oe=G.recordingLimit,X=PJ({channelUrl:n?.url,key:i,audioFile:s??void 0}),se=X.play,$=X.pause,le=X.playbackTime,he=X.playingStatus,xe=X.stop;return D.useEffect(function(){tA(n)||U1(n)?w(!0):w(!1)},[n?.myRole,n?.isFrozen,n?.myMutedState]),D.useEffect(function(){g&&s&&(r?.(s,J),y(!1),l(null))},[g,s,J]),D.useEffect(function(){s&&(J<P.voiceRecord.minRecordingTime?(f(mi.READY_TO_RECORD),l(null)):he===jL.PLAYING?f(mi.PLAYING):f(mi.READY_TO_PLAY))},[s,J,he]),O.createElement("div",{className:"sendbird-voice-message-input-wrapper"},O.createElement(Jee,{currentValue:ne===Zf.COMPLETED?le:J,maximumValue:ne===Zf.COMPLETED?J:Oe,currentType:d,onCancelClick:function(){e?.(),te(),xe()},onSubmitClick:function(){C?(R(!0),f(mi.READY_TO_RECORD)):(F(),$(),y(!0))},onControlClick:function(Ge){switch(Ge){case mi.READY_TO_RECORD:{xe(),Y();break}case mi.RECORDING:{J>=P.voiceRecord.minRecordingTime&&!C?F():C?(te(),R(!0),f(mi.READY_TO_RECORD)):(te(),f(mi.READY_TO_RECORD));break}case mi.READY_TO_PLAY:{se();break}case mi.PLAYING:{$();break}}}}),M&&O.createElement(R3,{className:"sendbird-voice-message-input-wrapper-alert",titleText:U1(n)?U.MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED:U.MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN,hideFooter:!0,isCloseOnClickOutside:!0,onClose:function(){R(!1),e?.()}},O.createElement("div",{className:"sendbird-voice-message-input-wrapper-alert__body"},O.createElement(Nv,{className:"sendbird-voice-message-input-wrapper-alert__body__ok-button",type:ji.PRIMARY,size:bh.BIG,onClick:function(){R(!1),e?.()}},U.BUTTON__OK))))},tte=function(t,n){var e=t.sendFileMessage,r=t.sendMultipleFilesMessage,i=t.quoteMessage,a=n.logger,s=Ka().stringSet,l=$a().state,c=l.config,d=c.imageCompression,f=c?.uikitUploadSizeLimit,v=c?.uikitMultipleFilesMessageLimit,g=QL().openModal;return D.useCallback(function(y){return nl(void 0,void 0,void 0,function(){var b,C,w,I,M,R;return rl(this,function(U){switch(U.label){case 0:return y.length===0?(a.warning("Channel|useHandleUploadFiles: given file list is empty.",{files:y}),[2]):y.length>v?(a.info("Channel|useHandleUploadFiles: Cannot upload files more than ".concat(v)),g({modalProps:{titleText:s.FILE_UPLOAD_NOTIFICATION__COUNT_LIMIT.replace("%d","".concat(f)),hideFooter:!0},childElement:function(H){var P=H.closeModal;return O.createElement(U0,{type:ji.PRIMARY,submitText:s.BUTTON__OK,hideCancelButton:!0,onCancel:P,onSubmit:P})}}),[2]):y.some(function(H){return H.size>f})?(a.info("Channel|useHandleUploadFiles: Cannot upload file size exceeding ".concat(f)),b=1024*1024,g({modalProps:{titleText:s.FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT.replace("%d","".concat(Math.floor(f/b))),hideFooter:!0},childElement:function(H){var P=H.closeModal;return O.createElement(U0,{type:ji.PRIMARY,submitText:s.BUTTON__OK,hideCancelButton:!0,onCancel:P,onSubmit:P})}}),[2]):[4,UU({files:y,imageCompression:d,logger:a})];case 1:return C=U.sent().compressedFiles,w=C,w.length===1?(a.info("Channel|useHandleUploadFiles: sending one file."),I=w[0],[2,e({file:I,parentMessageId:i?.messageId})]):w.length>1?(a.info("Channel|useHandleUploadFiles: sending multiple files."),M=[],R=[],w.forEach(function(H){xp(H.type)?M.push(H):R.push(H)}),[2,R.reduce(function(H,P){return H.then(function(){return e({file:P,parentMessageId:i?.messageId})})},(function(){return M.length===0?Promise.resolve():M.length===1?e({file:M[0]}):r({fileInfoList:M.map(function(H){return{file:H,fileName:H.name,fileSize:H.size,mimeType:H.type}}),parentMessageId:i?.messageId})})())]):[2]}})})},[e,r,i])};O.forwardRef(function(t,n){var e,r=t.currentChannel,i=t.messages,a=t.loading,s=t.quoteMessage,l=t.setQuoteMessage,c=t.messageInputRef,d=t.sendUserMessage,f=t.sendFileMessage,v=t.sendVoiceMessage,g=t.sendMultipleFilesMessage,y=t.renderUserMentionItem,b=t.renderFileUploadIcon,C=t.renderVoiceMessageIcon,w=t.renderSendMessageIcon,I=t.acceptableMimeTypes,M=t.disabled,R=Ka().stringSet,U=Kl().isMobile,H=$a().state,P=H.stores,G=H.config,Y=G.isOnline,F=G.userMention,te=G.logger,J=G.groupChannel,ne=P.sdkStore.sdk,Oe=F.maxMentionCount,X=F.maxSuggestionCount,se=r?.isBroadcast,$=r?.myRole==="operator",le=(e=t.isMultipleFilesMessageEnabled)!==null&&e!==void 0?e:G.isMultipleFilesMessageEnabled,he=J.enableMention,xe=J.enableVoiceMessage,Ge=D.useState(""),Q=Ge[0],fe=Ge[1],Ae=D.useState([]),$e=Ae[0],Te=Ae[1],Fe=D.useState([]),Je=Fe[0],Ot=Fe[1],Ct=D.useState(null),Kn=Ct[0],An=Ct[1],Ln=D.useState([]),En=Ln[0],en=Ln[1],Pn=D.useState(null),Gn=Pn[0],fn=Pn[1],Er=D.useState(!1),Un=Er[0],Fn=Er[1],pt=a||!r||!ne||!ne.isCacheEnabled&&!Y||tA(r)||U1(r)||OR(r,G.groupChannel.enableSuggestedReplies)||RR(i,G.groupChannel.enableFormTypeMessage)||M,kn=!pt&&he&&Q.length>0&&!se,er=sU({ref:n||c},{logger:te}),vn=er?.length<Oe;D.useEffect(function(){fe(""),Te([]),Ot([]),An(null),en([]),fn(null),Fn(!1)},[r?.url]),D.useEffect(function(){Te($e.filter(function(Pt){var Wn=Pt.userId,hr=Je.indexOf(Wn);return hr<0?!1:(Je.splice(hr,1),!0)}))},[Je]);var Yn=tte({sendFileMessage:f,sendMultipleFilesMessage:g,quoteMessage:s??void 0},{logger:te});return se&&!$?null:O.createElement("div",{className:Un?"sendbird-message-input-wrapper--voice-message":"sendbird-message-input-wrapper"},kn&&O.createElement(Yee,{currentChannel:r,targetNickname:Q,inputEvent:Gn??void 0,renderUserMentionItem:y,onUserItemClick:function(Pt){Pt&&Te(tt(tt([],$e,!0),[Pt],!1)),fe(""),An(Pt),fn(null)},onFocusItemChange:function(){fn(null)},onFetchUsers:function(Pt){en(Pt)},ableAddMention:vn,maxMentionCount:Oe,maxSuggestionCount:X}),s&&O.createElement("div",{className:"sendbird-message-input-wrapper__quote-message-input"},O.createElement(Qee,{replyingMessage:s,onClose:function(){l(null)}})),Un?O.createElement(kU,{channel:r??void 0,onSubmitClick:function(Pt,Wn){v({file:Pt,parentMessageId:s?.messageId},Wn),l(null),Fn(!1)},onCancelClick:function(){Fn(!1)}}):O.createElement(h2,{className:"sendbird-message-input-wrapper__message-input",channel:r,channelUrl:r?.url,isMobile:U,acceptableMimeTypes:I,mentionSelectedUser:Kn,isMentionEnabled:he,isVoiceMessageEnabled:xe,isSelectingMultipleFilesEnabled:le,onVoiceMessageIconClick:function(){Fn(!0)},setMentionedUsers:Te,placeholder:s&&R.MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER||tA(r)&&R.MESSAGE_INPUT__PLACE_HOLDER__FROZEN||U1(r)&&(U?R.MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT:R.MESSAGE_INPUT__PLACE_HOLDER__MUTED)||OR(r,G.groupChannel.enableSuggestedReplies)&&R.MESSAGE_INPUT__PLACE_HOLDER__SUGGESTED_REPLIES||RR(i,G.groupChannel.enableFormTypeMessage)&&R.MESSAGE_INPUT__PLACE_HOLDER__MESSAGE_FORM||M&&R.MESSAGE_INPUT__PLACE_HOLDER__DISABLED||void 0,ref:n||c,disabled:pt,renderFileUploadIcon:b,renderSendMessageIcon:w,renderVoiceMessageIcon:C,onStartTyping:function(){r?.startTyping()},onSendMessage:function(Pt){var Wn,hr=Pt.message,ht=Pt.mentionTemplate;d({message:hr,mentionedUsers:$e,mentionedMessageTemplate:ht,parentMessageId:s?.messageId}),fe(""),Te([]),l(null),(Wn=r?.endTyping)===null||Wn===void 0||Wn.call(r)},onFileUpload:function(Pt){Yn(Pt),l(null)},onUserMentioned:function(Pt){Kn?.userId===Pt?.userId&&(An(null),fe(""))},onMentionStringChange:function(Pt){fe(Pt)},onMentionedUserIdsUpdated:function(Pt){Ot(Pt)},onKeyDown:function(Pt){return kn&&En?.length>0&&(Pt.key===Yl.Enter&&vn||Pt.key===Yl.ArrowUp||Pt.key===Yl.ArrowDown)?(fn(Pt),!0):!1}}))});O.createContext(null);O.createContext(null);function nte(t,n,e){e===void 0&&(e={leading:!0,trailing:!1});var r=D.useRef(null),i=D.useRef(null);return D.useEffect(function(){return function(){r.current&&clearTimeout(r.current)}},[]),N3(function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r.current){i.current=a;return}e.leading?t.apply(void 0,a):i.current=a;var l=function(){e.trailing&&i.current?(t.apply(void 0,i.current),i.current=null,r.current=setTimeout(l,n)):r.current=null};r.current=setTimeout(l,n)})}var gD=function(t){return t==null};function nh(t,n){if(gD(t)||gD(n))return!1;var e=t.toString(),r=n.toString();return e===r}var m2=function(t){t===void 0&&(t=0);var n=10,e=t;if(!(e>n))try{var r=document.querySelector(".sendbird-thread-ui--scroll");r&&(r.scrollTop=r.scrollHeight)}catch{setTimeout(function(){m2(e+1)},500*e)}},rte=function(t,n){var e=t.currentChannel,r=t.onBeforeSendMultipleFilesMessage,i=t.publishingModules,a=n.logger,s=n.pubSub,l=n.scrollRef,c=D.useCallback(function(d,f){return new Promise(function(v,g){e||(a.warning("Channel: Sending MFm failed, because currentChannel is null.",{currentChannel:e}),g()),d.length<=1&&(a.warning("Channel: Sending MFM failed, because there are no multiple files.",{files:d}),g());var y={fileInfoList:d.map(function(b){return{file:b,fileName:b.name,fileSize:b.size,mimeType:b.type}})};f&&(y.isReplyToChannel=!0,y.parentMessageId=f.messageId),typeof r=="function"&&(y=r(d,f)),a.info("Channel: Start sending MFM",{messageParams:y});try{e?.sendMultipleFilesMessage(y).onFileUploaded(function(b,C,w,I){a.info("Channel: onFileUploaded during sending MFM",{requestId:b,index:C,error:I,uploadableFileInfo:w}),s.publish(Ao.ON_FILE_INFO_UPLOADED,{response:{channelUrl:e.url,requestId:b,index:C,uploadableFileInfo:w,error:I},publishingModules:i})}).onPending(function(b){a.info("Channel: in progress of sending MFM",{pendingMessage:b,fileInfoList:y.fileInfoList}),s.publish(Ao.SEND_MESSAGE_START,{message:b,channel:e,publishingModules:i}),setTimeout(function(){l&&PX(i)&&LU(0,l),FX(i)&&m2(0)},A3)}).onFailed(function(b,C){a.error("Channel: Sending MFM failed.",{error:b,failedMessage:C}),s.publish(Ao.SEND_MESSAGE_FAILED,{channel:e,message:C,publishingModules:i}),g(b)}).onSucceeded(function(b){a.info("Channel: Sending voice message success!",{succeededMessage:b}),s.publish(Ao.SEND_FILE_MESSAGE,{channel:e,message:b,publishingModules:i}),v(b)})}catch(b){a.error("Channel: Sending MFM failed.",{error:b}),g(b)}})},[e,r,i]);return[c]};M3();O.createContext(null);O.createContext(null);D.createContext(null);D.createContext(void 0);var PC=function(){},ite={checked:null,defaultChecked:!1,disabled:!1,onChange:PC,onFocus:PC,onBlur:PC};O.createContext(ite);var yD;(function(t){t.SCORE="score",t.TIMESTAMP="ts"})(yD||(yD={}));D.createContext(null);var Jf;(function(t){t.NIL="NIL",t.LOADING="LOADING",t.INVALID="INVALID",t.INITIALIZED="INITIALIZED"})(Jf||(Jf={}));var sh;(function(t){t.NIL="NIL",t.LOADING="LOADING",t.INVALID="INVALID",t.INITIALIZED="INITIALIZED"})(sh||(sh={}));var xc;(function(t){t.NIL="NIL",t.LOADING="LOADING",t.INVALID="INVALID",t.INITIALIZED="INITIALIZED"})(xc||(xc={}));var cA=30,dA=30;function ate(t,n){var e=t.currentChannel,r=n.logger;return D.useCallback(function(i,a,s){var l,c;if(s){(l=e?.deleteReaction)===null||l===void 0||l.call(e,i,a).then(function(d){r.info("Thread | useToggleReactionsCallback: Delete reaction succeeded.",d)}).catch(function(d){r.warning("Thread | useToggleReactionsCallback: Delete reaction failed.",d)});return}(c=e?.addReaction)===null||c===void 0||c.call(e,i,a).then(function(d){r.info("Thread | useToggleReactionsCallback: Add reaction succeeded.",d)}).catch(function(d){r.warning("Thread | useToggleReactionsCallback: Add reaction failed.",d)})},[e])}function ste(t,n){var e=t.isMentionEnabled,r=t.currentChannel,i=t.onBeforeSendUserMessage,a=t.sendMessageStart,s=t.sendMessageFailure,l=n.logger,c=n.pubSub,d=D.useCallback(function(f){var v,g=f.message,y=f.quoteMessage,b=f.mentionTemplate,C=f.mentionedUsers,w=function(){var M={};M.message=g;var R=C?.length||0;return e&&R&&(M.mentionedUsers=C),e&&b&&R&&(M.mentionedMessageTemplate=b),y&&(M.isReplyToChannel=!0,M.parentMessageId=y.messageId),M},I=(v=i?.(g,y))!==null&&v!==void 0?v:w();l.info("Thread | useSendUserMessageCallback: Sending user message start.",I),r?.sendUserMessage&&r?.sendUserMessage(I).onPending(function(M){a(M)}).onFailed(function(M,R){l.info("Thread | useSendUserMessageCallback: Sending user message failed.",{message:R,error:M}),s(R)}).onSucceeded(function(M){l.info("Thread | useSendUserMessageCallback: Sending user message succeeded.",M),c.publish(Ao.SEND_USER_MESSAGE,{channel:r,message:M,publishingModules:[No.THREAD]})})},[e,r,i,a,s]);return d}function ote(t,n){var e=t.currentChannel,r=t.onBeforeSendFileMessage,i=t.sendMessageStart,a=t.sendMessageFailure,s=n.logger,l=n.pubSub;return D.useCallback(function(c,d){return new Promise(function(f,v){var g,y=function(){var C={};return C.file=c,d&&(C.isReplyToChannel=!0,C.parentMessageId=d.messageId),C},b=(g=r?.(c,d))!==null&&g!==void 0?g:y();s.info("Thread | useSendFileMessageCallback: Sending file message start.",b),e==null?(s.warning("Thread | useSendFileMessageCallback: currentChannel is null. Skipping file message send."),f(null)):e.sendFileMessage(b).onPending(function(C){i(Re(Re({},C),{url:URL.createObjectURL(c),sendingStatus:dn.PENDING,isUserMessage:C.isUserMessage,isFileMessage:C.isFileMessage,isAdminMessage:C.isAdminMessage,isMultipleFilesMessage:C.isMultipleFilesMessage})),setTimeout(function(){return m2()},A3)}).onFailed(function(C,w){w.localUrl=URL.createObjectURL(c),w.file=c,s.info("Thread | useSendFileMessageCallback: Sending file message failed.",{message:w,error:C}),a(w),v(C)}).onSucceeded(function(C){s.info("Thread | useSendFileMessageCallback: Sending file message succeeded.",C),l.publish(Ao.SEND_FILE_MESSAGE,{channel:e,message:C,publishingModules:[No.THREAD]}),f(C)})})},[e,r,i,a])}var lte=function(t,n){var e=t.currentChannel,r=t.onBeforeSendVoiceMessage,i=t.sendMessageStart,a=t.sendMessageFailure,s=n.logger,l=n.pubSub,c=D.useCallback(function(d,f,v){var g=r&&typeof r=="function"?r(d,v):{file:d,fileName:H$,mimeType:RL,metaArrays:[new Sa({key:B$,value:["".concat(f)]}),new Sa({key:G$,value:[z$]})]};v&&(g.isReplyToChannel=!0,g.parentMessageId=v.messageId),s.info("Thread | useSendVoiceMessageCallback:  Start sending voice message",g),e?.sendFileMessage(g).onPending(function(y){i(Re(Re({},y),{url:URL.createObjectURL(d),sendingStatus:dn.PENDING,isUserMessage:y.isUserMessage,isFileMessage:y.isFileMessage,isAdminMessage:y.isAdminMessage,isMultipleFilesMessage:y.isMultipleFilesMessage})),setTimeout(function(){return m2()},A3)}).onFailed(function(y,b){b.localUrl=URL.createObjectURL(d),b.file=d,s.info("Thread | useSendVoiceMessageCallback: Sending voice message failed.",{message:b,error:y}),a(b)}).onSucceeded(function(y){s.info("Thread | useSendVoiceMessageCallback: Sending voice message succeeded.",y),l.publish(Ao.SEND_FILE_MESSAGE,{channel:e,message:y,publishingModules:[No.THREAD]})})},[e,r,i,a]);return c};function ute(t,n){var e=t.currentChannel,r=t.resendMessageStart,i=t.sendMessageSuccess,a=t.sendMessageFailure,s=n.logger,l=n.pubSub;return D.useCallback(function(c){var d,f,v,g,y;if(!c?.isResendable){s.warning("Thread | useResendMessageCallback: Message is not resendable.",c);return}if(s.info("Thread | useResendMessageCallback: Resending failedMessage start.",c),!((d=c?.isUserMessage)===null||d===void 0)&&d.call(c)||c?.messageType===Bn.USER)try{e?.resendMessage(c).onPending(function(b){s.info("Thread | useResendMessageCallback: Resending user message started.",b),r(b)}).onSucceeded(function(b){s.info("Thread | useResendMessageCallback: Resending user message succeeded.",b),i(b),l.publish(Ao.SEND_USER_MESSAGE,{channel:e,message:b,publishingModules:[No.THREAD]})}).onFailed(function(b){s.warning("Thread | useResendMessageCallback: Resending user message failed.",b),c.sendingStatus=dn.FAILED,a(c)})}catch(b){s.warning("Thread | useResendMessageCallback: Resending user message failed.",b),c.sendingStatus=dn.FAILED,a(c)}else if(!((f=c?.isFileMessage)===null||f===void 0)&&f.call(c))try{(v=e?.resendMessage)===null||v===void 0||v.call(e,c).onPending(function(b){s.info("Thread | useResendMessageCallback: Resending file message started.",b),r(b)}).onSucceeded(function(b){s.info("Thread | useResendMessageCallback: Resending file message succeeded.",b),i(b),l.publish(Ao.SEND_FILE_MESSAGE,{channel:e,message:c,publishingModules:[No.THREAD]})}).onFailed(function(b){s.warning("Thread | useResendMessageCallback: Resending file message failed.",b),c.sendingStatus=dn.FAILED,a(c)})}catch(b){s.warning("Thread | useResendMessageCallback: Resending file message failed.",b),c.sendingStatus=dn.FAILED,a(c)}else if(!((g=c?.isMultipleFilesMessage)===null||g===void 0)&&g.call(c))try{(y=e?.resendMessage)===null||y===void 0||y.call(e,c).onPending(function(b){s.info("Thread | useResendMessageCallback: Resending multiple files message started.",b),r(b)}).onFileUploaded(function(b,C,w,I){s.info("Thread | useResendMessageCallback: onFileUploaded during resending multiple files message.",{requestId:b,index:C,error:I,uploadableFileInfo:w}),l.publish(Ao.ON_FILE_INFO_UPLOADED,{response:{channelUrl:e.url,requestId:b,index:C,uploadableFileInfo:w,error:I},publishingModules:[No.THREAD]})}).onSucceeded(function(b){s.info("Thread | useResendMessageCallback: Resending MFM succeeded.",b),i(b),l.publish(Ao.SEND_FILE_MESSAGE,{channel:e,message:b,publishingModules:[No.THREAD]})}).onFailed(function(b,C){s.warning("Thread | useResendMessageCallback: Resending MFM failed.",b),a(C)})}catch(b){s.warning("Thread | useResendMessageCallback: Resending MFM failed.",b),a(c)}else s.warning("Thread | useResendMessageCallback: Message is not resendable.",c),c.sendingStatus=dn.FAILED,a(c)},[e,r,i,a])}function cte(t,n){var e=t.currentChannel,r=t.isMentionEnabled,i=t.onMessageUpdated,a=n.logger,s=n.pubSub;return D.useCallback(function(l){var c,d=l.messageId,f=l.message,v=l.mentionedUsers,g=l.mentionTemplate,y=function(){var C={};return C.message=f,r&&v&&v?.length>0&&(C.mentionedUsers=v),r&&g?C.mentionedMessageTemplate=g:C.mentionedMessageTemplate=f,C},b=y();if(a.info("Thread | useUpdateMessageCallback: Message update start.",b),e==null){a.warning("Thread | useUpdateMessageCallback: currentChannel is null.");return}(c=e.updateUserMessage)===null||c===void 0||c.call(e,d,b).then(function(C){a.info("Thread | useUpdateMessageCallback: Message update succeeded.",C),i(e,C),s.publish(Ao.UPDATE_USER_MESSAGE,{fromSelector:!0,channel:e,message:C,publishingModules:[No.THREAD]})})},[e,r,i])}function dte(t,n){var e=t.currentChannel,r=t.onMessageDeletedByReqId,i=t.onMessageDeleted,a=n.logger;return D.useCallback(function(s){a.info("Thread | useDeleteMessageCallback: Deleting message.",s);var l=s.sendingStatus;return new Promise(function(c,d){var f;a.info("Thread | useDeleteMessageCallback: Deleting message requestState:",l),(l==="failed"||l==="pending")&&(a.info("Thread | useDeleteMessageCallback: Deleted message from local:",s),r(s.reqId),c()),e==null&&(a.info("Thread | useDeleteMessageCallback: No current channel"),c()),a.info("Thread | useDeleteMessageCallback: Deleting message from remote:",l),(f=e.deleteMessage)===null||f===void 0||f.call(e,s).then(function(){a.info("Thread | useDeleteMessageCallback: Deleting message success!",s),i(e,s.messageId),c()}).catch(function(v){a.warning("Thread | useDeleteMessageCallback: Deleting message failed!",v),d(v)})})},[e,r,i])}function FC(t){return Re({prevResultSize:cA,nextResultSize:dA,includeMetaArray:!0,isInclusive:!0},t)}var hte=function(t){var n=t.isReactionEnabled,e=t.anchorMessage,r=t.parentMessage,i=t.logger,a=t.oldestMessageTimeStamp,s=t.latestMessageTimeStamp,l=t.threadListState,c=t.initializeThreadListStart,d=t.initializeThreadListSuccess,f=t.initializeThreadListFailure,v=t.getPrevMessagesStart,g=t.getPrevMessagesSuccess,y=t.getPrevMessagesFailure,b=t.getNextMessagesStart,C=t.getNextMessagesSuccess,w=t.getNextMessagesFailure,I=$a().state.stores,M=e?.createdAt||0,R=D.useCallback(function(P){return nl(void 0,void 0,void 0,function(){var G,Y,F,te,J;return rl(this,function(ne){switch(ne.label){case 0:if(!I.sdkStore.initialized||!r)return[2];c(),ne.label=1;case 1:return ne.trys.push([1,3,,4]),G=FC({includeReactions:n}),i.info("Thread | useGetThreadList: Initialize thread list start.",{timestamp:M,params:G}),[4,r.getThreadedMessagesByTimestamp(M,G)];case 2:return Y=ne.sent(),F=Y.threadedMessages,te=Y.parentMessage,i.info("Thread | useGetThreadList: Initialize thread list succeeded.",{staleParentMessage:r,threadedMessages:F}),d(te,e,F),setTimeout(function(){return P?.(F)}),[3,4];case 3:return J=ne.sent(),i.info("Thread | useGetThreadList: Initialize thread list failed.",J),f(),[3,4];case 4:return[2]}})})},[I.sdkStore.initialized,r,e,n,c,d,f]),U=D.useCallback(function(P){return nl(void 0,void 0,void 0,function(){var G,Y,F,te,J;return rl(this,function(ne){switch(ne.label){case 0:if(l!==xc.INITIALIZED||a===0||!r)return[2];v(),ne.label=1;case 1:return ne.trys.push([1,3,,4]),G=FC({nextResultSize:0,includeReactions:n}),[4,r.getThreadedMessagesByTimestamp(a,G)];case 2:return Y=ne.sent(),F=Y.threadedMessages,te=Y.parentMessage,i.info("Thread | useGetPrevThreadsCallback: Fetch prev threads succeeded.",{parentMessage:te,threadedMessages:F}),g(F),setTimeout(function(){return P?.(F)}),[3,4];case 3:return J=ne.sent(),i.info("Thread | useGetPrevThreadsCallback: Fetch prev threads failed.",J),y(),[3,4];case 4:return[2]}})})},[l,a,n,r,v,g,y]),H=D.useCallback(function(P){return nl(void 0,void 0,void 0,function(){var G,Y,F,te,J;return rl(this,function(ne){switch(ne.label){case 0:if(l!==xc.INITIALIZED||s===0||!r)return[2];b(),ne.label=1;case 1:return ne.trys.push([1,3,,4]),G=FC({prevResultSize:0,includeReactions:n}),[4,r.getThreadedMessagesByTimestamp(s,G)];case 2:return Y=ne.sent(),F=Y.threadedMessages,te=Y.parentMessage,i.info("Thread | useGetNextThreadsCallback: Fetch next threads succeeded.",{parentMessage:te,threadedMessages:F}),C(F),setTimeout(function(){return P?.(F)}),[3,4];case 3:return J=ne.sent(),i.info("Thread | useGetNextThreadsCallback: Fetch next threads failed.",J),w(),[3,4];case 4:return[2]}})})},[l,s,n,r,b,C,w]);return{initializeThreadFetcher:R,fetchPrevThreads:U,fetchNextThreads:H}},q1={exports:{}};q1.exports;(function(t,n){(function(){var e,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",v=1,g=2,y=4,b=1,C=2,w=1,I=2,M=4,R=8,U=16,H=32,P=64,G=128,Y=256,F=512,te=30,J="...",ne=800,Oe=16,X=1,se=2,$=3,le=1/0,he=9007199254740991,xe=17976931348623157e292,Ge=NaN,Q=4294967295,fe=Q-1,Ae=Q>>>1,$e=[["ary",G],["bind",w],["bindKey",I],["curry",R],["curryRight",U],["flip",F],["partial",H],["partialRight",P],["rearg",Y]],Te="[object Arguments]",Fe="[object Array]",Je="[object AsyncFunction]",Ot="[object Boolean]",Ct="[object Date]",Kn="[object DOMException]",An="[object Error]",Ln="[object Function]",En="[object GeneratorFunction]",en="[object Map]",Pn="[object Number]",Gn="[object Null]",fn="[object Object]",Er="[object Promise]",Un="[object Proxy]",Fn="[object RegExp]",pt="[object Set]",kn="[object String]",er="[object Symbol]",vn="[object Undefined]",Yn="[object WeakMap]",Pt="[object WeakSet]",Wn="[object ArrayBuffer]",hr="[object DataView]",ht="[object Float32Array]",ni="[object Float64Array]",Ei="[object Int8Array]",Ir="[object Int16Array]",kr="[object Int32Array]",Qn="[object Uint8Array]",bn="[object Uint8ClampedArray]",tn="[object Uint16Array]",Mr="[object Uint32Array]",oa=/\b__p \+= '';/g,Dt=/\b(__p \+=) '' \+/g,Ut=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,Ze=/[&<>"']/g,Ie=RegExp(Et.source),St=RegExp(Ze.source),bt=/<%-([\s\S]+?)%>/g,Tt=/<%([\s\S]+?)%>/g,zn=/<%=([\s\S]+?)%>/g,kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ki=/^\w*$/,la=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bi=/[\\^$.*+?()[\]{}|]/g,Ys=RegExp(bi.source),Ss=/^\s+/,ui=/\s/,Yi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rt=/\{\n\/\* \[wrapped with (.+)\] \*/,yt=/,? & /,at=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/[()=,{}\[\]\/\s]/,mt=/\\(\\)?/g,qt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tn=/\w*$/,Br=/^[-+]0x[0-9a-f]+$/i,Gr=/^0b[01]+$/i,br=/^\[object .+?Constructor\]$/,nt=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Wt=/['\n\r\u2028\u2029\\]/g,hn="\\ud800-\\udfff",Ft="\\u0300-\\u036f",fr="\\ufe20-\\ufe2f",Or="\\u20d0-\\u20ff",Rr=Ft+fr+Or,Ti="\\u2700-\\u27bf",tr="a-z\\xdf-\\xf6\\xf8-\\xff",Ns="\\xac\\xb1\\xd7\\xf7",Ya="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yu="\\u2000-\\u206f",Ws=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jr="A-Z\\xc0-\\xd6\\xd8-\\xde",ua="\\ufe0e\\ufe0f",Ci=Ns+Ya+Yu+Ws,Jl="[']",Wu="["+hn+"]",ll="["+Ci+"]",Qs="["+Rr+"]",Mo="\\d+",eu="["+Ti+"]",Di="["+tr+"]",As="[^"+hn+Ci+Mo+Ti+tr+jr+"]",ul="\\ud83c[\\udffb-\\udfff]",Qu="(?:"+Qs+"|"+ul+")",Xs="[^"+hn+"]",tu="(?:\\ud83c[\\udde6-\\uddff]){2}",cl="[\\ud800-\\udbff][\\udc00-\\udfff]",ca="["+jr+"]",Ia="\\u200d",nu="(?:"+Di+"|"+As+")",Oo="(?:"+ca+"|"+As+")",ws="(?:"+Jl+"(?:d|ll|m|re|s|t|ve))?",Ro="(?:"+Jl+"(?:D|LL|M|RE|S|T|VE))?",Do=Qu+"?",xo="["+ua+"]?",da="(?:"+Ia+"(?:"+[Xs,tu,cl].join("|")+")"+xo+Do+")*",dl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fi=xo+Do+da,Zs="(?:"+[eu,tu,cl].join("|")+")"+Fi,ed="(?:"+[Xs+Qs+"?",Qs,tu,cl,Wu].join("|")+")",td=RegExp(Jl,"g"),Ah=RegExp(Qs,"g"),Nr=RegExp(ul+"(?="+ul+")|"+ed+Fi,"g"),Wa=RegExp([ca+"?"+Di+"+"+ws+"(?="+[ll,ca,"$"].join("|")+")",Oo+"+"+Ro+"(?="+[ll,ca+nu,"$"].join("|")+")",ca+"?"+nu+"+"+ws,ca+"+"+Ro,hl,dl,Mo,Zs].join("|"),"g"),Xu=RegExp("["+Ia+hn+Rr+ua+"]"),fl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ru=-1,Vn={};Vn[ht]=Vn[ni]=Vn[Ei]=Vn[Ir]=Vn[kr]=Vn[Qn]=Vn[bn]=Vn[tn]=Vn[Mr]=!0,Vn[Te]=Vn[Fe]=Vn[Wn]=Vn[Ot]=Vn[hr]=Vn[Ct]=Vn[An]=Vn[Ln]=Vn[en]=Vn[Pn]=Vn[fn]=Vn[Fn]=Vn[pt]=Vn[kn]=Vn[Yn]=!1;var Xn={};Xn[Te]=Xn[Fe]=Xn[Wn]=Xn[hr]=Xn[Ot]=Xn[Ct]=Xn[ht]=Xn[ni]=Xn[Ei]=Xn[Ir]=Xn[kr]=Xn[en]=Xn[Pn]=Xn[fn]=Xn[Fn]=Xn[pt]=Xn[kn]=Xn[er]=Xn[Qn]=Xn[bn]=Xn[tn]=Xn[Mr]=!0,Xn[An]=Xn[Ln]=Xn[Yn]=!1;var Zu={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},iu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lo=parseFloat,au=parseInt,pl=typeof Dc=="object"&&Dc&&Dc.Object===Object&&Dc,Ih=typeof self=="object"&&self&&self.Object===Object&&self,$r=pl||Ih||Function("return this")(),ml=n&&!n.nodeType&&n,Ma=ml&&!0&&t&&!t.nodeType&&t,vl=Ma&&Ma.exports===ml,Ju=vl&&pl.process,Wi=(function(){try{var de=Ma&&Ma.require&&Ma.require("util").types;return de||Ju&&Ju.binding&&Ju.binding("util")}catch{}})(),Mh=Wi&&Wi.isArrayBuffer,nd=Wi&&Wi.isDate,ec=Wi&&Wi.isMap,rd=Wi&&Wi.isRegExp,Oh=Wi&&Wi.isSet,pn=Wi&&Wi.isTypedArray;function ut(de,Le,Se){switch(Se.length){case 0:return de.call(Le);case 1:return de.call(Le,Se[0]);case 2:return de.call(Le,Se[0],Se[1]);case 3:return de.call(Le,Se[0],Se[1],Se[2])}return de.apply(Le,Se)}function Ce(de,Le,Se,lt){for(var Xt=-1,Cn=de==null?0:de.length;++Xt<Cn;){var Pr=de[Xt];Le(lt,Pr,Se(Pr),de)}return lt}function ce(de,Le){for(var Se=-1,lt=de==null?0:de.length;++Se<lt&&Le(de[Se],Se,de)!==!1;);return de}function vt(de,Le){for(var Se=de==null?0:de.length;Se--&&Le(de[Se],Se,de)!==!1;);return de}function ot(de,Le){for(var Se=-1,lt=de==null?0:de.length;++Se<lt;)if(!Le(de[Se],Se,de))return!1;return!0}function ft(de,Le){for(var Se=-1,lt=de==null?0:de.length,Xt=0,Cn=[];++Se<lt;){var Pr=de[Se];Le(Pr,Se,de)&&(Cn[Xt++]=Pr)}return Cn}function nr(de,Le){var Se=de==null?0:de.length;return!!Se&&id(de,Le,0)>-1}function mn(de,Le,Se){for(var lt=-1,Xt=de==null?0:de.length;++lt<Xt;)if(Se(Le,de[lt]))return!0;return!1}function Ar(de,Le){for(var Se=-1,lt=de==null?0:de.length,Xt=Array(lt);++Se<lt;)Xt[Se]=Le(de[Se],Se,de);return Xt}function su(de,Le){for(var Se=-1,lt=Le.length,Xt=de.length;++Se<lt;)de[Xt+Se]=Le[Se];return de}function kv(de,Le,Se,lt){var Xt=-1,Cn=de==null?0:de.length;for(lt&&Cn&&(Se=de[++Xt]);++Xt<Cn;)Se=Le(Se,de[Xt],Xt,de);return Se}function sy(de,Le,Se,lt){var Xt=de==null?0:de.length;for(lt&&Xt&&(Se=de[--Xt]);Xt--;)Se=Le(Se,de[Xt],Xt,de);return Se}function Pv(de,Le){for(var Se=-1,lt=de==null?0:de.length;++Se<lt;)if(Le(de[Se],Se,de))return!0;return!1}var b2=tc("length");function T2(de){return de.split("")}function C2(de){return de.match(at)||[]}function oy(de,Le,Se){var lt;return Se(de,function(Xt,Cn,Pr){if(Le(Xt,Cn,Pr))return lt=Cn,!1}),lt}function Lp(de,Le,Se,lt){for(var Xt=de.length,Cn=Se+(lt?1:-1);lt?Cn--:++Cn<Xt;)if(Le(de[Cn],Cn,de))return Cn;return-1}function id(de,Le,Se){return Le===Le?w2(de,Le,Se):Lp(de,ly,Se)}function S2(de,Le,Se,lt){for(var Xt=Se-1,Cn=de.length;++Xt<Cn;)if(lt(de[Xt],Le))return Xt;return-1}function ly(de){return de!==de}function Up(de,Le){var Se=de==null?0:de.length;return Se?kp(de,Le)/Se:Ge}function tc(de){return function(Le){return Le==null?e:Le[de]}}function Fv(de){return function(Le){return de==null?e:de[Le]}}function Hv(de,Le,Se,lt,Xt){return Xt(de,function(Cn,Pr,sr){Se=lt?(lt=!1,Cn):Le(Se,Cn,Pr,sr)}),Se}function uy(de,Le){var Se=de.length;for(de.sort(Le);Se--;)de[Se]=de[Se].value;return de}function kp(de,Le){for(var Se,lt=-1,Xt=de.length;++lt<Xt;){var Cn=Le(de[lt]);Cn!==e&&(Se=Se===e?Cn:Se+Cn)}return Se}function Pp(de,Le){for(var Se=-1,lt=Array(de);++Se<de;)lt[Se]=Le(Se);return lt}function cy(de,Le){return Ar(Le,function(Se){return[Se,de[Se]]})}function nc(de){return de&&de.slice(0,sd(de)+1).replace(Ss,"")}function Xa(de){return function(Le){return de(Le)}}function Bv(de,Le){return Ar(Le,function(Se){return de[Se]})}function Rh(de,Le){return de.has(Le)}function Gv(de,Le){for(var Se=-1,lt=de.length;++Se<lt&&id(Le,de[Se],0)>-1;);return Se}function zv(de,Le){for(var Se=de.length;Se--&&id(Le,de[Se],0)>-1;);return Se}function Dh(de,Le){for(var Se=de.length,lt=0;Se--;)de[Se]===Le&&++lt;return lt}var xh=Fv(Zu),N2=Fv(iu);function Fp(de){return"\\"+xi[de]}function dy(de,Le){return de==null?e:de[Le]}function rc(de){return Xu.test(de)}function Vv(de){return fl.test(de)}function qv(de){for(var Le,Se=[];!(Le=de.next()).done;)Se.push(Le.value);return Se}function Hp(de){var Le=-1,Se=Array(de.size);return de.forEach(function(lt,Xt){Se[++Le]=[Xt,lt]}),Se}function jv(de,Le){return function(Se){return de(Le(Se))}}function _l(de,Le){for(var Se=-1,lt=de.length,Xt=0,Cn=[];++Se<lt;){var Pr=de[Se];(Pr===Le||Pr===f)&&(de[Se]=f,Cn[Xt++]=Se)}return Cn}function Bp(de){var Le=-1,Se=Array(de.size);return de.forEach(function(lt){Se[++Le]=lt}),Se}function A2(de){var Le=-1,Se=Array(de.size);return de.forEach(function(lt){Se[++Le]=[lt,lt]}),Se}function w2(de,Le,Se){for(var lt=Se-1,Xt=de.length;++lt<Xt;)if(de[lt]===Le)return lt;return-1}function I2(de,Le,Se){for(var lt=Se+1;lt--;)if(de[lt]===Le)return lt;return lt}function ad(de){return rc(de)?fy(de):b2(de)}function zr(de){return rc(de)?py(de):T2(de)}function sd(de){for(var Le=de.length;Le--&&ui.test(de.charAt(Le)););return Le}var hy=Fv(wh);function fy(de){for(var Le=Nr.lastIndex=0;Nr.test(de);)++Le;return Le}function py(de){return de.match(Nr)||[]}function my(de){return de.match(Wa)||[]}var $v=(function de(Le){Le=Le==null?$r:od.defaults($r.Object(),Le,od.pick($r,Qa));var Se=Le.Array,lt=Le.Date,Xt=Le.Error,Cn=Le.Function,Pr=Le.Math,sr=Le.Object,Gp=Le.RegExp,ic=Le.String,Za=Le.TypeError,Lh=Se.prototype,vy=Cn.prototype,ld=sr.prototype,zp=Le["__core-js_shared__"],Vp=vy.toString,rr=ld.hasOwnProperty,_y=0,qp=(function(){var p=/[^.]+$/.exec(zp&&zp.keys&&zp.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""})(),Oa=ld.toString,jp=Vp.call(sr),Is=$r._,ud=Gp("^"+Vp.call(rr).replace(bi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cd=vl?Le.Buffer:e,Js=Le.Symbol,ac=Le.Uint8Array,$p=cd?cd.allocUnsafe:e,Uo=jv(sr.getPrototypeOf,sr),Kv=sr.create,Uh=ld.propertyIsEnumerable,gl=Lh.splice,gy=Js?Js.isConcatSpreadable:e,Hi=Js?Js.iterator:e,yl=Js?Js.toStringTag:e,Ms=(function(){try{var p=yu(sr,"defineProperty");return p({},"",{}),p}catch{}})(),yy=Le.clearTimeout!==$r.clearTimeout&&Le.clearTimeout,Kp=lt&&lt.now!==$r.Date.now&&lt.now,sc=Le.setTimeout!==$r.setTimeout&&Le.setTimeout,dd=Pr.ceil,kh=Pr.floor,Ph=sr.getOwnPropertySymbols,Ey=cd?cd.isBuffer:e,Ja=Le.isFinite,hd=Lh.join,fd=jv(sr.keys,sr),Kr=Pr.max,ci=Pr.min,Os=lt.now,Rs=Le.parseInt,El=Pr.random,ko=Lh.reverse,Ds=yu(Le,"DataView"),es=yu(Le,"Map"),Yp=yu(Le,"Promise"),ou=yu(Le,"Set"),oc=yu(Le,"WeakMap"),pd=yu(sr,"create"),di=oc&&new oc,ir={},On=Zi(Ds),lu=Zi(es),xs=Zi(Yp),Yv=Zi(ou),uu=Zi(oc),Fh=Js?Js.prototype:e,md=Fh?Fh.valueOf:e,lc=Fh?Fh.toString:e;function V(p){if(Qr(p)&&!Zt(p)&&!(p instanceof sn)){if(p instanceof Ra)return p;if(rr.call(p,"__wrapped__"))return Nm(p)}return new Ra(p)}var cu=(function(){function p(){}return function(_){if(!Hr(_))return{};if(Kv)return Kv(_);p.prototype=_;var T=new p;return p.prototype=e,T}})();function du(){}function Ra(p,_){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=e}V.templateSettings={escape:bt,evaluate:Tt,interpolate:zn,variable:"",imports:{_:V}},V.prototype=du.prototype,V.prototype.constructor=V,Ra.prototype=cu(du.prototype),Ra.prototype.constructor=Ra;function sn(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function bl(){var p=new sn(this.__wrapped__);return p.__actions__=fa(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=fa(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=fa(this.__views__),p}function hu(){if(this.__filtered__){var p=new sn(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function Tl(){var p=this.__wrapped__.value(),_=this.__dir__,T=Zt(p),x=_<0,B=T?p.length:0,K=P2(0,B,this.__views__),ee=K.start,oe=K.end,me=oe-ee,Ve=x?oe:ee-1,qe=this.__iteratees__,Ke=qe.length,it=0,At=ci(me,this.__takeCount__);if(!T||!x&&B==me&&At==me)return u_(p,this.__actions__);var $t=[];e:for(;me--&&it<At;){Ve+=_;for(var _n=-1,Kt=p[Ve];++_n<Ke;){var Rn=qe[_n],Hn=Rn.iteratee,ho=Rn.type,hs=Hn(Kt);if(ho==se)Kt=hs;else if(!hs){if(ho==X)continue e;break e}}$t[it++]=Kt}return $t}sn.prototype=cu(du.prototype),sn.prototype.constructor=sn;function Cl(p){var _=-1,T=p==null?0:p.length;for(this.clear();++_<T;){var x=p[_];this.set(x[0],x[1])}}function Wv(){this.__data__=pd?pd(null):{},this.size=0}function vd(p){var _=this.has(p)&&delete this.__data__[p];return this.size-=_?1:0,_}function Wp(p){var _=this.__data__;if(pd){var T=_[p];return T===c?e:T}return rr.call(_,p)?_[p]:e}function uc(p){var _=this.__data__;return pd?_[p]!==e:rr.call(_,p)}function Bi(p,_){var T=this.__data__;return this.size+=this.has(p)?0:1,T[p]=pd&&_===e?c:_,this}Cl.prototype.clear=Wv,Cl.prototype.delete=vd,Cl.prototype.get=Wp,Cl.prototype.has=uc,Cl.prototype.set=Bi;function Ls(p){var _=-1,T=p==null?0:p.length;for(this.clear();++_<T;){var x=p[_];this.set(x[0],x[1])}}function by(){this.__data__=[],this.size=0}function M2(p){var _=this.__data__,T=Po(_,p);if(T<0)return!1;var x=_.length-1;return T==x?_.pop():gl.call(_,T,1),--this.size,!0}function O2(p){var _=this.__data__,T=Po(_,p);return T<0?e:_[T][1]}function R2(p){return Po(this.__data__,p)>-1}function hi(p,_){var T=this.__data__,x=Po(T,p);return x<0?(++this.size,T.push([p,_])):T[x][1]=_,this}Ls.prototype.clear=by,Ls.prototype.delete=M2,Ls.prototype.get=O2,Ls.prototype.has=R2,Ls.prototype.set=hi;function eo(p){var _=-1,T=p==null?0:p.length;for(this.clear();++_<T;){var x=p[_];this.set(x[0],x[1])}}function Hh(){this.size=0,this.__data__={hash:new Cl,map:new(es||Ls),string:new Cl}}function Bh(p){var _=af(this,p).delete(p);return this.size-=_?1:0,_}function Qv(p){return af(this,p).get(p)}function _d(p){return af(this,p).has(p)}function gd(p,_){var T=af(this,p),x=T.size;return T.set(p,_),this.size+=T.size==x?0:1,this}eo.prototype.clear=Hh,eo.prototype.delete=Bh,eo.prototype.get=Qv,eo.prototype.has=_d,eo.prototype.set=gd;function cc(p){var _=-1,T=p==null?0:p.length;for(this.__data__=new eo;++_<T;)this.add(p[_])}function Ty(p){return this.__data__.set(p,c),this}function D2(p){return this.__data__.has(p)}cc.prototype.add=cc.prototype.push=Ty,cc.prototype.has=D2;function Us(p){var _=this.__data__=new Ls(p);this.size=_.size}function dc(){this.__data__=new Ls,this.size=0}function Xv(p){var _=this.__data__,T=_.delete(p);return this.size=_.size,T}function Qp(p){return this.__data__.get(p)}function Cy(p){return this.__data__.has(p)}function yd(p,_){var T=this.__data__;if(T instanceof Ls){var x=T.__data__;if(!es||x.length<i-1)return x.push([p,_]),this.size=++T.size,this;T=this.__data__=new eo(x)}return T.set(p,_),this.size=T.size,this}Us.prototype.clear=dc,Us.prototype.delete=Xv,Us.prototype.get=Qp,Us.prototype.has=Cy,Us.prototype.set=yd;function Xp(p,_){var T=Zt(p),x=!T&&yc(p),B=!T&&!x&&Au(p),K=!T&&!x&&!B&&wu(p),ee=T||x||B||K,oe=ee?Pp(p.length,ic):[],me=oe.length;for(var Ve in p)(_||rr.call(p,Ve))&&!(ee&&(Ve=="length"||B&&(Ve=="offset"||Ve=="parent")||K&&(Ve=="buffer"||Ve=="byteLength"||Ve=="byteOffset")||oo(Ve,me)))&&oe.push(Ve);return oe}function Gh(p){var _=p.length;return _?p[wd(0,_-1)]:e}function Zp(p,_){return ff(fa(p),no(_,0,p.length))}function Sy(p){return ff(fa(p))}function Jp(p,_,T){(T!==e&&!us(p[_],T)||T===e&&!(_ in p))&&ts(p,_,T)}function to(p,_,T){var x=p[_];(!(rr.call(p,_)&&us(x,T))||T===e&&!(_ in p))&&ts(p,_,T)}function Po(p,_){for(var T=p.length;T--;)if(us(p[T][0],_))return T;return-1}function Ny(p,_,T,x){return Fo(p,function(B,K,ee){_(x,B,T(B),ee)}),x}function Zv(p,_){return p&&Hs(_,Ui(_),p)}function Ed(p,_){return p&&Hs(_,Ga(_),p)}function ts(p,_,T){_=="__proto__"&&Ms?Ms(p,_,{configurable:!0,enumerable:!0,value:T,writable:!0}):p[_]=T}function bd(p,_){for(var T=-1,x=_.length,B=Se(x),K=p==null;++T<x;)B[T]=K?e:Iu(p,_[T]);return B}function no(p,_,T){return p===p&&(T!==e&&(p=p<=T?p:T),_!==e&&(p=p>=_?p:_)),p}function ha(p,_,T,x,B,K){var ee,oe=_&v,me=_&g,Ve=_&y;if(T&&(ee=B?T(p,x,B,K):T(p)),ee!==e)return ee;if(!Hr(p))return p;var qe=Zt(p);if(qe){if(ee=zy(p),!oe)return fa(p,ee)}else{var Ke=zi(p),it=Ke==Ln||Ke==En;if(Au(p))return h_(p,oe);if(Ke==fn||Ke==Te||it&&!B){if(ee=me||it?{}:A_(p),!oe)return me?Py(p,Ed(ee,p)):ky(p,Zv(ee,p))}else{if(!Xn[Ke])return B?p:{};ee=Vy(p,Ke,oe)}}K||(K=new Us);var At=K.get(p);if(At)return At;K.set(p,ee),Mf(p)?p.forEach(function(Kt){ee.add(ha(Kt,_,T,Kt,p,K))}):NE(p)&&p.forEach(function(Kt,Rn){ee.set(Rn,ha(Kt,_,T,Rn,p,K))});var $t=Ve?me?N_:_m:me?Ga:Ui,_n=qe?e:$t(p);return ce(_n||p,function(Kt,Rn){_n&&(Rn=Kt,Kt=p[Rn]),to(ee,Rn,ha(Kt,_,T,Rn,p,K))}),ee}function Ay(p){var _=Ui(p);return function(T){return fu(T,p,_)}}function fu(p,_,T){var x=T.length;if(p==null)return!x;for(p=sr(p);x--;){var B=T[x],K=_[B],ee=p[B];if(ee===e&&!(B in p)||!K(ee))return!1}return!0}function Jv(p,_,T){if(typeof p!="function")throw new Za(s);return hf(function(){p.apply(e,T)},_)}function ks(p,_,T,x){var B=-1,K=nr,ee=!0,oe=p.length,me=[],Ve=_.length;if(!oe)return me;T&&(_=Ar(_,Xa(T))),x?(K=mn,ee=!1):_.length>=i&&(K=Rh,ee=!1,_=new cc(_));e:for(;++B<oe;){var qe=p[B],Ke=T==null?qe:T(qe);if(qe=x||qe!==0?qe:0,ee&&Ke===Ke){for(var it=Ve;it--;)if(_[it]===Ke)continue e;me.push(qe)}else K(_,Ke,x)||me.push(qe)}return me}var Fo=v_(io),em=v_(nm,!0);function pu(p,_){var T=!0;return Fo(p,function(x,B,K){return T=!!_(x,B,K),T}),T}function ro(p,_,T){for(var x=-1,B=p.length;++x<B;){var K=p[x],ee=_(K);if(ee!=null&&(oe===e?ee===ee&&!Ba(ee):T(ee,oe)))var oe=ee,me=K}return me}function zh(p,_,T,x){var B=p.length;for(T=jt(T),T<0&&(T=-T>B?0:B+T),x=x===e||x>B?B:jt(x),x<0&&(x+=B),x=T>x?0:dg(x);T<x;)p[T++]=_;return p}function tm(p,_){var T=[];return Fo(p,function(x,B,K){_(x,B,K)&&T.push(x)}),T}function Si(p,_,T,x,B){var K=-1,ee=p.length;for(T||(T=I_),B||(B=[]);++K<ee;){var oe=p[K];_>0&&T(oe)?_>1?Si(oe,_-1,T,x,B):su(B,oe):x||(B[B.length]=oe)}return B}var hc=__(),Td=__(!0);function io(p,_){return p&&hc(p,_,Ui)}function nm(p,_){return p&&Td(p,_,Ui)}function Sl(p,_){return ft(_,function(T){return cs(p[T])})}function Ho(p,_){_=as(_,p);for(var T=0,x=_.length;p!=null&&T<x;)p=p[La(_[T++])];return T&&T==x?p:e}function e_(p,_,T){var x=_(p);return Zt(p)?x:su(x,T(p))}function Gi(p){return p==null?p===e?vn:Gn:yl&&yl in sr(p)?sf(p):O_(p)}function Vh(p,_){return p>_}function ns(p,_){return p!=null&&rr.call(p,_)}function Ps(p,_){return p!=null&&_ in sr(p)}function mu(p,_,T){return p>=ci(_,T)&&p<Kr(_,T)}function qh(p,_,T){for(var x=T?mn:nr,B=p[0].length,K=p.length,ee=K,oe=Se(K),me=1/0,Ve=[];ee--;){var qe=p[ee];ee&&_&&(qe=Ar(qe,Xa(_))),me=ci(qe.length,me),oe[ee]=!T&&(_||B>=120&&qe.length>=120)?new cc(ee&&qe):e}qe=p[0];var Ke=-1,it=oe[0];e:for(;++Ke<B&&Ve.length<me;){var At=qe[Ke],$t=_?_(At):At;if(At=T||At!==0?At:0,!(it?Rh(it,$t):x(Ve,$t,T))){for(ee=K;--ee;){var _n=oe[ee];if(!(_n?Rh(_n,$t):x(p[ee],$t,T)))continue e}it&&it.push($t),Ve.push(At)}}return Ve}function wy(p,_,T,x){return io(p,function(B,K,ee){_(x,T(B),K,ee)}),x}function Fs(p,_,T){_=as(_,p),p=cf(p,_);var x=p==null?p:p[La(xr(_))];return x==null?e:ut(x,p,T)}function Da(p){return Qr(p)&&Gi(p)==Te}function ri(p){return Qr(p)&&Gi(p)==Wn}function rm(p){return Qr(p)&&Gi(p)==Ct}function rs(p,_,T,x,B){return p===_?!0:p==null||_==null||!Qr(p)&&!Qr(_)?p!==p&&_!==_:on(p,_,T,x,rs,B)}function on(p,_,T,x,B,K){var ee=Zt(p),oe=Zt(_),me=ee?Fe:zi(p),Ve=oe?Fe:zi(_);me=me==Te?fn:me,Ve=Ve==Te?fn:Ve;var qe=me==fn,Ke=Ve==fn,it=me==Ve;if(it&&Au(p)){if(!Au(_))return!1;ee=!0,qe=!1}if(it&&!qe)return K||(K=new Us),ee||wu(p)?nf(p,_,T,x,B,K):Gy(p,_,me,T,x,B,K);if(!(T&b)){var At=qe&&rr.call(p,"__wrapped__"),$t=Ke&&rr.call(_,"__wrapped__");if(At||$t){var _n=At?p.value():p,Kt=$t?_.value():_;return K||(K=new Us),B(_n,Kt,T,x,K)}}return it?(K||(K=new Us),S_(p,_,T,x,B,K)):!1}function pr(p){return Qr(p)&&zi(p)==en}function Yr(p,_,T,x){var B=T.length,K=B,ee=!x;if(p==null)return!K;for(p=sr(p);B--;){var oe=T[B];if(ee&&oe[2]?oe[1]!==p[oe[0]]:!(oe[0]in p))return!1}for(;++B<K;){oe=T[B];var me=oe[0],Ve=p[me],qe=oe[1];if(ee&&oe[2]){if(Ve===e&&!(me in p))return!1}else{var Ke=new Us;if(x)var it=x(Ve,qe,me,p,_,Ke);if(!(it===e?rs(qe,Ve,b|C,x,Ke):it))return!1}}return!0}function jh(p){if(!Hr(p)||qy(p))return!1;var _=cs(p)?ud:br;return _.test(Zi(p))}function Cd(p){return Qr(p)&&Gi(p)==Fn}function fc(p){return Qr(p)&&zi(p)==pt}function im(p){return Qr(p)&&Fm(p.length)&&!!Vn[Gi(p)]}function Sd(p){return typeof p=="function"?p:p==null?ma:typeof p=="object"?Zt(p)?t_(p[0],p[1]):sm(p):z(p)}function vu(p){if(!Dd(p))return fd(p);var _=[];for(var T in sr(p))rr.call(p,T)&&T!="constructor"&&_.push(T);return _}function x2(p){if(!Hr(p))return Al(p);var _=Dd(p),T=[];for(var x in p)x=="constructor"&&(_||!rr.call(p,x))||T.push(x);return T}function Fr(p,_){return p<_}function am(p,_){var T=-1,x=Ha(p)?Se(p.length):[];return Fo(p,function(B,K,ee){x[++T]=_(B,K,ee)}),x}function sm(p){var _=gm(p);return _.length==1&&_[0][2]?Cm(_[0][0],_[0][1]):function(T){return T===p||Yr(T,p,_)}}function t_(p,_){return lf(p)&&Go(_)?Cm(La(p),_):function(T){var x=Iu(T,p);return x===e&&x===_?fg(T,p):rs(_,x,b|C)}}function $h(p,_,T,x,B){p!==_&&hc(_,function(K,ee){if(B||(B=new Us),Hr(K))L2(p,_,ee,T,$h,x,B);else{var oe=x?x(Tr(p,ee),K,ee+"",p,_,B):e;oe===e&&(oe=K),Jp(p,ee,oe)}},Ga)}function L2(p,_,T,x,B,K,ee){var oe=Tr(p,T),me=Tr(_,T),Ve=ee.get(me);if(Ve){Jp(p,T,Ve);return}var qe=K?K(oe,me,T+"",p,_,ee):e,Ke=qe===e;if(Ke){var it=Zt(me),At=!it&&Au(me),$t=!it&&!At&&wu(me);qe=me,it||At||$t?Zt(oe)?qe=oe:ai(oe)?qe=fa(oe):At?(Ke=!1,qe=h_(me,!0)):$t?(Ke=!1,qe=f_(me,!0)):qe=[]:wf(me)||yc(me)?(qe=oe,yc(oe)?qe=Hm(oe):(!Hr(oe)||cs(oe))&&(qe=A_(me))):Ke=!1}Ke&&(ee.set(me,qe),B(qe,me,x,K,ee),ee.delete(me)),Jp(p,T,qe)}function om(p,_){var T=p.length;if(T)return _+=_<0?T:0,oo(_,T)?p[_]:e}function lm(p,_,T){_.length?_=Ar(_,function(K){return Zt(K)?function(ee){return Ho(ee,K.length===1?K[0]:K)}:K}):_=[ma];var x=-1;_=Ar(_,Xa(Ht()));var B=am(p,function(K,ee,oe){var me=Ar(_,function(Ve){return Ve(K)});return{criteria:me,index:++x,value:K}});return uy(B,function(K,ee){return Uy(K,ee,T)})}function n_(p,_){return Qi(p,_,function(T,x){return fg(p,x)})}function Qi(p,_,T){for(var x=-1,B=_.length,K={};++x<B;){var ee=_[x],oe=Ho(p,ee);T(oe,ee)&&Id(K,as(ee,p),oe)}return K}function ii(p){return function(_){return Ho(_,p)}}function Nd(p,_,T,x){var B=x?S2:id,K=-1,ee=_.length,oe=p;for(p===_&&(_=fa(_)),T&&(oe=Ar(p,Xa(T)));++K<ee;)for(var me=0,Ve=_[K],qe=T?T(Ve):Ve;(me=B(oe,qe,me,x))>-1;)oe!==p&&gl.call(oe,me,1),gl.call(p,me,1);return p}function Ad(p,_){for(var T=p?_.length:0,x=T-1;T--;){var B=_[T];if(T==x||B!==K){var K=B;oo(B)?gl.call(p,B,1):Kh(p,B)}}return p}function wd(p,_){return p+kh(El()*(_-p+1))}function r_(p,_,T,x){for(var B=-1,K=Kr(dd((_-p)/(T||1)),0),ee=Se(K);K--;)ee[x?K:++B]=p,p+=T;return ee}function ao(p,_){var T="";if(!p||_<1||_>he)return T;do _%2&&(T+=p),_=kh(_/2),_&&(p+=p);while(_);return T}function ln(p,_){return Sm(R_(p,_,ma),p+"")}function i_(p){return Gh($d(p))}function a_(p,_){var T=$d(p);return ff(T,no(_,0,T.length))}function Id(p,_,T,x){if(!Hr(p))return p;_=as(_,p);for(var B=-1,K=_.length,ee=K-1,oe=p;oe!=null&&++B<K;){var me=La(_[B]),Ve=T;if(me==="__proto__"||me==="constructor"||me==="prototype")return p;if(B!=ee){var qe=oe[me];Ve=x?x(qe,me,oe):e,Ve===e&&(Ve=Hr(qe)?qe:oo(_[B+1])?[]:{})}to(oe,me,Ve),oe=oe[me]}return p}var s_=di?function(p,_){return di.set(p,_),p}:ma,Iy=Ms?function(p,_){return Ms(p,"toString",{configurable:!0,enumerable:!1,value:Yd(_),writable:!0})}:ma;function My(p){return ff($d(p))}function is(p,_,T){var x=-1,B=p.length;_<0&&(_=-_>B?0:B+_),T=T>B?B:T,T<0&&(T+=B),B=_>T?0:T-_>>>0,_>>>=0;for(var K=Se(B);++x<B;)K[x]=p[x+_];return K}function Oy(p,_){var T;return Fo(p,function(x,B,K){return T=_(x,B,K),!T}),!!T}function Md(p,_,T){var x=0,B=p==null?x:p.length;if(typeof _=="number"&&_===_&&B<=Ae){for(;x<B;){var K=x+B>>>1,ee=p[K];ee!==null&&!Ba(ee)&&(T?ee<=_:ee<_)?x=K+1:B=K}return B}return um(p,_,ma,T)}function um(p,_,T,x){var B=0,K=p==null?0:p.length;if(K===0)return 0;_=T(_);for(var ee=_!==_,oe=_===null,me=Ba(_),Ve=_===e;B<K;){var qe=kh((B+K)/2),Ke=T(p[qe]),it=Ke!==e,At=Ke===null,$t=Ke===Ke,_n=Ba(Ke);if(ee)var Kt=x||$t;else Ve?Kt=$t&&(x||it):oe?Kt=$t&&it&&(x||!At):me?Kt=$t&&it&&!At&&(x||!_n):At||_n?Kt=!1:Kt=x?Ke<=_:Ke<_;Kt?B=qe+1:K=qe}return ci(K,fe)}function Ry(p,_){for(var T=-1,x=p.length,B=0,K=[];++T<x;){var ee=p[T],oe=_?_(ee):ee;if(!T||!us(oe,me)){var me=oe;K[B++]=ee===0?0:ee}}return K}function o_(p){return typeof p=="number"?p:Ba(p)?Ge:+p}function xa(p){if(typeof p=="string")return p;if(Zt(p))return Ar(p,xa)+"";if(Ba(p))return lc?lc.call(p):"";var _=p+"";return _=="0"&&1/p==-le?"-0":_}function Nl(p,_,T){var x=-1,B=nr,K=p.length,ee=!0,oe=[],me=oe;if(T)ee=!1,B=mn;else if(K>=i){var Ve=_?null:Hy(p);if(Ve)return Bp(Ve);ee=!1,B=Rh,me=new cc}else me=_?[]:oe;e:for(;++x<K;){var qe=p[x],Ke=_?_(qe):qe;if(qe=T||qe!==0?qe:0,ee&&Ke===Ke){for(var it=me.length;it--;)if(me[it]===Ke)continue e;_&&me.push(Ke),oe.push(qe)}else B(me,Ke,T)||(me!==oe&&me.push(Ke),oe.push(qe))}return oe}function Kh(p,_){return _=as(_,p),p=cf(p,_),p==null||delete p[La(xr(_))]}function l_(p,_,T,x){return Id(p,_,T(Ho(p,_)),x)}function Yh(p,_,T,x){for(var B=p.length,K=x?B:-1;(x?K--:++K<B)&&_(p[K],K,p););return T?is(p,x?0:K,x?K+1:B):is(p,x?K+1:0,x?B:K)}function u_(p,_){var T=p;return T instanceof sn&&(T=T.value()),kv(_,function(x,B){return B.func.apply(B.thisArg,su([x],B.args))},T)}function cm(p,_,T){var x=p.length;if(x<2)return x?Nl(p[0]):[];for(var B=-1,K=Se(x);++B<x;)for(var ee=p[B],oe=-1;++oe<x;)oe!=B&&(K[B]=ks(K[B]||ee,p[oe],_,T));return Nl(Si(K,1),_,T)}function c_(p,_,T){for(var x=-1,B=p.length,K=_.length,ee={};++x<B;){var oe=x<K?_[x]:e;T(ee,p[x],oe)}return ee}function d_(p){return ai(p)?p:[]}function dm(p){return typeof p=="function"?p:ma}function as(p,_){return Zt(p)?p:lf(p,_)?[p]:D_(ar(p))}var Dy=ln;function so(p,_,T){var x=p.length;return T=T===e?x:T,!_&&T>=x?p:is(p,_,T)}var Wh=yy||function(p){return $r.clearTimeout(p)};function h_(p,_){if(_)return p.slice();var T=p.length,x=$p?$p(T):new p.constructor(T);return p.copy(x),x}function Qh(p){var _=new p.constructor(p.byteLength);return new ac(_).set(new ac(p)),_}function U2(p,_){var T=_?Qh(p.buffer):p.buffer;return new p.constructor(T,p.byteOffset,p.byteLength)}function xy(p){var _=new p.constructor(p.source,Tn.exec(p));return _.lastIndex=p.lastIndex,_}function Ly(p){return md?sr(md.call(p)):{}}function f_(p,_){var T=_?Qh(p.buffer):p.buffer;return new p.constructor(T,p.byteOffset,p.length)}function p_(p,_){if(p!==_){var T=p!==e,x=p===null,B=p===p,K=Ba(p),ee=_!==e,oe=_===null,me=_===_,Ve=Ba(_);if(!oe&&!Ve&&!K&&p>_||K&&ee&&me&&!oe&&!Ve||x&&ee&&me||!T&&me||!B)return 1;if(!x&&!K&&!Ve&&p<_||Ve&&T&&B&&!x&&!K||oe&&T&&B||!ee&&B||!me)return-1}return 0}function Uy(p,_,T){for(var x=-1,B=p.criteria,K=_.criteria,ee=B.length,oe=T.length;++x<ee;){var me=p_(B[x],K[x]);if(me){if(x>=oe)return me;var Ve=T[x];return me*(Ve=="desc"?-1:1)}}return p.index-_.index}function hm(p,_,T,x){for(var B=-1,K=p.length,ee=T.length,oe=-1,me=_.length,Ve=Kr(K-ee,0),qe=Se(me+Ve),Ke=!x;++oe<me;)qe[oe]=_[oe];for(;++B<ee;)(Ke||B<K)&&(qe[T[B]]=p[B]);for(;Ve--;)qe[oe++]=p[B++];return qe}function m_(p,_,T,x){for(var B=-1,K=p.length,ee=-1,oe=T.length,me=-1,Ve=_.length,qe=Kr(K-oe,0),Ke=Se(qe+Ve),it=!x;++B<qe;)Ke[B]=p[B];for(var At=B;++me<Ve;)Ke[At+me]=_[me];for(;++ee<oe;)(it||B<K)&&(Ke[At+T[ee]]=p[B++]);return Ke}function fa(p,_){var T=-1,x=p.length;for(_||(_=Se(x));++T<x;)_[T]=p[T];return _}function Hs(p,_,T,x){var B=!T;T||(T={});for(var K=-1,ee=_.length;++K<ee;){var oe=_[K],me=x?x(T[oe],p[oe],oe,T,p):e;me===e&&(me=p[oe]),B?ts(T,oe,me):to(T,oe,me)}return T}function ky(p,_){return Hs(p,ym(p),_)}function Py(p,_){return Hs(p,of(p),_)}function fm(p,_){return function(T,x){var B=Zt(T)?Ce:Ny,K=_?_():{};return B(T,p,Ht(x,2),K)}}function _u(p){return ln(function(_,T){var x=-1,B=T.length,K=B>1?T[B-1]:e,ee=B>2?T[2]:e;for(K=p.length>3&&typeof K=="function"?(B--,K):e,ee&&Xi(T[0],T[1],ee)&&(K=B<3?e:K,B=1),_=sr(_);++x<B;){var oe=T[x];oe&&p(_,oe,x,K)}return _})}function v_(p,_){return function(T,x){if(T==null)return T;if(!Ha(T))return p(T,x);for(var B=T.length,K=_?B:-1,ee=sr(T);(_?K--:++K<B)&&x(ee[K],K,ee)!==!1;);return T}}function __(p){return function(_,T,x){for(var B=-1,K=sr(_),ee=x(_),oe=ee.length;oe--;){var me=ee[p?oe:++B];if(T(K[me],me,K)===!1)break}return _}}function g_(p,_,T){var x=_&w,B=Xh(p);function K(){var ee=this&&this!==$r&&this instanceof K?B:p;return ee.apply(x?T:this,arguments)}return K}function y_(p){return function(_){_=ar(_);var T=rc(_)?zr(_):e,x=T?T[0]:_.charAt(0),B=T?so(T,1).join(""):_.slice(1);return x[p]()+B}}function pc(p){return function(_){return kv(ZE(Kd(_).replace(td,"")),p,"")}}function Xh(p){return function(){var _=arguments;switch(_.length){case 0:return new p;case 1:return new p(_[0]);case 2:return new p(_[0],_[1]);case 3:return new p(_[0],_[1],_[2]);case 4:return new p(_[0],_[1],_[2],_[3]);case 5:return new p(_[0],_[1],_[2],_[3],_[4]);case 6:return new p(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new p(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var T=cu(p.prototype),x=p.apply(T,_);return Hr(x)?x:T}}function k2(p,_,T){var x=Xh(p);function B(){for(var K=arguments.length,ee=Se(K),oe=K,me=Wr(B);oe--;)ee[oe]=arguments[oe];var Ve=K<3&&ee[0]!==me&&ee[K-1]!==me?[]:_l(ee,me);if(K-=Ve.length,K<T)return vm(p,_,Rd,B.placeholder,e,ee,Ve,e,e,T-K);var qe=this&&this!==$r&&this instanceof B?x:p;return ut(qe,this,ee)}return B}function E_(p){return function(_,T,x){var B=sr(_);if(!Ha(_)){var K=Ht(T,3);_=Ui(_),T=function(oe){return K(B[oe],oe,B)}}var ee=p(_,T,x);return ee>-1?B[K?_[ee]:ee]:e}}function Od(p){return Bo(function(_){var T=_.length,x=T,B=Ra.prototype.thru;for(p&&_.reverse();x--;){var K=_[x];if(typeof K!="function")throw new Za(s);if(B&&!ee&&Vr(K)=="wrapper")var ee=new Ra([],!0)}for(x=ee?x:T;++x<T;){K=_[x];var oe=Vr(K),me=oe=="wrapper"?rf(K):e;me&&uf(me[0])&&me[1]==(G|R|H|Y)&&!me[4].length&&me[9]==1?ee=ee[Vr(me[0])].apply(ee,me[3]):ee=K.length==1&&uf(K)?ee[oe]():ee.thru(K)}return function(){var Ve=arguments,qe=Ve[0];if(ee&&Ve.length==1&&Zt(qe))return ee.plant(qe).value();for(var Ke=0,it=T?_[Ke].apply(this,Ve):qe;++Ke<T;)it=_[Ke].call(this,it);return it}})}function Rd(p,_,T,x,B,K,ee,oe,me,Ve){var qe=_&G,Ke=_&w,it=_&I,At=_&(R|U),$t=_&F,_n=it?e:Xh(p);function Kt(){for(var Rn=arguments.length,Hn=Se(Rn),ho=Rn;ho--;)Hn[ho]=arguments[ho];if(At)var hs=Wr(Kt),fo=Dh(Hn,hs);if(x&&(Hn=hm(Hn,x,B,At)),K&&(Hn=m_(Hn,K,ee,At)),Rn-=fo,At&&Rn<Ve){var Ai=_l(Hn,hs);return vm(p,_,Rd,Kt.placeholder,T,Hn,Ai,oe,me,Ve-Rn)}var Ul=Ke?T:this,bc=it?Ul[p]:p;return Rn=Hn.length,oe?Hn=df(Hn,oe):$t&&Rn>1&&Hn.reverse(),qe&&me<Rn&&(Hn.length=me),this&&this!==$r&&this instanceof Kt&&(bc=_n||Xh(bc)),bc.apply(Ul,Hn)}return Kt}function Zh(p,_){return function(T,x){return wy(T,p,_(x),{})}}function Jh(p,_){return function(T,x){var B;if(T===e&&x===e)return _;if(T!==e&&(B=T),x!==e){if(B===e)return x;typeof T=="string"||typeof x=="string"?(T=xa(T),x=xa(x)):(T=o_(T),x=o_(x)),B=p(T,x)}return B}}function pm(p){return Bo(function(_){return _=Ar(_,Xa(Ht())),ln(function(T){var x=this;return p(_,function(B){return ut(B,x,T)})})})}function gu(p,_){_=_===e?" ":xa(_);var T=_.length;if(T<2)return T?ao(_,p):_;var x=ao(_,dd(p/ad(_)));return rc(_)?so(zr(x),0,p).join(""):x.slice(0,p)}function Fy(p,_,T,x){var B=_&w,K=Xh(p);function ee(){for(var oe=-1,me=arguments.length,Ve=-1,qe=x.length,Ke=Se(qe+me),it=this&&this!==$r&&this instanceof ee?K:p;++Ve<qe;)Ke[Ve]=x[Ve];for(;me--;)Ke[Ve++]=arguments[++oe];return ut(it,B?T:this,Ke)}return ee}function mm(p){return function(_,T,x){return x&&typeof x!="number"&&Xi(_,T,x)&&(T=x=e),_=xl(_),T===e?(T=_,_=0):T=xl(T),x=x===e?_<T?1:-1:xl(x),r_(_,T,x,p)}}function ef(p){return function(_,T){return typeof _=="string"&&typeof T=="string"||(_=ds(_),T=ds(T)),p(_,T)}}function vm(p,_,T,x,B,K,ee,oe,me,Ve){var qe=_&R,Ke=qe?ee:e,it=qe?e:ee,At=qe?K:e,$t=qe?e:K;_|=qe?H:P,_&=~(qe?P:H),_&M||(_&=-4);var _n=[p,_,B,At,Ke,$t,it,oe,me,Ve],Kt=T.apply(e,_n);return uf(p)&&$y(Kt,_n),Kt.placeholder=x,xd(Kt,p,_)}function tf(p){var _=Pr[p];return function(T,x){if(T=ds(T),x=x==null?0:ci(jt(x),292),x&&Ja(T)){var B=(ar(T)+"e").split("e"),K=_(B[0]+"e"+(+B[1]+x));return B=(ar(K)+"e").split("e"),+(B[0]+"e"+(+B[1]-x))}return _(T)}}var Hy=ou&&1/Bp(new ou([,-0]))[1]==le?function(p){return new ou(p)}:h;function b_(p){return function(_){var T=zi(_);return T==en?Hp(_):T==pt?A2(_):cy(_,p(_))}}function pa(p,_,T,x,B,K,ee,oe){var me=_&I;if(!me&&typeof p!="function")throw new Za(s);var Ve=x?x.length:0;if(Ve||(_&=-97,x=B=e),ee=ee===e?ee:Kr(jt(ee),0),oe=oe===e?oe:jt(oe),Ve-=B?B.length:0,_&P){var qe=x,Ke=B;x=B=e}var it=me?e:rf(p),At=[p,_,T,x,B,qe,Ke,K,ee,oe];if(it&&jy(At,it),p=At[0],_=At[1],T=At[2],x=At[3],B=At[4],oe=At[9]=At[9]===e?me?0:p.length:Kr(At[9]-Ve,0),!oe&&_&(R|U)&&(_&=-25),!_||_==w)var $t=g_(p,_,T);else _==R||_==U?$t=k2(p,_,oe):(_==H||_==(w|H))&&!B.length?$t=Fy(p,_,T,x):$t=Rd.apply(e,At);var _n=it?s_:$y;return xd(_n($t,At),p,_)}function T_(p,_,T,x){return p===e||us(p,ld[T])&&!rr.call(x,T)?_:p}function C_(p,_,T,x,B,K){return Hr(p)&&Hr(_)&&(K.set(_,p),$h(p,_,e,C_,K),K.delete(_)),p}function By(p){return wf(p)?e:p}function nf(p,_,T,x,B,K){var ee=T&b,oe=p.length,me=_.length;if(oe!=me&&!(ee&&me>oe))return!1;var Ve=K.get(p),qe=K.get(_);if(Ve&&qe)return Ve==_&&qe==p;var Ke=-1,it=!0,At=T&C?new cc:e;for(K.set(p,_),K.set(_,p);++Ke<oe;){var $t=p[Ke],_n=_[Ke];if(x)var Kt=ee?x(_n,$t,Ke,_,p,K):x($t,_n,Ke,p,_,K);if(Kt!==e){if(Kt)continue;it=!1;break}if(At){if(!Pv(_,function(Rn,Hn){if(!Rh(At,Hn)&&($t===Rn||B($t,Rn,T,x,K)))return At.push(Hn)})){it=!1;break}}else if(!($t===_n||B($t,_n,T,x,K))){it=!1;break}}return K.delete(p),K.delete(_),it}function Gy(p,_,T,x,B,K,ee){switch(T){case hr:if(p.byteLength!=_.byteLength||p.byteOffset!=_.byteOffset)return!1;p=p.buffer,_=_.buffer;case Wn:return!(p.byteLength!=_.byteLength||!K(new ac(p),new ac(_)));case Ot:case Ct:case Pn:return us(+p,+_);case An:return p.name==_.name&&p.message==_.message;case Fn:case kn:return p==_+"";case en:var oe=Hp;case pt:var me=x&b;if(oe||(oe=Bp),p.size!=_.size&&!me)return!1;var Ve=ee.get(p);if(Ve)return Ve==_;x|=C,ee.set(p,_);var qe=nf(oe(p),oe(_),x,B,K,ee);return ee.delete(p),qe;case er:if(md)return md.call(p)==md.call(_)}return!1}function S_(p,_,T,x,B,K){var ee=T&b,oe=_m(p),me=oe.length,Ve=_m(_),qe=Ve.length;if(me!=qe&&!ee)return!1;for(var Ke=me;Ke--;){var it=oe[Ke];if(!(ee?it in _:rr.call(_,it)))return!1}var At=K.get(p),$t=K.get(_);if(At&&$t)return At==_&&$t==p;var _n=!0;K.set(p,_),K.set(_,p);for(var Kt=ee;++Ke<me;){it=oe[Ke];var Rn=p[it],Hn=_[it];if(x)var ho=ee?x(Hn,Rn,it,_,p,K):x(Rn,Hn,it,p,_,K);if(!(ho===e?Rn===Hn||B(Rn,Hn,T,x,K):ho)){_n=!1;break}Kt||(Kt=it=="constructor")}if(_n&&!Kt){var hs=p.constructor,fo=_.constructor;hs!=fo&&"constructor"in p&&"constructor"in _&&!(typeof hs=="function"&&hs instanceof hs&&typeof fo=="function"&&fo instanceof fo)&&(_n=!1)}return K.delete(p),K.delete(_),_n}function Bo(p){return Sm(R_(p,e,Dr),p+"")}function _m(p){return e_(p,Ui,ym)}function N_(p){return e_(p,Ga,of)}var rf=di?function(p){return di.get(p)}:h;function Vr(p){for(var _=p.name+"",T=ir[_],x=rr.call(ir,_)?T.length:0;x--;){var B=T[x],K=B.func;if(K==null||K==p)return B.name}return _}function Wr(p){var _=rr.call(V,"placeholder")?V:p;return _.placeholder}function Ht(){var p=V.iteratee||Uf;return p=p===Uf?Sd:p,arguments.length?p(arguments[0],arguments[1]):p}function af(p,_){var T=p.__data__;return Tm(_)?T[typeof _=="string"?"string":"hash"]:T.map}function gm(p){for(var _=Ui(p),T=_.length;T--;){var x=_[T],B=p[x];_[T]=[x,B,Go(B)]}return _}function yu(p,_){var T=dy(p,_);return jh(T)?T:e}function sf(p){var _=rr.call(p,yl),T=p[yl];try{p[yl]=e;var x=!0}catch{}var B=Oa.call(p);return x&&(_?p[yl]=T:delete p[yl]),B}var ym=Ph?function(p){return p==null?[]:(p=sr(p),ft(Ph(p),function(_){return Uh.call(p,_)}))}:ze,of=Ph?function(p){for(var _=[];p;)su(_,ym(p)),p=Uo(p);return _}:ze,zi=Gi;(Ds&&zi(new Ds(new ArrayBuffer(1)))!=hr||es&&zi(new es)!=en||Yp&&zi(Yp.resolve())!=Er||ou&&zi(new ou)!=pt||oc&&zi(new oc)!=Yn)&&(zi=function(p){var _=Gi(p),T=_==fn?p.constructor:e,x=T?Zi(T):"";if(x)switch(x){case On:return hr;case lu:return en;case xs:return Er;case Yv:return pt;case uu:return Yn}return _});function P2(p,_,T){for(var x=-1,B=T.length;++x<B;){var K=T[x],ee=K.size;switch(K.type){case"drop":p+=ee;break;case"dropRight":_-=ee;break;case"take":_=ci(_,p+ee);break;case"takeRight":p=Kr(p,_-ee);break}}return{start:p,end:_}}function Em(p){var _=p.match(rt);return _?_[1].split(yt):[]}function bm(p,_,T){_=as(_,p);for(var x=-1,B=_.length,K=!1;++x<B;){var ee=La(_[x]);if(!(K=p!=null&&T(p,ee)))break;p=p[ee]}return K||++x!=B?K:(B=p==null?0:p.length,!!B&&Fm(B)&&oo(ee,B)&&(Zt(p)||yc(p)))}function zy(p){var _=p.length,T=new p.constructor(_);return _&&typeof p[0]=="string"&&rr.call(p,"index")&&(T.index=p.index,T.input=p.input),T}function A_(p){return typeof p.constructor=="function"&&!Dd(p)?cu(Uo(p)):{}}function Vy(p,_,T){var x=p.constructor;switch(_){case Wn:return Qh(p);case Ot:case Ct:return new x(+p);case hr:return U2(p,T);case ht:case ni:case Ei:case Ir:case kr:case Qn:case bn:case tn:case Mr:return f_(p,T);case en:return new x;case Pn:case kn:return new x(p);case Fn:return xy(p);case pt:return new x;case er:return Ly(p)}}function w_(p,_){var T=_.length;if(!T)return p;var x=T-1;return _[x]=(T>1?"& ":"")+_[x],_=_.join(T>2?", ":" "),p.replace(Yi,`{
/* [wrapped with `+_+`] */
`)}function I_(p){return Zt(p)||yc(p)||!!(gy&&p&&p[gy])}function oo(p,_){var T=typeof p;return _=_??he,!!_&&(T=="number"||T!="symbol"&&ae.test(p))&&p>-1&&p%1==0&&p<_}function Xi(p,_,T){if(!Hr(T))return!1;var x=typeof _;return(x=="number"?Ha(T)&&oo(_,T.length):x=="string"&&_ in T)?us(T[_],p):!1}function lf(p,_){if(Zt(p))return!1;var T=typeof p;return T=="number"||T=="symbol"||T=="boolean"||p==null||Ba(p)?!0:Ki.test(p)||!kt.test(p)||_!=null&&p in sr(_)}function Tm(p){var _=typeof p;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?p!=="__proto__":p===null}function uf(p){var _=Vr(p),T=V[_];if(typeof T!="function"||!(_ in sn.prototype))return!1;if(p===T)return!0;var x=rf(T);return!!x&&p===x[0]}function qy(p){return!!qp&&qp in p}var M_=zp?cs:ye;function Dd(p){var _=p&&p.constructor,T=typeof _=="function"&&_.prototype||ld;return p===T}function Go(p){return p===p&&!Hr(p)}function Cm(p,_){return function(T){return T==null?!1:T[p]===_&&(_!==e||p in sr(T))}}function F2(p){var _=Cf(p,function(x){return T.size===d&&T.clear(),x}),T=_.cache;return _}function jy(p,_){var T=p[1],x=_[1],B=T|x,K=B<(w|I|G),ee=x==G&&T==R||x==G&&T==Y&&p[7].length<=_[8]||x==(G|Y)&&_[7].length<=_[8]&&T==R;if(!(K||ee))return p;x&w&&(p[2]=_[2],B|=T&w?0:M);var oe=_[3];if(oe){var me=p[3];p[3]=me?hm(me,oe,_[4]):oe,p[4]=me?_l(p[3],f):_[4]}return oe=_[5],oe&&(me=p[5],p[5]=me?m_(me,oe,_[6]):oe,p[6]=me?_l(p[5],f):_[6]),oe=_[7],oe&&(p[7]=oe),x&G&&(p[8]=p[8]==null?_[8]:ci(p[8],_[8])),p[9]==null&&(p[9]=_[9]),p[0]=_[0],p[1]=B,p}function Al(p){var _=[];if(p!=null)for(var T in sr(p))_.push(T);return _}function O_(p){return Oa.call(p)}function R_(p,_,T){return _=Kr(_===e?p.length-1:_,0),function(){for(var x=arguments,B=-1,K=Kr(x.length-_,0),ee=Se(K);++B<K;)ee[B]=x[_+B];B=-1;for(var oe=Se(_+1);++B<_;)oe[B]=x[B];return oe[_]=T(ee),ut(p,this,oe)}}function cf(p,_){return _.length<2?p:Ho(p,is(_,0,-1))}function df(p,_){for(var T=p.length,x=ci(_.length,T),B=fa(p);x--;){var K=_[x];p[x]=oo(K,T)?B[K]:e}return p}function Tr(p,_){if(!(_==="constructor"&&typeof p[_]=="function")&&_!="__proto__")return p[_]}var $y=wl(s_),hf=sc||function(p,_){return $r.setTimeout(p,_)},Sm=wl(Iy);function xd(p,_,T){var x=_+"";return Sm(p,w_(x,Ky(Em(x),T)))}function wl(p){var _=0,T=0;return function(){var x=Os(),B=Oe-(x-T);if(T=x,B>0){if(++_>=ne)return arguments[0]}else _=0;return p.apply(e,arguments)}}function ff(p,_){var T=-1,x=p.length,B=x-1;for(_=_===e?x:_;++T<_;){var K=wd(T,B),ee=p[K];p[K]=p[T],p[T]=ee}return p.length=_,p}var D_=F2(function(p){var _=[];return p.charCodeAt(0)===46&&_.push(""),p.replace(la,function(T,x,B,K){_.push(B?K.replace(mt,"$1"):x||T)}),_});function La(p){if(typeof p=="string"||Ba(p))return p;var _=p+"";return _=="0"&&1/p==-le?"-0":_}function Zi(p){if(p!=null){try{return Vp.call(p)}catch{}try{return p+""}catch{}}return""}function Ky(p,_){return ce($e,function(T){var x="_."+T[0];_&T[1]&&!nr(p,x)&&p.push(x)}),p.sort()}function Nm(p){if(p instanceof sn)return p.clone();var _=new Ra(p.__wrapped__,p.__chain__);return _.__actions__=fa(p.__actions__),_.__index__=p.__index__,_.__values__=p.__values__,_}function Yy(p,_,T){(T?Xi(p,_,T):_===e)?_=1:_=Kr(jt(_),0);var x=p==null?0:p.length;if(!x||_<1)return[];for(var B=0,K=0,ee=Se(dd(x/_));B<x;)ee[K++]=is(p,B,B+=_);return ee}function x_(p){for(var _=-1,T=p==null?0:p.length,x=0,B=[];++_<T;){var K=p[_];K&&(B[x++]=K)}return B}function L_(){var p=arguments.length;if(!p)return[];for(var _=Se(p-1),T=arguments[0],x=p;x--;)_[x-1]=arguments[x];return su(Zt(T)?fa(T):[T],Si(_,1))}var Am=ln(function(p,_){return ai(p)?ks(p,Si(_,1,ai,!0)):[]}),Wy=ln(function(p,_){var T=xr(_);return ai(T)&&(T=e),ai(p)?ks(p,Si(_,1,ai,!0),Ht(T,2)):[]}),Il=ln(function(p,_){var T=xr(_);return ai(T)&&(T=e),ai(p)?ks(p,Si(_,1,ai,!0),e,T):[]});function fi(p,_,T){var x=p==null?0:p.length;return x?(_=T||_===e?1:jt(_),is(p,_<0?0:_,x)):[]}function U_(p,_,T){var x=p==null?0:p.length;return x?(_=T||_===e?1:jt(_),_=x-_,is(p,0,_<0?0:_)):[]}function Qy(p,_){return p&&p.length?Yh(p,Ht(_,3),!0,!0):[]}function Li(p,_){return p&&p.length?Yh(p,Ht(_,3),!0):[]}function H2(p,_,T,x){var B=p==null?0:p.length;return B?(T&&typeof T!="number"&&Xi(p,_,T)&&(T=0,x=B),zh(p,_,T,x)):[]}function k_(p,_,T){var x=p==null?0:p.length;if(!x)return-1;var B=T==null?0:jt(T);return B<0&&(B=Kr(x+B,0)),Lp(p,Ht(_,3),B)}function P_(p,_,T){var x=p==null?0:p.length;if(!x)return-1;var B=x-1;return T!==e&&(B=jt(T),B=T<0?Kr(x+B,0):ci(B,x-1)),Lp(p,Ht(_,3),B,!0)}function Dr(p){var _=p==null?0:p.length;return _?Si(p,1):[]}function Ua(p){var _=p==null?0:p.length;return _?Si(p,le):[]}function Ml(p,_){var T=p==null?0:p.length;return T?(_=_===e?1:jt(_),Si(p,_)):[]}function Xy(p){for(var _=-1,T=p==null?0:p.length,x={};++_<T;){var B=p[_];x[B[0]]=B[1]}return x}function F_(p){return p&&p.length?p[0]:e}function Zy(p,_,T){var x=p==null?0:p.length;if(!x)return-1;var B=T==null?0:jt(T);return B<0&&(B=Kr(x+B,0)),id(p,_,B)}function B2(p){var _=p==null?0:p.length;return _?is(p,0,-1):[]}var wm=ln(function(p){var _=Ar(p,d_);return _.length&&_[0]===p[0]?qh(_):[]}),ka=ln(function(p){var _=xr(p),T=Ar(p,d_);return _===xr(T)?_=e:T.pop(),T.length&&T[0]===p[0]?qh(T,Ht(_,2)):[]}),lo=ln(function(p){var _=xr(p),T=Ar(p,d_);return _=typeof _=="function"?_:e,_&&T.pop(),T.length&&T[0]===p[0]?qh(T,e,_):[]});function Jy(p,_){return p==null?"":hd.call(p,_)}function xr(p){var _=p==null?0:p.length;return _?p[_-1]:e}function eE(p,_,T){var x=p==null?0:p.length;if(!x)return-1;var B=x;return T!==e&&(B=jt(T),B=B<0?Kr(x+B,0):ci(B,x-1)),_===_?I2(p,_,B):Lp(p,ly,B,!0)}function Ol(p,_){return p&&p.length?om(p,jt(_)):e}var mc=ln(zo);function zo(p,_){return p&&p.length&&_&&_.length?Nd(p,_):p}function H_(p,_,T){return p&&p.length&&_&&_.length?Nd(p,_,Ht(T,2)):p}function B_(p,_,T){return p&&p.length&&_&&_.length?Nd(p,_,e,T):p}var uo=Bo(function(p,_){var T=p==null?0:p.length,x=bd(p,_);return Ad(p,Ar(_,function(B){return oo(B,T)?+B:B}).sort(p_)),x});function tE(p,_){var T=[];if(!(p&&p.length))return T;var x=-1,B=[],K=p.length;for(_=Ht(_,3);++x<K;){var ee=p[x];_(ee,x,p)&&(T.push(ee),B.push(x))}return Ad(p,B),T}function Eu(p){return p==null?p:ko.call(p)}function pf(p,_,T){var x=p==null?0:p.length;return x?(T&&typeof T!="number"&&Xi(p,_,T)?(_=0,T=x):(_=_==null?0:jt(_),T=T===e?x:jt(T)),is(p,_,T)):[]}function mf(p,_){return Md(p,_)}function Ld(p,_,T){return um(p,_,Ht(T,2))}function nE(p,_){var T=p==null?0:p.length;if(T){var x=Md(p,_);if(x<T&&us(p[x],_))return x}return-1}function rE(p,_){return Md(p,_,!0)}function vf(p,_,T){return um(p,_,Ht(T,2),!0)}function iE(p,_){var T=p==null?0:p.length;if(T){var x=Md(p,_,!0)-1;if(us(p[x],_))return x}return-1}function Im(p){return p&&p.length?Ry(p):[]}function aE(p,_){return p&&p.length?Ry(p,Ht(_,2)):[]}function G2(p){var _=p==null?0:p.length;return _?is(p,1,_):[]}function z2(p,_,T){return p&&p.length?(_=T||_===e?1:jt(_),is(p,0,_<0?0:_)):[]}function Zn(p,_,T){var x=p==null?0:p.length;return x?(_=T||_===e?1:jt(_),_=x-_,is(p,_<0?0:_,x)):[]}function Cr(p,_){return p&&p.length?Yh(p,Ht(_,3),!1,!0):[]}function Sn(p,_){return p&&p.length?Yh(p,Ht(_,3)):[]}var wn=ln(function(p){return Nl(Si(p,1,ai,!0))}),or=ln(function(p){var _=xr(p);return ai(_)&&(_=e),Nl(Si(p,1,ai,!0),Ht(_,2))}),ss=ln(function(p){var _=xr(p);return _=typeof _=="function"?_:e,Nl(Si(p,1,ai,!0),e,_)});function bu(p){return p&&p.length?Nl(p):[]}function Ud(p,_){return p&&p.length?Nl(p,Ht(_,2)):[]}function G_(p,_){return _=typeof _=="function"?_:e,p&&p.length?Nl(p,e,_):[]}function co(p){if(!(p&&p.length))return[];var _=0;return p=ft(p,function(T){if(ai(T))return _=Kr(T.length,_),!0}),Pp(_,function(T){return Ar(p,tc(T))})}function qr(p,_){if(!(p&&p.length))return[];var T=co(p);return _==null?T:Ar(T,function(x){return ut(_,e,x)})}var Tu=ln(function(p,_){return ai(p)?ks(p,_):[]}),vc=ln(function(p){return cm(ft(p,ai))}),z_=ln(function(p){var _=xr(p);return ai(_)&&(_=e),cm(ft(p,ai),Ht(_,2))}),os=ln(function(p){var _=xr(p);return _=typeof _=="function"?_:e,cm(ft(p,ai),e,_)}),kd=ln(co);function _f(p,_){return c_(p||[],_||[],to)}function Pa(p,_){return c_(p||[],_||[],Id)}var V_=ln(function(p){var _=p.length,T=_>1?p[_-1]:e;return T=typeof T=="function"?(p.pop(),T):e,qr(p,T)});function gf(p){var _=V(p);return _.__chain__=!0,_}function sE(p,_){return _(p),p}function _c(p,_){return _(p)}var Mm=Bo(function(p){var _=p.length,T=_?p[0]:0,x=this.__wrapped__,B=function(K){return bd(K,p)};return _>1||this.__actions__.length||!(x instanceof sn)||!oo(T)?this.thru(B):(x=x.slice(T,+T+(_?1:0)),x.__actions__.push({func:_c,args:[B],thisArg:e}),new Ra(x,this.__chain__).thru(function(K){return _&&!K.length&&K.push(e),K}))});function Cu(){return gf(this)}function Ni(){return new Ra(this.value(),this.__chain__)}function Su(){this.__values__===e&&(this.__values__=OE(this.value()));var p=this.__index__>=this.__values__.length,_=p?e:this.__values__[this.__index__++];return{done:p,value:_}}function Pd(){return this}function Rl(p){for(var _,T=this;T instanceof du;){var x=Nm(T);x.__index__=0,x.__values__=e,_?B.__wrapped__=x:_=x;var B=x;T=T.__wrapped__}return B.__wrapped__=p,_}function q_(){var p=this.__wrapped__;if(p instanceof sn){var _=p;return this.__actions__.length&&(_=new sn(this)),_=_.reverse(),_.__actions__.push({func:_c,args:[Eu],thisArg:e}),new Ra(_,this.__chain__)}return this.thru(Eu)}function j_(){return u_(this.__wrapped__,this.__actions__)}var oE=fm(function(p,_,T){rr.call(p,T)?++p[T]:ts(p,T,1)});function yf(p,_,T){var x=Zt(p)?ot:pu;return T&&Xi(p,_,T)&&(_=e),x(p,Ht(_,3))}function $_(p,_){var T=Zt(p)?ft:tm;return T(p,Ht(_,3))}var ls=E_(k_),lE=E_(P_);function Fa(p,_){return Si(Ef(p,_),1)}function uE(p,_){return Si(Ef(p,_),le)}function cE(p,_,T){return T=T===e?1:jt(T),Si(Ef(p,_),T)}function dE(p,_){var T=Zt(p)?ce:Fo;return T(p,Ht(_,3))}function Dl(p,_){var T=Zt(p)?vt:em;return T(p,Ht(_,3))}var Om=fm(function(p,_,T){rr.call(p,T)?p[T].push(_):ts(p,T,[_])});function K_(p,_,T,x){p=Ha(p)?p:$d(p),T=T&&!x?jt(T):0;var B=p.length;return T<0&&(T=Kr(B+T,0)),Of(p)?T<=B&&p.indexOf(_,T)>-1:!!B&&id(p,_,T)>-1}var Fd=ln(function(p,_,T){var x=-1,B=typeof _=="function",K=Ha(p)?Se(p.length):[];return Fo(p,function(ee){K[++x]=B?ut(_,ee,T):Fs(ee,_,T)}),K}),hE=fm(function(p,_,T){ts(p,T,_)});function Ef(p,_){var T=Zt(p)?Ar:am;return T(p,Ht(_,3))}function fE(p,_,T,x){return p==null?[]:(Zt(_)||(_=_==null?[]:[_]),T=x?e:T,Zt(T)||(T=T==null?[]:[T]),lm(p,_,T))}var pE=fm(function(p,_,T){p[T?0:1].push(_)},function(){return[[],[]]});function Rm(p,_,T){var x=Zt(p)?kv:Hv,B=arguments.length<3;return x(p,Ht(_,4),T,B,Fo)}function Y_(p,_,T){var x=Zt(p)?sy:Hv,B=arguments.length<3;return x(p,Ht(_,4),T,B,em)}function V2(p,_){var T=Zt(p)?ft:tm;return T(p,Lm(Ht(_,3)))}function q2(p){var _=Zt(p)?Gh:i_;return _(p)}function j2(p,_,T){(T?Xi(p,_,T):_===e)?_=1:_=jt(_);var x=Zt(p)?Zp:a_;return x(p,_)}function mE(p){var _=Zt(p)?Sy:My;return _(p)}function vE(p){if(p==null)return 0;if(Ha(p))return Of(p)?ad(p):p.length;var _=zi(p);return _==en||_==pt?p.size:vu(p).length}function Hd(p,_,T){var x=Zt(p)?Pv:Oy;return T&&Xi(p,_,T)&&(_=e),x(p,Ht(_,3))}var Dm=ln(function(p,_){if(p==null)return[];var T=_.length;return T>1&&Xi(p,_[0],_[1])?_=[]:T>2&&Xi(_[0],_[1],_[2])&&(_=[_[0]]),lm(p,Si(_,1),[])}),bf=Kp||function(){return $r.Date.now()};function _E(p,_){if(typeof _!="function")throw new Za(s);return p=jt(p),function(){if(--p<1)return _.apply(this,arguments)}}function W_(p,_,T){return _=T?e:_,_=p&&_==null?p.length:_,pa(p,G,e,e,e,e,_)}function Q_(p,_){var T;if(typeof _!="function")throw new Za(s);return p=jt(p),function(){return--p>0&&(T=_.apply(this,arguments)),p<=1&&(_=e),T}}var xm=ln(function(p,_,T){var x=w;if(T.length){var B=_l(T,Wr(xm));x|=H}return pa(p,x,_,T,B)}),X_=ln(function(p,_,T){var x=w|I;if(T.length){var B=_l(T,Wr(X_));x|=H}return pa(_,x,p,T,B)});function Tf(p,_,T){_=T?e:_;var x=pa(p,R,e,e,e,e,e,_);return x.placeholder=Tf.placeholder,x}function Z_(p,_,T){_=T?e:_;var x=pa(p,U,e,e,e,e,e,_);return x.placeholder=Z_.placeholder,x}function J_(p,_,T){var x,B,K,ee,oe,me,Ve=0,qe=!1,Ke=!1,it=!0;if(typeof p!="function")throw new Za(s);_=ds(_)||0,Hr(T)&&(qe=!!T.leading,Ke="maxWait"in T,K=Ke?Kr(ds(T.maxWait)||0,_):K,it="trailing"in T?!!T.trailing:it);function At(Ai){var Ul=x,bc=B;return x=B=e,Ve=Ai,ee=p.apply(bc,Ul),ee}function $t(Ai){return Ve=Ai,oe=hf(Rn,_),qe?At(Ai):ee}function _n(Ai){var Ul=Ai-me,bc=Ai-Ve,F3=_-Ul;return Ke?ci(F3,K-bc):F3}function Kt(Ai){var Ul=Ai-me,bc=Ai-Ve;return me===e||Ul>=_||Ul<0||Ke&&bc>=K}function Rn(){var Ai=bf();if(Kt(Ai))return Hn(Ai);oe=hf(Rn,_n(Ai))}function Hn(Ai){return oe=e,it&&x?At(Ai):(x=B=e,ee)}function ho(){oe!==e&&Wh(oe),Ve=0,x=me=B=oe=e}function hs(){return oe===e?ee:Hn(bf())}function fo(){var Ai=bf(),Ul=Kt(Ai);if(x=arguments,B=this,me=Ai,Ul){if(oe===e)return $t(me);if(Ke)return Wh(oe),oe=hf(Rn,_),At(me)}return oe===e&&(oe=hf(Rn,_)),ee}return fo.cancel=ho,fo.flush=hs,fo}var lr=ln(function(p,_){return Jv(p,1,_)}),eg=ln(function(p,_,T){return Jv(p,ds(_)||0,T)});function $2(p){return pa(p,F)}function Cf(p,_){if(typeof p!="function"||_!=null&&typeof _!="function")throw new Za(s);var T=function(){var x=arguments,B=_?_.apply(this,x):x[0],K=T.cache;if(K.has(B))return K.get(B);var ee=p.apply(this,x);return T.cache=K.set(B,ee)||K,ee};return T.cache=new(Cf.Cache||eo),T}Cf.Cache=eo;function Lm(p){if(typeof p!="function")throw new Za(s);return function(){var _=arguments;switch(_.length){case 0:return!p.call(this);case 1:return!p.call(this,_[0]);case 2:return!p.call(this,_[0],_[1]);case 3:return!p.call(this,_[0],_[1],_[2])}return!p.apply(this,_)}}function K2(p){return Q_(2,p)}var Y2=Dy(function(p,_){_=_.length==1&&Zt(_[0])?Ar(_[0],Xa(Ht())):Ar(Si(_,1),Xa(Ht()));var T=_.length;return ln(function(x){for(var B=-1,K=ci(x.length,T);++B<K;)x[B]=_[B].call(this,x[B]);return ut(p,this,x)})}),Bd=ln(function(p,_){var T=_l(_,Wr(Bd));return pa(p,H,e,_,T)}),gc=ln(function(p,_){var T=_l(_,Wr(gc));return pa(p,P,e,_,T)}),tg=Bo(function(p,_){return pa(p,Y,e,e,e,_)});function Um(p,_){if(typeof p!="function")throw new Za(s);return _=_===e?_:jt(_),ln(p,_)}function ng(p,_){if(typeof p!="function")throw new Za(s);return _=_==null?0:Kr(jt(_),0),ln(function(T){var x=T[_],B=so(T,0,_);return x&&su(B,x),ut(p,this,B)})}function Nu(p,_,T){var x=!0,B=!0;if(typeof p!="function")throw new Za(s);return Hr(T)&&(x="leading"in T?!!T.leading:x,B="trailing"in T?!!T.trailing:B),J_(p,_,{leading:x,maxWait:_,trailing:B})}function Vo(p){return W_(p,1)}function Sf(p,_){return Bd(dm(_),p)}function W2(){if(!arguments.length)return[];var p=arguments[0];return Zt(p)?p:[p]}function gE(p){return ha(p,y)}function yE(p,_){return _=typeof _=="function"?_:e,ha(p,y,_)}function EE(p){return ha(p,v|y)}function bE(p,_){return _=typeof _=="function"?_:e,ha(p,v|y,_)}function Q2(p,_){return _==null||fu(p,_,Ui(_))}function us(p,_){return p===_||p!==p&&_!==_}var TE=ef(Vh),CE=ef(function(p,_){return p>=_}),yc=Da((function(){return arguments})())?Da:function(p){return Qr(p)&&rr.call(p,"callee")&&!Uh.call(p,"callee")},Zt=Se.isArray,rg=Mh?Xa(Mh):ri;function Ha(p){return p!=null&&Fm(p.length)&&!cs(p)}function ai(p){return Qr(p)&&Ha(p)}function Nf(p){return p===!0||p===!1||Qr(p)&&Gi(p)==Ot}var Au=Ey||ye,SE=nd?Xa(nd):rm;function Nn(p){return Qr(p)&&p.nodeType===1&&!wf(p)}function ig(p){if(p==null)return!0;if(Ha(p)&&(Zt(p)||typeof p=="string"||typeof p.splice=="function"||Au(p)||wu(p)||yc(p)))return!p.length;var _=zi(p);if(_==en||_==pt)return!p.size;if(Dd(p))return!vu(p).length;for(var T in p)if(rr.call(p,T))return!1;return!0}function km(p,_){return rs(p,_)}function ag(p,_,T){T=typeof T=="function"?T:e;var x=T?T(p,_):e;return x===e?rs(p,_,e,T):!!x}function Pm(p){if(!Qr(p))return!1;var _=Gi(p);return _==An||_==Kn||typeof p.message=="string"&&typeof p.name=="string"&&!wf(p)}function sg(p){return typeof p=="number"&&Ja(p)}function cs(p){if(!Hr(p))return!1;var _=Gi(p);return _==Ln||_==En||_==Je||_==Un}function Af(p){return typeof p=="number"&&p==jt(p)}function Fm(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=he}function Hr(p){var _=typeof p;return p!=null&&(_=="object"||_=="function")}function Qr(p){return p!=null&&typeof p=="object"}var NE=ec?Xa(ec):pr;function AE(p,_){return p===_||Yr(p,_,gm(_))}function wE(p,_,T){return T=typeof T=="function"?T:e,Yr(p,_,gm(_),T)}function mr(p){return lg(p)&&p!=+p}function og(p){if(M_(p))throw new Xt(a);return jh(p)}function Vi(p){return p===null}function X2(p){return p==null}function lg(p){return typeof p=="number"||Qr(p)&&Gi(p)==Pn}function wf(p){if(!Qr(p)||Gi(p)!=fn)return!1;var _=Uo(p);if(_===null)return!0;var T=rr.call(_,"constructor")&&_.constructor;return typeof T=="function"&&T instanceof T&&Vp.call(T)==jp}var If=rd?Xa(rd):Cd;function ug(p){return Af(p)&&p>=-he&&p<=he}var Mf=Oh?Xa(Oh):fc;function Of(p){return typeof p=="string"||!Zt(p)&&Qr(p)&&Gi(p)==kn}function Ba(p){return typeof p=="symbol"||Qr(p)&&Gi(p)==er}var wu=pn?Xa(pn):im;function cg(p){return p===e}function Z2(p){return Qr(p)&&zi(p)==Yn}function IE(p){return Qr(p)&&Gi(p)==Pt}var J2=ef(Fr),ME=ef(function(p,_){return p<=_});function OE(p){if(!p)return[];if(Ha(p))return Of(p)?zr(p):fa(p);if(Hi&&p[Hi])return qv(p[Hi]());var _=zi(p),T=_==en?Hp:_==pt?Bp:$d;return T(p)}function xl(p){if(!p)return p===0?p:0;if(p=ds(p),p===le||p===-le){var _=p<0?-1:1;return _*xe}return p===p?p:0}function jt(p){var _=xl(p),T=_%1;return _===_?T?_-T:_:0}function dg(p){return p?no(jt(p),0,Q):0}function ds(p){if(typeof p=="number")return p;if(Ba(p))return Ge;if(Hr(p)){var _=typeof p.valueOf=="function"?p.valueOf():p;p=Hr(_)?_+"":_}if(typeof p!="string")return p===0?p:+p;p=nc(p);var T=Gr.test(p);return T||nt.test(p)?au(p.slice(2),T?2:8):Br.test(p)?Ge:+p}function Hm(p){return Hs(p,Ga(p))}function eT(p){return p?no(jt(p),-he,he):p===0?p:0}function ar(p){return p==null?"":xa(p)}var RE=_u(function(p,_){if(Dd(_)||Ha(_)){Hs(_,Ui(_),p);return}for(var T in _)rr.call(_,T)&&to(p,T,_[T])}),Bm=_u(function(p,_){Hs(_,Ga(_),p)}),Gd=_u(function(p,_,T,x){Hs(_,Ga(_),p,x)}),tT=_u(function(p,_,T,x){Hs(_,Ui(_),p,x)}),Bs=Bo(bd);function hg(p,_){var T=cu(p);return _==null?T:Zv(T,_)}var DE=ln(function(p,_){p=sr(p);var T=-1,x=_.length,B=x>2?_[2]:e;for(B&&Xi(_[0],_[1],B)&&(x=1);++T<x;)for(var K=_[T],ee=Ga(K),oe=-1,me=ee.length;++oe<me;){var Ve=ee[oe],qe=p[Ve];(qe===e||us(qe,ld[Ve])&&!rr.call(p,Ve))&&(p[Ve]=K[Ve])}return p}),xE=ln(function(p){return p.push(e,C_),ut(Vd,e,p)});function LE(p,_){return oy(p,Ht(_,3),io)}function Rf(p,_){return oy(p,Ht(_,3),nm)}function Gs(p,_){return p==null?p:hc(p,Ht(_,3),Ga)}function UE(p,_){return p==null?p:Td(p,Ht(_,3),Ga)}function Gm(p,_){return p&&io(p,Ht(_,3))}function Ll(p,_){return p&&nm(p,Ht(_,3))}function nT(p){return p==null?[]:Sl(p,Ui(p))}function rT(p){return p==null?[]:Sl(p,Ga(p))}function Iu(p,_,T){var x=p==null?e:Ho(p,_);return x===e?T:x}function kE(p,_){return p!=null&&bm(p,_,ns)}function fg(p,_){return p!=null&&bm(p,_,Ps)}var iT=Zh(function(p,_,T){_!=null&&typeof _.toString!="function"&&(_=Oa.call(_)),p[_]=T},Yd(ma)),aT=Zh(function(p,_,T){_!=null&&typeof _.toString!="function"&&(_=Oa.call(_)),rr.call(p,_)?p[_].push(T):p[_]=[T]},Ht),sT=ln(Fs);function Ui(p){return Ha(p)?Xp(p):vu(p)}function Ga(p){return Ha(p)?Xp(p,!0):x2(p)}function oT(p,_){var T={};return _=Ht(_,3),io(p,function(x,B,K){ts(T,_(x,B,K),x)}),T}function PE(p,_){var T={};return _=Ht(_,3),io(p,function(x,B,K){ts(T,B,_(x,B,K))}),T}var zd=_u(function(p,_,T){$h(p,_,T)}),Vd=_u(function(p,_,T,x){$h(p,_,T,x)}),FE=Bo(function(p,_){var T={};if(p==null)return T;var x=!1;_=Ar(_,function(K){return K=as(K,p),x||(x=K.length>1),K}),Hs(p,N_(p),T),x&&(T=ha(T,v|g|y,By));for(var B=_.length;B--;)Kh(T,_[B]);return T});function lT(p,_){return jd(p,Lm(Ht(_)))}var qd=Bo(function(p,_){return p==null?{}:n_(p,_)});function jd(p,_){if(p==null)return{};var T=Ar(N_(p),function(x){return[x]});return _=Ht(_),Qi(p,T,function(x,B){return _(x,B[0])})}function HE(p,_,T){_=as(_,p);var x=-1,B=_.length;for(B||(B=1,p=e);++x<B;){var K=p==null?e:p[La(_[x])];K===e&&(x=B,K=T),p=cs(K)?K.call(p):K}return p}function zm(p,_,T){return p==null?p:Id(p,_,T)}function pg(p,_,T,x){return x=typeof x=="function"?x:e,p==null?p:Id(p,_,T,x)}var Vm=b_(Ui),Df=b_(Ga);function BE(p,_,T){var x=Zt(p),B=x||Au(p)||wu(p);if(_=Ht(_,4),T==null){var K=p&&p.constructor;B?T=x?new K:[]:Hr(p)?T=cs(K)?cu(Uo(p)):{}:T={}}return(B?ce:io)(p,function(ee,oe,me){return _(T,ee,oe,me)}),T}function GE(p,_){return p==null?!0:Kh(p,_)}function uT(p,_,T){return p==null?p:l_(p,_,dm(T))}function zE(p,_,T,x){return x=typeof x=="function"?x:e,p==null?p:l_(p,_,dm(T),x)}function $d(p){return p==null?[]:Bv(p,Ui(p))}function mg(p){return p==null?[]:Bv(p,Ga(p))}function cT(p,_,T){return T===e&&(T=_,_=e),T!==e&&(T=ds(T),T=T===T?T:0),_!==e&&(_=ds(_),_=_===_?_:0),no(ds(p),_,T)}function qm(p,_,T){return _=xl(_),T===e?(T=_,_=0):T=xl(T),p=ds(p),mu(p,_,T)}function jm(p,_,T){if(T&&typeof T!="boolean"&&Xi(p,_,T)&&(_=T=e),T===e&&(typeof _=="boolean"?(T=_,_=e):typeof p=="boolean"&&(T=p,p=e)),p===e&&_===e?(p=0,_=1):(p=xl(p),_===e?(_=p,p=0):_=xl(_)),p>_){var x=p;p=_,_=x}if(T||p%1||_%1){var B=El();return ci(p+B*(_-p+Lo("1e-"+((B+"").length-1))),_)}return wd(p,_)}var $m=pc(function(p,_,T){return _=_.toLowerCase(),p+(T?VE(_):_)});function VE(p){return Ec(ar(p).toLowerCase())}function Kd(p){return p=ar(p),p&&p.replace(He,xh).replace(Ah,"")}function dT(p,_,T){p=ar(p),_=xa(_);var x=p.length;T=T===e?x:no(jt(T),0,x);var B=T;return T-=_.length,T>=0&&p.slice(T,B)==_}function qE(p){return p=ar(p),p&&St.test(p)?p.replace(Ze,N2):p}function jE(p){return p=ar(p),p&&Ys.test(p)?p.replace(bi,"\\$&"):p}var $E=pc(function(p,_,T){return p+(T?"-":"")+_.toLowerCase()}),KE=pc(function(p,_,T){return p+(T?" ":"")+_.toLowerCase()}),vg=y_("toLowerCase");function YE(p,_,T){p=ar(p),_=jt(_);var x=_?ad(p):0;if(!_||x>=_)return p;var B=(_-x)/2;return gu(kh(B),T)+p+gu(dd(B),T)}function WE(p,_,T){p=ar(p),_=jt(_);var x=_?ad(p):0;return _&&x<_?p+gu(_-x,T):p}function Km(p,_,T){p=ar(p),_=jt(_);var x=_?ad(p):0;return _&&x<_?gu(_-x,T)+p:p}function hT(p,_,T){return T||_==null?_=0:_&&(_=+_),Rs(ar(p).replace(Ss,""),_||0)}function fT(p,_,T){return(T?Xi(p,_,T):_===e)?_=1:_=jt(_),ao(ar(p),_)}function _g(){var p=arguments,_=ar(p[0]);return p.length<3?_:_.replace(p[1],p[2])}var gg=pc(function(p,_,T){return p+(T?"_":"")+_.toLowerCase()});function Ym(p,_,T){return T&&typeof T!="number"&&Xi(p,_,T)&&(_=T=e),T=T===e?Q:T>>>0,T?(p=ar(p),p&&(typeof _=="string"||_!=null&&!If(_))&&(_=xa(_),!_&&rc(p))?so(zr(p),0,T):p.split(_,T)):[]}var yg=pc(function(p,_,T){return p+(T?" ":"")+Ec(_)});function QE(p,_,T){return p=ar(p),T=T==null?0:no(jt(T),0,p.length),_=xa(_),p.slice(T,T+_.length)==_}function Eg(p,_,T){var x=V.templateSettings;T&&Xi(p,_,T)&&(_=e),p=ar(p),_=Gd({},_,x,T_);var B=Gd({},_.imports,x.imports,T_),K=Ui(B),ee=Bv(B,K),oe,me,Ve=0,qe=_.interpolate||Xe,Ke="__p += '",it=Gp((_.escape||Xe).source+"|"+qe.source+"|"+(qe===zn?qt:Xe).source+"|"+(_.evaluate||Xe).source+"|$","g"),At="//# sourceURL="+(rr.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ru+"]")+`
`;p.replace(it,function(Kt,Rn,Hn,ho,hs,fo){return Hn||(Hn=ho),Ke+=p.slice(Ve,fo).replace(Wt,Fp),Rn&&(oe=!0,Ke+=`' +
__e(`+Rn+`) +
'`),hs&&(me=!0,Ke+=`';
`+hs+`;
__p += '`),Hn&&(Ke+=`' +
((__t = (`+Hn+`)) == null ? '' : __t) +
'`),Ve=fo+Kt.length,Kt}),Ke+=`';
`;var $t=rr.call(_,"variable")&&_.variable;if(!$t)Ke=`with (obj) {
`+Ke+`
}
`;else if(Nt.test($t))throw new Xt(l);Ke=(me?Ke.replace(oa,""):Ke).replace(Dt,"$1").replace(Ut,"$1;"),Ke="function("+($t||"obj")+`) {
`+($t?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(oe?", __e = _.escape":"")+(me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ke+`return __p
}`;var _n=bg(function(){return Cn(K,At+"return "+Ke).apply(e,ee)});if(_n.source=Ke,Pm(_n))throw _n;return _n}function Mu(p){return ar(p).toLowerCase()}function Ou(p){return ar(p).toUpperCase()}function Ru(p,_,T){if(p=ar(p),p&&(T||_===e))return nc(p);if(!p||!(_=xa(_)))return p;var x=zr(p),B=zr(_),K=Gv(x,B),ee=zv(x,B)+1;return so(x,K,ee).join("")}function xf(p,_,T){if(p=ar(p),p&&(T||_===e))return p.slice(0,sd(p)+1);if(!p||!(_=xa(_)))return p;var x=zr(p),B=zv(x,zr(_))+1;return so(x,0,B).join("")}function Lf(p,_,T){if(p=ar(p),p&&(T||_===e))return p.replace(Ss,"");if(!p||!(_=xa(_)))return p;var x=zr(p),B=Gv(x,zr(_));return so(x,B).join("")}function Du(p,_){var T=te,x=J;if(Hr(_)){var B="separator"in _?_.separator:B;T="length"in _?jt(_.length):T,x="omission"in _?xa(_.omission):x}p=ar(p);var K=p.length;if(rc(p)){var ee=zr(p);K=ee.length}if(T>=K)return p;var oe=T-ad(x);if(oe<1)return x;var me=ee?so(ee,0,oe).join(""):p.slice(0,oe);if(B===e)return me+x;if(ee&&(oe+=me.length-oe),If(B)){if(p.slice(oe).search(B)){var Ve,qe=me;for(B.global||(B=Gp(B.source,ar(Tn.exec(B))+"g")),B.lastIndex=0;Ve=B.exec(qe);)var Ke=Ve.index;me=me.slice(0,Ke===e?oe:Ke)}}else if(p.indexOf(xa(B),oe)!=oe){var it=me.lastIndexOf(B);it>-1&&(me=me.slice(0,it))}return me+x}function pT(p){return p=ar(p),p&&Ie.test(p)?p.replace(Et,hy):p}var XE=pc(function(p,_,T){return p+(T?" ":"")+_.toUpperCase()}),Ec=y_("toUpperCase");function ZE(p,_,T){return p=ar(p),_=T?e:_,_===e?Vv(p)?my(p):C2(p):p.match(_)||[]}var bg=ln(function(p,_){try{return ut(p,e,_)}catch(T){return Pm(T)?T:new Xt(T)}}),Wm=Bo(function(p,_){return ce(_,function(T){T=La(T),ts(p,T,xm(p[T],p))}),p});function JE(p){var _=p==null?0:p.length,T=Ht();return p=_?Ar(p,function(x){if(typeof x[1]!="function")throw new Za(s);return[T(x[0]),x[1]]}):[],ln(function(x){for(var B=-1;++B<_;){var K=p[B];if(ut(K[0],this,x))return ut(K[1],this,x)}})}function mT(p){return Ay(ha(p,v))}function Yd(p){return function(){return p}}function Qm(p,_){return p==null||p!==p?_:p}var eb=Od(),Wd=Od(!0);function ma(p){return p}function Uf(p){return Sd(typeof p=="function"?p:ha(p,v))}function Xm(p){return sm(ha(p,v))}function tb(p,_){return t_(p,ha(_,v))}var vT=ln(function(p,_){return function(T){return Fs(T,p,_)}}),Zm=ln(function(p,_){return function(T){return Fs(p,T,_)}});function o(p,_,T){var x=Ui(_),B=Sl(_,x);T==null&&!(Hr(_)&&(B.length||!x.length))&&(T=_,_=p,p=this,B=Sl(_,Ui(_)));var K=!(Hr(T)&&"chain"in T)||!!T.chain,ee=cs(p);return ce(B,function(oe){var me=_[oe];p[oe]=me,ee&&(p.prototype[oe]=function(){var Ve=this.__chain__;if(K||Ve){var qe=p(this.__wrapped__),Ke=qe.__actions__=fa(this.__actions__);return Ke.push({func:me,args:arguments,thisArg:p}),qe.__chain__=Ve,qe}return me.apply(p,su([this.value()],arguments))})}),p}function u(){return $r._===this&&($r._=Is),this}function h(){}function m(p){return p=jt(p),ln(function(_){return om(_,p)})}var E=pm(Ar),S=pm(ot),L=pm(Pv);function z(p){return lf(p)?tc(La(p)):ii(p)}function ie(p){return function(_){return p==null?e:Ho(p,_)}}var ge=mm(),Ue=mm(!0);function ze(){return[]}function ye(){return!1}function Me(){return{}}function dt(){return""}function Bt(){return!0}function vr(p,_){if(p=jt(p),p<1||p>he)return[];var T=Q,x=ci(p,Q);_=Ht(_),p-=Q;for(var B=Pp(x,_);++T<p;)_(T);return B}function pe(p){return Zt(p)?Ar(p,La):Ba(p)?[p]:fa(D_(ar(p)))}function ue(p){var _=++_y;return ar(p)+_}var _e=Jh(function(p,_){return p+_},0),Be=tf("ceil"),xt=Jh(function(p,_){return p/_},1),qn=tf("floor");function gt(p){return p&&p.length?ro(p,ma,Vh):e}function cn(p,_){return p&&p.length?ro(p,Ht(_,2),Vh):e}function In(p){return Up(p,ma)}function jn(p,_){return Up(p,Ht(_,2))}function xu(p){return p&&p.length?ro(p,ma,Fr):e}function _T(p,_){return p&&p.length?ro(p,Ht(_,2),Fr):e}var FU=Jh(function(p,_){return p*_},1),HU=tf("round"),BU=Jh(function(p,_){return p-_},0);function GU(p){return p&&p.length?kp(p,ma):0}function zU(p,_){return p&&p.length?kp(p,Ht(_,2)):0}return V.after=_E,V.ary=W_,V.assign=RE,V.assignIn=Bm,V.assignInWith=Gd,V.assignWith=tT,V.at=Bs,V.before=Q_,V.bind=xm,V.bindAll=Wm,V.bindKey=X_,V.castArray=W2,V.chain=gf,V.chunk=Yy,V.compact=x_,V.concat=L_,V.cond=JE,V.conforms=mT,V.constant=Yd,V.countBy=oE,V.create=hg,V.curry=Tf,V.curryRight=Z_,V.debounce=J_,V.defaults=DE,V.defaultsDeep=xE,V.defer=lr,V.delay=eg,V.difference=Am,V.differenceBy=Wy,V.differenceWith=Il,V.drop=fi,V.dropRight=U_,V.dropRightWhile=Qy,V.dropWhile=Li,V.fill=H2,V.filter=$_,V.flatMap=Fa,V.flatMapDeep=uE,V.flatMapDepth=cE,V.flatten=Dr,V.flattenDeep=Ua,V.flattenDepth=Ml,V.flip=$2,V.flow=eb,V.flowRight=Wd,V.fromPairs=Xy,V.functions=nT,V.functionsIn=rT,V.groupBy=Om,V.initial=B2,V.intersection=wm,V.intersectionBy=ka,V.intersectionWith=lo,V.invert=iT,V.invertBy=aT,V.invokeMap=Fd,V.iteratee=Uf,V.keyBy=hE,V.keys=Ui,V.keysIn=Ga,V.map=Ef,V.mapKeys=oT,V.mapValues=PE,V.matches=Xm,V.matchesProperty=tb,V.memoize=Cf,V.merge=zd,V.mergeWith=Vd,V.method=vT,V.methodOf=Zm,V.mixin=o,V.negate=Lm,V.nthArg=m,V.omit=FE,V.omitBy=lT,V.once=K2,V.orderBy=fE,V.over=E,V.overArgs=Y2,V.overEvery=S,V.overSome=L,V.partial=Bd,V.partialRight=gc,V.partition=pE,V.pick=qd,V.pickBy=jd,V.property=z,V.propertyOf=ie,V.pull=mc,V.pullAll=zo,V.pullAllBy=H_,V.pullAllWith=B_,V.pullAt=uo,V.range=ge,V.rangeRight=Ue,V.rearg=tg,V.reject=V2,V.remove=tE,V.rest=Um,V.reverse=Eu,V.sampleSize=j2,V.set=zm,V.setWith=pg,V.shuffle=mE,V.slice=pf,V.sortBy=Dm,V.sortedUniq=Im,V.sortedUniqBy=aE,V.split=Ym,V.spread=ng,V.tail=G2,V.take=z2,V.takeRight=Zn,V.takeRightWhile=Cr,V.takeWhile=Sn,V.tap=sE,V.throttle=Nu,V.thru=_c,V.toArray=OE,V.toPairs=Vm,V.toPairsIn=Df,V.toPath=pe,V.toPlainObject=Hm,V.transform=BE,V.unary=Vo,V.union=wn,V.unionBy=or,V.unionWith=ss,V.uniq=bu,V.uniqBy=Ud,V.uniqWith=G_,V.unset=GE,V.unzip=co,V.unzipWith=qr,V.update=uT,V.updateWith=zE,V.values=$d,V.valuesIn=mg,V.without=Tu,V.words=ZE,V.wrap=Sf,V.xor=vc,V.xorBy=z_,V.xorWith=os,V.zip=kd,V.zipObject=_f,V.zipObjectDeep=Pa,V.zipWith=V_,V.entries=Vm,V.entriesIn=Df,V.extend=Bm,V.extendWith=Gd,o(V,V),V.add=_e,V.attempt=bg,V.camelCase=$m,V.capitalize=VE,V.ceil=Be,V.clamp=cT,V.clone=gE,V.cloneDeep=EE,V.cloneDeepWith=bE,V.cloneWith=yE,V.conformsTo=Q2,V.deburr=Kd,V.defaultTo=Qm,V.divide=xt,V.endsWith=dT,V.eq=us,V.escape=qE,V.escapeRegExp=jE,V.every=yf,V.find=ls,V.findIndex=k_,V.findKey=LE,V.findLast=lE,V.findLastIndex=P_,V.findLastKey=Rf,V.floor=qn,V.forEach=dE,V.forEachRight=Dl,V.forIn=Gs,V.forInRight=UE,V.forOwn=Gm,V.forOwnRight=Ll,V.get=Iu,V.gt=TE,V.gte=CE,V.has=kE,V.hasIn=fg,V.head=F_,V.identity=ma,V.includes=K_,V.indexOf=Zy,V.inRange=qm,V.invoke=sT,V.isArguments=yc,V.isArray=Zt,V.isArrayBuffer=rg,V.isArrayLike=Ha,V.isArrayLikeObject=ai,V.isBoolean=Nf,V.isBuffer=Au,V.isDate=SE,V.isElement=Nn,V.isEmpty=ig,V.isEqual=km,V.isEqualWith=ag,V.isError=Pm,V.isFinite=sg,V.isFunction=cs,V.isInteger=Af,V.isLength=Fm,V.isMap=NE,V.isMatch=AE,V.isMatchWith=wE,V.isNaN=mr,V.isNative=og,V.isNil=X2,V.isNull=Vi,V.isNumber=lg,V.isObject=Hr,V.isObjectLike=Qr,V.isPlainObject=wf,V.isRegExp=If,V.isSafeInteger=ug,V.isSet=Mf,V.isString=Of,V.isSymbol=Ba,V.isTypedArray=wu,V.isUndefined=cg,V.isWeakMap=Z2,V.isWeakSet=IE,V.join=Jy,V.kebabCase=$E,V.last=xr,V.lastIndexOf=eE,V.lowerCase=KE,V.lowerFirst=vg,V.lt=J2,V.lte=ME,V.max=gt,V.maxBy=cn,V.mean=In,V.meanBy=jn,V.min=xu,V.minBy=_T,V.stubArray=ze,V.stubFalse=ye,V.stubObject=Me,V.stubString=dt,V.stubTrue=Bt,V.multiply=FU,V.nth=Ol,V.noConflict=u,V.noop=h,V.now=bf,V.pad=YE,V.padEnd=WE,V.padStart=Km,V.parseInt=hT,V.random=jm,V.reduce=Rm,V.reduceRight=Y_,V.repeat=fT,V.replace=_g,V.result=HE,V.round=HU,V.runInContext=de,V.sample=q2,V.size=vE,V.snakeCase=gg,V.some=Hd,V.sortedIndex=mf,V.sortedIndexBy=Ld,V.sortedIndexOf=nE,V.sortedLastIndex=rE,V.sortedLastIndexBy=vf,V.sortedLastIndexOf=iE,V.startCase=yg,V.startsWith=QE,V.subtract=BU,V.sum=GU,V.sumBy=zU,V.template=Eg,V.times=vr,V.toFinite=xl,V.toInteger=jt,V.toLength=dg,V.toLower=Mu,V.toNumber=ds,V.toSafeInteger=eT,V.toString=ar,V.toUpper=Ou,V.trim=Ru,V.trimEnd=xf,V.trimStart=Lf,V.truncate=Du,V.unescape=pT,V.uniqueId=ue,V.upperCase=XE,V.upperFirst=Ec,V.each=dE,V.eachRight=Dl,V.first=F_,o(V,(function(){var p={};return io(V,function(_,T){rr.call(V.prototype,T)||(p[T]=_)}),p})(),{chain:!1}),V.VERSION=r,ce(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){V[p].placeholder=V}),ce(["drop","take"],function(p,_){sn.prototype[p]=function(T){T=T===e?1:Kr(jt(T),0);var x=this.__filtered__&&!_?new sn(this):this.clone();return x.__filtered__?x.__takeCount__=ci(T,x.__takeCount__):x.__views__.push({size:ci(T,Q),type:p+(x.__dir__<0?"Right":"")}),x},sn.prototype[p+"Right"]=function(T){return this.reverse()[p](T).reverse()}}),ce(["filter","map","takeWhile"],function(p,_){var T=_+1,x=T==X||T==$;sn.prototype[p]=function(B){var K=this.clone();return K.__iteratees__.push({iteratee:Ht(B,3),type:T}),K.__filtered__=K.__filtered__||x,K}}),ce(["head","last"],function(p,_){var T="take"+(_?"Right":"");sn.prototype[p]=function(){return this[T](1).value()[0]}}),ce(["initial","tail"],function(p,_){var T="drop"+(_?"":"Right");sn.prototype[p]=function(){return this.__filtered__?new sn(this):this[T](1)}}),sn.prototype.compact=function(){return this.filter(ma)},sn.prototype.find=function(p){return this.filter(p).head()},sn.prototype.findLast=function(p){return this.reverse().find(p)},sn.prototype.invokeMap=ln(function(p,_){return typeof p=="function"?new sn(this):this.map(function(T){return Fs(T,p,_)})}),sn.prototype.reject=function(p){return this.filter(Lm(Ht(p)))},sn.prototype.slice=function(p,_){p=jt(p);var T=this;return T.__filtered__&&(p>0||_<0)?new sn(T):(p<0?T=T.takeRight(-p):p&&(T=T.drop(p)),_!==e&&(_=jt(_),T=_<0?T.dropRight(-_):T.take(_-p)),T)},sn.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},sn.prototype.toArray=function(){return this.take(Q)},io(sn.prototype,function(p,_){var T=/^(?:filter|find|map|reject)|While$/.test(_),x=/^(?:head|last)$/.test(_),B=V[x?"take"+(_=="last"?"Right":""):_],K=x||/^find/.test(_);B&&(V.prototype[_]=function(){var ee=this.__wrapped__,oe=x?[1]:arguments,me=ee instanceof sn,Ve=oe[0],qe=me||Zt(ee),Ke=function(Rn){var Hn=B.apply(V,su([Rn],oe));return x&&it?Hn[0]:Hn};qe&&T&&typeof Ve=="function"&&Ve.length!=1&&(me=qe=!1);var it=this.__chain__,At=!!this.__actions__.length,$t=K&&!it,_n=me&&!At;if(!K&&qe){ee=_n?ee:new sn(this);var Kt=p.apply(ee,oe);return Kt.__actions__.push({func:_c,args:[Ke],thisArg:e}),new Ra(Kt,it)}return $t&&_n?p.apply(this,oe):(Kt=this.thru(Ke),$t?x?Kt.value()[0]:Kt.value():Kt)})}),ce(["pop","push","shift","sort","splice","unshift"],function(p){var _=Lh[p],T=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",x=/^(?:pop|shift)$/.test(p);V.prototype[p]=function(){var B=arguments;if(x&&!this.__chain__){var K=this.value();return _.apply(Zt(K)?K:[],B)}return this[T](function(ee){return _.apply(Zt(ee)?ee:[],B)})}}),io(sn.prototype,function(p,_){var T=V[_];if(T){var x=T.name+"";rr.call(ir,x)||(ir[x]=[]),ir[x].push({name:_,func:T})}}),ir[Rd(e,I).name]=[{name:"wrapper",func:e}],sn.prototype.clone=bl,sn.prototype.reverse=hu,sn.prototype.value=Tl,V.prototype.at=Mm,V.prototype.chain=Cu,V.prototype.commit=Ni,V.prototype.next=Su,V.prototype.plant=Rl,V.prototype.reverse=q_,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=j_,V.prototype.first=V.prototype.head,Hi&&(V.prototype[Hi]=Pd),V}),od=$v();Ma?((Ma.exports=od)._=od,ml._=od):$r._=od}).call(Dc)})(q1,q1.exports);var ED=q1.exports;function fte(t){return"reqId"in t}var PU=function(){var t,n,e=D.useContext(pte);if(!e)throw new Error("useThread must be used within a ThreadProvider");var r=$a().state.config,i=r.logger,a=r.pubSub,s=r.groupChannel.enableMention,l=r.groupChannel.enableReactions,c=LL.useSyncExternalStore(e.subscribe,e.getState),d=c.message,f=c.parentMessage,v=c.currentChannel,g=c.threadListState,y=c.allThreadMessages,b=c.onBeforeSendUserMessage,C=c.onBeforeSendFileMessage,w=c.onBeforeSendVoiceMessage,I=c.onBeforeSendMultipleFilesMessage,M={sendMessageStart:D.useCallback(function(X){return e.setState(function(se){return"sendingStatus"in X&&(X.sendingStatus=dn.PENDING),Re(Re({},se),{localThreadMessages:tt(tt([],se.localThreadMessages,!0),[X],!1)})})},[e]),sendMessageSuccess:D.useCallback(function(X){return e.setState(function(se){return"sendingStatus"in X&&(X.sendingStatus=dn.SUCCEEDED),Re(Re({},se),{allThreadMessages:tt(tt([],se.allThreadMessages.filter(function($){return!nh($?.reqId,X?.reqId)}),!0),[X],!1),localThreadMessages:se.localThreadMessages.filter(function($){return!nh($?.reqId,X?.reqId)})})})},[e]),sendMessageFailure:D.useCallback(function(X){return e.setState(function(se){return"sendingStatus"in X&&(X.sendingStatus=dn.FAILED),Re(Re({},se),{localThreadMessages:se.localThreadMessages.map(function($){return nh($?.reqId,X?.reqId)?X:$})})})},[e]),resendMessageStart:D.useCallback(function(X){return e.setState(function(se){return"sendingStatus"in X&&(X.sendingStatus=dn.PENDING),Re(Re({},se),{localThreadMessages:se.localThreadMessages.map(function($){return nh($?.reqId,X?.reqId)?X:$})})})},[e])},R=ate({currentChannel:v},{logger:i}),U={sendMessage:ste({isMentionEnabled:s,currentChannel:v,onBeforeSendUserMessage:b,sendMessageStart:M.sendMessageStart,sendMessageFailure:M.sendMessageFailure},{logger:i,pubSub:a}),sendFileMessage:ote({currentChannel:v,onBeforeSendFileMessage:C,sendMessageStart:M.sendMessageStart,sendMessageFailure:M.sendMessageFailure},{logger:i,pubSub:a}),sendVoiceMessage:lte({currentChannel:v,onBeforeSendVoiceMessage:w,sendMessageStart:M.sendMessageStart,sendMessageFailure:M.sendMessageFailure},{logger:i,pubSub:a}),sendMultipleFilesMessage:rte({currentChannel:v,onBeforeSendMultipleFilesMessage:I,publishingModules:[No.THREAD]},{logger:i,pubSub:a})[0],resendMessage:ute({resendMessageStart:M.resendMessageStart,sendMessageSuccess:M.sendMessageSuccess,sendMessageFailure:M.sendMessageFailure,currentChannel:v},{logger:i,pubSub:a})},H={onMessageUpdated:D.useCallback(function(X,se){e.setState(function($){var le,he,xe;return((le=$.currentChannel)===null||le===void 0?void 0:le.url)!==X?.url?$:Re(Re({},$),{parentMessage:((he=$.parentMessage)===null||he===void 0?void 0:he.messageId)===se?.messageId?se:$.parentMessage,allThreadMessages:(xe=$.allThreadMessages)===null||xe===void 0?void 0:xe.map(function(Ge){return Ge?.messageId===se?.messageId?se:Ge})})})},[e]),onMessageDeleted:D.useCallback(function(X,se){e.setState(function($){var le,he,xe,Ge;return((le=$.currentChannel)===null||le===void 0?void 0:le.url)!==X?.url?$:((he=$?.parentMessage)===null||he===void 0?void 0:he.messageId)===se?Re(Re({},$),{parentMessage:null,parentMessageState:sh.NIL,allThreadMessages:[]}):Re(Re({},$),{allThreadMessages:(xe=$.allThreadMessages)===null||xe===void 0?void 0:xe.filter(function(Q){return Q?.messageId!==se}),localThreadMessages:(Ge=$.localThreadMessages)===null||Ge===void 0?void 0:Ge.filter(function(Q){return Q?.messageId!==se})})})},[e]),onMessageDeletedByReqId:D.useCallback(function(X){e.setState(function(se){return Re(Re({},se),{localThreadMessages:se.localThreadMessages.filter(function($){return!nh($.reqId,X)})})})},[e])},P={updateMessage:cte({currentChannel:v,isMentionEnabled:s,onMessageUpdated:H.onMessageUpdated},{logger:i,pubSub:a}),deleteMessage:dte({currentChannel:v,onMessageDeleted:H.onMessageDeleted,onMessageDeletedByReqId:H.onMessageDeletedByReqId},{logger:i})},G={initializeThreadListStart:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{threadListState:xc.LOADING,allThreadMessages:[]})})},[e]),initializeThreadListSuccess:D.useCallback(function(X,se,$){return e.setState(function(le){var he=se?.messageId?se?.createdAt:X?.createdAt,xe=$.findIndex(function(fe){return fe?.createdAt===he}),Ge=xe>-1?$.slice(0,xe):$,Q=xe>-1?$.slice(xe):[];return Re(Re({},le),{threadListState:xc.INITIALIZED,hasMorePrev:xe===-1||xe===cA,hasMoreNext:$.length-xe===dA,allThreadMessages:tt(tt([],Ge,!0),Q,!0)})})},[e]),initializeThreadListFailure:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{threadListState:xc.LOADING,allThreadMessages:[]})})},[e]),getPrevMessagesStart:D.useCallback(function(){return e.setState(function(X){return Re({},X)})},[e]),getPrevMessagesSuccess:D.useCallback(function(X){return e.setState(function(se){return Re(Re({},se),{hasMorePrev:X.length===cA,allThreadMessages:tt(tt([],X,!0),se.allThreadMessages,!0)})})},[e]),getPrevMessagesFailure:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{hasMorePrev:!1})})},[e]),getNextMessagesStart:D.useCallback(function(){return e.setState(function(X){return Re({},X)})},[e]),getNextMessagesSuccess:D.useCallback(function(X){return e.setState(function(se){return Re(Re({},se),{hasMoreNext:X.length===dA,allThreadMessages:tt(tt([],se.allThreadMessages,!0),X,!0)})})},[e]),getNextMessagesFailure:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{hasMoreNext:!1})})},[e])},Y=hte({parentMessage:f,anchorMessage:d?.messageId!==f?.messageId&&d||void 0,logger:i,isReactionEnabled:l,threadListState:g,oldestMessageTimeStamp:((t=y[0])===null||t===void 0?void 0:t.createdAt)||0,latestMessageTimeStamp:((n=y[y.length-1])===null||n===void 0?void 0:n.createdAt)||0,initializeThreadListStart:G.initializeThreadListStart,initializeThreadListSuccess:G.initializeThreadListSuccess,initializeThreadListFailure:G.initializeThreadListFailure,getPrevMessagesStart:G.getPrevMessagesStart,getPrevMessagesSuccess:G.getPrevMessagesSuccess,getPrevMessagesFailure:G.getPrevMessagesFailure,getNextMessagesStart:G.getNextMessagesStart,getNextMessagesSuccess:G.getNextMessagesSuccess,getNextMessagesFailure:G.getNextMessagesFailure}),F=Y.initializeThreadFetcher,te=Y.fetchPrevThreads,J=Y.fetchNextThreads,ne={setCurrentUserId:D.useCallback(function(X){return e.setState(function(se){return Re(Re({},se),{currentUserId:X})})},[e]),getChannelStart:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{channelState:Jf.LOADING,currentChannel:null})})},[e]),getChannelSuccess:D.useCallback(function(X){return e.setState(function(se){var $,le;return Re(Re({},se),{channelState:Jf.INITIALIZED,currentChannel:X,isMuted:((le=($=X?.members)===null||$===void 0?void 0:$.find(function(he){return he?.userId===se.currentUserId}))===null||le===void 0?void 0:le.isMuted)||!1,isChannelFrozen:X?.isFrozen||!1})})},[e]),getChannelFailure:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{channelState:Jf.INVALID,currentChannel:null})})},[e]),getParentMessageStart:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{parentMessageState:sh.LOADING,parentMessage:null})})},[e]),getParentMessageSuccess:D.useCallback(function(X){return e.setState(function(se){return Re(Re({},se),{parentMessageState:sh.INITIALIZED,parentMessage:X})})},[e]),getParentMessageFailure:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{parentMessageState:sh.INVALID,parentMessage:null})})},[e]),setEmojiContainer:D.useCallback(function(X){return e.setState(function(se){return Re(Re({},se),{emojiContainer:X})})},[e]),onMessageReceived:D.useCallback(function(X,se){return e.setState(function($){var le,he,xe,Ge;if(((le=$.currentChannel)===null||le===void 0?void 0:le.url)!==X?.url||$.hasMoreNext||((he=se?.parentMessage)===null||he===void 0?void 0:he.messageId)!==((xe=$?.parentMessage)===null||xe===void 0?void 0:xe.messageId))return $;var Q=$.allThreadMessages.findIndex(function(fe){return fe.messageId===se.messageId})>-1;return Re(Re({},$),{parentMessage:((Ge=$.parentMessage)===null||Ge===void 0?void 0:Ge.messageId)===se?.messageId?se:$.parentMessage,allThreadMessages:Q?$.allThreadMessages.map(function(fe){return fe.messageId===se.messageId?se:fe}):tt(tt([],$.allThreadMessages.filter(function(fe){return fe?.reqId!==se?.reqId}),!0),[se],!1)})})},[e]),onReactionUpdated:D.useCallback(function(X){return e.setState(function(se){var $,le=se.parentMessage;(($=se.parentMessage)===null||$===void 0?void 0:$.messageId)===X?.messageId&&(le=ED.cloneDeep(se.parentMessage),le.applyReactionEvent(X));var he=se.allThreadMessages.map(function(xe){if(X?.messageId===xe?.messageId){var Ge=ED.cloneDeep(xe);return Ge.applyReactionEvent(X),Ge}return xe});return Re(Re({},se),{parentMessage:le,allThreadMessages:tt([],he,!0)})})},[e]),onUserMuted:D.useCallback(function(X,se){return e.setState(function($){var le;return((le=$.currentChannel)===null||le===void 0?void 0:le.url)!==X?.url||$.currentUserId!==se?.userId?$:Re(Re({},$),{isMuted:!0})})},[e]),onUserUnmuted:D.useCallback(function(X,se){return e.setState(function($){var le;return((le=$.currentChannel)===null||le===void 0?void 0:le.url)!==X?.url||$.currentUserId!==se?.userId?$:Re(Re({},$),{isMuted:!1})})},[e]),onUserBanned:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{channelState:Jf.NIL,threadListState:xc.NIL,parentMessageState:sh.NIL,currentChannel:null,parentMessage:null,allThreadMessages:[],hasMorePrev:!1,hasMoreNext:!1})})},[e]),onUserUnbanned:D.useCallback(function(){return e.setState(function(X){return Re({},X)})},[e]),onUserLeft:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{channelState:Jf.NIL,threadListState:xc.NIL,parentMessageState:sh.NIL,currentChannel:null,parentMessage:null,allThreadMessages:[],hasMorePrev:!1,hasMoreNext:!1})})},[e]),onChannelFrozen:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{isChannelFrozen:!0})})},[e]),onChannelUnfrozen:D.useCallback(function(){return e.setState(function(X){return Re(Re({},X),{isChannelFrozen:!1})})},[e]),onOperatorUpdated:D.useCallback(function(X){return e.setState(function(se){var $;return X?.url===(($=se.currentChannel)===null||$===void 0?void 0:$.url)?Re(Re({},se),{currentChannel:X}):se})},[e]),onTypingStatusUpdated:D.useCallback(function(X,se){return e.setState(function($){var le;return nh(X.url,(le=$.currentChannel)===null||le===void 0?void 0:le.url)?Re(Re({},$),{typingMembers:se}):$})},[e]),onFileInfoUpdated:D.useCallback(function(X){var se=X.channelUrl,$=X.requestId,le=X.index,he=X.uploadableFileInfo,xe=X.error;return e.setState(function(Ge){var Q,fe;if(!nh(se,(Q=Ge.currentChannel)===null||Q===void 0?void 0:Q.url)||xe)return Ge;var Ae=Ge.localThreadMessages,$e=Ae.find(function(Fe){return nh(fte(Fe)&&Fe.reqId,$)}),Te=(fe=$e.messageParams)===null||fe===void 0?void 0:fe.fileInfoList;return Array.isArray(Te)&&(Te[le]=he),Re(Re({},Ge),{localThreadMessages:Ae})})},[e])},Oe=D.useMemo(function(){return Re(Re(Re(Re(Re(Re(Re(Re({},ne),{toggleReaction:R}),M),U),H),P),G),{initializeThreadFetcher:F,fetchPrevThreads:te,fetchNextThreads:J})},[ne,R,M,U,H,P,G,F,te,J]);return{state:c,actions:Oe}},pte=O.createContext(null),mte=function(t){var n=PU().state.currentChannel;return O.createElement(xU,Re({},t,{currentChannel:n}))},HC={OPERATOR:"operator"},vte=function(t,n){var e=t.sendFileMessage,r=t.sendMultipleFilesMessage,i=t.quoteMessage,a=n.logger,s=Ka().stringSet,l=$a().state.config,c=l.imageCompression,d=l?.uikitUploadSizeLimit,f=l?.uikitMultipleFilesMessageLimit,v=QL().openModal,g=D.useCallback(function(y){return nl(void 0,void 0,void 0,function(){var b,C,w,I,M;return rl(this,function(R){switch(R.label){case 0:return!e||!r?(a.warning("Channel|useHandleUploadFiles: required functions are undefined",{sendFileMessage:e,sendMultipleFilesMessage:r}),[2]):y.length===0?(a.warning("Channel|useHandleUploadFiles: given file list is empty.",{files:y}),[2]):y.length>f?(a.info("Channel|useHandleUploadFiles: Cannot upload files more than ".concat(f)),v({modalProps:{titleText:s.FILE_UPLOAD_NOTIFICATION__COUNT_LIMIT.replace("%d","".concat(f)),hideFooter:!0},childElement:function(U){var H=U.closeModal;return O.createElement(U0,{type:ji.PRIMARY,submitText:s.BUTTON__OK,hideCancelButton:!0,onCancel:H,onSubmit:H})}}),[2]):y.some(function(U){return U.size>d})?(a.info("Channel|useHandleUploadFiles: Cannot upload file size exceeding ".concat(d)),v({modalProps:{titleText:s.FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT.replace("%d","".concat(Math.floor(d/k$))),hideFooter:!0},childElement:function(U){var H=U.closeModal;return O.createElement(U0,{type:ji.PRIMARY,submitText:s.BUTTON__OK,hideCancelButton:!0,onCancel:H,onSubmit:H})}}),[2]):[4,UU({files:y,imageCompression:c,logger:a})];case 1:if(b=R.sent().compressedFiles,C=b,C.length===1)a.info("Channel|useHandleUploadFiles: sending one file."),w=C[0],e(w,i);else if(C.length>1)return a.info("Channel|useHandleUploadFiles: sending multiple files."),I=[],M=[],C.forEach(function(U){xp(U.type)?I.push(U):M.push(U)}),[2,M.reduce(function(U,H){return U.then(function(){return e(H,i)})},(function(){return I.length===0?Promise.resolve():I.length===1?e(I[0],i):r(I,i)})())];return[2]}})})},[e,r,i]);return g},_te=function(t,n){var e,r=t.className,i=t.renderFileUploadIcon,a=t.renderVoiceMessageIcon,s=t.renderSendMessageIcon,l=t.acceptableMimeTypes,c=$a().state.config,d=Kl().isMobile,f=Ka().stringSet,v=c.isOnline,g=c.userMention,y=c.logger,b=c.groupChannel,C=PU(),w=C.state,I=w.currentChannel,M=w.parentMessage,R=w.isMuted,U=w.isChannelFrozen,H=w.allThreadMessages,P=C.actions,G=P.sendMessage,Y=P.sendFileMessage,F=P.sendVoiceMessage,te=P.sendMultipleFilesMessage,J=D.useRef(),ne=b.enableMention,Oe=b.enableVoiceMessage,X=(e=C.state.isMultipleFilesMessageEnabled)!==null&&e!==void 0?e:c.isMultipleFilesMessageEnabled,se=t.disabled||!v||R||I?.myRole!==HC.OPERATOR&&U||M===null,$=vte({sendFileMessage:Y,sendMultipleFilesMessage:te,quoteMessage:M},{logger:y}),le=D.useState(""),he=le[0],xe=le[1],Ge=D.useState([]),Q=Ge[0],fe=Ge[1],Ae=D.useState([]),$e=Ae[0],Te=Ae[1],Fe=D.useState(null),Je=Fe[0],Ot=Fe[1],Ct=D.useState([]),Kn=Ct[0],An=Ct[1],Ln=D.useState(null),En=Ln[0],en=Ln[1],Pn=D.useState(!1),Gn=Pn[0],fn=Pn[1],Er=v&&ne&&he.length>0&&!jee(I)&&!$ee(I)&&!I?.isBroadcast;D.useEffect(function(){fn(!1)},[I?.url]);var Un=sU({ref:n||J},{logger:y}),Fn=Un?.length<g?.maxMentionCount;return D.useEffect(function(){fe(Q.filter(function(pt){var kn=pt.userId,er=$e.indexOf(kn);return er<0?!1:($e.splice(er,1),!0)}))},[$e]),I?.isBroadcast&&I?.myRole!==HC.OPERATOR?O.createElement(O.Fragment,null):O.createElement("div",{className:$i(Gn?"sendbird-thread-message-input--voice-message":"sendbird-thread-message-input",r)},Er&&O.createElement(mte,{targetNickname:he,inputEvent:En??void 0,onUserItemClick:function(pt){pt&&fe(tt(tt([],Q,!0),[pt],!1)),xe(""),Ot(pt),en(null)},onFocusItemChange:function(){en(null)},onFetchUsers:function(pt){An(pt)},ableAddMention:Fn,maxMentionCount:g?.maxMentionCount,maxSuggestionCount:g?.maxSuggestionCount}),Gn?O.createElement(kU,{channel:I,onSubmitClick:function(pt,kn){F(pt,kn,M),fn(!1)},onCancelClick:function(){fn(!1)}}):O.createElement(h2,{className:"sendbird-thread-message-input__message-input",messageFieldId:"sendbird-message-input-text-field--thread",channel:I,channelUrl:I?.url,isMobile:d,disabled:se,acceptableMimeTypes:l,setMentionedUsers:fe,mentionSelectedUser:Je,isMentionEnabled:ne,isVoiceMessageEnabled:Oe,isSelectingMultipleFilesEnabled:X,onVoiceMessageIconClick:function(){fn(!0)},renderFileUploadIcon:i,renderVoiceMessageIcon:a,renderSendMessageIcon:s,ref:n||J,placeholder:I?.isFrozen&&I?.myRole!==HC.OPERATOR&&f.MESSAGE_INPUT__PLACE_HOLDER__DISABLED||I?.myMutedState===Wo.MUTED&&f.MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT||(H.length>0?f.THREAD__INPUT__REPLY_TO_THREAD:f.THREAD__INPUT__REPLY_IN_THREAD),onStartTyping:function(){var pt;(pt=I?.startTyping)===null||pt===void 0||pt.call(I)},onSendMessage:function(pt){var kn,er=pt.message,vn=pt.mentionTemplate;G({message:er,mentionedUsers:Q,mentionTemplate:vn,quoteMessage:M}),xe(""),fe([]),(kn=I?.endTyping)===null||kn===void 0||kn.call(I)},onFileUpload:$,onUserMentioned:function(pt){Je?.userId===pt?.userId&&(Ot(null),xe(""))},onMentionStringChange:function(pt){xe(pt)},onMentionedUserIdsUpdated:function(pt){Te(pt)},onKeyDown:function(pt){return Er&&Kn?.length>0&&(pt.key===Yl.Enter&&Fn||pt.key===Yl.ArrowUp||pt.key===Yl.ArrowDown)?(en(pt),!0):!1}}))};O.forwardRef(_te);var gte=100;function yte(t,n){return t-n}function Ete(t){var n=t.hasMore,e=t.hasNext,r=t.onScroll,i=t.scrollRef,a=t.setShowScrollDownButton,s=N3(function(){var l=i?.current;if(l!=null){var c=l.scrollTop,d=l.scrollHeight,f=l.clientHeight,v=yte(d,c);typeof a=="function"&&a(d>c+f+1),n&&V1(c,0,M1)&&r(function(){var g=l.scrollHeight>d;g&&(l.scrollTop=l.scrollHeight-v)}),e&&V1(f+c,d,M1)&&r(function(){var g=l.scrollHeight>d;g&&(l.scrollTop=c)})}});return nte(s,gte,{trailing:!0})}var bte=O.createContext(null),L3=function(){var t=O.useContext(bte);if(!t)throw new Error("OpenChannelContext not found. Use within the OpenChannel module");return t};O.forwardRef(function(t,n){var e=L3(),r=e.currentOpenChannel,i=e.disabled,a=e.handleSendMessage,s=e.handleFileUpload,l=e.amIMuted,c=r,d=D.useContext(Jc).stringSet,f=t.value;function v(){return l?d.MESSAGE_INPUT__PLACE_HOLDER__MUTED:i?d.MESSAGE_INPUT__PLACE_HOLDER__DISABLED:""}return c?O.createElement("div",{className:"sendbird-openchannel-footer"},O.createElement(h2,{channel:r,ref:n,value:f,disabled:i,isVoiceMessageEnabled:!1,onSendMessage:a,onFileUpload:s,placeholder:v()})):null});var j1=function(t){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",t);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var n=document.createElement("textarea");n.textContent=t,n.style.position="fixed",document.body.appendChild(n),n.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(n)}}return!1},U3={PENDING:"pending",FAILED:"failed",SUCCEEDED:"succeeded"},iy=function(t){return t.sender||t._sender},k3=function(t){return t===U3.SUCCEEDED},v2=function(t){return t===U3.PENDING},ay=function(t){return t===U3.FAILED},P3=function(t,n){return iy(t).userId===n},_2=function(t){var n,e=t.message;return e?.messageType==="user"&&((n=e?.message)===null||n===void 0?void 0:n.length)>0},$c=function(t){var n=t.message,e=t.status,r=t.userId;return P3(n,r)&&ay(e)&&n?.isResendable},g2=function(t){var n,e=t.message,r=t.status,i=t.userId;return P3(e,i)&&k3(r)&&((n=e?.isUserMessage)===null||n===void 0?void 0:n.call(e))},Ip=function(t){var n=t.message,e=t.userId;return P3(n,e)},Tte=function(t){var n,e=t.message,r=t.status;return!!(!((n=e?.isFileMessage)===null||n===void 0)&&n.call(e)&&k3(r))},y2=function(t){var n=t.message,e=t.status,r=t.userId;return n.messageType==="user"?Ip({message:n,userId:r})||g2({message:n,status:e,userId:r})||_2({message:n})||$c({message:n,status:e,userId:r}):Ip({message:n,userId:r})||$c({message:n,status:e,userId:r})},E2=function(t){var n=t.message,e=t.parentRef,r=t.resendMessage,i=t.showEdit,a=t.showRemove,s=t.copyToClipboard,l=t.hideMenu,c=t.isEphemeral,d=c===void 0?!1:c,f=n,v=n?.sendingStatus,g=Ka().stringSet,y=$a().state.config.userId,b=n;return O.createElement(ju,{isOpen:!0,menuItems:function(){return O.createElement(qu,{className:"sendbird-openchannel__mobile-menu",parentRef:e,parentContainRef:e,closeDropdown:l},_2({message:f})&&O.createElement(Na,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:function(){s?.()},testID:"open_channel_mobile_context_menu_copy"},O.createElement(O.Fragment,null,g.CONTEXT_MENU_DROPDOWN__COPY)),!d&&g2({message:n,userId:y,status:v})&&O.createElement(Na,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:function(){i?.()},testID:"open_channel_mobile_context_menu_edit"},O.createElement(O.Fragment,null,g.CONTEXT_MENU_DROPDOWN__EDIT)),$c({message:n,userId:y,status:v})&&O.createElement(Na,{onClick:function(){r?.()},testID:"open_channel_mobile_context_menu_resend"},O.createElement(O.Fragment,null,g.CONTEXT_MENU_DROPDOWN__RESEND)),!d&&Ip({message:n,userId:y})&&O.createElement(Na,{onClick:function(){a?.()},testID:"open_channel_mobile_context_menu_delete"},O.createElement(O.Fragment,null,g.CONTEXT_MENU_DROPDOWN__DELETE)),Tte({message:n,status:v})&&O.createElement(Na,{onClick:function(){l()},testID:"open_channel_mobile_context_menu_download_file"},O.createElement("a",{className:"sendbird-openchannel__mobile-menu-hyperlink",rel:"noopener noreferrer",href:b?.url,target:"_blank"},g.CONTEXT_MENU_DROPDOWN__SAVE)))}})};function Cte(t){var n=t.className,e=t.message,r=t.isOperator,i=t.isEphemeral,a=i===void 0?!1:i,s=t.userId,l=t.resendMessage,c=t.disabled,d=t.showEdit,f=t.showRemove,v=t.chainTop,g=Ka(),y=g.stringSet,b=g.dateLocale,C=X0(),w=C.disableUserProfile,I=C.renderUserProfile,M=D.useRef(),R=D.useRef(),U=D.useRef(),H=D.useRef(),P=D.useState({}),G=P[0],Y=P[1],F=D.useState(!1),te=F[0],J=F[1],ne=e?.sendingStatus,Oe=v2(ne),X=ay(ne),se=iy(e);D.useEffect(function(){var he;!((he=M?.current)===null||he===void 0)&&he.clientHeight&&M.current.clientHeight>36?Y({top:"8px "}):Y({top:"2px"})},[window.innerWidth]);var $=ey({onLongPress:function(){J(!0)}}),le=Kl().isMobile;return!e||e.messageType!=="user"?O.createElement(O.Fragment,null):O.createElement(O.Fragment,null,O.createElement("div",{className:tt(tt([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-user-message"],!1).join(" "),ref:M},O.createElement("div",{className:"sendbird-openchannel-user-message__left"},!v&&O.createElement(ju,{menuTrigger:function(he){return O.createElement(jc,{className:"sendbird-openchannel-user-message__left__avatar",src:se.profileUrl||"",ref:R,width:"28px",height:"28px",onClick:function(){w||he()}})},menuItems:function(he){return I?I({user:se,close:he,currentUserId:s,avatarRef:R}):O.createElement(qu,{parentRef:R,parentContainRef:R,closeDropdown:he,style:{paddingTop:"0px",paddingBottom:"0px"}},O.createElement(ty,{user:se,onSuccess:he,disableMessaging:!0}))}})),O.createElement("div",{className:"sendbird-openchannel-user-message__right"},!v&&O.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},O.createElement(zt,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:Gt.CAPTION_2,color:r?_t.SECONDARY_3:_t.ONBACKGROUND_2},se&&(se.friendName||se.nickname||se.userId)),O.createElement(zt,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:Gt.CAPTION_3,color:_t.ONBACKGROUND_3},e?.createdAt&&Uv(e?.createdAt,y.DATE_FORMAT__MESSAGE_CREATED_AT,{locale:b}))),O.createElement("div",Re({},le?Re({},$):{},{className:"sendbird-openchannel-user-message__right__bottom",ref:H}),O.createElement(zt,{className:"sendbird-openchannel-user-message__right__bottom__message",type:Gt.BODY_1,color:_t.ONBACKGROUND_1},e?.message,bX(e)&&O.createElement(zt,{key:Sp(),type:Gt.BODY_1,color:_t.ONBACKGROUND_2,className:"sendbird-openchannel-user-message-word"}," ".concat(y.MESSAGE_EDITED," ")))),(Oe||X)&&O.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},Oe&&O.createElement(Z0,{width:"16px",height:"16px"},O.createElement(rn,{className:"sendbird-openchannel-user-message__right__tail__pending",type:Vt.SPINNER,fillColor:Yt.PRIMARY,width:"16px",height:"16px"})),X&&O.createElement(rn,{className:"sendbird-openchannel-user-message__right__tail__failed",type:Vt.ERROR,fillColor:Yt.ERROR,width:"16px",height:"16px"}))),!le&&O.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:U,style:G},O.createElement(ju,{menuTrigger:function(he){return y2({message:e,userId:s,status:ne})&&O.createElement(Hc,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:function(){he()}},O.createElement(rn,{type:Vt.MORE,fillColor:Yt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(he){return O.createElement(qu,{parentRef:U,parentContainRef:U,closeDropdown:he,openLeft:!0},_2({message:e})&&O.createElement(Na,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:function(){j1(e.message),he()},testID:"open_channel_user_message_menu_copy"},y.CONTEXT_MENU_DROPDOWN__COPY),!a&&g2({message:e,userId:s,status:ne})&&O.createElement(Na,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:function(){c||(d(!0),he())},testID:"open_channel_user_message_menu_edit"},y.CONTEXT_MENU_DROPDOWN__EDIT),$c({message:e,userId:s,status:ne})&&O.createElement(Na,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:function(){l(e),he()},testID:"open_channel_user_message_menu_resend"},y.CONTEXT_MENU_DROPDOWN__RESEND),!a&&Ip({message:e,userId:s})&&O.createElement(Na,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:function(){c||(f(!0),he())},testID:"open_channel_user_message_menu_delete"},y.CONTEXT_MENU_DROPDOWN__DELETE))}}))),te&&O.createElement(E2,{message:e,parentRef:H,hideMenu:function(){J(!1)},showRemove:function(){J(!1),f(!0)},showEdit:function(){J(!1),d(!0)},copyToClipboard:function(){J(!1),j1(e?.message)},resendMessage:function(){J(!1),l(e)}}))}function Ste(t){var n=t.className,e=t.message;return O.createElement("div",{className:tt(tt([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-admin-message"],!1).join(" ")},O.createElement(zt,{className:"sendbird-openchannel-admin-message__text",type:Gt.CAPTION_2,color:_t.ONBACKGROUND_2},e.message||""))}function Nte(t){var n,e,r,i=t.message,a=t.isOperator,s=t.isEphemeral,l=s===void 0?!1:s,c=t.className,d=t.disabled,f=t.showEdit,v=t.showRemove,g=t.resendMessage,y=t.chainTop,b=t.userId,C=i?.sendingStatus,w=(n=i.ogMetaData)!==null&&n!==void 0?n:null,I=w?.defaultImage,M=Ka(),R=M.stringSet,U=M.dateLocale,H=Kl().isMobile,P=X0(),G=P.disableUserProfile,Y=P.renderUserProfile,F=D.useState({}),te=F[0],J=F[1],ne=D.useState(!1),Oe=ne[0],X=ne[1],se=function(){return O3(w?.url)},$=ey({onLongPress:function(){return X(!0)},onClick:se},{delay:300}),le=D.useRef(),he=D.useRef(),xe=D.useRef(),Ge=D.useRef(),Q=v2(C),fe=ay(C),Ae=iy(i),$e=D.useMemo(function(){return _U({messageText:i.message})},[i?.updatedAt,i?.message]);return D.useEffect(function(){var Te,Fe;!((Te=le?.current)===null||Te===void 0)&&Te.clientHeight&&((Fe=le?.current)===null||Fe===void 0?void 0:Fe.clientHeight)>36?J({top:"8px "}):J({top:"2px"})},[window.innerWidth]),!i||i.messageType!=="user"?O.createElement(O.Fragment,null):O.createElement(O.Fragment,null,O.createElement("div",Re({className:tt(tt([],Array.isArray(c)?c:[c],!0),["sendbird-openchannel-og-message"],!1).join(" "),ref:le},H?Re({},$):{}),O.createElement("div",{className:"sendbird-openchannel-og-message__top"},O.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!y&&O.createElement(ju,{menuTrigger:function(Te){return O.createElement(jc,{className:"sendbird-openchannel-og-message__top__left__avatar",src:Ae.profileUrl||"",ref:Ge,width:"28px",height:"28px",onClick:function(){G||Te()}})},menuItems:function(Te){return Y?Y({user:Ae,close:Te,currentUserId:b,avatarRef:Ge}):O.createElement(qu,{parentRef:Ge,parentContainRef:Ge,closeDropdown:Te,style:{paddingTop:"0px",paddingBottom:"0px"}},O.createElement(ty,{user:Ae,onSuccess:Te,disableMessaging:!0}))}})),O.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!y&&O.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},O.createElement(zt,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:Gt.CAPTION_2,color:a?_t.SECONDARY_3:_t.ONBACKGROUND_2},Ae&&(Ae.friendName||Ae.nickname||Ae.userId)),O.createElement(zt,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:Gt.CAPTION_3,color:_t.ONBACKGROUND_3},i?.createdAt&&Uv(i?.createdAt,R.DATE_FORMAT__MESSAGE_CREATED_AT,{locale:U}))),O.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},O.createElement(zt,{className:"sendbird-openchannel-og-message__top__right__description__message",type:Gt.BODY_1,color:_t.ONBACKGROUND_1},O.createElement(uA,{tokens:$e}),((e=i?.updatedAt)!==null&&e!==void 0?e:0)>0&&O.createElement(zt,{key:Sp(),className:"sendbird-openchannel-og-message--word",type:Gt.BODY_1,color:_t.ONBACKGROUND_2},R.MESSAGE_EDITED)))),!H&&O.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:he,style:te},O.createElement(ju,{menuTrigger:function(Te){return y2({message:i,userId:b,status:C})&&O.createElement(Hc,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:function(){Te()}},O.createElement(rn,{type:Vt.MORE,fillColor:Yt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Te){return O.createElement(qu,{parentRef:he,parentContainRef:he,closeDropdown:Te,openLeft:!0},_2({message:i})&&O.createElement(Na,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:function(){j1(i.message),Te()},testID:"open_channel_og_message_menu_copy"},R.CONTEXT_MENU_DROPDOWN__COPY),!l&&g2({message:i,userId:b,status:C})&&O.createElement(Na,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:function(){d||(f(!0),Te())},testID:"open_channel_og_message_menu_edit"},R.CONTEXT_MENU_DROPDOWN__EDIT),$c({message:i,userId:b,status:C})&&O.createElement(Na,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:function(){g(i),Te()},testID:"open_channel_og_message_menu_resend"},R.CONTEXT_MENU_DROPDOWN__RESEND),!l&&Ip({message:i,userId:b})&&O.createElement(Na,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:function(){d||(v(!0),Te())},testID:"open_channel_og_message_menu_delete"},R.CONTEXT_MENU_DROPDOWN__DELETE))}}))),O.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},O.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag",ref:xe},w?.url&&O.createElement(zt,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:Gt.CAPTION_3,color:_t.ONBACKGROUND_2},w.url),w?.title&&O.createElement(yU,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:(r=w.url)!==null&&r!==void 0?r:"",type:Gt.SUBTITLE_2,color:_t.PRIMARY},w.title),w?.description&&O.createElement(zt,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:Gt.BODY_2,color:_t.ONBACKGROUND_1},w.description),w?.url&&O.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:se,onKeyDown:se,tabIndex:0},I&&O.createElement(go,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:I.url||"",alt:I.alt||"",width:"334px",height:"189px",defaultComponent:O.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},O.createElement(rn,{type:Vt.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(Q||fe)&&O.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},Q&&O.createElement(Z0,{width:"16px",height:"16px"},O.createElement(rn,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:Vt.SPINNER,fillColor:Yt.PRIMARY,width:"16px",height:"16px"})),fe&&O.createElement(rn,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:Vt.ERROR,fillColor:Yt.ERROR,width:"16px",height:"16px"})))),Oe&&O.createElement(E2,{message:i,parentRef:xe,hideMenu:function(){X(!1)},showRemove:function(){X(!1),v(!0)},showEdit:function(){X(!1),f(!0)},copyToClipboard:function(){X(!1),j1(i?.message)},resendMessage:function(){X(!1),g(i)}}))}var pv={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},bD={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Ate=function(t){return bD.IMAGE.indexOf(t)>=0?pv.IMAGE:bD.VIDEO.indexOf(t)>=0?pv.VIDEO:pv.UNSUPPORTED};function wte(t){var n,e=t.className,r=t.message,i=t.isOperator,a=t.isEphemeral,s=a===void 0?!1:a,l=t.disabled,c=t.userId,d=t.chainTop,f=t.onClick,v=t.showRemove,g=t.resendMessage,y=r.type,b=r.url,C=r.thumbnails,w=r.localUrl,I=r?.sendingStatus,M=C&&C.length>0&&C[0].url||null,R=Ka(),U=R.stringSet,H=R.dateLocale,P=X0(),G=P.disableUserProfile,Y=P.renderUserProfile,F=D.useState(360),te=F[0],J=F[1],ne=D.useState(!1),Oe=ne[0],X=ne[1],se=D.useRef(null),$=D.useRef(null),le=D.useRef(null),he=D.useRef(null),xe=ey({onLongPress:function(){X(!0)},onClick:function(){f(!0)}}),Ge=Kl().isMobile,Q=D.useMemo(function(){return function(Fe){return function(Je){var Ot=Je.style;return O.createElement("div",{style:Ot},O.createElement(rn,{type:Fe,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"}))}}},[]),fe=k3(I),Ae=v2(I),$e=ay(I),Te=iy(r);return D.useEffect(function(){var Fe,Je,Ot=((Je=(Fe=se?.current)===null||Fe===void 0?void 0:Fe.clientWidth)!==null&&Je!==void 0?Je:0)-80;J(Ot>360?360:Ot)},[]),O.createElement(O.Fragment,null,O.createElement("div",{className:tt(tt([],Array.isArray(e)?e:[e],!0),["sendbird-openchannel-thumbnail-message"],!1).join(" "),ref:se},O.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!d&&O.createElement(ju,{menuTrigger:function(Fe){return O.createElement(jc,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:Te.profileUrl||"",ref:he,width:"28px",height:"28px",onClick:function(){G||Fe()}})},menuItems:function(Fe){return Y?Y({user:Te,close:Fe,currentUserId:c,avatarRef:he}):O.createElement(qu,{parentRef:he,parentContainRef:he,closeDropdown:Fe,style:{paddingTop:"0px",paddingBottom:"0px"}},O.createElement(ty,{user:Te,onSuccess:Fe,disableMessaging:!0}))}})),O.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!d&&O.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},O.createElement(zt,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:Gt.CAPTION_2,color:i?_t.SECONDARY_3:_t.ONBACKGROUND_2},Te&&(Te.friendName||Te.nickname||Te.userId)),O.createElement(zt,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:Gt.CAPTION_3,color:_t.ONBACKGROUND_3},r?.createdAt&&Uv(r.createdAt,U.DATE_FORMAT__MESSAGE_CREATED_AT,{locale:H}))),O.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body",ref:$},O.createElement("div",Re({className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:function(){fe&&f(!0)},onKeyDown:function(){fe&&f(!0)},tabIndex:0},Ge?Re({},xe):{}),O.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),(n={},n[pv.VIDEO]=b||w?O.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},M?O.createElement(go,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:M,width:te,height:"270px",alt:"image",placeHolder:Q(Vt.PLAY)}):O.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},O.createElement("source",{src:b||w,type:y})),O.createElement(rn,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:Vt.PLAY,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"})):O.createElement(rn,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:Vt.PHOTO,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[pv.IMAGE]=b||w?O.createElement(go,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:M||b||w||"",alt:"image",width:te,height:"270px",placeHolder:Q(Vt.PHOTO)}):O.createElement(rn,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:Vt.PHOTO,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[pv.UNSUPPORTED]=O.createElement(rn,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:Vt.PHOTO,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n)[Ate(y)])),(Ae||$e)&&O.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},Ae&&O.createElement(Z0,{width:"16px",height:"16px"},O.createElement(rn,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:Vt.SPINNER,fillColor:Yt.PRIMARY,width:"16px",height:"16px"})),$e&&O.createElement(rn,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:Vt.ERROR,fillColor:Yt.ERROR,width:"16px",height:"16px"}))),!Ge&&O.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:le},($c({message:r,userId:c,status:I})||!s)&&O.createElement(ju,{menuTrigger:function(Fe){return y2({message:r,userId:c,status:I})&&O.createElement(Hc,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:Fe},O.createElement(rn,{type:Vt.MORE,fillColor:Yt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Fe){return O.createElement(qu,{parentRef:le,parentContainRef:le,closeDropdown:Fe,openLeft:!0},$c({message:r,userId:c,status:I})&&O.createElement(Na,{onClick:function(){g(r),Fe()},testID:"open_channel_thumbnail_message_menu_resend"},U.CONTEXT_MENU_DROPDOWN__RESEND),!s&&Ip({message:r,userId:c})&&O.createElement(Na,{onClick:function(){l||(v(!0),Fe())},testID:"open_channel_thumbnail_message_menu_delete"},U.CONTEXT_MENU_DROPDOWN__DELETE))}}))),Oe&&O.createElement(E2,{message:r,parentRef:$,hideMenu:function(){X(!1)},showRemove:function(){X(!1),v(!0)},resendMessage:function(){X(!1),g(r)}}))}var TD=function(t){var n=/(\.mp3)$/i,e=/(\.gif)$/i;return n.test(t)?Vt.FILE_AUDIO:e.test(t)?Vt.GIF:Vt.FILE_DOCUMENT},Ite=function(t,n){if(t==null)return"";if(t.length<=n)return t;var e="...",r=e.length,i=n-r,a=Math.ceil(i/2),s=Math.floor(i/2);return t.substr(0,a)+e+t.substr(t.length-s)};function Mte(t){var n=t.className,e=t.message,r=t.isOperator,i=t.isEphemeral,a=i===void 0?!1:i,s=t.userId,l=t.disabled,c=t.chainTop,d=t.showRemove,f=t.resendMessage,v=e?.sendingStatus,g=Ka(),y=g.dateLocale,b=g.stringSet,C=D.useRef(null),w=D.useRef(null),I=D.useRef(null),M=X0(),R=M.disableUserProfile,U=M.renderUserProfile,H=Kl().isMobile,P=function(){return O3(e.url)},G=v2(v),Y=ay(v),F=iy(e),te=D.useState(!1),J=te[0],ne=te[1],Oe=ey({onLongPress:function(){H&&ne(!0)},onClick:P},{delay:300});return O.createElement(O.Fragment,null,O.createElement("div",{className:tt(tt([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-file-message"],!1).join(" "),ref:w},O.createElement("div",{className:"sendbird-openchannel-file-message__left"},!c&&O.createElement(ju,{menuTrigger:function(X){return O.createElement(jc,{className:"sendbird-openchannel-file-message__left__avatar",src:F.profileUrl||"",ref:I,width:"28px",height:"28px",onClick:function(){R||X()}})},menuItems:function(X){return U?U({user:F,close:X,currentUserId:s,avatarRef:I}):O.createElement(qu,{parentRef:I,parentContainRef:I,closeDropdown:X,style:{paddingTop:"0px",paddingBottom:"0px"}},O.createElement(ty,{user:F,onSuccess:X,disableMessaging:!0}))}})),O.createElement("div",{className:"sendbird-openchannel-file-message__right"},!c&&O.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},O.createElement(zt,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:Gt.CAPTION_2,color:r?_t.SECONDARY_3:_t.ONBACKGROUND_2},F&&(F.friendName||F.nickname||F.userId)),O.createElement(zt,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:Gt.CAPTION_3,color:_t.ONBACKGROUND_3},e?.createdAt&&Uv(e.createdAt,b.DATE_FORMAT__MESSAGE_CREATED_AT,{locale:y}))),O.createElement("div",Re({className:"sendbird-openchannel-file-message__right__body"},H?Re({},Oe):{}),TD(e.url)&&O.createElement(rn,{className:"sendbird-openchannel-file-message__right__body__icon",type:TD(e.url),fillColor:Yt.PRIMARY,width:"48px",height:"48px"}),O.createElement(D3,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:P},O.createElement(zt,{className:"sendbird-openchannel-file-message__right__body__file-name__label",type:Gt.BODY_1,color:_t.ONBACKGROUND_1},Ite(e.name||e.url,40)))),(G||Y)&&O.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},G&&O.createElement(Z0,{width:"16px",height:"16px"},O.createElement(rn,{className:"sendbird-openchannel-file-message__right__tail__pending",type:Vt.SPINNER,fillColor:Yt.PRIMARY,width:"16px",height:"16px"})),Y&&O.createElement(rn,{className:"sendbird-openchannel-file-message__right__tail__failed",type:Vt.ERROR,fillColor:Yt.ERROR,width:"16px",height:"16px"}))),!H&&O.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:C},($c({message:e,userId:s,status:v})||!a)&&O.createElement(ju,{menuTrigger:function(X){return y2({message:e,userId:s,status:v})&&O.createElement(Hc,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:X},O.createElement(rn,{type:Vt.MORE,width:"24px",height:"24px"}))},menuItems:function(X){return O.createElement(qu,{parentRef:C,parentContainRef:C,closeDropdown:X,openLeft:!0},$c({message:e,userId:s,status:v})&&O.createElement(Na,{onClick:function(){l||(f(e),X())},testID:"open_channel_file_message_context_menu_resend"},b.CONTEXT_MENU_DROPDOWN__RESEND),!a&&Ip({message:e,userId:s})&&O.createElement(Na,{onClick:function(){l||(d(!0),X())},testID:"open_channel_file_message_context_menu_delete"},b.CONTEXT_MENU_DROPDOWN__DELETE))}}))),J&&O.createElement(E2,{message:e,hideMenu:function(){ne(!1)},parentRef:w,showRemove:function(){ne(!1),d(!0)}}))}function Ote(t){var n=t.message,e=t.onCloseModal,r=t.onDeleteMessage,i=D.useContext(Jc).stringSet;return O.createElement(R3,{onCancel:e,onSubmit:r,submitText:i.MESSAGE_MENU__DELETE,titleText:zee(i,n)})}var Yo={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},CD={FAILED:"failed",PENDING:"pending"},Rte=function(t,n){var e,r,i=n?.isOgMessageEnabledInOpenChannel;return!((e=t?.isUserMessage)===null||e===void 0)&&e.call(t)||t?.messageType==="user"?t?.ogMetaData&&i?Yo.OG:Yo.USER:!((r=t?.isAdminMessage)===null||r===void 0)&&r.call(t)?Yo.ADMIN:t?.messageType==="file"?xp(t.type)||u2(t.type)?Yo.THUMBNAIL:Yo.FILE:Yo.UNKNOWN};function Dte(t){var n,e,r=t.message,i=t.chainTop,a=t.chainBottom,s=t.hasSeparator,l=t.renderMessage,c=L3(),d=c.currentOpenChannel,f=c.deleteMessage,v=c.updateMessage,g=c.resendMessage,y=Ka(),b=y.dateLocale,C=y.stringSet,w=d?.isFrozen,I=$a().state,M=(e=I?.config)===null||e===void 0?void 0:e.userId,R=I.config.openChannel.enableOgtag,U;r?.messageType!=="admin"&&(U=r?.sender);var H=D.useState(!1),P=H[0],G=H[1],Y=D.useState(!1),F=Y[0],te=Y[1],J=D.useState(!1),ne=J[0],Oe=J[1],X=D.useRef(null),se=!1;return U&&r?.messageType!=="admin"&&(se=M===U.userId||r?.sendingStatus===CD.PENDING||r?.sendingStatus===CD.FAILED),l?O.createElement("div",{className:"sendbird-open-channel-msg-hoc sendbird-msg--scroll-ref","data-testid":"sendbird-message-hoc"},l({message:r,chainTop:i,chainBottom:a})):r?.messageType==="user"&&P?O.createElement(h2,{isEdit:!0,channel:d,disabled:w,ref:X,message:r,onUpdateMessage:function($){var le=$.messageId,he=$.message;v(le,he),G(!1)},onCancelEdit:function(){G(!1)}}):O.createElement("div",{className:"sendbird-open-channel-msg-hoc sendbird-msg--scroll-ref","data-testid":"sendbird-message-hoc"},O.createElement(O.Fragment,null,s&&r?.createdAt&&O.createElement(CZ,null,O.createElement(zt,{type:Gt.CAPTION_2,color:_t.ONBACKGROUND_2},Uv(r?.createdAt,C.DATE_FORMAT__MESSAGE_LIST__DATE_SEPARATOR,{locale:b}))),(n={},n[Yo.ADMIN]=(function(){if(r?.messageType==="admin")return O.createElement(Ste,{message:r})})(),n[Yo.FILE]=(function(){var $;if(r?.messageType==="file")return O.createElement(Mte,{message:r,isOperator:d?.isOperator(($=r?.sender)===null||$===void 0?void 0:$.userId),isEphemeral:d?.isEphemeral,disabled:w,userId:M,showRemove:te,resendMessage:g,chainTop:i,chainBottom:a})})(),n[Yo.OG]=(function(){var $;if(r?.messageType==="user"&&R)return O.createElement(Nte,{message:r,isOperator:d?.isOperator(($=r?.sender)===null||$===void 0?void 0:$.userId),isEphemeral:d?.isEphemeral,userId:M,showEdit:G,disabled:w,showRemove:te,resendMessage:g,chainTop:i,chainBottom:a})})(),n[Yo.THUMBNAIL]=(function(){var $;if(r?.messageType==="file")return O.createElement(wte,{message:r,isOperator:d?.isOperator(($=r?.sender)===null||$===void 0?void 0:$.userId),isEphemeral:d?.isEphemeral,disabled:w,userId:M,showRemove:te,resendMessage:g,onClick:Oe,chainTop:i,chainBottom:a})})(),n[Yo.USER]=(function(){var $;if(r?.messageType==="user")return O.createElement(Cte,{message:r,isOperator:d?.isOperator(($=r?.sender)===null||$===void 0?void 0:$.userId),isEphemeral:d?.isEphemeral,userId:M,disabled:w,showEdit:G,showRemove:te,resendMessage:g,chainTop:i,chainBottom:a})})(),n[Yo.UNKNOWN]=(function(){})(),n)[Rte(r,{isOgMessageEnabledInOpenChannel:R})],F&&O.createElement(Ote,{message:r,onCloseModal:function(){return te(!1)},onDeleteMessage:function(){r?.messageType!=="admin"&&f(r)}}),ne&&r?.messageType==="file"&&O.createElement(LJ,{onClose:function(){return Oe(!1)},message:r,onDelete:function(){return f(r)},isByMe:se})))}function xte(t,n){var e=L3(),r=e.isMessageGroupingEnabled,i=r===void 0?!0:r,a=e.allMessages,s=e.hasMore,l=e.onScroll,c=$a().state,d=Ka().stringSet,f=c.config.userId,v=D.useRef(null),g=n||v,y=D.useState(!1),b=y[0],C=y[1],w=function(){g&&"current"in g&&g.current&&(g.current.scrollTo(0,g.current.scrollHeight),C(!1))},I=Ete({setShowScrollDownButton:C,hasMore:s,onScroll:l,scrollRef:g}),M=D.useMemo(function(){var R;return a.length>0?a.map(function(U,H){var P,G=a[H-1],Y=a[H-1],F=G&&G.createdAt,te=U?.createdAt,J=!(F&&cJ(te,F)),ne=i?Vee(G,U,Y,d):[!1,!1],Oe=ne[0],X=ne[1],se=((P=U?.sender)===null||P===void 0?void 0:P.userId)===f,$=U?.messageId||U?.reqId;return O.createElement(_J,{message:U,isByMe:se,key:$},O.createElement(Dte,{message:U,chainTop:Oe,chainBottom:X,hasSeparator:J,renderMessage:t?.renderMessage}))}):((R=t?.renderPlaceHolderEmptyList)===null||R===void 0?void 0:R.call(t))||O.createElement(HX,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:va.NO_MESSAGES})},[a]);return O.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},O.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},O.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),O.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",a.length>0?"":"no-messages"].join(" "),onScroll:I,ref:g},M)),b&&O.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:w,onKeyDown:w,tabIndex:0,role:"button"},O.createElement(rn,{width:"24px",height:"24px",type:Vt.CHEVRON_DOWN,fillColor:Yt.CONTENT})))}O.forwardRef(xte);O.createContext(null);D.createContext({openedListKeys:[],addOpenedListKey:yi,removeOpenedListKey:yi,clearOpenedListKeys:yi,allowMultipleOpen:!1});var hA;(function(t){t.GROUP="group",t.SUPERGROUP="supergroup",t.BROADCAST="broadcast"})(hA||(hA={}));O.createContext(null);hA.GROUP;var SD;(function(t){t.CHANNEL_LIST="CHANNEL_LIST",t.CHANNEL="CHANNEL",t.CHANNEL_SETTINGS="CHANNEL_SETTINGS",t.MESSAGE_SEARCH="MESSAGE_SEARCH",t.THREAD="THREAD"})(SD||(SD={}));const Lte={botNickname:"Assistant"},Ute=({isOpen:t,onClose:n})=>{const[e,r]=D.useState("");D.useEffect(()=>{let a=localStorage.getItem("chatbot_user_id");a||(a=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("chatbot_user_id",a)),r(a)},[]);const i=()=>{const a=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;localStorage.setItem("chatbot_user_id",a),r(a)};return!t||!e?null:re.jsxs("div",{className:"chatbot-widget",children:[re.jsxs("div",{className:"chatbot-header",children:[re.jsxs("div",{className:"chatbot-header-left",children:[re.jsx("div",{className:"chatbot-avatar",children:""}),re.jsxs("div",{className:"chatbot-info",children:[re.jsx("h3",{children:Lte.botNickname}),re.jsx("span",{className:"chatbot-status",children:" Online"})]})]}),re.jsxs("div",{className:"chatbot-header-actions",children:[re.jsx("button",{className:"chatbot-action-btn",onClick:i,title:"Reset Chat",children:re.jsx(_H,{})}),re.jsx("button",{className:"chatbot-close-btn",onClick:n,"aria-label":"Close",children:re.jsx(A4,{})})]})]}),re.jsx("div",{className:"chatbot-body",children:re.jsxs("div",{className:"chatbot-setup-message",children:[re.jsx("div",{className:"setup-icon",children:""}),re.jsx("h4",{children:"Chatbot Setup Required"}),re.jsxs("p",{children:["Please configure your keys in ",re.jsx("code",{children:".env"}),":"]}),re.jsxs("ol",{children:[re.jsx("li",{children:re.jsx("code",{children:"VITE_SENDBIRD_APP_ID"})}),re.jsx("li",{children:re.jsx("code",{children:"VITE_UPSTAGE_API_KEY"})}),re.jsx("li",{children:re.jsx("code",{children:"VITE_SENDBIRD_BOT_TOKEN"})})]}),re.jsxs("p",{className:"setup-note",children:["See ",re.jsx("code",{children:"sendbird_setup_guide.md"})," for details."]})]})})]})},kte=()=>{const t=Yc();return re.jsx(SF,{location:t,children:re.jsx(m4,{path:"/",element:re.jsx(AH,{})})},t.pathname)};function Pte(){const[t,n]=D.useState(!0),[e,r]=D.useState(!1),i=()=>{r(!e)};return re.jsx(rH,{children:re.jsxs(KF,{children:[re.jsx(EH,{}),re.jsxs("div",{className:"App",children:[re.jsx(JC,{mode:"wait",children:t?re.jsx(yH,{setLoading:n},"preloader"):re.jsxs($l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[re.jsx(iH,{}),re.jsx("main",{children:re.jsx(kte,{})}),re.jsx(gH,{})]},"main-content")}),!t&&re.jsxs(re.Fragment,{children:[re.jsx(Ute,{isOpen:e,onClose:()=>r(!1)}),re.jsx(wH,{onClick:i,isOpen:e})]})]})]})})}ZU.createRoot(document.getElementById("root")).render(re.jsx(D.StrictMode,{children:re.jsx(Pte,{})}));const Fte=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{we as G,F4 as J,r3 as Q,Z as a,ja as b,d1 as c,Hte as d,VU as g,yv as j,j as m};
